(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function te(){}const Sd=n=>n;function ft(n,e){for(const t in e)n[t]=e[t];return n}function PL(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function bE(n){return n()}function rv(){return Object.create(null)}function Ke(n){n.forEach(bE)}function fn(n){return typeof n=="function"}function De(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let nh;function Ss(n,e){return nh||(nh=document.createElement("a")),nh.href=e,n===nh.href}function jt(n,e){return n!=n?e==e:n!==e}function DL(n){return Object.keys(n).length===0}function R_(n,...e){if(n==null)return te;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function IL(n){let e;return R_(n,t=>e=t)(),e}function Ht(n,e,t){n.$$.on_destroy.push(R_(e,t))}function It(n,e,t,i){if(n){const s=_E(n,e,t,i);return n[0](s)}}function _E(n,e,t,i){return n[1]&&i?ft(t.ctx.slice(),n[1](i(e))):t.ctx}function Rt(n,e,t,i){if(n[2]&&i){const s=n[2](i(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const l=[],r=Math.max(e.dirty.length,s.length);for(let o=0;o<r;o+=1)l[o]=e.dirty[o]|s[o];return l}return e.dirty|s}return e.dirty}function Nt(n,e,t,i,s,l){if(s){const r=_E(e,t,i,l);n.p(r,s)}}function Lt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function Pi(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function Jt(n,e){const t={};e=new Set(e);for(const i in n)!e.has(i)&&i[0]!=="$"&&(t[i]=n[i]);return t}function RL(n){const e={};for(const t in n)e[t]=!0;return e}function vn(n){return n??""}function ss(n,e,t){return n.set(t),e}function xe(n){return n&&fn(n.destroy)?n.destroy:te}function ov(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const yE=typeof window<"u";let Jm=yE?()=>window.performance.now():()=>Date.now(),N_=yE?n=>requestAnimationFrame(n):te;const Of=new Set;function vE(n){Of.forEach(e=>{e.c(n)||(Of.delete(e),e.f())}),Of.size!==0&&N_(vE)}function xm(n){let e;return Of.size===0&&N_(vE),{promise:new Promise(t=>{Of.add(e={c:n,f:t})}),abort(){Of.delete(e)}}}const L_=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function v(n,e){n.appendChild(e)}function kE(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function NL(n){const e=k("style");return LL(kE(n),e),e.sheet}function LL(n,e){return v(n.head||n,e),e.sheet}function C(n,e,t){n.insertBefore(e,t||null)}function S(n){n.parentNode&&n.parentNode.removeChild(n)}function Ot(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function k(n){return document.createElement(n)}function gr(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function G(n){return document.createTextNode(n)}function D(){return G(" ")}function Ee(){return G("")}function x(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function qt(n){return function(e){return e.preventDefault(),n.call(this,e)}}function Ei(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function m(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const FL=["width","height"];function bl(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const i in e)e[i]==null?n.removeAttribute(i):i==="style"?n.style.cssText=e[i]:i==="__value"?n.value=n[i]=e[i]:t[i]&&t[i].set&&FL.indexOf(i)===-1?n[i]=e[i]:m(n,i,e[i])}function Yf(n,e){for(const t in e)m(n,t,e[t])}function jL(n){let e;return{p(...t){e=t,e.forEach(i=>n.push(i))},r(){e.forEach(t=>n.splice(n.indexOf(t),1))}}}function jn(n){return n===""?null:+n}function BL(n){return Array.from(n.childNodes)}function pe(n,e){e=""+e,n.data!==e&&(n.data=e)}function Ae(n,e){n.value=e??""}function Il(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,i?"important":"")}function $(n,e,t){n.classList[t?"add":"remove"](e)}function wE(n,e,{bubbles:t=!1,cancelable:i=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(n,t,i,e),s}function Sn(n,e){return new n(e)}const Ap=new Map;let Op=0;function VL(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function zL(n,e){const t={stylesheet:NL(e),rules:{}};return Ap.set(n,t),t}function Bc(n,e,t,i,s,l,r,o=0){const a=16.666/i;let f=`{
`;for(let _=0;_<=1;_+=a){const y=e+(t-e)*l(_);f+=_*100+`%{${r(y,1-y)}}
`}const u=f+`100% {${r(t,1-t)}}
}`,d=`__svelte_${VL(u)}_${o}`,h=kE(n),{stylesheet:p,rules:g}=Ap.get(h)||zL(h,n);g[d]||(g[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const b=n.style.animation||"";return n.style.animation=`${b?`${b}, `:""}${d} ${i}ms linear ${s}ms 1 both`,Op+=1,d}function Vc(n,e){const t=(n.style.animation||"").split(", "),i=t.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),s=t.length-i.length;s&&(n.style.animation=i.join(", "),Op-=s,Op||HL())}function HL(){N_(()=>{Op||(Ap.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&S(e)}),Ap.clear())})}function qL(n,e,t,i){if(!e)return te;const s=n.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return te;const{delay:l=0,duration:r=300,easing:o=Sd,start:a=Jm()+l,end:f=a+r,tick:u=te,css:d}=t(n,{from:e,to:s},i);let h=!0,p=!1,g;function b(){d&&(g=Bc(n,0,1,r,l,o,d)),l||(p=!0)}function _(){d&&Vc(n,g),h=!1}return xm(y=>{if(!p&&y>=a&&(p=!0),p&&y>=f&&(u(1,0),_()),!h)return!1;if(p){const w=y-a,A=0+1*o(w/r);u(A,1-A)}return!0}),b(),u(0,1),_}function WL(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:i}=e,s=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=i,SE(n,s)}}function SE(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const i=getComputedStyle(n),s=i.transform==="none"?"":i.transform;n.style.transform=`${s} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let zc;function jr(n){zc=n}function Uo(){if(!zc)throw new Error("Function called outside component initialization");return zc}function UL(n){Uo().$$.before_update.push(n)}function Pn(n){Uo().$$.on_mount.push(n)}function KL(n){Uo().$$.after_update.push(n)}function ls(n){Uo().$$.on_destroy.push(n)}function Hn(){const n=Uo();return(e,t,{cancelable:i=!1}={})=>{const s=n.$$.callbacks[e];if(s){const l=wE(e,t,{cancelable:i});return s.slice().forEach(r=>{r.call(n,l)}),!l.defaultPrevented}return!0}}function CE(n,e){return Uo().$$.context.set(n,e),e}function Ji(n){return Uo().$$.context.get(n)}function ht(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const mf=[],de=[];let Ef=[];const R0=[],ME=Promise.resolve();let N0=!1;function TE(){N0||(N0=!0,ME.then(F_))}function nn(){return TE(),ME}function Yt(n){Ef.push(n)}function Be(n){R0.push(n)}const i1=new Set;let of=0;function F_(){if(of!==0)return;const n=zc;do{try{for(;of<mf.length;){const e=mf[of];of++,jr(e),JL(e.$$)}}catch(e){throw mf.length=0,of=0,e}for(jr(null),mf.length=0,of=0;de.length;)de.pop()();for(let e=0;e<Ef.length;e+=1){const t=Ef[e];i1.has(t)||(i1.add(t),t())}Ef.length=0}while(mf.length);for(;R0.length;)R0.pop()();N0=!1,i1.clear(),jr(n)}function JL(n){if(n.fragment!==null){n.update(),Ke(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Yt)}}function xL(n){const e=[],t=[];Ef.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),Ef=e}let Yu;function j_(){return Yu||(Yu=Promise.resolve(),Yu.then(()=>{Yu=null})),Yu}function Ta(n,e,t){n.dispatchEvent(wE(`${e?"intro":"outro"}${t}`))}const rp=new Set;let sr;function ue(){sr={r:0,c:[],p:sr}}function ce(){sr.r||Ke(sr.c),sr=sr.p}function P(n,e){n&&n.i&&(rp.delete(n),n.i(e))}function I(n,e,t,i){if(n&&n.o){if(rp.has(n))return;rp.add(n),sr.c.push(()=>{rp.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}const B_={duration:0};function AE(n,e,t){const i={direction:"in"};let s=e(n,t,i),l=!1,r,o,a=0;function f(){r&&Vc(n,r)}function u(){const{delay:h=0,duration:p=300,easing:g=Sd,tick:b=te,css:_}=s||B_;_&&(r=Bc(n,0,1,p,h,g,_,a++)),b(0,1);const y=Jm()+h,w=y+p;o&&o.abort(),l=!0,Yt(()=>Ta(n,!0,"start")),o=xm(A=>{if(l){if(A>=w)return b(1,0),Ta(n,!0,"end"),f(),l=!1;if(A>=y){const M=g((A-y)/p);b(M,1-M)}}return l})}let d=!1;return{start(){d||(d=!0,Vc(n),fn(s)?(s=s(i),j_().then(u)):u())},invalidate(){d=!1},end(){l&&(f(),l=!1)}}}function V_(n,e,t){const i={direction:"out"};let s=e(n,t,i),l=!0,r;const o=sr;o.r+=1;function a(){const{delay:f=0,duration:u=300,easing:d=Sd,tick:h=te,css:p}=s||B_;p&&(r=Bc(n,1,0,u,f,d,p));const g=Jm()+f,b=g+u;Yt(()=>Ta(n,!1,"start")),xm(_=>{if(l){if(_>=b)return h(0,1),Ta(n,!1,"end"),--o.r||Ke(o.c),!1;if(_>=g){const y=d((_-g)/u);h(1-y,y)}}return l})}return fn(s)?j_().then(()=>{s=s(i),a()}):a(),{end(f){f&&s.tick&&s.tick(1,0),l&&(r&&Vc(n,r),l=!1)}}}function gt(n,e,t,i){const s={direction:"both"};let l=e(n,t,s),r=i?0:1,o=null,a=null,f=null;function u(){f&&Vc(n,f)}function d(p,g){const b=p.b-r;return g*=Math.abs(b),{a:r,b:p.b,d:b,duration:g,start:p.start,end:p.start+g,group:p.group}}function h(p){const{delay:g=0,duration:b=300,easing:_=Sd,tick:y=te,css:w}=l||B_,A={start:Jm()+g,b:p};p||(A.group=sr,sr.r+=1),o||a?a=A:(w&&(u(),f=Bc(n,r,p,b,g,_,w)),p&&y(0,1),o=d(A,b),Yt(()=>Ta(n,p,"start")),xm(M=>{if(a&&M>a.start&&(o=d(a,b),a=null,Ta(n,o.b,"start"),w&&(u(),f=Bc(n,r,o.b,o.duration,0,_,l.css))),o){if(M>=o.end)y(r=o.b,1-r),Ta(n,o.b,"end"),a||(o.b?u():--o.group.r||Ke(o.group.c)),o=null;else if(M>=o.start){const T=M-o.start;r=o.a+o.d*_(T/o.duration),y(r,1-r)}}return!!(o||a)}))}return{run(p){fn(l)?j_().then(()=>{l=l(s),h(p)}):h(p)},end(){u(),o=a=null}}}function av(n,e){const t=e.token={};function i(s,l,r,o){if(e.token!==t)return;e.resolved=o;let a=e.ctx;r!==void 0&&(a=a.slice(),a[r]=o);const f=s&&(e.current=s)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((d,h)=>{h!==l&&d&&(ue(),I(d,1,1,()=>{e.blocks[h]===d&&(e.blocks[h]=null)}),ce())}):e.block.d(1),f.c(),P(f,1),f.m(e.mount(),e.anchor),u=!0),e.block=f,e.blocks&&(e.blocks[l]=f),u&&F_()}if(PL(n)){const s=Uo();if(n.then(l=>{jr(s),i(e.then,1,e.value,l),jr(null)},l=>{if(jr(s),i(e.catch,2,e.error,l),jr(null),!e.hasCatch)throw l}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,n),!0;e.resolved=n}}function YL(n,e,t){const i=e.slice(),{resolved:s}=n;n.current===n.then&&(i[n.value]=s),n.current===n.catch&&(i[n.error]=s),n.block.p(i,t)}function Ko(n,e){n.d(1),e.delete(n.key)}function ii(n,e){I(n,1,1,()=>{e.delete(n.key)})}function GL(n,e){n.f(),ii(n,e)}function Cn(n,e,t,i,s,l,r,o,a,f,u,d){let h=n.length,p=l.length,g=h;const b={};for(;g--;)b[n[g].key]=g;const _=[],y=new Map,w=new Map,A=[];for(g=p;g--;){const E=d(s,l,g),R=t(E);let N=r.get(R);N?i&&A.push(()=>N.p(E,e)):(N=f(R,E),N.c()),y.set(R,_[g]=N),R in b&&w.set(R,Math.abs(g-b[R]))}const M=new Set,T=new Set;function O(E){P(E,1),E.m(o,u),r.set(E.key,E),u=E.first,p--}for(;h&&p;){const E=_[p-1],R=n[h-1],N=E.key,j=R.key;E===R?(u=E.first,h--,p--):y.has(j)?!r.has(N)||M.has(N)?O(E):T.has(j)?h--:w.get(N)>w.get(j)?(T.add(N),O(E)):(M.add(j),h--):(a(R,r),h--)}for(;h--;){const E=n[h];y.has(E.key)||a(E,r)}for(;p;)O(_[p-1]);return Ke(A),_}function kn(n,e){const t={},i={},s={$$scope:1};let l=n.length;for(;l--;){const r=n[l],o=e[l];if(o){for(const a in r)a in o||(i[a]=1);for(const a in o)s[a]||(t[a]=o[a],s[a]=1);n[l]=o}else for(const a in r)s[a]=1}for(const r in i)r in t||(t[r]=void 0);return t}function ri(n){return typeof n=="object"&&n!==null?n:{}}function Ne(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function U(n){n&&n.c()}function q(n,e,t,i){const{fragment:s,after_update:l}=n.$$;s&&s.m(e,t),i||Yt(()=>{const r=n.$$.on_mount.map(bE).filter(fn);n.$$.on_destroy?n.$$.on_destroy.push(...r):Ke(r),n.$$.on_mount=[]}),l.forEach(Yt)}function W(n,e){const t=n.$$;t.fragment!==null&&(xL(t.after_update),Ke(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function XL(n,e){n.$$.dirty[0]===-1&&(mf.push(n),TE(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ve(n,e,t,i,s,l,r,o=[-1]){const a=zc;jr(n);const f=n.$$={fragment:null,ctx:[],props:l,update:te,not_equal:s,bound:rv(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:rv(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};r&&r(f.root);let u=!1;if(f.ctx=t?t(n,e.props||{},(d,h,...p)=>{const g=p.length?p[0]:h;return f.ctx&&s(f.ctx[d],f.ctx[d]=g)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](g),u&&XL(n,d)),h}):[],f.update(),u=!0,Ke(f.before_update),f.fragment=i?i(f.ctx):!1,e.target){if(e.hydrate){const d=BL(e.target);f.fragment&&f.fragment.l(d),d.forEach(S)}else f.fragment&&f.fragment.c();e.intro&&P(n.$$.fragment),q(n,e.target,e.anchor,e.customElement),F_()}jr(a)}class ke{$destroy(){W(this,1),this.$destroy=te}$on(e,t){if(!fn(t))return te;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!DL(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function hi(n){if(!n)throw Error("Parameter args is required");if(!n.component==!n.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(n.component&&(n.asyncComponent=()=>Promise.resolve(n.component)),typeof n.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(n.conditions){Array.isArray(n.conditions)||(n.conditions=[n.conditions]);for(let t=0;t<n.conditions.length;t++)if(!n.conditions[t]||typeof n.conditions[t]!="function")throw Error("Invalid parameter conditions["+t+"]")}return n.loadingComponent&&(n.asyncComponent.loading=n.loadingComponent,n.asyncComponent.loadingParams=n.loadingParams||void 0),{component:n.asyncComponent,userData:n.userData,conditions:n.conditions&&n.conditions.length?n.conditions:void 0,props:n.props&&Object.keys(n.props).length?n.props:{},_sveltesparouter:!0}}const af=[];function OE(n,e){return{subscribe:Gs(n,e).subscribe}}function Gs(n,e=te){let t;const i=new Set;function s(o){if(De(n,o)&&(n=o,t)){const a=!af.length;for(const f of i)f[1](),af.push(f,n);if(a){for(let f=0;f<af.length;f+=2)af[f][0](af[f+1]);af.length=0}}}function l(o){s(o(n))}function r(o,a=te){const f=[o,a];return i.add(f),i.size===1&&(t=e(s)||te),o(n),()=>{i.delete(f),i.size===0&&t&&(t(),t=null)}}return{set:s,update:l,subscribe:r}}function EE(n,e,t){const i=!Array.isArray(n),s=i?[n]:n,l=e.length<2;return OE(t,r=>{let o=!1;const a=[];let f=0,u=te;const d=()=>{if(f)return;u();const p=e(i?a[0]:a,r);l?r(p):u=fn(p)?p:te},h=s.map((p,g)=>R_(p,b=>{a[g]=b,f&=~(1<<g),o&&d()},()=>{f|=1<<g}));return o=!0,d(),function(){Ke(h),u(),o=!1}})}function PE(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,i,s,l,r=[],o="",a=n.split("/");for(a[0]||a.shift();s=a.shift();)t=s[0],t==="*"?(r.push("wild"),o+="/(.*)"):t===":"?(i=s.indexOf("?",1),l=s.indexOf(".",1),r.push(s.substring(1,~i?i:~l?l:s.length)),o+=~i&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(o+=(~i?"?":"")+"\\"+s.substring(l))):o+="/"+s;return{keys:r,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}function ZL(n){let e,t,i;const s=[n[2]];var l=n[0];function r(o){let a={};for(let f=0;f<s.length;f+=1)a=ft(a,s[f]);return{props:a}}return l&&(e=Sn(l,r()),e.$on("routeEvent",n[7])),{c(){e&&U(e.$$.fragment),t=Ee()},m(o,a){e&&q(e,o,a),C(o,t,a),i=!0},p(o,a){const f=a&4?kn(s,[ri(o[2])]):{};if(a&1&&l!==(l=o[0])){if(e){ue();const u=e;I(u.$$.fragment,1,0,()=>{W(u,1)}),ce()}l?(e=Sn(l,r()),e.$on("routeEvent",o[7]),U(e.$$.fragment),P(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else l&&e.$set(f)},i(o){i||(e&&P(e.$$.fragment,o),i=!0)},o(o){e&&I(e.$$.fragment,o),i=!1},d(o){o&&S(t),e&&W(e,o)}}}function QL(n){let e,t,i;const s=[{params:n[1]},n[2]];var l=n[0];function r(o){let a={};for(let f=0;f<s.length;f+=1)a=ft(a,s[f]);return{props:a}}return l&&(e=Sn(l,r()),e.$on("routeEvent",n[6])),{c(){e&&U(e.$$.fragment),t=Ee()},m(o,a){e&&q(e,o,a),C(o,t,a),i=!0},p(o,a){const f=a&6?kn(s,[a&2&&{params:o[1]},a&4&&ri(o[2])]):{};if(a&1&&l!==(l=o[0])){if(e){ue();const u=e;I(u.$$.fragment,1,0,()=>{W(u,1)}),ce()}l?(e=Sn(l,r()),e.$on("routeEvent",o[6]),U(e.$$.fragment),P(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else l&&e.$set(f)},i(o){i||(e&&P(e.$$.fragment,o),i=!0)},o(o){e&&I(e.$$.fragment,o),i=!1},d(o){o&&S(t),e&&W(e,o)}}}function $L(n){let e,t,i,s;const l=[QL,ZL],r=[];function o(a,f){return a[1]?0:1}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),i=Ee()},m(a,f){r[e].m(a,f),C(a,i,f),s=!0},p(a,[f]){let u=e;e=o(a),e===u?r[e].p(a,f):(ue(),I(r[u],1,1,()=>{r[u]=null}),ce(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),P(t,1),t.m(i.parentNode,i))},i(a){s||(P(t),s=!0)},o(a){I(t),s=!1},d(a){r[e].d(a),a&&S(i)}}}function fv(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let i="";return t>-1&&(i=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:i}}const Ym=OE(null,function(e){e(fv());const t=()=>{e(fv())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}});EE(Ym,n=>n.location);const z_=EE(Ym,n=>n.querystring),uv=Gs(void 0);async function Jo(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await nn();const e=(n.charAt(0)=="#"?"":"#")+n;try{const t={...history.state};delete t.__svelte_spa_router_scrollX,delete t.__svelte_spa_router_scrollY,window.history.replaceState(t,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function os(n,e){if(e=dv(e),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return cv(n,e),{update(t){t=dv(t),cv(n,t)}}}function eF(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function cv(n,e){let t=e.href||n.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);n.setAttribute("href",t),n.addEventListener("click",i=>{i.preventDefault(),e.disabled||tF(i.currentTarget.getAttribute("href"))})}function dv(n){return n&&typeof n=="string"?{href:n}:n||{}}function tF(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function nF(n,e,t){let{routes:i={}}=e,{prefix:s=""}=e,{restoreScrollState:l=!1}=e;class r{constructor(T,O){if(!O||typeof O!="function"&&(typeof O!="object"||O._sveltesparouter!==!0))throw Error("Invalid component object");if(!T||typeof T=="string"&&(T.length<1||T.charAt(0)!="/"&&T.charAt(0)!="*")||typeof T=="object"&&!(T instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:E,keys:R}=PE(T);this.path=T,typeof O=="object"&&O._sveltesparouter===!0?(this.component=O.component,this.conditions=O.conditions||[],this.userData=O.userData,this.props=O.props||{}):(this.component=()=>Promise.resolve(O),this.conditions=[],this.props={}),this._pattern=E,this._keys=R}match(T){if(s){if(typeof s=="string")if(T.startsWith(s))T=T.substr(s.length)||"/";else return null;else if(s instanceof RegExp){const N=T.match(s);if(N&&N[0])T=T.substr(N[0].length)||"/";else return null}}const O=this._pattern.exec(T);if(O===null)return null;if(this._keys===!1)return O;const E={};let R=0;for(;R<this._keys.length;){try{E[this._keys[R]]=decodeURIComponent(O[R+1]||"")||null}catch{E[this._keys[R]]=null}R++}return E}async checkConditions(T){for(let O=0;O<this.conditions.length;O++)if(!await this.conditions[O](T))return!1;return!0}}const o=[];i instanceof Map?i.forEach((M,T)=>{o.push(new r(T,M))}):Object.keys(i).forEach(M=>{o.push(new r(M,i[M]))});let a=null,f=null,u={};const d=Hn();async function h(M,T){await nn(),d(M,T)}let p=null,g=null;l&&(g=M=>{M.state&&(M.state.__svelte_spa_router_scrollY||M.state.__svelte_spa_router_scrollX)?p=M.state:p=null},window.addEventListener("popstate",g),KL(()=>{eF(p)}));let b=null,_=null;const y=Ym.subscribe(async M=>{b=M;let T=0;for(;T<o.length;){const O=o[T].match(M.location);if(!O){T++;continue}const E={route:o[T].path,location:M.location,querystring:M.querystring,userData:o[T].userData,params:O&&typeof O=="object"&&Object.keys(O).length?O:null};if(!await o[T].checkConditions(E)){t(0,a=null),_=null,h("conditionsFailed",E);return}h("routeLoading",Object.assign({},E));const R=o[T].component;if(_!=R){R.loading?(t(0,a=R.loading),_=R,t(1,f=R.loadingParams),t(2,u={}),h("routeLoaded",Object.assign({},E,{component:a,name:a.name,params:f}))):(t(0,a=null),_=null);const N=await R();if(M!=b)return;t(0,a=N&&N.default||N),_=R}O&&typeof O=="object"&&Object.keys(O).length?t(1,f=O):t(1,f=null),t(2,u=o[T].props),h("routeLoaded",Object.assign({},E,{component:a,name:a.name,params:f})).then(()=>{uv.set(f)});return}t(0,a=null),_=null,uv.set(void 0)});ls(()=>{y(),g&&window.removeEventListener("popstate",g)});function w(M){ht.call(this,n,M)}function A(M){ht.call(this,n,M)}return n.$$set=M=>{"routes"in M&&t(3,i=M.routes),"prefix"in M&&t(4,s=M.prefix),"restoreScrollState"in M&&t(5,l=M.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=l?"manual":"auto")},[a,f,u,i,s,l,w,A]}class iF extends ke{constructor(e){super(),ve(this,e,nF,$L,De,{routes:3,prefix:4,restoreScrollState:5})}}const op=[];let DE;function IE(n){const e=n.pattern.test(DE);hv(n,n.className,e),hv(n,n.inactiveClassName,!e)}function hv(n,e,t){(e||"").split(" ").forEach(i=>{i&&(n.node.classList.remove(i),t&&n.node.classList.add(i))})}Ym.subscribe(n=>{DE=n.location+(n.querystring?"?"+n.querystring:""),op.map(IE)});function tl(n,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&n.hasAttribute("href")&&(e.path=n.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:t}=typeof e.path=="string"?PE(e.path):{pattern:e.path},i={node:n,className:e.className,inactiveClassName:e.inactiveClassName,pattern:t};return op.push(i),IE(i),{destroy(){op.splice(op.indexOf(i),1)}}}const sF="modulepreload",lF=function(n,e){return new URL(n,e).href},pv={},_n=function(e,t,i){if(!t||t.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map(l=>{if(l=lF(l,i),l in pv)return;pv[l]=!0;const r=l.endsWith(".css"),o=r?'[rel="stylesheet"]':"";if(!!i)for(let u=s.length-1;u>=0;u--){const d=s[u];if(d.href===l&&(!r||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${o}`))return;const f=document.createElement("link");if(f.rel=r?"stylesheet":sF,r||(f.as="script",f.crossOrigin=""),f.href=l,document.head.appendChild(f),r)return new Promise((u,d)=>{f.addEventListener("load",u),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>e())};var L0=function(n,e){return L0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},L0(n,e)};function xi(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}L0(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var F0=function(){return F0=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var l in t=arguments[i])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},F0.apply(this,arguments)};function Wi(n,e,t,i){return new(t||(t=Promise))(function(s,l){function r(f){try{a(i.next(f))}catch(u){l(u)}}function o(f){try{a(i.throw(f))}catch(u){l(u)}}function a(f){f.done?s(f.value):function(d){return d instanceof t?d:new t(function(h){h(d)})}(f.value).then(r,o)}a((i=i.apply(n,e||[])).next())})}function Ui(n,e){var t,i,s,l,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(a){return function(f){return function(d){if(t)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(r=0)),r;)try{if(t=1,i&&(s=2&d[0]?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!((s=s.length>0&&s[s.length-1])||d[0]!==6&&d[0]!==2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(n,r)}catch(h){d=[6,h],i=0}finally{t=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([a,f])}}}var RE,Br=function(n){function e(t){var i,s,l,r,o=this;return(o=n.call(this,"ClientResponseError")||this).url="",o.status=0,o.response={},o.isAbort=!1,o.originalError=null,Object.setPrototypeOf(o,e.prototype),t!==null&&typeof t=="object"&&(o.url=typeof t.url=="string"?t.url:"",o.status=typeof t.status=="number"?t.status:0,o.isAbort=!!t.isAbort,o.originalError=t.originalError,t.response!==null&&typeof t.response=="object"?o.response=t.response:t.data!==null&&typeof t.data=="object"?o.response=t.data:o.response={}),o.originalError||t instanceof e||(o.originalError=t),typeof DOMException<"u"&&t instanceof DOMException&&(o.isAbort=!0),o.name="ClientResponseError "+o.status,o.message=(i=o.response)===null||i===void 0?void 0:i.message,o.message||(o.isAbort?o.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((r=(l=(s=o.originalError)===null||s===void 0?void 0:s.cause)===null||l===void 0?void 0:l.message)===null||r===void 0)&&r.includes("ECONNREFUSED ::1")?o.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":o.message="Something went wrong while processing your request."),o}return xi(e,n),Object.defineProperty(e.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return F0({},this)},e}(Error),ih=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function mv(n,e,t){var i=Object.assign({},t||{}),s=i.encode||oF;if(!ih.test(n))throw new TypeError("argument name is invalid");var l=s(e);if(l&&!ih.test(l))throw new TypeError("argument val is invalid");var r=n+"="+l;if(i.maxAge!=null){var o=i.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");r+="; Max-Age="+Math.floor(o)}if(i.domain){if(!ih.test(i.domain))throw new TypeError("option domain is invalid");r+="; Domain="+i.domain}if(i.path){if(!ih.test(i.path))throw new TypeError("option path is invalid");r+="; Path="+i.path}if(i.expires){if(!function(f){return Object.prototype.toString.call(f)==="[object Date]"||f instanceof Date}(i.expires)||isNaN(i.expires.valueOf()))throw new TypeError("option expires is invalid");r+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(r+="; HttpOnly"),i.secure&&(r+="; Secure"),i.priority)switch(typeof i.priority=="string"?i.priority.toLowerCase():i.priority){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r}function rF(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function oF(n){return encodeURIComponent(n)}function NE(n){if(n)try{var e=decodeURIComponent(RE(n.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function LE(n,e){e===void 0&&(e=0);var t=NE(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}RE=typeof atob=="function"?atob:function(n){var e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,i,s=0,l=0,r="";i=e.charAt(l++);~i&&(t=s%4?64*t+i:i,s++%4)?r+=String.fromCharCode(255&t>>(-2*s&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return r};var Cd=function(){function n(e){e===void 0&&(e={}),this.$load(e||{})}return n.prototype.load=function(e){return this.$load(e)},n.prototype.$load=function(e){for(var t=0,i=Object.entries(e);t<i.length;t++){var s=i[t],l=s[0],r=s[1];this[l]=r}this.id=e.id!==void 0?e.id:"",this.created=e.created!==void 0?e.created:"",this.updated=e.updated!==void 0?e.updated:""},Object.defineProperty(n.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return this.$clone()},n.prototype.$clone=function(){var e=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(e)},n.prototype.export=function(){return this.$export()},n.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},n}(),qr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return xi(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.collectionName=typeof t.collectionName=="string"?t.collectionName:"",this._loadExpand(t.expand)},e.prototype._loadExpand=function(t){for(var i in t=t||{},this.expand={},t)Array.isArray(t[i])?this.expand[i]=t[i].map(function(s){return new e(s||{})}):this.expand[i]=new e(t[i]||{})},e}(Cd),Na=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return xi(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),this.avatar=typeof t.avatar=="number"?t.avatar:0,this.email=typeof t.email=="string"?t.email:""},e}(Cd),gv="pb_auth",aF=function(){function n(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(n.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return!LE(this.token)},enumerable:!1,configurable:!0}),n.prototype.save=function(e,t){this.baseToken=e||"",this.baseModel=t!==null&&typeof t=="object"?t.collectionId!==void 0?new qr(t):new Na(t):null,this.triggerChange()},n.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},n.prototype.loadFromCookie=function(e,t){t===void 0&&(t=gv);var i=function(r,o){var a={};if(typeof r!="string")return a;for(var f=Object.assign({},o||{}).decode||rF,u=0;u<r.length;){var d=r.indexOf("=",u);if(d===-1)break;var h=r.indexOf(";",u);if(h===-1)h=r.length;else if(h<d){u=r.lastIndexOf(";",d-1)+1;continue}var p=r.slice(u,d).trim();if(a[p]===void 0){var g=r.slice(d+1,h).trim();g.charCodeAt(0)===34&&(g=g.slice(1,-1));try{a[p]=f(g)}catch{a[p]=g}}u=h+1}return a}(e||"")[t]||"",s={};try{(typeof(s=JSON.parse(i))===null||typeof s!="object"||Array.isArray(s))&&(s={})}catch{}this.save(s.token||"",s.model||null)},n.prototype.exportToCookie=function(e,t){var i,s,l;t===void 0&&(t=gv);var r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},o=NE(this.token);o!=null&&o.exp?r.expires=new Date(1e3*o.exp):r.expires=new Date("1970-01-01"),e=Object.assign({},r,e);var a={token:this.token,model:((i=this.model)===null||i===void 0?void 0:i.export())||null},f=mv(t,JSON.stringify(a),e),u=typeof Blob<"u"?new Blob([f]).size:f.length;return a.model&&u>4096&&(a.model={id:(s=a==null?void 0:a.model)===null||s===void 0?void 0:s.id,email:(l=a==null?void 0:a.model)===null||l===void 0?void 0:l.email},this.model instanceof qr&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),f=mv(t,JSON.stringify(a),e)),f},n.prototype.onChange=function(e,t){var i=this;return t===void 0&&(t=!1),this._onChangeCallbacks.push(e),t&&e(this.token,this.model),function(){for(var s=i._onChangeCallbacks.length-1;s>=0;s--)if(i._onChangeCallbacks[s]==e)return delete i._onChangeCallbacks[s],void i._onChangeCallbacks.splice(s,1)}},n.prototype.triggerChange=function(){for(var e=0,t=this._onChangeCallbacks;e<t.length;e++){var i=t[e];i&&i(this.token,this.model)}},n}(),FE=function(n){function e(t){t===void 0&&(t="pocketbase_auth");var i=n.call(this)||this;return i.storageFallback={},i.storageKey=t,i}return xi(e,n),Object.defineProperty(e.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){var t,i=this._storageGet(this.storageKey)||{};return i===null||typeof i!="object"||i.model===null||typeof i.model!="object"?null:((t=i.model)===null||t===void 0?void 0:t.collectionId)===void 0?new Na(i.model):new qr(i.model)},enumerable:!1,configurable:!0}),e.prototype.save=function(t,i){this._storageSet(this.storageKey,{token:t,model:i}),n.prototype.save.call(this,t,i)},e.prototype.clear=function(){this._storageRemove(this.storageKey),n.prototype.clear.call(this)},e.prototype._storageGet=function(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){var i=window.localStorage.getItem(t)||"";try{return JSON.parse(i)}catch{return i}}return this.storageFallback[t]},e.prototype._storageSet=function(t,i){if(typeof window<"u"&&(window!=null&&window.localStorage)){var s=i;typeof i!="string"&&(s=JSON.stringify(i)),window.localStorage.setItem(t,s)}else this.storageFallback[t]=i},e.prototype._storageRemove=function(t){var i;typeof window<"u"&&(window!=null&&window.localStorage)&&((i=window.localStorage)===null||i===void 0||i.removeItem(t)),delete this.storageFallback[t]},e}(aF),xa=function(e){this.client=e},fF=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return xi(e,n),e.prototype.getAll=function(t){return t===void 0&&(t={}),this.client.send("/api/settings",{method:"GET",params:t}).then(function(i){return i||{}})},e.prototype.update=function(t,i){return t===void 0&&(t={}),i===void 0&&(i={}),this.client.send("/api/settings",{method:"PATCH",params:i,body:t}).then(function(s){return s||{}})},e.prototype.testS3=function(t,i){t===void 0&&(t="storage"),i===void 0&&(i={});var s={filesystem:t};return this.client.send("/api/settings/test/s3",{method:"POST",params:i,body:s}).then(function(){return!0})},e.prototype.testEmail=function(t,i,s){s===void 0&&(s={});var l={email:t,template:i};return this.client.send("/api/settings/test/email",{method:"POST",params:s,body:l}).then(function(){return!0})},e.prototype.generateAppleClientSecret=function(t,i,s,l,r,o,a){return o===void 0&&(o={}),a===void 0&&(a={}),o=Object.assign({clientId:t,teamId:i,keyId:s,privateKey:l,duration:r},o),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:a,body:o})},e}(xa),jE=function(e,t,i,s,l){this.page=e>0?e:1,this.perPage=t>=0?t:0,this.totalItems=i>=0?i:0,this.totalPages=s>=0?s:0,this.items=l||[]},H_=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return xi(e,n),e.prototype.getFullList=function(t,i){if(typeof t=="number")return this._getFullList(this.baseCrudPath,t,i);var s=Object.assign({},t,i);return this._getFullList(this.baseCrudPath,s.batch||200,s)},e.prototype.getList=function(t,i,s){return t===void 0&&(t=1),i===void 0&&(i=30),s===void 0&&(s={}),this._getList(this.baseCrudPath,t,i,s)},e.prototype.getFirstListItem=function(t,i){return i===void 0&&(i={}),this._getFirstListItem(this.baseCrudPath,t,i)},e.prototype.getOne=function(t,i){return i===void 0&&(i={}),this._getOne(this.baseCrudPath,t,i)},e.prototype.create=function(t,i){return t===void 0&&(t={}),i===void 0&&(i={}),this._create(this.baseCrudPath,t,i)},e.prototype.update=function(t,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),this._update(this.baseCrudPath,t,i,s)},e.prototype.delete=function(t,i){return i===void 0&&(i={}),this._delete(this.baseCrudPath,t,i)},e}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return xi(e,n),e.prototype._getFullList=function(t,i,s){var l=this;i===void 0&&(i=200),s===void 0&&(s={});var r=[],o=function(a){return Wi(l,void 0,void 0,function(){return Ui(this,function(f){return[2,this._getList(t,a,i||200,s).then(function(u){var d=u,h=d.items,p=d.totalItems;return r=r.concat(h),h.length&&p>r.length?o(a+1):r})]})})};return o(1)},e.prototype._getList=function(t,i,s,l){var r=this;return i===void 0&&(i=1),s===void 0&&(s=30),l===void 0&&(l={}),l=Object.assign({page:i,perPage:s},l),this.client.send(t,{method:"GET",params:l}).then(function(o){var a=[];if(o!=null&&o.items){o.items=o.items||[];for(var f=0,u=o.items;f<u.length;f++){var d=u[f];a.push(r.decode(d))}}return new jE((o==null?void 0:o.page)||1,(o==null?void 0:o.perPage)||0,(o==null?void 0:o.totalItems)||0,(o==null?void 0:o.totalPages)||0,a)})},e.prototype._getOne=function(t,i,s){var l=this;return s===void 0&&(s={}),this.client.send(t+"/"+encodeURIComponent(i),{method:"GET",params:s}).then(function(r){return l.decode(r)})},e.prototype._getFirstListItem=function(t,i,s){return s===void 0&&(s={}),s=Object.assign({filter:i,$cancelKey:"one_by_filter_"+t+"_"+i},s),this._getList(t,1,1,s).then(function(l){var r;if(!(!((r=l==null?void 0:l.items)===null||r===void 0)&&r.length))throw new Br({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return l.items[0]})},e.prototype._create=function(t,i,s){var l=this;return i===void 0&&(i={}),s===void 0&&(s={}),this.client.send(t,{method:"POST",params:s,body:i}).then(function(r){return l.decode(r)})},e.prototype._update=function(t,i,s,l){var r=this;return s===void 0&&(s={}),l===void 0&&(l={}),this.client.send(t+"/"+encodeURIComponent(i),{method:"PATCH",params:l,body:s}).then(function(o){return r.decode(o)})},e.prototype._delete=function(t,i,s){return s===void 0&&(s={}),this.client.send(t+"/"+encodeURIComponent(i),{method:"DELETE",params:s}).then(function(){return!0})},e}(xa)),uF=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return xi(e,n),e.prototype.decode=function(t){return new Na(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),e.prototype.update=function(t,i,s){var l=this;return i===void 0&&(i={}),s===void 0&&(s={}),n.prototype.update.call(this,t,i,s).then(function(r){var o,a;return l.client.authStore.model&&((o=l.client.authStore.model)===null||o===void 0?void 0:o.collectionId)===void 0&&((a=l.client.authStore.model)===null||a===void 0?void 0:a.id)===(r==null?void 0:r.id)&&l.client.authStore.save(l.client.authStore.token,r),r})},e.prototype.delete=function(t,i){var s=this;return i===void 0&&(i={}),n.prototype.delete.call(this,t,i).then(function(l){var r,o;return l&&s.client.authStore.model&&((r=s.client.authStore.model)===null||r===void 0?void 0:r.collectionId)===void 0&&((o=s.client.authStore.model)===null||o===void 0?void 0:o.id)===t&&s.client.authStore.clear(),l})},e.prototype.authResponse=function(t){var i=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,i),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:i})},e.prototype.authWithPassword=function(t,i,s,l){return s===void 0&&(s={}),l===void 0&&(l={}),s=Object.assign({identity:t,password:i},s),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:l,body:s}).then(this.authResponse.bind(this))},e.prototype.authRefresh=function(t,i){return t===void 0&&(t={}),i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:i,body:t}).then(this.authResponse.bind(this))},e.prototype.requestPasswordReset=function(t,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({email:t},i),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:s,body:i}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,i,s,l,r){return l===void 0&&(l={}),r===void 0&&(r={}),l=Object.assign({token:t,password:i,passwordConfirm:s},l),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:r,body:l}).then(function(){return!0})},e}(H_),cF=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return xi(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),this.recordId=typeof t.recordId=="string"?t.recordId:"",this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.provider=typeof t.provider=="string"?t.provider:"",this.providerId=typeof t.providerId=="string"?t.providerId:""},e}(Cd),dF=function(n){function e(t,i){var s=n.call(this,t)||this;return s.collectionIdOrName=i,s}return xi(e,n),e.prototype.decode=function(t){return new qr(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),e.prototype.subscribeOne=function(t,i){return Wi(this,void 0,void 0,function(){return Ui(this,function(s){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,i)]})})},e.prototype.subscribe=function(t,i){return Wi(this,void 0,void 0,function(){var s;return Ui(this,function(l){if(typeof t=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,t)];if(!i)throw new Error("Missing subscription callback.");if(t==="")throw new Error("Missing topic.");return s=this.collectionIdOrName,t!=="*"&&(s+="/"+t),[2,this.client.realtime.subscribe(s,i)]})})},e.prototype.unsubscribe=function(t){return Wi(this,void 0,void 0,function(){return Ui(this,function(i){return t==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:t?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},e.prototype.getFullList=function(t,i){if(typeof t=="number")return n.prototype.getFullList.call(this,t,i);var s=Object.assign({},t,i);return n.prototype.getFullList.call(this,s)},e.prototype.getList=function(t,i,s){return t===void 0&&(t=1),i===void 0&&(i=30),s===void 0&&(s={}),n.prototype.getList.call(this,t,i,s)},e.prototype.getFirstListItem=function(t,i){return i===void 0&&(i={}),n.prototype.getFirstListItem.call(this,t,i)},e.prototype.getOne=function(t,i){return i===void 0&&(i={}),n.prototype.getOne.call(this,t,i)},e.prototype.create=function(t,i){return t===void 0&&(t={}),i===void 0&&(i={}),n.prototype.create.call(this,t,i)},e.prototype.update=function(t,i,s){var l=this;return i===void 0&&(i={}),s===void 0&&(s={}),n.prototype.update.call(this,t,i,s).then(function(r){var o,a,f;return((o=l.client.authStore.model)===null||o===void 0?void 0:o.id)!==(r==null?void 0:r.id)||((a=l.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==l.collectionIdOrName&&((f=l.client.authStore.model)===null||f===void 0?void 0:f.collectionName)!==l.collectionIdOrName||l.client.authStore.save(l.client.authStore.token,r),r})},e.prototype.delete=function(t,i){var s=this;return i===void 0&&(i={}),n.prototype.delete.call(this,t,i).then(function(l){var r,o,a;return!l||((r=s.client.authStore.model)===null||r===void 0?void 0:r.id)!==t||((o=s.client.authStore.model)===null||o===void 0?void 0:o.collectionId)!==s.collectionIdOrName&&((a=s.client.authStore.model)===null||a===void 0?void 0:a.collectionName)!==s.collectionIdOrName||s.client.authStore.clear(),l})},e.prototype.authResponse=function(t){var i=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,i),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:i})},e.prototype.listAuthMethods=function(t){return t===void 0&&(t={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:t}).then(function(i){return Object.assign({},i,{usernamePassword:!!(i!=null&&i.usernamePassword),emailPassword:!!(i!=null&&i.emailPassword),authProviders:Array.isArray(i==null?void 0:i.authProviders)?i==null?void 0:i.authProviders:[]})})},e.prototype.authWithPassword=function(t,i,s,l){var r=this;return s===void 0&&(s={}),l===void 0&&(l={}),s=Object.assign({identity:t,password:i},s),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:l,body:s}).then(function(o){return r.authResponse(o)})},e.prototype.authWithOAuth2Code=function(t,i,s,l,r,o,a){var f=this;return r===void 0&&(r={}),o===void 0&&(o={}),a===void 0&&(a={}),o=Object.assign({provider:t,code:i,codeVerifier:s,redirectUrl:l,createData:r},o),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:o}).then(function(u){return f.authResponse(u)})},e.prototype.authWithOAuth2=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return Wi(this,void 0,void 0,function(){var s,l,r,o,a=this;return Ui(this,function(f){switch(f.label){case 0:return t.length>1||typeof(t==null?void 0:t[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((t==null?void 0:t[0])||"",(t==null?void 0:t[1])||"",(t==null?void 0:t[2])||"",(t==null?void 0:t[3])||"",(t==null?void 0:t[4])||{},(t==null?void 0:t[5])||{},(t==null?void 0:t[6])||{})]):(s=(t==null?void 0:t[0])||{},[4,this.listAuthMethods()]);case 1:if(l=f.sent(),!(r=l.authProviders.find(function(u){return u.name===s.provider})))throw new Br(new Error('Missing or invalid provider "'.concat(s.provider,'".')));return o=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(u,d){return Wi(a,void 0,void 0,function(){var h,p,g,b,_,y=this;return Ui(this,function(w){switch(w.label){case 0:return w.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function(A){return Wi(y,void 0,void 0,function(){var M,T,O;return Ui(this,function(E){switch(E.label){case 0:M=this.client.realtime.clientId,E.label=1;case 1:if(E.trys.push([1,3,,4]),h(),!A.state||M!==A.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(r.name,A.code,r.codeVerifier,o,s.createData,s.body,s.query)];case 2:return T=E.sent(),u(T),[3,4];case 3:return O=E.sent(),d(new Br(O)),[3,4];case 4:return[2]}})})})];case 1:return h=w.sent(),p={state:this.client.realtime.clientId},!((_=s.scopes)===null||_===void 0)&&_.length&&(p.scope=s.scopes.join(" ")),g=this._replaceQueryParams(r.authUrl+o,p),[4,s.urlCallback?s.urlCallback(g):this._defaultUrlCallback(g)];case 2:return w.sent(),[3,4];case 3:return b=w.sent(),d(new Br(b)),[3,4];case 4:return[2]}})})})]}})})},e.prototype.authRefresh=function(t,i){var s=this;return t===void 0&&(t={}),i===void 0&&(i={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:i,body:t}).then(function(l){return s.authResponse(l)})},e.prototype.requestPasswordReset=function(t,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({email:t},i),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:s,body:i}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,i,s,l,r){return l===void 0&&(l={}),r===void 0&&(r={}),l=Object.assign({token:t,password:i,passwordConfirm:s},l),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:r,body:l}).then(function(){return!0})},e.prototype.requestVerification=function(t,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({email:t},i),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:s,body:i}).then(function(){return!0})},e.prototype.confirmVerification=function(t,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({token:t},i),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:s,body:i}).then(function(){return!0})},e.prototype.requestEmailChange=function(t,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({newEmail:t},i),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:s,body:i}).then(function(){return!0})},e.prototype.confirmEmailChange=function(t,i,s,l){return s===void 0&&(s={}),l===void 0&&(l={}),s=Object.assign({token:t,password:i},s),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:l,body:s}).then(function(){return!0})},e.prototype.listExternalAuths=function(t,i){return i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",{method:"GET",params:i}).then(function(s){var l=[];if(Array.isArray(s))for(var r=0,o=s;r<o.length;r++){var a=o[r];l.push(new cF(a))}return l})},e.prototype.unlinkExternalAuth=function(t,i,s){return s===void 0&&(s={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(i),{method:"DELETE",params:s}).then(function(){return!0})},e.prototype._replaceQueryParams=function(t,i){i===void 0&&(i={});var s=t,l="";t.indexOf("?")>=0&&(s=t.substring(0,t.indexOf("?")),l=t.substring(t.indexOf("?")+1));for(var r={},o=0,a=l.split("&");o<a.length;o++){var f=a[o];if(f!=""){var u=f.split("=");r[decodeURIComponent(u[0].replace(/\+/g," "))]=decodeURIComponent((u[1]||"").replace(/\+/g," "))}}for(var d in i)i.hasOwnProperty(d)&&(i[d]==null?delete r[d]:r[d]=i[d]);for(var d in l="",r)r.hasOwnProperty(d)&&(l!=""&&(l+="&"),l+=encodeURIComponent(d.replace(/%20/g,"+"))+"="+encodeURIComponent(r[d].replace(/%20/g,"+")));return l!=""?s+"?"+l:s},e.prototype._defaultUrlCallback=function(t){if(typeof window>"u"||!(window!=null&&window.open))throw new Br(new Error("Not in a browser context - please pass a custom urlCallback function."));var i=1024,s=768,l=window.innerWidth,r=window.innerHeight,o=l/2-(i=i>l?l:i)/2,a=r/2-(s=s>r?r:s)/2;window.open(t,"oauth2-popup","width="+i+",height="+s+",top="+a+",left="+o+",resizable,menubar=no")},e}(H_),Ns=function(e){e===void 0&&(e={}),this.id=e.id!==void 0?e.id:"",this.name=e.name!==void 0?e.name:"",this.type=e.type!==void 0?e.type:"text",this.system=!!e.system,this.required=!!e.required,this.options=typeof e.options=="object"&&e.options!==null?e.options:{}},Is=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return xi(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),this.system=!!t.system,this.name=typeof t.name=="string"?t.name:"",this.type=typeof t.type=="string"?t.type:"base",this.options=t.options!==void 0&&t.options!==null?t.options:{},this.indexes=Array.isArray(t.indexes)?t.indexes:[],this.listRule=typeof t.listRule=="string"?t.listRule:null,this.viewRule=typeof t.viewRule=="string"?t.viewRule:null,this.createRule=typeof t.createRule=="string"?t.createRule:null,this.updateRule=typeof t.updateRule=="string"?t.updateRule:null,this.deleteRule=typeof t.deleteRule=="string"?t.deleteRule:null,t.schema=Array.isArray(t.schema)?t.schema:[],this.schema=[];for(var i=0,s=t.schema;i<s.length;i++){var l=s[i];this.schema.push(new Ns(l))}},Object.defineProperty(e.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),e}(Cd),hF=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return xi(e,n),e.prototype.decode=function(t){return new Is(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),e.prototype.import=function(t,i,s){return i===void 0&&(i=!1),s===void 0&&(s={}),Wi(this,void 0,void 0,function(){return Ui(this,function(l){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:s,body:{collections:t,deleteMissing:i}}).then(function(){return!0})]})})},e}(H_),j0=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return xi(e,n),e.prototype.$load=function(t){n.prototype.$load.call(this,t),t.remoteIp=t.remoteIp||t.ip,this.url=typeof t.url=="string"?t.url:"",this.method=typeof t.method=="string"?t.method:"GET",this.status=typeof t.status=="number"?t.status:200,this.auth=typeof t.auth=="string"?t.auth:"guest",this.remoteIp=typeof t.remoteIp=="string"?t.remoteIp:"",this.userIp=typeof t.userIp=="string"?t.userIp:"",this.referer=typeof t.referer=="string"?t.referer:"",this.userAgent=typeof t.userAgent=="string"?t.userAgent:"",this.meta=typeof t.meta=="object"&&t.meta!==null?t.meta:{}},e}(Cd),pF=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return xi(e,n),e.prototype.getRequestsList=function(t,i,s){return t===void 0&&(t=1),i===void 0&&(i=30),s===void 0&&(s={}),s=Object.assign({page:t,perPage:i},s),this.client.send("/api/logs/requests",{method:"GET",params:s}).then(function(l){var r=[];if(l!=null&&l.items){l.items=(l==null?void 0:l.items)||[];for(var o=0,a=l.items;o<a.length;o++){var f=a[o];r.push(new j0(f))}}return new jE((l==null?void 0:l.page)||1,(l==null?void 0:l.perPage)||0,(l==null?void 0:l.totalItems)||0,(l==null?void 0:l.totalPages)||0,r)})},e.prototype.getRequest=function(t,i){return i===void 0&&(i={}),this.client.send("/api/logs/requests/"+encodeURIComponent(t),{method:"GET",params:i}).then(function(s){return new j0(s)})},e.prototype.getRequestsStats=function(t){return t===void 0&&(t={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:t}).then(function(i){return i})},e}(xa),mF=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.clientId="",t.eventSource=null,t.subscriptions={},t.lastSentTopics=[],t.maxConnectTimeout=15e3,t.reconnectAttempts=0,t.maxReconnectAttempts=1/0,t.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],t.pendingConnects=[],t}return xi(e,n),Object.defineProperty(e.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(t,i){var s;return Wi(this,void 0,void 0,function(){var l,r=this;return Ui(this,function(o){switch(o.label){case 0:if(!t)throw new Error("topic must be set.");return l=function(a){var f,u=a;try{f=JSON.parse(u==null?void 0:u.data)}catch{}i(f||{})},this.subscriptions[t]||(this.subscriptions[t]=[]),this.subscriptions[t].push(l),this.isConnected?[3,2]:[4,this.connect()];case 1:return o.sent(),[3,5];case 2:return this.subscriptions[t].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return o.sent(),[3,5];case 4:(s=this.eventSource)===null||s===void 0||s.addEventListener(t,l),o.label=5;case 5:return[2,function(){return Wi(r,void 0,void 0,function(){return Ui(this,function(a){return[2,this.unsubscribeByTopicAndListener(t,l)]})})}]}})})},e.prototype.unsubscribe=function(t){var i;return Wi(this,void 0,void 0,function(){var s,l,r;return Ui(this,function(o){switch(o.label){case 0:if(!this.hasSubscriptionListeners(t))return[2];if(t){for(s=0,l=this.subscriptions[t];s<l.length;s++)r=l[s],(i=this.eventSource)===null||i===void 0||i.removeEventListener(t,r);delete this.subscriptions[t]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByPrefix=function(t){var i;return Wi(this,void 0,void 0,function(){var s,l,r,o,a;return Ui(this,function(f){switch(f.label){case 0:for(l in s=!1,this.subscriptions)if(l.startsWith(t)){for(s=!0,r=0,o=this.subscriptions[l];r<o.length;r++)a=o[r],(i=this.eventSource)===null||i===void 0||i.removeEventListener(l,a);delete this.subscriptions[l]}return s?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return f.sent(),[3,3];case 2:this.disconnect(),f.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByTopicAndListener=function(t,i){var s;return Wi(this,void 0,void 0,function(){var l,r;return Ui(this,function(o){switch(o.label){case 0:if(!Array.isArray(this.subscriptions[t])||!this.subscriptions[t].length)return[2];for(l=!1,r=this.subscriptions[t].length-1;r>=0;r--)this.subscriptions[t][r]===i&&(l=!0,delete this.subscriptions[t][r],this.subscriptions[t].splice(r,1),(s=this.eventSource)===null||s===void 0||s.removeEventListener(t,i));return l?(this.subscriptions[t].length||delete this.subscriptions[t],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.hasSubscriptionListeners=function(t){var i,s;if(this.subscriptions=this.subscriptions||{},t)return!!(!((i=this.subscriptions[t])===null||i===void 0)&&i.length);for(var l in this.subscriptions)if(!((s=this.subscriptions[l])===null||s===void 0)&&s.length)return!0;return!1},e.prototype.submitSubscriptions=function(){return Wi(this,void 0,void 0,function(){return Ui(this,function(t){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:this.getSubscriptionsCancelKey()}}).catch(function(i){if(!(i!=null&&i.isAbort))throw i})]):[2]})})},e.prototype.getSubscriptionsCancelKey=function(){return"realtime_"+this.clientId},e.prototype.getNonEmptySubscriptionTopics=function(){var t=[];for(var i in this.subscriptions)this.subscriptions[i].length&&t.push(i);return t},e.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.removeAllSubscriptionListeners(),this.subscriptions)for(var i=0,s=this.subscriptions[t];i<s.length;i++){var l=s[i];this.eventSource.addEventListener(t,l)}},e.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.subscriptions)for(var i=0,s=this.subscriptions[t];i<s.length;i++){var l=s[i];this.eventSource.removeEventListener(t,l)}},e.prototype.connect=function(){return Wi(this,void 0,void 0,function(){var t=this;return Ui(this,function(i){return this.reconnectAttempts>0?[2]:[2,new Promise(function(s,l){t.pendingConnects.push({resolve:s,reject:l}),t.pendingConnects.length>1||t.initConnect()})]})})},e.prototype.initConnect=function(){var t=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){t.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(i){t.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(i){var s=i;t.clientId=s==null?void 0:s.lastEventId,t.submitSubscriptions().then(function(){return Wi(t,void 0,void 0,function(){var l;return Ui(this,function(r){switch(r.label){case 0:l=3,r.label=1;case 1:return this.hasUnsentSubscriptions()&&l>0?(l--,[4,this.submitSubscriptions()]):[3,3];case 2:return r.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var l=0,r=t.pendingConnects;l<r.length;l++)r[l].resolve();t.pendingConnects=[],t.reconnectAttempts=0,clearTimeout(t.reconnectTimeoutId),clearTimeout(t.connectTimeoutId)}).catch(function(l){t.clientId="",t.connectErrorHandler(l)})})},e.prototype.hasUnsentSubscriptions=function(){var t=this.getNonEmptySubscriptionTopics();if(t.length!=this.lastSentTopics.length)return!0;for(var i=0,s=t;i<s.length;i++){var l=s[i];if(!this.lastSentTopics.includes(l))return!0}return!1},e.prototype.connectErrorHandler=function(t){var i=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var s=0,l=this.pendingConnects;s<l.length;s++)l[s].reject(new Br(t));this.disconnect()}else{this.disconnect(!0);var r=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){i.initConnect()},r)}},e.prototype.disconnect=function(t){var i;if(t===void 0&&(t=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(i=this.eventSource)===null||i===void 0||i.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(var s=new Br(new Error("Realtime disconnected.")),l=0,r=this.pendingConnects;l<r.length;l++)r[l].reject(s);this.pendingConnects=[]}},e}(xa),gF=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return xi(e,n),e.prototype.check=function(t){return t===void 0&&(t={}),this.client.send("/api/health",{method:"GET",params:t})},e}(xa),bF=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return xi(e,n),e.prototype.getUrl=function(t,i,s){s===void 0&&(s={});var l=[];l.push("api"),l.push("files"),l.push(encodeURIComponent(t.collectionId||t.collectionName)),l.push(encodeURIComponent(t.id)),l.push(encodeURIComponent(i));var r=this.client.buildUrl(l.join("/"));if(Object.keys(s).length){var o=new URLSearchParams(s);r+=(r.includes("?")?"&":"?")+o}return r},e.prototype.getToken=function(t){return t===void 0&&(t={}),this.client.send("/api/files/token",{method:"POST",params:t}).then(function(i){return(i==null?void 0:i.token)||""})},e}(xa),_F=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return xi(e,n),e.prototype.getFullList=function(t){return t===void 0&&(t={}),this.client.send("/api/backups",{method:"GET",params:t})},e.prototype.create=function(t,i){i===void 0&&(i={});var s={name:t};return this.client.send("/api/backups",{method:"POST",params:i,body:s}).then(function(){return!0})},e.prototype.delete=function(t,i){return i===void 0&&(i={}),this.client.send("/api/backups/".concat(encodeURIComponent(t)),{method:"DELETE",params:i}).then(function(){return!0})},e.prototype.restore=function(t,i){return i===void 0&&(i={}),this.client.send("/api/backups/".concat(encodeURIComponent(t),"/restore"),{method:"POST",params:i}).then(function(){return!0})},e.prototype.getDownloadUrl=function(t,i){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(i),"?token=").concat(encodeURIComponent(t)))},e}(xa),Mu=function(){function n(e,t,i){e===void 0&&(e="/"),i===void 0&&(i="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=i,this.authStore=t||new FE,this.admins=new uF(this),this.collections=new hF(this),this.files=new bF(this),this.logs=new pF(this),this.settings=new fF(this),this.realtime=new mF(this),this.health=new gF(this),this.backups=new _F(this)}return n.prototype.collection=function(e){return this.recordServices[e]||(this.recordServices[e]=new dF(this,e)),this.recordServices[e]},n.prototype.autoCancellation=function(e){return this.enableAutoCancellation=!!e,this},n.prototype.cancelRequest=function(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this},n.prototype.cancelAllRequests=function(){for(var e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this},n.prototype.send=function(e,t){var i,s,l,r,o,a,f,u;return Wi(this,void 0,void 0,function(){var d,h,p,g,b,_,y,w,A,M=this;return Ui(this,function(T){switch(T.label){case 0:return d=Object.assign({method:"GET"},t),this.isFormData(d.body)||(d.body&&typeof d.body!="string"&&(d.body=JSON.stringify(d.body)),((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i["Content-Type"])===void 0&&(d.headers=Object.assign({},d.headers,{"Content-Type":"application/json"}))),((s=d==null?void 0:d.headers)===null||s===void 0?void 0:s["Accept-Language"])===void 0&&(d.headers=Object.assign({},d.headers,{"Accept-Language":this.lang})),!((l=this.authStore)===null||l===void 0)&&l.token&&((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r.Authorization)===void 0&&(d.headers=Object.assign({},d.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((o=d.params)===null||o===void 0?void 0:o.$autoCancel)!==!1&&(h=((a=d.params)===null||a===void 0?void 0:a.$cancelKey)||(d.method||"GET")+e,this.cancelRequest(h),p=new AbortController,this.cancelControllers[h]=p,d.signal=p.signal),(f=d.params)===null||f===void 0||delete f.$autoCancel,(u=d.params)===null||u===void 0||delete u.$cancelKey,g=this.buildUrl(e),d.params!==void 0&&((b=this.serializeQueryParams(d.params))&&(g+=(g.includes("?")?"&":"?")+b),delete d.params),this.beforeSend?(w=(y=Object).assign,A=[{}],[4,this.beforeSend(g,d)]):[3,2];case 1:(_=w.apply(y,A.concat([T.sent()]))).url!==void 0||_.options!==void 0?(g=_.url||g,d=_.options||d):Object.keys(_).length&&(d=_,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),T.label=2;case 2:return[2,fetch(g,d).then(function(O){return Wi(M,void 0,void 0,function(){var E;return Ui(this,function(R){switch(R.label){case 0:E={},R.label=1;case 1:return R.trys.push([1,3,,4]),[4,O.json()];case 2:return E=R.sent(),[3,4];case 3:return R.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(O,E)]:[3,6];case 5:E=R.sent(),R.label=6;case 6:if(O.status>=400)throw new Br({url:O.url,status:O.status,data:E});return[2,E]}})})}).catch(function(O){throw new Br(O)})]}})})},n.prototype.getFileUrl=function(e,t,i){return i===void 0&&(i={}),this.files.getUrl(e,t,i)},n.prototype.buildUrl=function(e){var t,i=this.baseUrl;return typeof window>"u"||!window.location||i.startsWith("https://")||i.startsWith("http://")||(i=!((t=window.location.origin)===null||t===void 0)&&t.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(i+=window.location.pathname||"/",i+=i.endsWith("/")?"":"/"),i+=this.baseUrl),e&&(i+=i.endsWith("/")?"":"/",i+=e.startsWith("/")?e.substring(1):e),i},n.prototype.isFormData=function(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)},n.prototype.serializeQueryParams=function(e){var t=[];for(var i in e)if(e[i]!==null){var s=e[i],l=encodeURIComponent(i);if(Array.isArray(s))for(var r=0,o=s;r<o.length;r++){var a=o[r];t.push(l+"="+encodeURIComponent(a))}else s instanceof Date?t.push(l+"="+encodeURIComponent(s.toISOString())):typeof s!==null&&typeof s=="object"?t.push(l+"="+encodeURIComponent(JSON.stringify(s))):t.push(l+"="+encodeURIComponent(s))}return t.join("&")},n}();class Ya extends Error{}class yF extends Ya{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class vF extends Ya{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class kF extends Ya{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class hc extends Ya{}class BE extends Ya{constructor(e){super(`Invalid unit ${e}`)}}class il extends Ya{}class uo extends Ya{constructor(){super("Zone is an abstract class")}}const ut="numeric",Vl="short",xs="long",B0={year:ut,month:ut,day:ut},VE={year:ut,month:Vl,day:ut},wF={year:ut,month:Vl,day:ut,weekday:Vl},zE={year:ut,month:xs,day:ut},HE={year:ut,month:xs,day:ut,weekday:xs},qE={hour:ut,minute:ut},WE={hour:ut,minute:ut,second:ut},UE={hour:ut,minute:ut,second:ut,timeZoneName:Vl},KE={hour:ut,minute:ut,second:ut,timeZoneName:xs},JE={hour:ut,minute:ut,hourCycle:"h23"},xE={hour:ut,minute:ut,second:ut,hourCycle:"h23"},YE={hour:ut,minute:ut,second:ut,hourCycle:"h23",timeZoneName:Vl},GE={hour:ut,minute:ut,second:ut,hourCycle:"h23",timeZoneName:xs},XE={year:ut,month:ut,day:ut,hour:ut,minute:ut},ZE={year:ut,month:ut,day:ut,hour:ut,minute:ut,second:ut},QE={year:ut,month:Vl,day:ut,hour:ut,minute:ut},$E={year:ut,month:Vl,day:ut,hour:ut,minute:ut,second:ut},SF={year:ut,month:Vl,day:ut,weekday:Vl,hour:ut,minute:ut},eP={year:ut,month:xs,day:ut,hour:ut,minute:ut,timeZoneName:Vl},tP={year:ut,month:xs,day:ut,hour:ut,minute:ut,second:ut,timeZoneName:Vl},nP={year:ut,month:xs,day:ut,weekday:xs,hour:ut,minute:ut,timeZoneName:xs},iP={year:ut,month:xs,day:ut,weekday:xs,hour:ut,minute:ut,second:ut,timeZoneName:xs};function hn(n){return typeof n>"u"}function Aa(n){return typeof n=="number"}function Gm(n){return typeof n=="number"&&n%1===0}function CF(n){return typeof n=="string"}function MF(n){return Object.prototype.toString.call(n)==="[object Date]"}function sP(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function TF(n){return Array.isArray(n)?n:[n]}function bv(n,e,t){if(n.length!==0)return n.reduce((i,s)=>{const l=[e(s),s];return i&&t(i[0],l[0])===i[0]?i:l},null)[1]}function AF(n,e){return e.reduce((t,i)=>(t[i]=n[i],t),{})}function Gf(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Vr(n,e,t){return Gm(n)&&n>=e&&n<=t}function OF(n,e){return n-e*Math.floor(n/e)}function Ii(n,e=2){const t=n<0;let i;return t?i="-"+(""+-n).padStart(e,"0"):i=(""+n).padStart(e,"0"),i}function po(n){if(!(hn(n)||n===null||n===""))return parseInt(n,10)}function na(n){if(!(hn(n)||n===null||n===""))return parseFloat(n)}function q_(n){if(!(hn(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function W_(n,e,t=!1){const i=10**e;return(t?Math.trunc:Math.round)(n*i)/i}function Md(n){return n%4===0&&(n%100!==0||n%400===0)}function Cc(n){return Md(n)?366:365}function Ep(n,e){const t=OF(e-1,12)+1,i=n+(e-t)/12;return t===2?Md(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function U_(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function Pp(n){const e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,t=n-1,i=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||i===3?53:52}function V0(n){return n>99?n:n>60?1900+n:2e3+n}function lP(n,e,t,i=null){const s=new Date(n),l={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(l.timeZone=i);const r={timeZoneName:e,...l},o=new Intl.DateTimeFormat(t,r).formatToParts(s).find(a=>a.type.toLowerCase()==="timezonename");return o?o.value:null}function Xm(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const i=parseInt(e,10)||0,s=t<0||Object.is(t,-0)?-i:i;return t*60+s}function rP(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new il(`Invalid unit value ${n}`);return e}function Dp(n,e){const t={};for(const i in n)if(Gf(n,i)){const s=n[i];if(s==null)continue;t[e(i)]=rP(s)}return t}function Mc(n,e){const t=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),s=n>=0?"+":"-";switch(e){case"short":return`${s}${Ii(t,2)}:${Ii(i,2)}`;case"narrow":return`${s}${t}${i>0?`:${i}`:""}`;case"techie":return`${s}${Ii(t,2)}${Ii(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Zm(n){return AF(n,["hour","minute","second","millisecond"])}const oP=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,EF=["January","February","March","April","May","June","July","August","September","October","November","December"],aP=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],PF=["J","F","M","A","M","J","J","A","S","O","N","D"];function fP(n){switch(n){case"narrow":return[...PF];case"short":return[...aP];case"long":return[...EF];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const uP=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],cP=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],DF=["M","T","W","T","F","S","S"];function dP(n){switch(n){case"narrow":return[...DF];case"short":return[...cP];case"long":return[...uP];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const hP=["AM","PM"],IF=["Before Christ","Anno Domini"],RF=["BC","AD"],NF=["B","A"];function pP(n){switch(n){case"narrow":return[...NF];case"short":return[...RF];case"long":return[...IF];default:return null}}function LF(n){return hP[n.hour<12?0:1]}function FF(n,e){return dP(e)[n.weekday-1]}function jF(n,e){return fP(e)[n.month-1]}function BF(n,e){return pP(e)[n.year<0?0:1]}function VF(n,e,t="always",i=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},l=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&l){const d=n==="days";switch(e){case 1:return d?"tomorrow":`next ${s[n][0]}`;case-1:return d?"yesterday":`last ${s[n][0]}`;case 0:return d?"today":`this ${s[n][0]}`}}const r=Object.is(e,-0)||e<0,o=Math.abs(e),a=o===1,f=s[n],u=i?a?f[1]:f[2]||f[1]:a?s[n][0]:n;return r?`${o} ${u} ago`:`in ${o} ${u}`}function _v(n,e){let t="";for(const i of n)i.literal?t+=i.val:t+=e(i.val);return t}const zF={D:B0,DD:VE,DDD:zE,DDDD:HE,t:qE,tt:WE,ttt:UE,tttt:KE,T:JE,TT:xE,TTT:YE,TTTT:GE,f:XE,ff:QE,fff:eP,ffff:nP,F:ZE,FF:$E,FFF:tP,FFFF:iP};class Os{static create(e,t={}){return new Os(e,t)}static parseFormat(e){let t=null,i="",s=!1;const l=[];for(let r=0;r<e.length;r++){const o=e.charAt(r);o==="'"?(i.length>0&&l.push({literal:s,val:i}),t=null,i="",s=!s):s||o===t?i+=o:(i.length>0&&l.push({literal:!1,val:i}),i=o,t=o)}return i.length>0&&l.push({literal:s,val:i}),l}static macroTokenToFormatOpts(e){return zF[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTime(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTimeParts(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).formatToParts()}resolvedOptions(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Ii(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",l=(p,g)=>this.loc.extract(e,p,g),r=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",o=()=>i?LF(e):l({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(p,g)=>i?jF(e,p):l(g?{month:p}:{month:p,day:"numeric"},"month"),f=(p,g)=>i?FF(e,p):l(g?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),u=p=>{const g=Os.macroTokenToFormatOpts(p);return g?this.formatWithSystemDefault(e,g):p},d=p=>i?BF(e,p):l({era:p},"era"),h=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return r({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return r({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return r({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return s?l({day:"numeric"},"day"):this.num(e.day);case"dd":return s?l({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return f("short",!0);case"cccc":return f("long",!0);case"ccccc":return f("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return f("short",!1);case"EEEE":return f("long",!1);case"EEEEE":return f("narrow",!1);case"L":return s?l({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?l({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return s?l({month:"numeric"},"month"):this.num(e.month);case"MM":return s?l({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return s?l({year:"numeric"},"year"):this.num(e.year);case"yy":return s?l({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?l({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?l({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return u(p)}};return _v(Os.parseFormat(t),h)}formatDurationFromString(e,t){const i=a=>{switch(a[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=a=>f=>{const u=i(f);return u?this.num(a.get(u),f.length):f},l=Os.parseFormat(t),r=l.reduce((a,{literal:f,val:u})=>f?a:a.concat(u),[]),o=e.shiftTo(...r.map(i).filter(a=>a));return _v(l,s(o))}}class Rl{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Td{get type(){throw new uo}get name(){throw new uo}get ianaName(){return this.name}get isUniversal(){throw new uo}offsetName(e,t){throw new uo}formatOffset(e,t){throw new uo}offset(e){throw new uo}equals(e){throw new uo}get isValid(){throw new uo}}let s1=null;class K_ extends Td{static get instance(){return s1===null&&(s1=new K_),s1}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return lP(e,t,i)}formatOffset(e,t){return Mc(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let ap={};function HF(n){return ap[n]||(ap[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ap[n]}const qF={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function WF(n,e){const t=n.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,s,l,r,o,a,f,u]=i;return[r,s,l,o,a,f,u]}function UF(n,e){const t=n.formatToParts(e),i=[];for(let s=0;s<t.length;s++){const{type:l,value:r}=t[s],o=qF[l];l==="era"?i[o]=r:hn(o)||(i[o]=parseInt(r,10))}return i}let sh={};class Jr extends Td{static create(e){return sh[e]||(sh[e]=new Jr(e)),sh[e]}static resetCache(){sh={},ap={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Jr.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return lP(e,t,i,this.name)}formatOffset(e,t){return Mc(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const i=HF(this.name);let[s,l,r,o,a,f,u]=i.formatToParts?UF(i,t):WF(i,t);o==="BC"&&(s=-Math.abs(s)+1);const h=U_({year:s,month:l,day:r,hour:a===24?0:a,minute:f,second:u,millisecond:0});let p=+t;const g=p%1e3;return p-=g>=0?g:1e3+g,(h-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let l1=null;class ys extends Td{static get utcInstance(){return l1===null&&(l1=new ys(0)),l1}static instance(e){return e===0?ys.utcInstance:new ys(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new ys(Xm(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Mc(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Mc(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Mc(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class KF extends Td{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function bo(n,e){if(hn(n)||n===null)return e;if(n instanceof Td)return n;if(CF(n)){const t=n.toLowerCase();return t==="local"||t==="system"?e:t==="utc"||t==="gmt"?ys.utcInstance:ys.parseSpecifier(t)||Jr.create(n)}else return Aa(n)?ys.instance(n):typeof n=="object"&&n.offset&&typeof n.offset=="number"?n:new KF(n)}let yv=()=>Date.now(),vv="system",kv=null,wv=null,Sv=null,Cv;class zi{static get now(){return yv}static set now(e){yv=e}static set defaultZone(e){vv=e}static get defaultZone(){return bo(vv,K_.instance)}static get defaultLocale(){return kv}static set defaultLocale(e){kv=e}static get defaultNumberingSystem(){return wv}static set defaultNumberingSystem(e){wv=e}static get defaultOutputCalendar(){return Sv}static set defaultOutputCalendar(e){Sv=e}static get throwOnInvalid(){return Cv}static set throwOnInvalid(e){Cv=e}static resetCaches(){ai.resetCache(),Jr.resetCache()}}let Mv={};function JF(n,e={}){const t=JSON.stringify([n,e]);let i=Mv[t];return i||(i=new Intl.ListFormat(n,e),Mv[t]=i),i}let z0={};function H0(n,e={}){const t=JSON.stringify([n,e]);let i=z0[t];return i||(i=new Intl.DateTimeFormat(n,e),z0[t]=i),i}let q0={};function xF(n,e={}){const t=JSON.stringify([n,e]);let i=q0[t];return i||(i=new Intl.NumberFormat(n,e),q0[t]=i),i}let W0={};function YF(n,e={}){const{base:t,...i}=e,s=JSON.stringify([n,i]);let l=W0[s];return l||(l=new Intl.RelativeTimeFormat(n,e),W0[s]=l),l}let pc=null;function GF(){return pc||(pc=new Intl.DateTimeFormat().resolvedOptions().locale,pc)}function XF(n){const e=n.indexOf("-u-");if(e===-1)return[n];{let t;const i=n.substring(0,e);try{t=H0(n).resolvedOptions()}catch{t=H0(i).resolvedOptions()}const{numberingSystem:s,calendar:l}=t;return[i,s,l]}}function ZF(n,e,t){return(t||e)&&(n+="-u",t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function QF(n){const e=[];for(let t=1;t<=12;t++){const i=At.utc(2016,t,1);e.push(n(i))}return e}function $F(n){const e=[];for(let t=1;t<=7;t++){const i=At.utc(2016,11,13+t);e.push(n(i))}return e}function lh(n,e,t,i,s){const l=n.listingMode(t);return l==="error"?null:l==="en"?i(e):s(e)}function ej(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}class tj{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:s,floor:l,...r}=i;if(!t||Object.keys(r).length>0){const o={useGrouping:!1,...i};i.padTo>0&&(o.minimumIntegerDigits=i.padTo),this.inf=xF(e,o)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):W_(e,3);return Ii(t,this.padTo)}}}class nj{constructor(e,t,i){this.opts=i;let s;if(e.zone.isUniversal){const r=-1*(e.offset/60),o=r>=0?`Etc/GMT+${r}`:`Etc/GMT${r}`;e.offset!==0&&Jr.create(o).valid?(s=o,this.dt=e):(s="UTC",i.timeZoneName?this.dt=e:this.dt=e.offset===0?e:At.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,s=e.zone.name);const l={...this.opts};s&&(l.timeZone=s),this.dtf=H0(t,l)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class ij{constructor(e,t,i){this.opts={style:"long",...i},!t&&sP()&&(this.rtf=YF(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):VF(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class ai{static fromOpts(e){return ai.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,i,s=!1){const l=e||zi.defaultLocale,r=l||(s?"en-US":GF()),o=t||zi.defaultNumberingSystem,a=i||zi.defaultOutputCalendar;return new ai(r,o,a,l)}static resetCache(){pc=null,z0={},q0={},W0={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:i}={}){return ai.create(e,t,i)}constructor(e,t,i,s){const[l,r,o]=XF(e);this.locale=l,this.numberingSystem=t||r||null,this.outputCalendar=i||o||null,this.intl=ZF(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=ej(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:ai.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1,i=!0){return lh(this,e,i,fP,()=>{const s=t?{month:e,day:"numeric"}:{month:e},l=t?"format":"standalone";return this.monthsCache[l][e]||(this.monthsCache[l][e]=QF(r=>this.extract(r,s,"month"))),this.monthsCache[l][e]})}weekdays(e,t=!1,i=!0){return lh(this,e,i,dP,()=>{const s=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},l=t?"format":"standalone";return this.weekdaysCache[l][e]||(this.weekdaysCache[l][e]=$F(r=>this.extract(r,s,"weekday"))),this.weekdaysCache[l][e]})}meridiems(e=!0){return lh(this,void 0,e,()=>hP,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[At.utc(2016,11,13,9),At.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(e,t=!0){return lh(this,e,t,pP,()=>{const i={era:e};return this.eraCache[e]||(this.eraCache[e]=[At.utc(-40,1,1),At.utc(2017,1,1)].map(s=>this.extract(s,i,"era"))),this.eraCache[e]})}extract(e,t,i){const s=this.dtFormatter(e,t),l=s.formatToParts(),r=l.find(o=>o.type.toLowerCase()===i);return r?r.value:null}numberFormatter(e={}){return new tj(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new nj(e,this.intl,t)}relFormatter(e={}){return new ij(this.intl,this.isEnglish(),e)}listFormatter(e={}){return JF(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function Tu(...n){const e=n.reduce((t,i)=>t+i.source,"");return RegExp(`^${e}$`)}function Au(...n){return e=>n.reduce(([t,i,s],l)=>{const[r,o,a]=l(e,s);return[{...t,...r},o||i,a]},[{},null,1]).slice(0,2)}function Ou(n,...e){if(n==null)return[null,null];for(const[t,i]of e){const s=t.exec(n);if(s)return i(s)}return[null,null]}function mP(...n){return(e,t)=>{const i={};let s;for(s=0;s<n.length;s++)i[n[s]]=po(e[t+s]);return[i,null,t+s]}}const gP=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,sj=`(?:${gP.source}?(?:\\[(${oP.source})\\])?)?`,J_=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,bP=RegExp(`${J_.source}${sj}`),x_=RegExp(`(?:T${bP.source})?`),lj=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,rj=/(\d{4})-?W(\d\d)(?:-?(\d))?/,oj=/(\d{4})-?(\d{3})/,aj=mP("weekYear","weekNumber","weekDay"),fj=mP("year","ordinal"),uj=/(\d{4})-(\d\d)-(\d\d)/,_P=RegExp(`${J_.source} ?(?:${gP.source}|(${oP.source}))?`),cj=RegExp(`(?: ${_P.source})?`);function Pf(n,e,t){const i=n[e];return hn(i)?t:po(i)}function dj(n,e){return[{year:Pf(n,e),month:Pf(n,e+1,1),day:Pf(n,e+2,1)},null,e+3]}function Eu(n,e){return[{hours:Pf(n,e,0),minutes:Pf(n,e+1,0),seconds:Pf(n,e+2,0),milliseconds:q_(n[e+3])},null,e+4]}function Ad(n,e){const t=!n[e]&&!n[e+1],i=Xm(n[e+1],n[e+2]),s=t?null:ys.instance(i);return[{},s,e+3]}function Od(n,e){const t=n[e]?Jr.create(n[e]):null;return[{},t,e+1]}const hj=RegExp(`^T?${J_.source}$`),pj=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function mj(n){const[e,t,i,s,l,r,o,a,f]=n,u=e[0]==="-",d=a&&a[0]==="-",h=(p,g=!1)=>p!==void 0&&(g||p&&u)?-p:p;return[{years:h(na(t)),months:h(na(i)),weeks:h(na(s)),days:h(na(l)),hours:h(na(r)),minutes:h(na(o)),seconds:h(na(a),a==="-0"),milliseconds:h(q_(f),d)}]}const gj={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Y_(n,e,t,i,s,l,r){const o={year:e.length===2?V0(po(e)):po(e),month:aP.indexOf(t)+1,day:po(i),hour:po(s),minute:po(l)};return r&&(o.second=po(r)),n&&(o.weekday=n.length>3?uP.indexOf(n)+1:cP.indexOf(n)+1),o}const bj=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function _j(n){const[,e,t,i,s,l,r,o,a,f,u,d]=n,h=Y_(e,s,i,t,l,r,o);let p;return a?p=gj[a]:f?p=0:p=Xm(u,d),[h,new ys(p)]}function yj(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const vj=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,kj=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,wj=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Tv(n){const[,e,t,i,s,l,r,o]=n;return[Y_(e,s,i,t,l,r,o),ys.utcInstance]}function Sj(n){const[,e,t,i,s,l,r,o]=n;return[Y_(e,o,t,i,s,l,r),ys.utcInstance]}const Cj=Tu(lj,x_),Mj=Tu(rj,x_),Tj=Tu(oj,x_),Aj=Tu(bP),yP=Au(dj,Eu,Ad,Od),Oj=Au(aj,Eu,Ad,Od),Ej=Au(fj,Eu,Ad,Od),Pj=Au(Eu,Ad,Od);function Dj(n){return Ou(n,[Cj,yP],[Mj,Oj],[Tj,Ej],[Aj,Pj])}function Ij(n){return Ou(yj(n),[bj,_j])}function Rj(n){return Ou(n,[vj,Tv],[kj,Tv],[wj,Sj])}function Nj(n){return Ou(n,[pj,mj])}const Lj=Au(Eu);function Fj(n){return Ou(n,[hj,Lj])}const jj=Tu(uj,cj),Bj=Tu(_P),Vj=Au(Eu,Ad,Od);function zj(n){return Ou(n,[jj,yP],[Bj,Vj])}const Hj="Invalid Duration",vP={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},qj={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...vP},Zs=146097/400,ff=146097/4800,Wj={years:{quarters:4,months:12,weeks:Zs/7,days:Zs,hours:Zs*24,minutes:Zs*24*60,seconds:Zs*24*60*60,milliseconds:Zs*24*60*60*1e3},quarters:{months:3,weeks:Zs/28,days:Zs/4,hours:Zs*24/4,minutes:Zs*24*60/4,seconds:Zs*24*60*60/4,milliseconds:Zs*24*60*60*1e3/4},months:{weeks:ff/7,days:ff,hours:ff*24,minutes:ff*24*60,seconds:ff*24*60*60,milliseconds:ff*24*60*60*1e3},...vP},da=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Uj=da.slice(0).reverse();function ia(n,e,t=!1){const i={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy};return new yn(i)}function Kj(n){return n<0?Math.floor(n):Math.ceil(n)}function kP(n,e,t,i,s){const l=n[s][t],r=e[t]/l,o=Math.sign(r)===Math.sign(i[s]),a=!o&&i[s]!==0&&Math.abs(r)<=1?Kj(r):Math.trunc(r);i[s]+=a,e[t]-=a*l}function Jj(n,e){Uj.reduce((t,i)=>hn(e[i])?t:(t&&kP(n,e,t,e,i),i),null)}class yn{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;this.values=e.values,this.loc=e.loc||ai.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?Wj:qj,this.isLuxonDuration=!0}static fromMillis(e,t){return yn.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new il(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new yn({values:Dp(e,yn.normalizeUnit),loc:ai.fromObject(t),conversionAccuracy:t.conversionAccuracy})}static fromDurationLike(e){if(Aa(e))return yn.fromMillis(e);if(yn.isDuration(e))return e;if(typeof e=="object")return yn.fromObject(e);throw new il(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[i]=Nj(e);return i?yn.fromObject(i,t):yn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[i]=Fj(e);return i?yn.fromObject(i,t):yn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new il("need to specify a reason the Duration is invalid");const i=e instanceof Rl?e:new Rl(e,t);if(zi.throwOnInvalid)throw new kF(i);return new yn({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new BE(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?Os.create(this.loc,i).formatDurationFromString(this,e):Hj}toHuman(e={}){const t=da.map(i=>{const s=this.values[i];return hn(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(s)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=W_(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const i=this.shiftTo("hours","minutes","seconds","milliseconds");let s=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||i.seconds!==0||i.milliseconds!==0)&&(s+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||i.milliseconds!==0)&&(s+=".SSS"));let l=i.toFormat(s);return e.includePrefix&&(l="T"+l),l}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=yn.fromDurationLike(e),i={};for(const s of da)(Gf(t.values,s)||Gf(this.values,s))&&(i[s]=t.get(s)+this.get(s));return ia(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=yn.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=rP(e(this.values[i],i));return ia(this,{values:t},!0)}get(e){return this[yn.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...Dp(e,yn.normalizeUnit)};return ia(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i}={}){const s=this.loc.clone({locale:e,numberingSystem:t}),l={loc:s};return i&&(l.conversionAccuracy=i),ia(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Jj(this.matrix,e),ia(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(r=>yn.normalizeUnit(r));const t={},i={},s=this.toObject();let l;for(const r of da)if(e.indexOf(r)>=0){l=r;let o=0;for(const f in i)o+=this.matrix[f][r]*i[f],i[f]=0;Aa(s[r])&&(o+=s[r]);const a=Math.trunc(o);t[r]=a,i[r]=(o*1e3-a*1e3)/1e3;for(const f in s)da.indexOf(f)>da.indexOf(r)&&kP(this.matrix,s,f,t,r)}else Aa(s[r])&&(i[r]=s[r]);for(const r in i)i[r]!==0&&(t[l]+=r===l?i[r]:i[r]/this.matrix[l][r]);return ia(this,{values:t},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return ia(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(i,s){return i===void 0||i===0?s===void 0||s===0:i===s}for(const i of da)if(!t(this.values[i],e.values[i]))return!1;return!0}}const Gu="Invalid Interval";function xj(n,e){return!n||!n.isValid?pi.invalid("missing or invalid start"):!e||!e.isValid?pi.invalid("missing or invalid end"):e<n?pi.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class pi{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new il("need to specify a reason the Interval is invalid");const i=e instanceof Rl?e:new Rl(e,t);if(zi.throwOnInvalid)throw new vF(i);return new pi({invalid:i})}static fromDateTimes(e,t){const i=Qu(e),s=Qu(t),l=xj(i,s);return l??new pi({start:i,end:s})}static after(e,t){const i=yn.fromDurationLike(t),s=Qu(e);return pi.fromDateTimes(s,s.plus(i))}static before(e,t){const i=yn.fromDurationLike(t),s=Qu(e);return pi.fromDateTimes(s.minus(i),s)}static fromISO(e,t){const[i,s]=(e||"").split("/",2);if(i&&s){let l,r;try{l=At.fromISO(i,t),r=l.isValid}catch{r=!1}let o,a;try{o=At.fromISO(s,t),a=o.isValid}catch{a=!1}if(r&&a)return pi.fromDateTimes(l,o);if(r){const f=yn.fromISO(s,t);if(f.isValid)return pi.after(l,f)}else if(a){const f=yn.fromISO(i,t);if(f.isValid)return pi.before(o,f)}}return pi.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),i=this.end.startOf(e);return Math.floor(i.diff(t,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?pi.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Qu).filter(r=>this.contains(r)).sort(),i=[];let{s}=this,l=0;for(;s<this.e;){const r=t[l]||this.e,o=+r>+this.e?this.e:r;i.push(pi.fromDateTimes(s,o)),s=o,l+=1}return i}splitBy(e){const t=yn.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:i}=this,s=1,l;const r=[];for(;i<this.e;){const o=this.start.plus(t.mapUnits(a=>a*s));l=+o>+this.e?this.e:o,r.push(pi.fromDateTimes(i,l)),i=l,s+=1}return r}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:pi.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return pi.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort((s,l)=>s.s-l.s).reduce(([s,l],r)=>l?l.overlaps(r)||l.abutsStart(r)?[s,l.union(r)]:[s.concat([l]),r]:[s,r],[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const s=[],l=e.map(a=>[{time:a.s,type:"s"},{time:a.e,type:"e"}]),r=Array.prototype.concat(...l),o=r.sort((a,f)=>a.time-f.time);for(const a of o)i+=a.type==="s"?1:-1,i===1?t=a.time:(t&&+t!=+a.time&&s.push(pi.fromDateTimes(t,a.time)),t=null);return pi.merge(s)}difference(...e){return pi.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Gu}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Gu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Gu}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Gu}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Gu}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):yn.invalid(this.invalidReason)}mapEndpoints(e){return pi.fromDateTimes(e(this.s),e(this.e))}}class rh{static hasDST(e=zi.defaultZone){const t=At.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Jr.isValidZone(e)}static normalizeZone(e){return bo(e,zi.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:s=null,outputCalendar:l="gregory"}={}){return(s||ai.create(t,i,l)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:s=null,outputCalendar:l="gregory"}={}){return(s||ai.create(t,i,l)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:s=null}={}){return(s||ai.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:s=null}={}){return(s||ai.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return ai.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return ai.create(t,null,"gregory").eras(e)}static features(){return{relative:sP()}}}function Av(n,e){const t=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=t(e)-t(n);return Math.floor(yn.fromMillis(i).as("days"))}function Yj(n,e,t){const i=[["years",(o,a)=>a.year-o.year],["quarters",(o,a)=>a.quarter-o.quarter],["months",(o,a)=>a.month-o.month+(a.year-o.year)*12],["weeks",(o,a)=>{const f=Av(o,a);return(f-f%7)/7}],["days",Av]],s={};let l,r;for(const[o,a]of i)if(t.indexOf(o)>=0){l=o;let f=a(n,e);r=n.plus({[o]:f}),r>e?(n=n.plus({[o]:f-1}),f-=1):n=r,s[o]=f}return[n,s,r,l]}function Gj(n,e,t,i){let[s,l,r,o]=Yj(n,e,t);const a=e-s,f=t.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);f.length===0&&(r<e&&(r=s.plus({[o]:1})),r!==s&&(l[o]=(l[o]||0)+a/(r-s)));const u=yn.fromObject(l,i);return f.length>0?yn.fromMillis(a,i).shiftTo(...f).plus(u):u}const G_={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Ov={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Xj=G_.hanidec.replace(/[\[|\]]/g,"").split("");function Zj(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);if(n[t].search(G_.hanidec)!==-1)e+=Xj.indexOf(n[t]);else for(const s in Ov){const[l,r]=Ov[s];i>=l&&i<=r&&(e+=i-l)}}return parseInt(e,10)}else return e}function Tl({numberingSystem:n},e=""){return new RegExp(`${G_[n||"latn"]}${e}`)}const Qj="missing Intl.DateTimeFormat.formatToParts support";function An(n,e=t=>t){return{regex:n,deser:([t])=>e(Zj(t))}}const $j=String.fromCharCode(160),wP=`[ ${$j}]`,SP=new RegExp(wP,"g");function eB(n){return n.replace(/\./g,"\\.?").replace(SP,wP)}function Ev(n){return n.replace(/\./g,"").replace(SP," ").toLowerCase()}function Al(n,e){return n===null?null:{regex:RegExp(n.map(eB).join("|")),deser:([t])=>n.findIndex(i=>Ev(t)===Ev(i))+e}}function Pv(n,e){return{regex:n,deser:([,t,i])=>Xm(t,i),groups:e}}function r1(n){return{regex:n,deser:([e])=>e}}function tB(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function nB(n,e){const t=Tl(e),i=Tl(e,"{2}"),s=Tl(e,"{3}"),l=Tl(e,"{4}"),r=Tl(e,"{6}"),o=Tl(e,"{1,2}"),a=Tl(e,"{1,3}"),f=Tl(e,"{1,6}"),u=Tl(e,"{1,9}"),d=Tl(e,"{2,4}"),h=Tl(e,"{4,6}"),p=_=>({regex:RegExp(tB(_.val)),deser:([y])=>y,literal:!0}),b=(_=>{if(n.literal)return p(_);switch(_.val){case"G":return Al(e.eras("short",!1),0);case"GG":return Al(e.eras("long",!1),0);case"y":return An(f);case"yy":return An(d,V0);case"yyyy":return An(l);case"yyyyy":return An(h);case"yyyyyy":return An(r);case"M":return An(o);case"MM":return An(i);case"MMM":return Al(e.months("short",!0,!1),1);case"MMMM":return Al(e.months("long",!0,!1),1);case"L":return An(o);case"LL":return An(i);case"LLL":return Al(e.months("short",!1,!1),1);case"LLLL":return Al(e.months("long",!1,!1),1);case"d":return An(o);case"dd":return An(i);case"o":return An(a);case"ooo":return An(s);case"HH":return An(i);case"H":return An(o);case"hh":return An(i);case"h":return An(o);case"mm":return An(i);case"m":return An(o);case"q":return An(o);case"qq":return An(i);case"s":return An(o);case"ss":return An(i);case"S":return An(a);case"SSS":return An(s);case"u":return r1(u);case"uu":return r1(o);case"uuu":return An(t);case"a":return Al(e.meridiems(),0);case"kkkk":return An(l);case"kk":return An(d,V0);case"W":return An(o);case"WW":return An(i);case"E":case"c":return An(t);case"EEE":return Al(e.weekdays("short",!1,!1),1);case"EEEE":return Al(e.weekdays("long",!1,!1),1);case"ccc":return Al(e.weekdays("short",!0,!1),1);case"cccc":return Al(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Pv(new RegExp(`([+-]${o.source})(?::(${i.source}))?`),2);case"ZZZ":return Pv(new RegExp(`([+-]${o.source})(${i.source})?`),2);case"z":return r1(/[a-z_+-/]{1,256}?/i);default:return p(_)}})(n)||{invalidReason:Qj};return b.token=n,b}const iB={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function sB(n,e,t){const{type:i,value:s}=n;if(i==="literal")return{literal:!0,val:s};const l=t[i];let r=iB[i];if(typeof r=="object"&&(r=r[l]),r)return{literal:!1,val:r}}function lB(n){return[`^${n.map(t=>t.regex).reduce((t,i)=>`${t}(${i.source})`,"")}$`,n]}function rB(n,e,t){const i=n.match(e);if(i){const s={};let l=1;for(const r in t)if(Gf(t,r)){const o=t[r],a=o.groups?o.groups+1:1;!o.literal&&o.token&&(s[o.token.val[0]]=o.deser(i.slice(l,l+a))),l+=a}return[i,s]}else return[i,{}]}function oB(n){const e=l=>{switch(l){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,i;return hn(n.z)||(t=Jr.create(n.z)),hn(n.Z)||(t||(t=new ys(n.Z)),i=n.Z),hn(n.q)||(n.M=(n.q-1)*3+1),hn(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),hn(n.u)||(n.S=q_(n.u)),[Object.keys(n).reduce((l,r)=>{const o=e(r);return o&&(l[o]=n[r]),l},{}),t,i]}let o1=null;function aB(){return o1||(o1=At.fromMillis(1555555555555)),o1}function fB(n,e){if(n.literal)return n;const t=Os.macroTokenToFormatOpts(n.val);if(!t)return n;const l=Os.create(e,t).formatDateTimeParts(aB()).map(r=>sB(r,e,t));return l.includes(void 0)?n:l}function uB(n,e){return Array.prototype.concat(...n.map(t=>fB(t,e)))}function CP(n,e,t){const i=uB(Os.parseFormat(t),n),s=i.map(r=>nB(r,n)),l=s.find(r=>r.invalidReason);if(l)return{input:e,tokens:i,invalidReason:l.invalidReason};{const[r,o]=lB(s),a=RegExp(r,"i"),[f,u]=rB(e,a,o),[d,h,p]=u?oB(u):[null,null,void 0];if(Gf(u,"a")&&Gf(u,"H"))throw new hc("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:i,regex:a,rawMatches:f,matches:u,result:d,zone:h,specificOffset:p}}}function cB(n,e,t){const{result:i,zone:s,specificOffset:l,invalidReason:r}=CP(n,e,t);return[i,s,l,r]}const MP=[0,31,59,90,120,151,181,212,243,273,304,334],TP=[0,31,60,91,121,152,182,213,244,274,305,335];function ol(n,e){return new Rl("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function AP(n,e,t){const i=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const s=i.getUTCDay();return s===0?7:s}function OP(n,e,t){return t+(Md(n)?TP:MP)[e-1]}function EP(n,e){const t=Md(n)?TP:MP,i=t.findIndex(l=>l<e),s=e-t[i];return{month:i+1,day:s}}function U0(n){const{year:e,month:t,day:i}=n,s=OP(e,t,i),l=AP(e,t,i);let r=Math.floor((s-l+10)/7),o;return r<1?(o=e-1,r=Pp(o)):r>Pp(e)?(o=e+1,r=1):o=e,{weekYear:o,weekNumber:r,weekday:l,...Zm(n)}}function Dv(n){const{weekYear:e,weekNumber:t,weekday:i}=n,s=AP(e,1,4),l=Cc(e);let r=t*7+i-s-3,o;r<1?(o=e-1,r+=Cc(o)):r>l?(o=e+1,r-=Cc(e)):o=e;const{month:a,day:f}=EP(o,r);return{year:o,month:a,day:f,...Zm(n)}}function a1(n){const{year:e,month:t,day:i}=n,s=OP(e,t,i);return{year:e,ordinal:s,...Zm(n)}}function Iv(n){const{year:e,ordinal:t}=n,{month:i,day:s}=EP(e,t);return{year:e,month:i,day:s,...Zm(n)}}function dB(n){const e=Gm(n.weekYear),t=Vr(n.weekNumber,1,Pp(n.weekYear)),i=Vr(n.weekday,1,7);return e?t?i?!1:ol("weekday",n.weekday):ol("week",n.week):ol("weekYear",n.weekYear)}function hB(n){const e=Gm(n.year),t=Vr(n.ordinal,1,Cc(n.year));return e?t?!1:ol("ordinal",n.ordinal):ol("year",n.year)}function PP(n){const e=Gm(n.year),t=Vr(n.month,1,12),i=Vr(n.day,1,Ep(n.year,n.month));return e?t?i?!1:ol("day",n.day):ol("month",n.month):ol("year",n.year)}function DP(n){const{hour:e,minute:t,second:i,millisecond:s}=n,l=Vr(e,0,23)||e===24&&t===0&&i===0&&s===0,r=Vr(t,0,59),o=Vr(i,0,59),a=Vr(s,0,999);return l?r?o?a?!1:ol("millisecond",s):ol("second",i):ol("minute",t):ol("hour",e)}const f1="Invalid DateTime",Rv=864e13;function oh(n){return new Rl("unsupported zone",`the zone "${n.name}" is not supported`)}function u1(n){return n.weekData===null&&(n.weekData=U0(n.c)),n.weekData}function Xu(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new At({...t,...e,old:t})}function IP(n,e,t){let i=n-e*60*1e3;const s=t.offset(i);if(e===s)return[i,e];i-=(s-e)*60*1e3;const l=t.offset(i);return s===l?[i,s]:[n-Math.min(s,l)*60*1e3,Math.max(s,l)]}function Nv(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function fp(n,e,t){return IP(U_(n),e,t)}function Lv(n,e){const t=n.o,i=n.c.year+Math.trunc(e.years),s=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,l={...n.c,year:i,month:s,day:Math.min(n.c.day,Ep(i,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},r=yn.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=U_(l);let[a,f]=IP(o,t,n.zone);return r!==0&&(a+=r,f=n.zone.offset(a)),{ts:a,o:f}}function Zu(n,e,t,i,s,l){const{setZone:r,zone:o}=t;if(n&&Object.keys(n).length!==0){const a=e||o,f=At.fromObject(n,{...t,zone:a,specificOffset:l});return r?f:f.setZone(o)}else return At.invalid(new Rl("unparsable",`the input "${s}" can't be parsed as ${i}`))}function ah(n,e,t=!0){return n.isValid?Os.create(ai.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function c1(n,e){const t=n.c.year>9999||n.c.year<0;let i="";return t&&n.c.year>=0&&(i+="+"),i+=Ii(n.c.year,t?6:4),e?(i+="-",i+=Ii(n.c.month),i+="-",i+=Ii(n.c.day)):(i+=Ii(n.c.month),i+=Ii(n.c.day)),i}function Fv(n,e,t,i,s,l){let r=Ii(n.c.hour);return e?(r+=":",r+=Ii(n.c.minute),(n.c.second!==0||!t)&&(r+=":")):r+=Ii(n.c.minute),(n.c.second!==0||!t)&&(r+=Ii(n.c.second),(n.c.millisecond!==0||!i)&&(r+=".",r+=Ii(n.c.millisecond,3))),s&&(n.isOffsetFixed&&n.offset===0&&!l?r+="Z":n.o<0?(r+="-",r+=Ii(Math.trunc(-n.o/60)),r+=":",r+=Ii(Math.trunc(-n.o%60))):(r+="+",r+=Ii(Math.trunc(n.o/60)),r+=":",r+=Ii(Math.trunc(n.o%60)))),l&&(r+="["+n.zone.ianaName+"]"),r}const RP={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},pB={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},mB={ordinal:1,hour:0,minute:0,second:0,millisecond:0},NP=["year","month","day","hour","minute","second","millisecond"],gB=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],bB=["year","ordinal","hour","minute","second","millisecond"];function jv(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new BE(n);return e}function Bv(n,e){const t=bo(e.zone,zi.defaultZone),i=ai.fromObject(e),s=zi.now();let l,r;if(hn(n.year))l=s;else{for(const f of NP)hn(n[f])&&(n[f]=RP[f]);const o=PP(n)||DP(n);if(o)return At.invalid(o);const a=t.offset(s);[l,r]=fp(n,a,t)}return new At({ts:l,zone:t,loc:i,o:r})}function Vv(n,e,t){const i=hn(t.round)?!0:t.round,s=(r,o)=>(r=W_(r,i||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(r,o)),l=r=>t.calendary?e.hasSame(n,r)?0:e.startOf(r).diff(n.startOf(r),r).get(r):e.diff(n,r).get(r);if(t.unit)return s(l(t.unit),t.unit);for(const r of t.units){const o=l(r);if(Math.abs(o)>=1)return s(o,r)}return s(n>e?-0:0,t.units[t.units.length-1])}function zv(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}class At{constructor(e){const t=e.zone||zi.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Rl("invalid input"):null)||(t.isValid?null:oh(t));this.ts=hn(e.ts)?zi.now():e.ts;let s=null,l=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[s,l]=[e.old.c,e.old.o];else{const o=t.offset(this.ts);s=Nv(this.ts,o),i=Number.isNaN(s.year)?new Rl("invalid input"):null,s=i?null:s,l=i?null:o}this._zone=t,this.loc=e.loc||ai.create(),this.invalid=i,this.weekData=null,this.c=s,this.o=l,this.isLuxonDateTime=!0}static now(){return new At({})}static local(){const[e,t]=zv(arguments),[i,s,l,r,o,a,f]=t;return Bv({year:i,month:s,day:l,hour:r,minute:o,second:a,millisecond:f},e)}static utc(){const[e,t]=zv(arguments),[i,s,l,r,o,a,f]=t;return e.zone=ys.utcInstance,Bv({year:i,month:s,day:l,hour:r,minute:o,second:a,millisecond:f},e)}static fromJSDate(e,t={}){const i=MF(e)?e.valueOf():NaN;if(Number.isNaN(i))return At.invalid("invalid input");const s=bo(t.zone,zi.defaultZone);return s.isValid?new At({ts:i,zone:s,loc:ai.fromObject(t)}):At.invalid(oh(s))}static fromMillis(e,t={}){if(Aa(e))return e<-Rv||e>Rv?At.invalid("Timestamp out of range"):new At({ts:e,zone:bo(t.zone,zi.defaultZone),loc:ai.fromObject(t)});throw new il(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Aa(e))return new At({ts:e*1e3,zone:bo(t.zone,zi.defaultZone),loc:ai.fromObject(t)});throw new il("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=bo(t.zone,zi.defaultZone);if(!i.isValid)return At.invalid(oh(i));const s=zi.now(),l=hn(t.specificOffset)?i.offset(s):t.specificOffset,r=Dp(e,jv),o=!hn(r.ordinal),a=!hn(r.year),f=!hn(r.month)||!hn(r.day),u=a||f,d=r.weekYear||r.weekNumber,h=ai.fromObject(t);if((u||o)&&d)throw new hc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&o)throw new hc("Can't mix ordinal dates with month/day");const p=d||r.weekday&&!u;let g,b,_=Nv(s,l);p?(g=gB,b=pB,_=U0(_)):o?(g=bB,b=mB,_=a1(_)):(g=NP,b=RP);let y=!1;for(const R of g){const N=r[R];hn(N)?y?r[R]=b[R]:r[R]=_[R]:y=!0}const w=p?dB(r):o?hB(r):PP(r),A=w||DP(r);if(A)return At.invalid(A);const M=p?Dv(r):o?Iv(r):r,[T,O]=fp(M,l,i),E=new At({ts:T,zone:i,o:O,loc:h});return r.weekday&&u&&e.weekday!==E.weekday?At.invalid("mismatched weekday",`you can't specify both a weekday of ${r.weekday} and a date of ${E.toISO()}`):E}static fromISO(e,t={}){const[i,s]=Dj(e);return Zu(i,s,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,s]=Ij(e);return Zu(i,s,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,s]=Rj(e);return Zu(i,s,t,"HTTP",t)}static fromFormat(e,t,i={}){if(hn(e)||hn(t))throw new il("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:l=null}=i,r=ai.fromOpts({locale:s,numberingSystem:l,defaultToEN:!0}),[o,a,f,u]=cB(r,e,t);return u?At.invalid(u):Zu(o,a,i,`format ${t}`,e,f)}static fromString(e,t,i={}){return At.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,s]=zj(e);return Zu(i,s,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new il("need to specify a reason the DateTime is invalid");const i=e instanceof Rl?e:new Rl(e,t);if(zi.throwOnInvalid)throw new yF(i);return new At({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?u1(this).weekYear:NaN}get weekNumber(){return this.isValid?u1(this).weekNumber:NaN}get weekday(){return this.isValid?u1(this).weekday:NaN}get ordinal(){return this.isValid?a1(this.c).ordinal:NaN}get monthShort(){return this.isValid?rh.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?rh.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?rh.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?rh.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Md(this.year)}get daysInMonth(){return Ep(this.year,this.month)}get daysInYear(){return this.isValid?Cc(this.year):NaN}get weeksInWeekYear(){return this.isValid?Pp(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:s}=Os.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:s}}toUTC(e=0,t={}){return this.setZone(ys.instance(e),t)}toLocal(){return this.setZone(zi.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if(e=bo(e,zi.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(t||i){const l=e.offset(this.ts),r=this.toObject();[s]=fp(r,l,e)}return Xu(this,{ts:s,zone:e})}else return At.invalid(oh(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){const s=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i});return Xu(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Dp(e,jv),i=!hn(t.weekYear)||!hn(t.weekNumber)||!hn(t.weekday),s=!hn(t.ordinal),l=!hn(t.year),r=!hn(t.month)||!hn(t.day),o=l||r,a=t.weekYear||t.weekNumber;if((o||s)&&a)throw new hc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(r&&s)throw new hc("Can't mix ordinal dates with month/day");let f;i?f=Dv({...U0(this.c),...t}):hn(t.ordinal)?(f={...this.toObject(),...t},hn(t.day)&&(f.day=Math.min(Ep(f.year,f.month),f.day))):f=Iv({...a1(this.c),...t});const[u,d]=fp(f,this.o,this.zone);return Xu(this,{ts:u,o:d})}plus(e){if(!this.isValid)return this;const t=yn.fromDurationLike(e);return Xu(this,Lv(this,t))}minus(e){if(!this.isValid)return this;const t=yn.fromDurationLike(e).negate();return Xu(this,Lv(this,t))}startOf(e){if(!this.isValid)return this;const t={},i=yn.normalizeUnit(e);switch(i){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(i==="weeks"&&(t.weekday=1),i==="quarters"){const s=Math.ceil(this.month/3);t.month=(s-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?Os.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):f1}toLocaleString(e=B0,t={}){return this.isValid?Os.create(this.loc.clone(t),e).formatDateTime(this):f1}toLocaleParts(e={}){return this.isValid?Os.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:s=!0,extendedZone:l=!1}={}){if(!this.isValid)return null;const r=e==="extended";let o=c1(this,r);return o+="T",o+=Fv(this,r,t,i,s,l),o}toISODate({format:e="extended"}={}){return this.isValid?c1(this,e==="extended"):null}toISOWeekDate(){return ah(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:s=!1,extendedZone:l=!1,format:r="extended"}={}){return this.isValid?(s?"T":"")+Fv(this,r==="extended",t,e,i,l):null}toRFC2822(){return ah(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return ah(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?c1(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let s="HH:mm:ss.SSS";return(t||e)&&(i&&(s+=" "),t?s+="z":e&&(s+="ZZ")),ah(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():f1}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return yn.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...i},l=TF(t).map(yn.normalizeUnit),r=e.valueOf()>this.valueOf(),o=r?this:e,a=r?e:this,f=Gj(o,a,l,s);return r?f.negate():f}diffNow(e="milliseconds",t={}){return this.diff(At.now(),e,t)}until(e){return this.isValid?pi.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(t)<=i&&i<=s.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||At.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],l=e.unit;return Array.isArray(e.unit)&&(s=e.unit,l=void 0),Vv(t,this.plus(i),{...e,numeric:"always",units:s,unit:l})}toRelativeCalendar(e={}){return this.isValid?Vv(e.base||At.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(At.isDateTime))throw new il("min requires all arguments be DateTimes");return bv(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(At.isDateTime))throw new il("max requires all arguments be DateTimes");return bv(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:s=null,numberingSystem:l=null}=i,r=ai.fromOpts({locale:s,numberingSystem:l,defaultToEN:!0});return CP(r,e,t)}static fromStringExplain(e,t,i={}){return At.fromFormatExplain(e,t,i)}static get DATE_SHORT(){return B0}static get DATE_MED(){return VE}static get DATE_MED_WITH_WEEKDAY(){return wF}static get DATE_FULL(){return zE}static get DATE_HUGE(){return HE}static get TIME_SIMPLE(){return qE}static get TIME_WITH_SECONDS(){return WE}static get TIME_WITH_SHORT_OFFSET(){return UE}static get TIME_WITH_LONG_OFFSET(){return KE}static get TIME_24_SIMPLE(){return JE}static get TIME_24_WITH_SECONDS(){return xE}static get TIME_24_WITH_SHORT_OFFSET(){return YE}static get TIME_24_WITH_LONG_OFFSET(){return GE}static get DATETIME_SHORT(){return XE}static get DATETIME_SHORT_WITH_SECONDS(){return ZE}static get DATETIME_MED(){return QE}static get DATETIME_MED_WITH_SECONDS(){return $E}static get DATETIME_MED_WITH_WEEKDAY(){return SF}static get DATETIME_FULL(){return eP}static get DATETIME_FULL_WITH_SECONDS(){return tP}static get DATETIME_HUGE(){return nP}static get DATETIME_HUGE_WITH_SECONDS(){return iP}}function Qu(n){if(At.isDateTime(n))return n;if(n&&n.valueOf&&Aa(n.valueOf()))return At.fromJSDate(n);if(n&&typeof n=="object")return At.fromObject(n);throw new il(`Unknown datetime argument: ${n}, of type ${typeof n}`)}const _B=[".jpg",".jpeg",".png",".svg",".gif",".jfif",".webp",".avif"],yB=[".mp4",".avi",".mov",".3gp",".wmv"],vB=[".aa",".aac",".m4v",".mp3",".ogg",".oga",".mogg",".amr"],kB=[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".odp",".odt",".ods",".txt"];class ee{static isObject(e){return e!==null&&typeof e=="object"&&e.constructor===Object}static clone(e){return typeof structuredClone<"u"?structuredClone(e):JSON.parse(JSON.stringify(e))}static isEmpty(e){return e===""||e===null||e==="00000000-0000-0000-0000-000000000000"||e==="0001-01-01 00:00:00.000Z"||e==="0001-01-01"||typeof e>"u"||Array.isArray(e)&&e.length===0||ee.isObject(e)&&Object.keys(e).length===0}static isInput(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return t==="input"||t==="select"||t==="textarea"||e.isContentEditable}static isFocusable(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return ee.isInput(e)||t==="button"||t==="a"||t==="details"||e.tabIndex>=0}static hasNonEmptyProps(e){for(let t in e)if(!ee.isEmpty(e[t]))return!0;return!1}static toArray(e,t=!1){return Array.isArray(e)?e.slice():(t||!ee.isEmpty(e))&&typeof e<"u"?[e]:[]}static inArray(e,t){e=Array.isArray(e)?e:[];for(let i=e.length-1;i>=0;i--)if(e[i]==t)return!0;return!1}static removeByValue(e,t){e=Array.isArray(e)?e:[];for(let i=e.length-1;i>=0;i--)if(e[i]==t){e.splice(i,1);break}}static pushUnique(e,t){ee.inArray(e,t)||e.push(t)}static findByKey(e,t,i){e=Array.isArray(e)?e:[];for(let s in e)if(e[s][t]==i)return e[s];return null}static groupByKey(e,t){e=Array.isArray(e)?e:[];const i={};for(let s in e)i[e[s][t]]=i[e[s][t]]||[],i[e[s][t]].push(e[s]);return i}static removeByKey(e,t,i){for(let s in e)if(e[s][t]==i){e.splice(s,1);break}}static pushOrReplaceByKey(e,t,i="id"){for(let s=e.length-1;s>=0;s--)if(e[s][i]==t[i]){e[s]=t;return}e.push(t)}static filterDuplicatesByKey(e,t="id"){e=Array.isArray(e)?e:[];const i={};for(const s of e)i[s[t]]=s;return Object.values(i)}static filterRedactedProps(e,t="******"){const i=JSON.parse(JSON.stringify(e||{}));for(let s in i)typeof i[s]=="object"&&i[s]!==null?i[s]=ee.filterRedactedProps(i[s],t):i[s]===t&&delete i[s];return i}static getNestedVal(e,t,i=null,s="."){let l=e||{},r=(t||"").split(s);for(const o of r){if(!ee.isObject(l)&&!Array.isArray(l)||typeof l[o]>"u")return i;l=l[o]}return l}static setByPath(e,t,i,s="."){if(e===null||typeof e!="object"){console.warn("setByPath: data not an object or array.");return}let l=e,r=t.split(s),o=r.pop();for(const a of r)(!ee.isObject(l)&&!Array.isArray(l)||!ee.isObject(l[a])&&!Array.isArray(l[a]))&&(l[a]={}),l=l[a];l[o]=i}static deleteByPath(e,t,i="."){let s=e||{},l=(t||"").split(i),r=l.pop();for(const o of l)(!ee.isObject(s)&&!Array.isArray(s)||!ee.isObject(s[o])&&!Array.isArray(s[o]))&&(s[o]={}),s=s[o];Array.isArray(s)?s.splice(r,1):ee.isObject(s)&&delete s[r],l.length>0&&(Array.isArray(s)&&!s.length||ee.isObject(s)&&!Object.keys(s).length)&&(Array.isArray(e)&&e.length>0||ee.isObject(e)&&Object.keys(e).length>0)&&ee.deleteByPath(e,l.join(i),i)}static randomString(e){e=e||10;let t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let s=0;s<e;s++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}static sentenize(e,t=!0){if(typeof e!="string")return"";if(e=e.trim().split("_").join(" "),e==="")return e;if(e=e[0].toUpperCase()+e.substring(1),t){let i=e[e.length-1];i!=="."&&i!=="?"&&i!=="!"&&(e+=".")}return e}static trimQuotedValue(e){return typeof e=="string"&&(e[0]=='"'||e[0]=="'"||e[0]=="`")&&e[0]==e[e.length-1]?e.slice(1,-1):e}static plainText(e){return e?(new DOMParser().parseFromString(e,"text/html").body.innerText||"").trim():""}static truncate(e,t=150,i=!0){return e=e||"",e.length<=t?e:e.substring(0,t)+(i?"...":"")}static truncateObject(e){const t={};for(let i in e){let s=e[i];typeof s=="string"&&(s=ee.truncate(s,150,!0)),t[i]=s}return t}static slugify(e,t="_",i=[".","=","-"]){if(e==="")return"";const s={a:/а|à|á|å|â/gi,b:/б/gi,c:/ц|ç/gi,d:/д/gi,e:/е|è|é|ê|ẽ|ë/gi,f:/ф/gi,g:/г/gi,h:/х/gi,i:/й|и|ì|í|î/gi,j:/ж/gi,k:/к/gi,l:/л/gi,m:/м/gi,n:/н|ñ/gi,o:/о|ò|ó|ô|ø/gi,p:/п/gi,q:/я/gi,r:/р/gi,s:/с/gi,t:/т/gi,u:/ю|ù|ú|ů|û/gi,v:/в/gi,w:/в/gi,x:/ь/gi,y:/ъ/gi,z:/з/gi,ae:/ä|æ/gi,oe:/ö/gi,ue:/ü/gi,Ae:/Ä/gi,Ue:/Ü/gi,Oe:/Ö/gi,ss:/ß/gi,and:/&/gi};for(let l in s)e=e.replace(s[l],l);return e.replace(new RegExp("["+i.join("")+"]","g")," ").replace(/[^\w\ ]/gi,"").replace(/\s+/g,t)}static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static splitNonEmpty(e,t=","){const i=(e||"").split(t),s=[];for(let l of i)l=l.trim(),ee.isEmpty(l)||s.push(l);return s}static joinNonEmpty(e,t=", "){const i=[];for(let s of e)s=typeof s=="string"?s.trim():"",ee.isEmpty(s)||i.push(s);return i.join(t)}static getInitials(e){if(e=(e||"").split("@")[0].trim(),e.length<=2)return e.toUpperCase();const t=e.split(/[\.\_\-\ ]/);return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e[0].toUpperCase()}static formattedFileSize(e){const t=e?Math.floor(Math.log(e)/Math.log(1024)):0;return(e/Math.pow(1024,t)).toFixed(2)*1+" "+["B","KB","MB","GB","TB"][t]}static getDateTime(e){if(typeof e=="string"){const t={19:"yyyy-MM-dd HH:mm:ss",23:"yyyy-MM-dd HH:mm:ss.SSS",20:"yyyy-MM-dd HH:mm:ss'Z'",24:"yyyy-MM-dd HH:mm:ss.SSS'Z'"},i=t[e.length]||t[19];return At.fromFormat(e,i,{zone:"UTC"})}return At.fromJSDate(e)}static formatToUTCDate(e,t="yyyy-MM-dd HH:mm:ss"){return ee.getDateTime(e).toUTC().toFormat(t)}static formatToLocalDate(e,t="yyyy-MM-dd HH:mm:ss"){return ee.getDateTime(e).toLocal().toFormat(t)}static async copyToClipboard(e){var t;if(e=""+e,!(!e.length||!((t=window==null?void 0:window.navigator)!=null&&t.clipboard)))return window.navigator.clipboard.writeText(e).catch(i=>{console.warn("Failed to copy.",i)})}static download(e,t){const i=document.createElement("a");i.setAttribute("href",e),i.setAttribute("download",t),i.click(),i.remove()}static downloadJson(e,t){const i="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2));t=t.endsWith(".json")?t:t+".json",ee.download(i,t)}static getJWTPayload(e){const t=(e||"").split(".")[1]||"";if(t==="")return{};try{const i=decodeURIComponent(atob(t));return JSON.parse(i)||{}}catch(i){console.warn("Failed to parse JWT payload data.",i)}return{}}static hasImageExtension(e){return!!_B.find(t=>e.toLowerCase().endsWith(t))}static hasVideoExtension(e){return!!yB.find(t=>e.toLowerCase().endsWith(t))}static hasAudioExtension(e){return!!vB.find(t=>e.toLowerCase().endsWith(t))}static hasDocumentExtension(e){return!!kB.find(t=>e.toLowerCase().endsWith(t))}static getFileType(e){return ee.hasImageExtension(e)?"image":ee.hasDocumentExtension(e)?"document":ee.hasVideoExtension(e)?"video":ee.hasAudioExtension(e)?"audio":"file"}static generateThumb(e,t=100,i=100){return new Promise(s=>{let l=new FileReader;l.onload=function(r){let o=new Image;o.onload=function(){let a=document.createElement("canvas"),f=a.getContext("2d"),u=o.width,d=o.height;return a.width=t,a.height=i,f.drawImage(o,u>d?(u-d)/2:0,0,u>d?d:u,u>d?d:u,0,0,t,i),s(a.toDataURL(e.type))},o.src=r.target.result},l.readAsDataURL(e)})}static addValueToFormData(e,t,i){if(!(typeof i>"u"))if(ee.isEmpty(i))e.append(t,"");else if(Array.isArray(i))for(const s of i)ee.addValueToFormData(e,t,s);else i instanceof File?e.append(t,i):i instanceof Date?e.append(t,i.toISOString()):ee.isObject(i)?e.append(t,JSON.stringify(i)):e.append(t,""+i)}static dummyCollectionRecord(e){var r,o,a,f,u,d,h;const t=(e==null?void 0:e.schema)||[],i={id:"RECORD_ID",collectionId:e==null?void 0:e.id,collectionName:e==null?void 0:e.name};e!=null&&e.isAuth&&(i.username="username123",i.verified=!1,i.emailVisibility=!0,i.email="test@example.com"),(!(e!=null&&e.$isView)||ee.extractColumnsFromQuery((r=e==null?void 0:e.options)==null?void 0:r.query).includes("created"))&&(i.created="2022-01-01 01:00:00.123Z"),(!(e!=null&&e.$isView)||ee.extractColumnsFromQuery((o=e==null?void 0:e.options)==null?void 0:o.query).includes("updated"))&&(i.updated="2022-01-01 23:59:59.456Z");for(const p of t){let g=null;p.type==="number"?g=123:p.type==="date"?g="2022-01-01 10:00:00.123Z":p.type==="bool"?g=!0:p.type==="email"?g="test@example.com":p.type==="url"?g="https://example.com":p.type==="json"?g="JSON":p.type==="file"?(g="filename.jpg",((a=p.options)==null?void 0:a.maxSelect)!==1&&(g=[g])):p.type==="select"?(g=(u=(f=p.options)==null?void 0:f.values)==null?void 0:u[0],((d=p.options)==null?void 0:d.maxSelect)!==1&&(g=[g])):p.type==="relation"?(g="RELATION_RECORD_ID",((h=p.options)==null?void 0:h.maxSelect)!==1&&(g=[g])):g="test",i[p.name]=g}return i}static dummyCollectionSchemaData(e){var s,l,r,o;const t=(e==null?void 0:e.schema)||[],i={};for(const a of t){let f=null;if(a.type==="number")f=123;else if(a.type==="date")f="2022-01-01 10:00:00.123Z";else if(a.type==="bool")f=!0;else if(a.type==="email")f="test@example.com";else if(a.type==="url")f="https://example.com";else if(a.type==="json")f="JSON";else{if(a.type==="file")continue;a.type==="select"?(f=(l=(s=a.options)==null?void 0:s.values)==null?void 0:l[0],((r=a.options)==null?void 0:r.maxSelect)!==1&&(f=[f])):a.type==="relation"?(f="RELATION_RECORD_ID",((o=a.options)==null?void 0:o.maxSelect)!==1&&(f=[f])):f="test"}i[a.name]=f}return i}static getCollectionTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"auth":return"ri-group-line";case"view":return"ri-table-line";default:return"ri-folder-2-line"}}static getFieldTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"primary":return"ri-key-line";case"text":return"ri-text";case"number":return"ri-hashtag";case"date":return"ri-calendar-line";case"bool":return"ri-toggle-line";case"email":return"ri-mail-line";case"url":return"ri-link";case"editor":return"ri-edit-2-line";case"select":return"ri-list-check";case"json":return"ri-braces-line";case"file":return"ri-image-line";case"relation":return"ri-mind-map";case"user":return"ri-user-line";default:return"ri-star-s-line"}}static getFieldValueType(e){var t;switch(e==null?void 0:e.type){case"bool":return"Boolean";case"number":return"Number";case"file":return"File";case"select":case"relation":return((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)===1?"String":"Array<String>";default:return"String"}}static zeroDefaultStr(e){var t;return(e==null?void 0:e.type)==="number"?"0":(e==null?void 0:e.type)==="bool"?"false":(e==null?void 0:e.type)==="json"?'null, "", [], {}':["select","relation","file"].includes(e==null?void 0:e.type)&&((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)!=1?"[]":'""'}static getApiExampleUrl(e){return(window.location.href.substring(0,window.location.href.indexOf("/_"))||e||"/").replace("//localhost","//127.0.0.1")}static hasCollectionChanges(e,t,i=!1){if(e=e||{},t=t||{},e.id!=t.id)return!0;for(let f in e)if(f!=="schema"&&JSON.stringify(e[f])!==JSON.stringify(t[f]))return!0;const s=Array.isArray(e.schema)?e.schema:[],l=Array.isArray(t.schema)?t.schema:[],r=s.filter(f=>(f==null?void 0:f.id)&&!ee.findByKey(l,"id",f.id)),o=l.filter(f=>(f==null?void 0:f.id)&&!ee.findByKey(s,"id",f.id)),a=l.filter(f=>{const u=ee.isObject(f)&&ee.findByKey(s,"id",f.id);if(!u)return!1;for(let d in u)if(JSON.stringify(f[d])!=JSON.stringify(u[d]))return!0;return!1});return!!(o.length||a.length||i&&r.length)}static sortCollections(e=[]){const t=[],i=[],s=[];for(const l of e)l.type==="auth"?t.push(l):l.type==="base"?i.push(l):s.push(l);return[].concat(t,i,s)}static yieldToMain(){return new Promise(e=>{setTimeout(e,0)})}static defaultFlatpickrOptions(){return{dateFormat:"Y-m-d H:i:S",disableMobile:!0,allowInput:!0,enableTime:!0,time_24hr:!0,locale:{firstDayOfWeek:1}}}static defaultEditorOptions(){return{branding:!1,promotion:!1,menubar:!1,min_height:270,height:270,max_height:700,autoresize_bottom_margin:30,skin:"pocketbase",content_style:"body { font-size: 14px }",plugins:["autoresize","autolink","lists","link","image","searchreplace","fullscreen","media","table","code","codesample","directionality"],toolbar:"styles | alignleft aligncenter alignright | bold italic forecolor backcolor | bullist numlist | link image table codesample direction | code fullscreen",file_picker_types:"image",file_picker_callback:(e,t,i)=>{const s=document.createElement("input");s.setAttribute("type","file"),s.setAttribute("accept","image/*"),s.addEventListener("change",l=>{const r=l.target.files[0],o=new FileReader;o.addEventListener("load",()=>{if(!tinymce)return;const a="blobid"+new Date().getTime(),f=tinymce.activeEditor.editorUpload.blobCache,u=o.result.split(",")[1],d=f.create(a,r,u);f.add(d),e(d.blobUri(),{title:r.name})}),o.readAsDataURL(r)}),s.click()},setup:e=>{e.on("keydown",i=>{(i.ctrlKey||i.metaKey)&&i.code=="KeyS"&&e.formElement&&(i.preventDefault(),i.stopPropagation(),e.formElement.dispatchEvent(new KeyboardEvent("keydown",i)))});const t="tinymce_last_direction";e.on("init",()=>{var s;const i=(s=window==null?void 0:window.localStorage)==null?void 0:s.getItem(t);!e.isDirty()&&e.getContent()==""&&i=="rtl"&&e.execCommand("mceDirectionRTL")}),e.ui.registry.addMenuButton("direction",{icon:"visualchars",fetch:i=>{i([{type:"menuitem",text:"LTR content",icon:"ltr",onAction:()=>{var l;(l=window==null?void 0:window.localStorage)==null||l.setItem(t,"ltr"),tinymce.activeEditor.execCommand("mceDirectionLTR")}},{type:"menuitem",text:"RTL content",icon:"rtl",onAction:()=>{var l;(l=window==null?void 0:window.localStorage)==null||l.setItem(t,"rtl"),tinymce.activeEditor.execCommand("mceDirectionRTL")}}])}})}}}static displayValue(e,t,i="N/A"){e=e||{},t=t||[];let s=[];for(const r of t){let o=e[r];typeof o>"u"||(o=ee.stringifyValue(o,i),s.push(o))}if(s.length>0)return s.join(", ");const l=["title","name","slug","email","username","label","heading","message","key","id"];for(const r of l){let o=ee.stringifyValue(e[r],"");if(o)return o}return i}static stringifyValue(e,t="N/A"){if(ee.isEmpty(e))return t;if(typeof e=="boolean")return e?"True":"False";if(typeof e=="string")return e=e.indexOf("<")>=0?ee.plainText(e):e,ee.truncate(e)||t;if(Array.isArray(e))return e.join(",");if(typeof e=="object")try{return ee.truncate(JSON.stringify(e))||t}catch{return t}return""+e}static extractColumnsFromQuery(e){var r;const t="__GROUP__";e=(e||"").replace(/\([\s\S]+?\)/gm,t).replace(/[\t\r\n]|(?:\s\s)+/g," ");const i=e.match(/select\s+([\s\S]+)\s+from/),s=((r=i==null?void 0:i[1])==null?void 0:r.split(","))||[],l=[];for(let o of s){const a=o.trim().split(" ").pop();a!=""&&a!=t&&l.push(a.replace(/[\'\"\`\[\]\s]/g,""))}return l}static getAllCollectionIdentifiers(e,t=""){if(!e)return[];let i=[t+"id"];if(e.$isView)for(let l of ee.extractColumnsFromQuery(e.options.query))ee.pushUnique(i,t+l);else e.$isAuth?(i.push(t+"username"),i.push(t+"email"),i.push(t+"emailVisibility"),i.push(t+"verified"),i.push(t+"created"),i.push(t+"updated")):(i.push(t+"created"),i.push(t+"updated"));const s=e.schema||[];for(const l of s)ee.pushUnique(i,t+l.name);return i}static parseIndex(e){var a,f,u,d,h;const t={unique:!1,optional:!1,schemaName:"",indexName:"",tableName:"",columns:[],where:""},s=/create\s+(unique\s+)?\s*index\s*(if\s+not\s+exists\s+)?(\S*)\s+on\s+(\S*)\s+\(([\s\S]*)\)(?:\s*where\s+([\s\S]*))?/gmi.exec((e||"").trim());if((s==null?void 0:s.length)!=7)return t;const l=/^[\"\'\`\[\{}]|[\"\'\`\]\}]$/gm;t.unique=((a=s[1])==null?void 0:a.trim().toLowerCase())==="unique",t.optional=!ee.isEmpty((f=s[2])==null?void 0:f.trim());const r=(s[3]||"").split(".");r.length==2?(t.schemaName=r[0].replace(l,""),t.indexName=r[1].replace(l,"")):(t.schemaName="",t.indexName=r[0].replace(l,"")),t.tableName=(s[4]||"").replace(l,"");const o=(s[5]||"").replace(/,(?=[^\(]*\))/gmi,"{PB_TEMP}").split(",");for(let p of o){p=p.trim().replaceAll("{PB_TEMP}",",");const b=/^([\s\S]+?)(?:\s+collate\s+([\w]+))?(?:\s+(asc|desc))?$/gmi.exec(p);if((b==null?void 0:b.length)!=4)continue;const _=(d=(u=b[1])==null?void 0:u.trim())==null?void 0:d.replace(l,"");_&&t.columns.push({name:_,collate:b[2]||"",sort:((h=b[3])==null?void 0:h.toUpperCase())||""})}return t.where=s[6]||"",t}static buildIndex(e){let t="CREATE ";e.unique&&(t+="UNIQUE "),t+="INDEX ",e.optional&&(t+="IF NOT EXISTS "),e.schemaName&&(t+=`\`${e.schemaName}\`.`),t+=`\`${e.indexName||"idx_"+ee.randomString(7)}\` `,t+=`ON \`${e.tableName}\` (`;const i=e.columns.filter(s=>!!(s!=null&&s.name));return i.length>1&&(t+=`
  `),t+=i.map(s=>{let l="";return s.name.includes("(")||s.name.includes(" ")?l+=s.name:l+="`"+s.name+"`",s.collate&&(l+=" COLLATE "+s.collate),s.sort&&(l+=" "+c.sort.toUpperCase()),l}).join(`,
  `),i.length>1&&(t+=`
`),t+=")",e.where&&(t+=` WHERE ${e.where}`),t}static replaceIndexTableName(e,t){const i=ee.parseIndex(e);return i.tableName=t,ee.buildIndex(i)}static replaceIndexColumn(e,t,i){if(t===i)return e;const s=ee.parseIndex(e);let l=!1;for(let r of s.columns)r.name===t&&(r.name=i,l=!0);return l?ee.buildIndex(s):e}static normalizeSearchFilter(e,t){if(e=(e||"").trim(),!e||!t.length)return e;const i=["=","!=","~","!~",">",">=","<","<="];for(const s of i)if(e.includes(s))return e;return e=isNaN(e)&&e!="true"&&e!="false"?`"${e.replace(/^[\"\'\`]|[\"\'\`]$/gm,"")}"`:e,t.map(s=>`${s}~${e}`).join("||")}}const Qm=Gs([]);function Ip(n,e=4e3){return $m(n,"info",e)}function fi(n,e=3e3){return $m(n,"success",e)}function br(n,e=4500){return $m(n,"error",e)}function wB(n,e=4500){return $m(n,"warning",e)}function $m(n,e,t){t=t||4e3;const i={message:n,type:e,duration:t,timeout:setTimeout(()=>{LP(i)},t)};Qm.update(s=>(Z_(s,i.message),ee.pushOrReplaceByKey(s,i,"message"),s))}function LP(n){Qm.update(e=>(Z_(e,n),e))}function X_(){Qm.update(n=>{for(let e of n)Z_(n,e);return[]})}function Z_(n,e){let t;typeof e=="string"?t=ee.findByKey(n,"message",e):t=e,t&&(clearTimeout(t.timeout),ee.removeByKey(n,"message",t.message))}const to=Gs({});function Ki(n){to.set(n||{})}function _r(n){to.update(e=>(ee.deleteByPath(e,n),e))}const Ed=Gs({});function K0(n){Ed.set(n||{})}const Cr=Gs([]),yr=Gs({}),Rp=Gs(!1),FP=Gs({});function SB(n){Cr.update(e=>{const t=ee.findByKey(e,"id",n);return t?yr.set(t):e.length&&yr.set(e[0]),e})}function CB(n){yr.update(e=>ee.isEmpty(e==null?void 0:e.id)||e.id===n.id?n:e),Cr.update(e=>(ee.pushOrReplaceByKey(e,n,"id"),Q_(),ee.sortCollections(e)))}function MB(n){Cr.update(e=>(ee.removeByKey(e,"id",n.id),yr.update(t=>t.id===n.id?e[0]:t),Q_(),e))}async function TB(n=null){Rp.set(!0);try{let e=await Re.collections.getFullList(200,{sort:"+name"});e=ee.sortCollections(e),Cr.set(e);const t=n&&ee.findByKey(e,"id",n);t?yr.set(t):e.length&&yr.set(e[0]),Q_()}catch(e){Re.error(e)}Rp.set(!1)}function Q_(){FP.update(n=>(Cr.update(e=>{var t;for(let i of e)n[i.id]=!!((t=i.schema)!=null&&t.find(s=>{var l;return s.type=="file"&&((l=s.options)==null?void 0:l.protected)}));return e}),n))}const d1="pb_admin_file_token";Mu.prototype.logout=function(n=!0){this.authStore.clear(),n&&Jo("/login")};Mu.prototype.error=function(n,e=!0,t=""){if(!n||!(n instanceof Error)||n.isAbort)return;const i=(n==null?void 0:n.status)<<0||400,s=(n==null?void 0:n.data)||{};if(e&&i!==404){let l=s.message||n.message||t;l&&br(l)}if(ee.isEmpty(s.data)||Ki(s.data),i===401)return this.cancelAllRequests(),this.logout();if(i===403)return this.cancelAllRequests(),Jo("/")};Mu.prototype.getAdminFileToken=async function(n=""){let e=!0;if(n){const i=IL(FP);e=typeof i[n]<"u"?i[n]:!0}if(!e)return"";let t=localStorage.getItem(d1)||"";return(!t||LE(t,10))&&(t&&localStorage.removeItem(d1),this._adminFileTokenRequest||(this._adminFileTokenRequest=this.files.getToken()),t=await this._adminFileTokenRequest,localStorage.setItem(d1,t),this._adminFileTokenRequest=null),t};Mu.prototype.migrate=function(n){return fetch(`../api/glam/migrate/${n}`,{method:"POST"})};Mu.prototype.migrateItems=async function(n,e,t){let i=await Re.collection(e).getFullList({filter:`${n.map(s=>'id="'+s+'"').join(" || ")}`});return await fetch("../api/glam/migrateItems",{method:"POST",body:JSON.stringify({collectionName:e,destination:t,items:i}),headers:{"Content-Type":"application/json"}})};class AB extends FE{save(e,t){super.save(e,t),t instanceof Na&&K0(t)}clear(){super.clear(),K0(null)}}const Re=new Mu("../",new AB("pb_admin_auth"));Re.authStore.model instanceof Na&&K0(Re.authStore.model);function OB(n){let e,t,i,s,l,r,o,a,f,u,d,h;const p=n[3].default,g=It(p,n,n[2],null);return{c(){e=k("div"),t=k("main"),g&&g.c(),i=D(),s=k("footer"),l=k("a"),l.innerHTML=`<i class="ri-book-open-line txt-sm"></i> 
            <span class="txt">Docs</span>`,r=D(),o=k("span"),o.textContent="|",a=D(),f=k("a"),u=k("span"),u.textContent="PocketBase v0.16.5",m(t,"class","page-content"),m(l,"href","https://pocketbase.io/docs/"),m(l,"target","_blank"),m(l,"rel","noopener noreferrer"),m(o,"class","delimiter"),m(u,"class","txt"),m(f,"href","https://github.com/pocketbase/pocketbase/releases"),m(f,"target","_blank"),m(f,"rel","noopener noreferrer"),m(f,"title","Releases"),m(s,"class","page-footer"),m(e,"class",d="page-wrapper "+n[1]),$(e,"center-content",n[0])},m(b,_){C(b,e,_),v(e,t),g&&g.m(t,null),v(e,i),v(e,s),v(s,l),v(s,r),v(s,o),v(s,a),v(s,f),v(f,u),h=!0},p(b,[_]){g&&g.p&&(!h||_&4)&&Nt(g,p,b,b[2],h?Rt(p,b[2],_,null):Lt(b[2]),null),(!h||_&2&&d!==(d="page-wrapper "+b[1]))&&m(e,"class",d),(!h||_&3)&&$(e,"center-content",b[0])},i(b){h||(P(g,b),h=!0)},o(b){I(g,b),h=!1},d(b){b&&S(e),g&&g.d(b)}}}function EB(n,e,t){let{$$slots:i={},$$scope:s}=e,{center:l=!1}=e,{class:r=""}=e;return n.$$set=o=>{"center"in o&&t(0,l=o.center),"class"in o&&t(1,r=o.class),"$$scope"in o&&t(2,s=o.$$scope)},[l,r,s,i]}class Ls extends ke{constructor(e){super(),ve(this,e,EB,OB,De,{center:0,class:1})}}function Hv(n){let e,t,i;return{c(){e=k("div"),e.innerHTML=`<figure class="logo"><img src="./images/glam.png" alt="PocketBase logo" width="40" height="40"/> 
                    <span class="txt">Pocket<strong>Base</strong></span></figure>`,t=D(),i=k("div"),m(e,"class","block txt-center m-b-lg"),m(i,"class","clearfix")},m(s,l){C(s,e,l),C(s,t,l),C(s,i,l)},d(s){s&&S(e),s&&S(t),s&&S(i)}}}function PB(n){let e,t,i,s=!n[0]&&Hv();const l=n[1].default,r=It(l,n,n[2],null);return{c(){e=k("div"),s&&s.c(),t=D(),r&&r.c(),m(e,"class","wrapper wrapper-sm m-b-xl panel-wrapper svelte-lxxzfu")},m(o,a){C(o,e,a),s&&s.m(e,null),v(e,t),r&&r.m(e,null),i=!0},p(o,a){o[0]?s&&(s.d(1),s=null):s||(s=Hv(),s.c(),s.m(e,t)),r&&r.p&&(!i||a&4)&&Nt(r,l,o,o[2],i?Rt(l,o[2],a,null):Lt(o[2]),null)},i(o){i||(P(r,o),i=!0)},o(o){I(r,o),i=!1},d(o){o&&S(e),s&&s.d(),r&&r.d(o)}}}function DB(n){let e,t;return e=new Ls({props:{class:"full-page",center:!0,$$slots:{default:[PB]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&5&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function IB(n,e,t){let{$$slots:i={},$$scope:s}=e,{nobranding:l=!1}=e;return n.$$set=r=>{"nobranding"in r&&t(0,l=r.nobranding),"$$scope"in r&&t(2,s=r.$$scope)},[l,i,s]}class jP extends ke{constructor(e){super(),ve(this,e,IB,DB,De,{nobranding:0})}}function eg(n){const e=n-1;return e*e*e+1}function Np(n,{delay:e=0,duration:t=400,easing:i=Sd}={}){const s=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:i,css:l=>`opacity: ${l*s}`}}function vr(n,{delay:e=0,duration:t=400,easing:i=eg,x:s=0,y:l=0,opacity:r=0}={}){const o=getComputedStyle(n),a=+o.opacity,f=o.transform==="none"?"":o.transform,u=a*(1-r),[d,h]=ov(s),[p,g]=ov(l);return{delay:e,duration:t,easing:i,css:(b,_)=>`
			transform: ${f} translate(${(1-b)*d}${h}, ${(1-b)*p}${g});
			opacity: ${a-u*_}`}}function gn(n,{delay:e=0,duration:t=400,easing:i=eg,axis:s="y"}={}){const l=getComputedStyle(n),r=+l.opacity,o=s==="y"?"height":"width",a=parseFloat(l[o]),f=s==="y"?["top","bottom"]:["left","right"],u=f.map(y=>`${y[0].toUpperCase()}${y.slice(1)}`),d=parseFloat(l[`padding${u[0]}`]),h=parseFloat(l[`padding${u[1]}`]),p=parseFloat(l[`margin${u[0]}`]),g=parseFloat(l[`margin${u[1]}`]),b=parseFloat(l[`border${u[0]}Width`]),_=parseFloat(l[`border${u[1]}Width`]);return{delay:e,duration:t,easing:i,css:y=>`overflow: hidden;opacity: ${Math.min(y*20,1)*r};${o}: ${y*a}px;padding-${f[0]}: ${y*d}px;padding-${f[1]}: ${y*h}px;margin-${f[0]}: ${y*p}px;margin-${f[1]}: ${y*g}px;border-${f[0]}-width: ${y*b}px;border-${f[1]}-width: ${y*_}px;`}}function ji(n,{delay:e=0,duration:t=400,easing:i=eg,start:s=0,opacity:l=0}={}){const r=getComputedStyle(n),o=+r.opacity,a=r.transform==="none"?"":r.transform,f=1-s,u=o*(1-l);return{delay:e,duration:t,easing:i,css:(d,h)=>`
			transform: ${a} scale(${1-f*h});
			opacity: ${o-u*h}
		`}}let J0,sa;const x0="app-tooltip";function qv(n){return typeof n=="string"?{text:n,position:"bottom",hideOnClick:null}:n||{}}function To(){return sa=sa||document.querySelector("."+x0),sa||(sa=document.createElement("div"),sa.classList.add(x0),document.body.appendChild(sa)),sa}function BP(n,e){let t=To();if(!t.classList.contains("active")||!(e!=null&&e.text)){Y0();return}t.textContent=e.text,t.className=x0+" active",e.class&&t.classList.add(e.class),e.position&&t.classList.add(e.position),t.style.top="0px",t.style.left="0px";let i=t.offsetHeight,s=t.offsetWidth,l=n.getBoundingClientRect(),r=0,o=0,a=5;e.position=="left"?(r=l.top+l.height/2-i/2,o=l.left-s-a):e.position=="right"?(r=l.top+l.height/2-i/2,o=l.right+a):e.position=="top"?(r=l.top-i-a,o=l.left+l.width/2-s/2):e.position=="top-left"?(r=l.top-i-a,o=l.left):e.position=="top-right"?(r=l.top-i-a,o=l.right-s):e.position=="bottom-left"?(r=l.top+l.height+a,o=l.left):e.position=="bottom-right"?(r=l.top+l.height+a,o=l.right-s):(r=l.top+l.height+a,o=l.left+l.width/2-s/2),o+s>document.documentElement.clientWidth&&(o=document.documentElement.clientWidth-s),o=o>=0?o:0,r+i>document.documentElement.clientHeight&&(r=document.documentElement.clientHeight-i),r=r>=0?r:0,t.style.top=r+"px",t.style.left=o+"px"}function Y0(){clearTimeout(J0),To().classList.remove("active"),To().activeNode=void 0}function RB(n,e){To().activeNode=n,clearTimeout(J0),J0=setTimeout(()=>{To().classList.add("active"),BP(n,e)},isNaN(e.delay)?0:e.delay)}function Mt(n,e){let t=qv(e);function i(){RB(n,t)}function s(){Y0()}return n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",s),n.addEventListener("blur",s),(t.hideOnClick===!0||t.hideOnClick===null&&ee.isFocusable(n))&&n.addEventListener("click",s),To(),{update(l){var r,o;t=qv(l),(o=(r=To())==null?void 0:r.activeNode)!=null&&o.contains(n)&&BP(n,t)},destroy(){var l,r;(r=(l=To())==null?void 0:l.activeNode)!=null&&r.contains(n)&&Y0(),n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",s),n.removeEventListener("blur",s),n.removeEventListener("click",s)}}}function Wv(n,e,t){const i=n.slice();return i[12]=e[t],i}const NB=n=>({}),Uv=n=>({uniqueId:n[4]});function LB(n){let e,t,i=n[3],s=[];for(let r=0;r<i.length;r+=1)s[r]=Kv(Wv(n,i,r));const l=r=>I(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=Ee()},m(r,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,o);C(r,e,o),t=!0},p(r,o){if(o&8){i=r[3];let a;for(a=0;a<i.length;a+=1){const f=Wv(r,i,a);s[a]?(s[a].p(f,o),P(s[a],1)):(s[a]=Kv(f),s[a].c(),P(s[a],1),s[a].m(e.parentNode,e))}for(ue(),a=i.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!t){for(let o=0;o<i.length;o+=1)P(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)I(s[o]);t=!1},d(r){Ot(s,r),r&&S(e)}}}function FB(n){let e,t,i,s,l,r,o;return{c(){e=k("div"),t=k("i"),m(t,"class","ri-error-warning-fill txt-danger"),m(e,"class","form-field-addon")},m(a,f){C(a,e,f),v(e,t),l=!0,r||(o=xe(i=Mt.call(null,t,{position:"left",text:n[3].map(Lp).join(`
`)})),r=!0)},p(a,f){i&&fn(i.update)&&f&8&&i.update.call(null,{position:"left",text:a[3].map(Lp).join(`
`)})},i(a){l||(a&&Yt(()=>{l&&(s||(s=gt(t,ji,{duration:150,start:.7},!0)),s.run(1))}),l=!0)},o(a){a&&(s||(s=gt(t,ji,{duration:150,start:.7},!1)),s.run(0)),l=!1},d(a){a&&S(e),a&&s&&s.end(),r=!1,o()}}}function Kv(n){let e,t,i=Lp(n[12])+"",s,l,r,o;return{c(){e=k("div"),t=k("pre"),s=G(i),l=D(),m(e,"class","help-block help-block-error")},m(a,f){C(a,e,f),v(e,t),v(t,s),v(e,l),o=!0},p(a,f){(!o||f&8)&&i!==(i=Lp(a[12])+"")&&pe(s,i)},i(a){o||(a&&Yt(()=>{o&&(r||(r=gt(e,gn,{duration:150},!0)),r.run(1))}),o=!0)},o(a){a&&(r||(r=gt(e,gn,{duration:150},!1)),r.run(0)),o=!1},d(a){a&&S(e),a&&r&&r.end()}}}function jB(n){let e,t,i,s,l,r,o;const a=n[9].default,f=It(a,n,n[8],Uv),u=[FB,LB],d=[];function h(p,g){return p[0]&&p[3].length?0:1}return i=h(n),s=d[i]=u[i](n),{c(){e=k("div"),f&&f.c(),t=D(),s.c(),m(e,"class",n[1]),$(e,"error",n[3].length)},m(p,g){C(p,e,g),f&&f.m(e,null),v(e,t),d[i].m(e,null),n[11](e),l=!0,r||(o=x(e,"click",n[10]),r=!0)},p(p,[g]){f&&f.p&&(!l||g&256)&&Nt(f,a,p,p[8],l?Rt(a,p[8],g,NB):Lt(p[8]),Uv);let b=i;i=h(p),i===b?d[i].p(p,g):(ue(),I(d[b],1,1,()=>{d[b]=null}),ce(),s=d[i],s?s.p(p,g):(s=d[i]=u[i](p),s.c()),P(s,1),s.m(e,null)),(!l||g&2)&&m(e,"class",p[1]),(!l||g&10)&&$(e,"error",p[3].length)},i(p){l||(P(f,p),P(s),l=!0)},o(p){I(f,p),I(s),l=!1},d(p){p&&S(e),f&&f.d(p),d[i].d(),n[11](null),r=!1,o()}}}const Jv="Invalid value";function Lp(n){return typeof n=="object"?(n==null?void 0:n.message)||(n==null?void 0:n.code)||Jv:n||Jv}function BB(n,e,t){let i;Ht(n,to,b=>t(7,i=b));let{$$slots:s={},$$scope:l}=e;const r="field_"+ee.randomString(7);let{name:o=""}=e,{inlineError:a=!1}=e,{class:f=void 0}=e,u,d=[];function h(){_r(o)}Pn(()=>(u.addEventListener("input",h),u.addEventListener("change",h),()=>{u.removeEventListener("input",h),u.removeEventListener("change",h)}));function p(b){ht.call(this,n,b)}function g(b){de[b?"unshift":"push"](()=>{u=b,t(2,u)})}return n.$$set=b=>{"name"in b&&t(5,o=b.name),"inlineError"in b&&t(0,a=b.inlineError),"class"in b&&t(1,f=b.class),"$$scope"in b&&t(8,l=b.$$scope)},n.$$.update=()=>{n.$$.dirty&160&&t(3,d=ee.toArray(ee.getNestedVal(i,o)))},[a,f,u,d,r,o,h,i,l,s,p,g]}class ze extends ke{constructor(e){super(),ve(this,e,BB,jB,De,{name:5,inlineError:0,class:1,changed:6})}get changed(){return this.$$.ctx[6]}}function VB(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Email"),s=D(),l=k("input"),m(e,"for",i=n[9]),m(l,"type","email"),m(l,"autocomplete","off"),m(l,"id",r=n[9]),l.required=!0,l.autofocus=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0]),l.focus(),o||(a=x(l,"input",n[5]),o=!0)},p(f,u){u&512&&i!==(i=f[9])&&m(e,"for",i),u&512&&r!==(r=f[9])&&m(l,"id",r),u&1&&l.value!==f[0]&&Ae(l,f[0])},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function zB(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("label"),t=G("Password"),s=D(),l=k("input"),o=D(),a=k("div"),a.textContent="Minimum 10 characters.",m(e,"for",i=n[9]),m(l,"type","password"),m(l,"autocomplete","new-password"),m(l,"minlength","10"),m(l,"id",r=n[9]),l.required=!0,m(a,"class","help-block")},m(d,h){C(d,e,h),v(e,t),C(d,s,h),C(d,l,h),Ae(l,n[1]),C(d,o,h),C(d,a,h),f||(u=x(l,"input",n[6]),f=!0)},p(d,h){h&512&&i!==(i=d[9])&&m(e,"for",i),h&512&&r!==(r=d[9])&&m(l,"id",r),h&2&&l.value!==d[1]&&Ae(l,d[1])},d(d){d&&S(e),d&&S(s),d&&S(l),d&&S(o),d&&S(a),f=!1,u()}}}function HB(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Password confirm"),s=D(),l=k("input"),m(e,"for",i=n[9]),m(l,"type","password"),m(l,"minlength","10"),m(l,"id",r=n[9]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[2]),o||(a=x(l,"input",n[7]),o=!0)},p(f,u){u&512&&i!==(i=f[9])&&m(e,"for",i),u&512&&r!==(r=f[9])&&m(l,"id",r),u&4&&l.value!==f[2]&&Ae(l,f[2])},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function qB(n){let e,t,i,s,l,r,o,a,f,u,d,h,p;return s=new ze({props:{class:"form-field required",name:"email",$$slots:{default:[VB,({uniqueId:g})=>({9:g}),({uniqueId:g})=>g?512:0]},$$scope:{ctx:n}}}),r=new ze({props:{class:"form-field required",name:"password",$$slots:{default:[zB,({uniqueId:g})=>({9:g}),({uniqueId:g})=>g?512:0]},$$scope:{ctx:n}}}),a=new ze({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[HB,({uniqueId:g})=>({9:g}),({uniqueId:g})=>g?512:0]},$$scope:{ctx:n}}}),{c(){e=k("form"),t=k("div"),t.innerHTML="<h4>Create your first admin account in order to continue</h4>",i=D(),U(s.$$.fragment),l=D(),U(r.$$.fragment),o=D(),U(a.$$.fragment),f=D(),u=k("button"),u.innerHTML=`<span class="txt">Create and login</span> 
        <i class="ri-arrow-right-line"></i>`,m(t,"class","content txt-center m-b-base"),m(u,"type","submit"),m(u,"class","btn btn-lg btn-block btn-next"),$(u,"btn-disabled",n[3]),$(u,"btn-loading",n[3]),m(e,"class","block"),m(e,"autocomplete","off")},m(g,b){C(g,e,b),v(e,t),v(e,i),q(s,e,null),v(e,l),q(r,e,null),v(e,o),q(a,e,null),v(e,f),v(e,u),d=!0,h||(p=x(e,"submit",qt(n[4])),h=!0)},p(g,[b]){const _={};b&1537&&(_.$$scope={dirty:b,ctx:g}),s.$set(_);const y={};b&1538&&(y.$$scope={dirty:b,ctx:g}),r.$set(y);const w={};b&1540&&(w.$$scope={dirty:b,ctx:g}),a.$set(w),(!d||b&8)&&$(u,"btn-disabled",g[3]),(!d||b&8)&&$(u,"btn-loading",g[3])},i(g){d||(P(s.$$.fragment,g),P(r.$$.fragment,g),P(a.$$.fragment,g),d=!0)},o(g){I(s.$$.fragment,g),I(r.$$.fragment,g),I(a.$$.fragment,g),d=!1},d(g){g&&S(e),W(s),W(r),W(a),h=!1,p()}}}function WB(n,e,t){const i=Hn();let s="",l="",r="",o=!1;async function a(){if(!o){t(3,o=!0);try{await Re.admins.create({email:s,password:l,passwordConfirm:r}),await Re.admins.authWithPassword(s,l),i("submit")}catch(h){Re.error(h)}t(3,o=!1)}}function f(){s=this.value,t(0,s)}function u(){l=this.value,t(1,l)}function d(){r=this.value,t(2,r)}return[s,l,r,o,a,f,u,d]}class UB extends ke{constructor(e){super(),ve(this,e,WB,qB,De,{})}}function xv(n){let e,t;return e=new jP({props:{$$slots:{default:[KB]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&9&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function KB(n){let e,t;return e=new UB({}),e.$on("submit",n[1]),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p:te,i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function JB(n){let e,t,i=n[0]&&xv(n);return{c(){i&&i.c(),e=Ee()},m(s,l){i&&i.m(s,l),C(s,e,l),t=!0},p(s,[l]){s[0]?i?(i.p(s,l),l&1&&P(i,1)):(i=xv(s),i.c(),P(i,1),i.m(e.parentNode,e)):i&&(ue(),I(i,1,1,()=>{i=null}),ce())},i(s){t||(P(i),t=!0)},o(s){I(i),t=!1},d(s){i&&i.d(s),s&&S(e)}}}function xB(n,e,t){let i=!1;s();function s(){if(t(0,i=!1),new URLSearchParams(window.location.search).has("installer")){Re.logout(!1),t(0,i=!0);return}Re.authStore.isValid?Jo("/collections"):Re.logout()}return[i,async()=>{t(0,i=!1),await nn(),window.location.search=""}]}class YB extends ke{constructor(e){super(),ve(this,e,xB,JB,De,{})}}const si=Gs(""),Fp=Gs(""),Xf=Gs(!1);function GB(n){let e,t,i,s;return{c(){e=k("input"),m(e,"type","text"),m(e,"id",n[8]),m(e,"placeholder",t=n[0]||n[1])},m(l,r){C(l,e,r),n[13](e),Ae(e,n[7]),i||(s=x(e,"input",n[14]),i=!0)},p(l,r){r&3&&t!==(t=l[0]||l[1])&&m(e,"placeholder",t),r&128&&e.value!==l[7]&&Ae(e,l[7])},i:te,o:te,d(l){l&&S(e),n[13](null),i=!1,s()}}}function XB(n){let e,t,i,s;function l(a){n[12](a)}var r=n[4];function o(a){let f={id:a[8],singleLine:!0,disableRequestKeys:!0,disableIndirectCollectionsKeys:!0,extraAutocompleteKeys:a[3],baseCollection:a[2],placeholder:a[0]||a[1]};return a[7]!==void 0&&(f.value=a[7]),{props:f}}return r&&(e=Sn(r,o(n)),de.push(()=>Ne(e,"value",l)),e.$on("submit",n[10])),{c(){e&&U(e.$$.fragment),i=Ee()},m(a,f){e&&q(e,a,f),C(a,i,f),s=!0},p(a,f){const u={};if(f&8&&(u.extraAutocompleteKeys=a[3]),f&4&&(u.baseCollection=a[2]),f&3&&(u.placeholder=a[0]||a[1]),!t&&f&128&&(t=!0,u.value=a[7],Be(()=>t=!1)),f&16&&r!==(r=a[4])){if(e){ue();const d=e;I(d.$$.fragment,1,0,()=>{W(d,1)}),ce()}r?(e=Sn(r,o(a)),de.push(()=>Ne(e,"value",l)),e.$on("submit",a[10]),U(e.$$.fragment),P(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else r&&e.$set(u)},i(a){s||(e&&P(e.$$.fragment,a),s=!0)},o(a){e&&I(e.$$.fragment,a),s=!1},d(a){a&&S(i),e&&W(e,a)}}}function Yv(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Search</span>',m(e,"type","submit"),m(e,"class","btn btn-expanded btn-sm btn-warning")},m(s,l){C(s,e,l),i=!0},i(s){i||(s&&Yt(()=>{i&&(t||(t=gt(e,vr,{duration:150,x:5},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=gt(e,vr,{duration:150,x:5},!1)),t.run(0)),i=!1},d(s){s&&S(e),s&&t&&t.end()}}}function Gv(n){let e,t,i,s,l;return{c(){e=k("button"),e.innerHTML='<span class="txt">Clear</span>',m(e,"type","button"),m(e,"class","btn btn-transparent btn-sm btn-hint p-l-xs p-r-xs m-l-10")},m(r,o){C(r,e,o),i=!0,s||(l=x(e,"click",n[15]),s=!0)},p:te,i(r){i||(r&&Yt(()=>{i&&(t||(t=gt(e,vr,{duration:150,x:5},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=gt(e,vr,{duration:150,x:5},!1)),t.run(0)),i=!1},d(r){r&&S(e),r&&t&&t.end(),s=!1,l()}}}function ZB(n){let e,t,i,s,l,r,o,a,f,u,d;const h=[XB,GB],p=[];function g(y,w){return y[4]&&!y[5]?0:1}l=g(n),r=p[l]=h[l](n);let b=(n[0].length||n[7].length)&&n[7]!=n[0]&&Yv(),_=(n[0].length||n[7].length)&&Gv(n);return{c(){e=k("form"),t=k("label"),i=k("i"),s=D(),r.c(),o=D(),b&&b.c(),a=D(),_&&_.c(),m(i,"class","ri-search-line"),m(t,"for",n[8]),m(t,"class","m-l-10 txt-xl"),m(e,"class","searchbar")},m(y,w){C(y,e,w),v(e,t),v(t,i),v(e,s),p[l].m(e,null),v(e,o),b&&b.m(e,null),v(e,a),_&&_.m(e,null),f=!0,u||(d=[x(e,"click",Ei(n[11])),x(e,"submit",qt(n[10]))],u=!0)},p(y,[w]){let A=l;l=g(y),l===A?p[l].p(y,w):(ue(),I(p[A],1,1,()=>{p[A]=null}),ce(),r=p[l],r?r.p(y,w):(r=p[l]=h[l](y),r.c()),P(r,1),r.m(e,o)),(y[0].length||y[7].length)&&y[7]!=y[0]?b?w&129&&P(b,1):(b=Yv(),b.c(),P(b,1),b.m(e,a)):b&&(ue(),I(b,1,1,()=>{b=null}),ce()),y[0].length||y[7].length?_?(_.p(y,w),w&129&&P(_,1)):(_=Gv(y),_.c(),P(_,1),_.m(e,null)):_&&(ue(),I(_,1,1,()=>{_=null}),ce())},i(y){f||(P(r),P(b),P(_),f=!0)},o(y){I(r),I(b),I(_),f=!1},d(y){y&&S(e),p[l].d(),b&&b.d(),_&&_.d(),u=!1,Ke(d)}}}function QB(n,e,t){const i=Hn(),s="search_"+ee.randomString(7);let{value:l=""}=e,{placeholder:r='Search term or filter like created > "2022-01-01"...'}=e,{autocompleteCollection:o=new Is}=e,{extraAutocompleteKeys:a=[]}=e,f,u=!1,d,h="";function p(T=!0){t(7,h=""),T&&(d==null||d.focus()),i("clear")}function g(){t(0,l=h),i("submit",l)}async function b(){f||u||(t(5,u=!0),t(4,f=(await _n(()=>import("./FilterAutocompleteInput-0f9d60bf.js"),[],import.meta.url)).default),t(5,u=!1))}Pn(()=>{b()});function _(T){ht.call(this,n,T)}function y(T){h=T,t(7,h),t(0,l)}function w(T){de[T?"unshift":"push"](()=>{d=T,t(6,d)})}function A(){h=this.value,t(7,h),t(0,l)}const M=()=>{p(!1),g()};return n.$$set=T=>{"value"in T&&t(0,l=T.value),"placeholder"in T&&t(1,r=T.placeholder),"autocompleteCollection"in T&&t(2,o=T.autocompleteCollection),"extraAutocompleteKeys"in T&&t(3,a=T.extraAutocompleteKeys)},n.$$.update=()=>{n.$$.dirty&1&&typeof l=="string"&&t(7,h=l)},[l,r,o,a,f,u,d,h,s,p,g,_,y,w,A,M]}class tg extends ke{constructor(e){super(),ve(this,e,QB,ZB,De,{value:0,placeholder:1,autocompleteCollection:2,extraAutocompleteKeys:3})}}function $B(n){let e,t,i,s,l,r;return{c(){e=k("button"),t=k("i"),m(t,"class","ri-refresh-line svelte-1bvelc2"),m(e,"type","button"),m(e,"aria-label","Refresh"),m(e,"class",i="btn btn-transparent btn-circle "+n[1]+" svelte-1bvelc2"),$(e,"refreshing",n[2])},m(o,a){C(o,e,a),v(e,t),l||(r=[xe(s=Mt.call(null,e,n[0])),x(e,"click",n[3])],l=!0)},p(o,[a]){a&2&&i!==(i="btn btn-transparent btn-circle "+o[1]+" svelte-1bvelc2")&&m(e,"class",i),s&&fn(s.update)&&a&1&&s.update.call(null,o[0]),a&6&&$(e,"refreshing",o[2])},i:te,o:te,d(o){o&&S(e),l=!1,Ke(r)}}}function eV(n,e,t){const i=Hn();let{tooltip:s={text:"Refresh",position:"right"}}=e,{class:l=""}=e,r=null;function o(){i("refresh");const a=s;t(0,s=null),clearTimeout(r),t(2,r=setTimeout(()=>{t(2,r=null),t(0,s=a)},150))}return Pn(()=>()=>clearTimeout(r)),n.$$set=a=>{"tooltip"in a&&t(0,s=a.tooltip),"class"in a&&t(1,l=a.class)},[s,l,r,o]}class ng extends ke{constructor(e){super(),ve(this,e,eV,$B,De,{tooltip:0,class:1})}}function tV(n){let e,t,i,s,l;const r=n[6].default,o=It(r,n,n[5],null);return{c(){e=k("th"),o&&o.c(),m(e,"tabindex","0"),m(e,"title",n[2]),m(e,"class",t="col-sort "+n[1]),$(e,"col-sort-disabled",n[3]),$(e,"sort-active",n[0]==="-"+n[2]||n[0]==="+"+n[2]),$(e,"sort-desc",n[0]==="-"+n[2]),$(e,"sort-asc",n[0]==="+"+n[2])},m(a,f){C(a,e,f),o&&o.m(e,null),i=!0,s||(l=[x(e,"click",n[7]),x(e,"keydown",n[8])],s=!0)},p(a,[f]){o&&o.p&&(!i||f&32)&&Nt(o,r,a,a[5],i?Rt(r,a[5],f,null):Lt(a[5]),null),(!i||f&4)&&m(e,"title",a[2]),(!i||f&2&&t!==(t="col-sort "+a[1]))&&m(e,"class",t),(!i||f&10)&&$(e,"col-sort-disabled",a[3]),(!i||f&7)&&$(e,"sort-active",a[0]==="-"+a[2]||a[0]==="+"+a[2]),(!i||f&7)&&$(e,"sort-desc",a[0]==="-"+a[2]),(!i||f&7)&&$(e,"sort-asc",a[0]==="+"+a[2])},i(a){i||(P(o,a),i=!0)},o(a){I(o,a),i=!1},d(a){a&&S(e),o&&o.d(a),s=!1,Ke(l)}}}function nV(n,e,t){let{$$slots:i={},$$scope:s}=e,{class:l=""}=e,{name:r}=e,{sort:o=""}=e,{disable:a=!1}=e;function f(){a||("-"+r===o?t(0,o="+"+r):t(0,o="-"+r))}const u=()=>f(),d=h=>{(h.code==="Enter"||h.code==="Space")&&(h.preventDefault(),f())};return n.$$set=h=>{"class"in h&&t(1,l=h.class),"name"in h&&t(2,r=h.name),"sort"in h&&t(0,o=h.sort),"disable"in h&&t(3,a=h.disable),"$$scope"in h&&t(5,s=h.$$scope)},[o,l,r,a,f,s,i,u,d]}class cs extends ke{constructor(e){super(),ve(this,e,nV,tV,De,{class:1,name:2,sort:0,disable:3})}}function iV(n){let e;return{c(){e=k("span"),e.textContent="N/A",m(e,"class","txt txt-hint")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function sV(n){let e,t,i,s,l,r,o;return{c(){e=k("div"),t=k("div"),i=G(n[2]),s=D(),l=k("div"),r=G(n[1]),o=G(" UTC"),m(t,"class","date"),m(l,"class","time svelte-zdiknu"),m(e,"class","datetime svelte-zdiknu")},m(a,f){C(a,e,f),v(e,t),v(t,i),v(e,s),v(e,l),v(l,r),v(l,o)},p(a,f){f&4&&pe(i,a[2]),f&2&&pe(r,a[1])},d(a){a&&S(e)}}}function lV(n){let e;function t(l,r){return l[0]?sV:iV}let i=t(n),s=i(n);return{c(){s.c(),e=Ee()},m(l,r){s.m(l,r),C(l,e,r)},p(l,[r]){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},i:te,o:te,d(l){s.d(l),l&&S(e)}}}function rV(n,e,t){let i,s,{date:l=""}=e;return n.$$set=r=>{"date"in r&&t(0,l=r.date)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=l?l.substring(0,10):null),n.$$.dirty&1&&t(1,s=l?l.substring(10,19):null)},[l,s,i]}class xr extends ke{constructor(e){super(),ve(this,e,rV,lV,De,{date:0})}}const oV=n=>({}),Xv=n=>({}),aV=n=>({}),Zv=n=>({});function fV(n){let e,t,i,s,l,r,o,a;const f=n[5].before,u=It(f,n,n[4],Zv),d=n[5].default,h=It(d,n,n[4],null),p=n[5].after,g=It(p,n,n[4],Xv);return{c(){e=k("div"),u&&u.c(),t=D(),i=k("div"),h&&h.c(),l=D(),g&&g.c(),m(i,"class",s="horizontal-scroller "+n[0]+" "+n[3]+" svelte-wc2j9h"),m(e,"class","horizontal-scroller-wrapper svelte-wc2j9h")},m(b,_){C(b,e,_),u&&u.m(e,null),v(e,t),v(e,i),h&&h.m(i,null),n[6](i),v(e,l),g&&g.m(e,null),r=!0,o||(a=[x(window,"resize",n[1]),x(i,"scroll",n[1])],o=!0)},p(b,[_]){u&&u.p&&(!r||_&16)&&Nt(u,f,b,b[4],r?Rt(f,b[4],_,aV):Lt(b[4]),Zv),h&&h.p&&(!r||_&16)&&Nt(h,d,b,b[4],r?Rt(d,b[4],_,null):Lt(b[4]),null),(!r||_&9&&s!==(s="horizontal-scroller "+b[0]+" "+b[3]+" svelte-wc2j9h"))&&m(i,"class",s),g&&g.p&&(!r||_&16)&&Nt(g,p,b,b[4],r?Rt(p,b[4],_,oV):Lt(b[4]),Xv)},i(b){r||(P(u,b),P(h,b),P(g,b),r=!0)},o(b){I(u,b),I(h,b),I(g,b),r=!1},d(b){b&&S(e),u&&u.d(b),h&&h.d(b),n[6](null),g&&g.d(b),o=!1,Ke(a)}}}function uV(n,e,t){let{$$slots:i={},$$scope:s}=e,{class:l=""}=e,r=null,o="",a=null,f;function u(){r&&(clearTimeout(a),a=setTimeout(()=>{const h=r.offsetWidth,p=r.scrollWidth;p-h?(t(3,o="scrollable"),r.scrollLeft===0?t(3,o+=" scroll-start"):r.scrollLeft+h==p&&t(3,o+=" scroll-end")):t(3,o="")},100))}Pn(()=>(u(),f=new MutationObserver(()=>{u()}),f.observe(r,{attributeFilter:["width"],childList:!0,subtree:!0}),()=>{f==null||f.disconnect(),clearTimeout(a)}));function d(h){de[h?"unshift":"push"](()=>{r=h,t(2,r)})}return n.$$set=h=>{"class"in h&&t(0,l=h.class),"$$scope"in h&&t(4,s=h.$$scope)},[l,u,r,o,s,i,d]}class $_ extends ke{constructor(e){super(),ve(this,e,uV,fV,De,{class:0,refresh:1})}get refresh(){return this.$$.ctx[1]}}function Qv(n,e,t){const i=n.slice();return i[23]=e[t],i}function cV(n){let e;return{c(){e=k("div"),e.innerHTML=`<i class="ri-global-line"></i> 
                        <span class="txt">Method</span>`,m(e,"class","col-header-content")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function dV(n){let e,t,i,s;return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),s.textContent="URL",m(t,"class",ee.getFieldTypeIcon("url")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p:te,d(l){l&&S(e)}}}function hV(n){let e,t,i,s;return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),s.textContent="Referer",m(t,"class",ee.getFieldTypeIcon("url")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p:te,d(l){l&&S(e)}}}function pV(n){let e,t,i,s;return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),s.textContent="User IP",m(t,"class",ee.getFieldTypeIcon("number")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p:te,d(l){l&&S(e)}}}function mV(n){let e,t,i,s;return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),s.textContent="Status",m(t,"class",ee.getFieldTypeIcon("number")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p:te,d(l){l&&S(e)}}}function gV(n){let e,t,i,s;return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),s.textContent="Created",m(t,"class",ee.getFieldTypeIcon("date")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p:te,d(l){l&&S(e)}}}function $v(n){let e;function t(l,r){return l[6]?_V:bV}let i=t(n),s=i(n);return{c(){s.c(),e=Ee()},m(l,r){s.m(l,r),C(l,e,r)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&S(e)}}}function bV(n){var o;let e,t,i,s,l,r=((o=n[0])==null?void 0:o.length)&&ek(n);return{c(){e=k("tr"),t=k("td"),i=k("h6"),i.textContent="No logs found.",s=D(),r&&r.c(),l=D(),m(t,"colspan","99"),m(t,"class","txt-center txt-hint p-xs")},m(a,f){C(a,e,f),v(e,t),v(t,i),v(t,s),r&&r.m(t,null),v(e,l)},p(a,f){var u;(u=a[0])!=null&&u.length?r?r.p(a,f):(r=ek(a),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(a){a&&S(e),r&&r.d()}}}function _V(n){let e;return{c(){e=k("tr"),e.innerHTML=`<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td> 
                    `},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function ek(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Clear filters</span>',m(e,"type","button"),m(e,"class","btn btn-hint btn-expanded m-t-sm")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[19]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function tk(n){let e;return{c(){e=k("i"),m(e,"class","ri-error-warning-line txt-danger m-l-5 m-r-5"),m(e,"title","Error")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function nk(n,e){var Ie,he,Ve;let t,i,s,l=((Ie=e[23].method)==null?void 0:Ie.toUpperCase())+"",r,o,a,f,u,d=e[23].url+"",h,p,g,b,_,y,w=(e[23].referer||"N/A")+"",A,M,T,O,E,R=(e[23].userIp||"N/A")+"",N,j,L,F,B,V=e[23].status+"",H,K,X,J,z,Z,Y,oe,re,Q,me=(((he=e[23].meta)==null?void 0:he.errorMessage)||((Ve=e[23].meta)==null?void 0:Ve.errorData))&&tk();J=new xr({props:{date:e[23].created}});function qe(){return e[17](e[23])}function be(...Qe){return e[18](e[23],...Qe)}return{key:n,first:null,c(){t=k("tr"),i=k("td"),s=k("span"),r=G(l),a=D(),f=k("td"),u=k("span"),h=G(d),g=D(),me&&me.c(),b=D(),_=k("td"),y=k("span"),A=G(w),T=D(),O=k("td"),E=k("span"),N=G(R),L=D(),F=k("td"),B=k("span"),H=G(V),K=D(),X=k("td"),U(J.$$.fragment),z=D(),Z=k("td"),Z.innerHTML='<i class="ri-arrow-right-line"></i>',Y=D(),m(s,"class",o="label txt-uppercase "+e[9][e[23].method.toLowerCase()]),m(i,"class","col-type-text col-field-method min-width"),m(u,"class","txt txt-ellipsis"),m(u,"title",p=e[23].url),m(f,"class","col-type-text col-field-url"),m(y,"class","txt txt-ellipsis"),m(y,"title",M=e[23].referer),$(y,"txt-hint",!e[23].referer),m(_,"class","col-type-text col-field-referer"),m(E,"class","txt txt-ellipsis"),m(E,"title",j=e[23].userIp),$(E,"txt-hint",!e[23].userIp),m(O,"class","col-type-number col-field-userIp"),m(B,"class","label"),$(B,"label-danger",e[23].status>=400),m(F,"class","col-type-number col-field-status"),m(X,"class","col-type-date col-field-created"),m(Z,"class","col-type-action min-width"),m(t,"tabindex","0"),m(t,"class","row-handle"),this.first=t},m(Qe,it){C(Qe,t,it),v(t,i),v(i,s),v(s,r),v(t,a),v(t,f),v(f,u),v(u,h),v(f,g),me&&me.m(f,null),v(t,b),v(t,_),v(_,y),v(y,A),v(t,T),v(t,O),v(O,E),v(E,N),v(t,L),v(t,F),v(F,B),v(B,H),v(t,K),v(t,X),q(J,X,null),v(t,z),v(t,Z),v(t,Y),oe=!0,re||(Q=[x(t,"click",qe),x(t,"keydown",be)],re=!0)},p(Qe,it){var ie,we,Ue;e=Qe,(!oe||it&8)&&l!==(l=((ie=e[23].method)==null?void 0:ie.toUpperCase())+"")&&pe(r,l),(!oe||it&8&&o!==(o="label txt-uppercase "+e[9][e[23].method.toLowerCase()]))&&m(s,"class",o),(!oe||it&8)&&d!==(d=e[23].url+"")&&pe(h,d),(!oe||it&8&&p!==(p=e[23].url))&&m(u,"title",p),(we=e[23].meta)!=null&&we.errorMessage||(Ue=e[23].meta)!=null&&Ue.errorData?me||(me=tk(),me.c(),me.m(f,null)):me&&(me.d(1),me=null),(!oe||it&8)&&w!==(w=(e[23].referer||"N/A")+"")&&pe(A,w),(!oe||it&8&&M!==(M=e[23].referer))&&m(y,"title",M),(!oe||it&8)&&$(y,"txt-hint",!e[23].referer),(!oe||it&8)&&R!==(R=(e[23].userIp||"N/A")+"")&&pe(N,R),(!oe||it&8&&j!==(j=e[23].userIp))&&m(E,"title",j),(!oe||it&8)&&$(E,"txt-hint",!e[23].userIp),(!oe||it&8)&&V!==(V=e[23].status+"")&&pe(H,V),(!oe||it&8)&&$(B,"label-danger",e[23].status>=400);const ye={};it&8&&(ye.date=e[23].created),J.$set(ye)},i(Qe){oe||(P(J.$$.fragment,Qe),oe=!0)},o(Qe){I(J.$$.fragment,Qe),oe=!1},d(Qe){Qe&&S(t),me&&me.d(),W(J),re=!1,Ke(Q)}}}function yV(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E,R,N=[],j=new Map,L;function F(be){n[11](be)}let B={disable:!0,class:"col-field-method",name:"method",$$slots:{default:[cV]},$$scope:{ctx:n}};n[1]!==void 0&&(B.sort=n[1]),s=new cs({props:B}),de.push(()=>Ne(s,"sort",F));function V(be){n[12](be)}let H={disable:!0,class:"col-type-text col-field-url",name:"url",$$slots:{default:[dV]},$$scope:{ctx:n}};n[1]!==void 0&&(H.sort=n[1]),o=new cs({props:H}),de.push(()=>Ne(o,"sort",V));function K(be){n[13](be)}let X={disable:!0,class:"col-type-text col-field-referer",name:"referer",$$slots:{default:[hV]},$$scope:{ctx:n}};n[1]!==void 0&&(X.sort=n[1]),u=new cs({props:X}),de.push(()=>Ne(u,"sort",K));function J(be){n[14](be)}let z={disable:!0,class:"col-type-number col-field-userIp",name:"userIp",$$slots:{default:[pV]},$$scope:{ctx:n}};n[1]!==void 0&&(z.sort=n[1]),p=new cs({props:z}),de.push(()=>Ne(p,"sort",J));function Z(be){n[15](be)}let Y={disable:!0,class:"col-type-number col-field-status",name:"status",$$slots:{default:[mV]},$$scope:{ctx:n}};n[1]!==void 0&&(Y.sort=n[1]),_=new cs({props:Y}),de.push(()=>Ne(_,"sort",Z));function oe(be){n[16](be)}let re={disable:!0,class:"col-type-date col-field-created",name:"created",$$slots:{default:[gV]},$$scope:{ctx:n}};n[1]!==void 0&&(re.sort=n[1]),A=new cs({props:re}),de.push(()=>Ne(A,"sort",oe));let Q=n[3];const me=be=>be[23].id;for(let be=0;be<Q.length;be+=1){let Ie=Qv(n,Q,be),he=me(Ie);j.set(he,N[be]=nk(he,Ie))}let qe=null;return Q.length||(qe=$v(n)),{c(){e=k("table"),t=k("thead"),i=k("tr"),U(s.$$.fragment),r=D(),U(o.$$.fragment),f=D(),U(u.$$.fragment),h=D(),U(p.$$.fragment),b=D(),U(_.$$.fragment),w=D(),U(A.$$.fragment),T=D(),O=k("th"),E=D(),R=k("tbody");for(let be=0;be<N.length;be+=1)N[be].c();qe&&qe.c(),m(O,"class","col-type-action min-width"),m(e,"class","table"),$(e,"table-loading",n[6])},m(be,Ie){C(be,e,Ie),v(e,t),v(t,i),q(s,i,null),v(i,r),q(o,i,null),v(i,f),q(u,i,null),v(i,h),q(p,i,null),v(i,b),q(_,i,null),v(i,w),q(A,i,null),v(i,T),v(i,O),v(e,E),v(e,R);for(let he=0;he<N.length;he+=1)N[he]&&N[he].m(R,null);qe&&qe.m(R,null),L=!0},p(be,Ie){const he={};Ie&67108864&&(he.$$scope={dirty:Ie,ctx:be}),!l&&Ie&2&&(l=!0,he.sort=be[1],Be(()=>l=!1)),s.$set(he);const Ve={};Ie&67108864&&(Ve.$$scope={dirty:Ie,ctx:be}),!a&&Ie&2&&(a=!0,Ve.sort=be[1],Be(()=>a=!1)),o.$set(Ve);const Qe={};Ie&67108864&&(Qe.$$scope={dirty:Ie,ctx:be}),!d&&Ie&2&&(d=!0,Qe.sort=be[1],Be(()=>d=!1)),u.$set(Qe);const it={};Ie&67108864&&(it.$$scope={dirty:Ie,ctx:be}),!g&&Ie&2&&(g=!0,it.sort=be[1],Be(()=>g=!1)),p.$set(it);const ye={};Ie&67108864&&(ye.$$scope={dirty:Ie,ctx:be}),!y&&Ie&2&&(y=!0,ye.sort=be[1],Be(()=>y=!1)),_.$set(ye);const ie={};Ie&67108864&&(ie.$$scope={dirty:Ie,ctx:be}),!M&&Ie&2&&(M=!0,ie.sort=be[1],Be(()=>M=!1)),A.$set(ie),Ie&841&&(Q=be[3],ue(),N=Cn(N,Ie,me,1,be,Q,j,R,ii,nk,null,Qv),ce(),!Q.length&&qe?qe.p(be,Ie):Q.length?qe&&(qe.d(1),qe=null):(qe=$v(be),qe.c(),qe.m(R,null))),(!L||Ie&64)&&$(e,"table-loading",be[6])},i(be){if(!L){P(s.$$.fragment,be),P(o.$$.fragment,be),P(u.$$.fragment,be),P(p.$$.fragment,be),P(_.$$.fragment,be),P(A.$$.fragment,be);for(let Ie=0;Ie<Q.length;Ie+=1)P(N[Ie]);L=!0}},o(be){I(s.$$.fragment,be),I(o.$$.fragment,be),I(u.$$.fragment,be),I(p.$$.fragment,be),I(_.$$.fragment,be),I(A.$$.fragment,be);for(let Ie=0;Ie<N.length;Ie+=1)I(N[Ie]);L=!1},d(be){be&&S(e),W(s),W(o),W(u),W(p),W(_),W(A);for(let Ie=0;Ie<N.length;Ie+=1)N[Ie].d();qe&&qe.d()}}}function ik(n){let e,t,i=n[3].length+"",s,l,r;return{c(){e=k("small"),t=G("Showing "),s=G(i),l=G(" of "),r=G(n[4]),m(e,"class","block txt-hint txt-right m-t-sm")},m(o,a){C(o,e,a),v(e,t),v(e,s),v(e,l),v(e,r)},p(o,a){a&8&&i!==(i=o[3].length+"")&&pe(s,i),a&16&&pe(r,o[4])},d(o){o&&S(e)}}}function sk(n){let e,t,i,s,l=n[4]-n[3].length+"",r,o,a,f;return{c(){e=k("div"),t=k("button"),i=k("span"),s=G("Load more ("),r=G(l),o=G(")"),m(i,"class","txt"),m(t,"type","button"),m(t,"class","btn btn-lg btn-secondary btn-expanded"),$(t,"btn-loading",n[6]),$(t,"btn-disabled",n[6]),m(e,"class","block txt-center m-t-xs")},m(u,d){C(u,e,d),v(e,t),v(t,i),v(i,s),v(i,r),v(i,o),a||(f=x(t,"click",n[20]),a=!0)},p(u,d){d&24&&l!==(l=u[4]-u[3].length+"")&&pe(r,l),d&64&&$(t,"btn-loading",u[6]),d&64&&$(t,"btn-disabled",u[6])},d(u){u&&S(e),a=!1,f()}}}function vV(n){let e,t,i,s,l;e=new $_({props:{class:"table-wrapper",$$slots:{default:[yV]},$$scope:{ctx:n}}});let r=n[3].length&&ik(n),o=n[3].length&&n[7]&&sk(n);return{c(){U(e.$$.fragment),t=D(),r&&r.c(),i=D(),o&&o.c(),s=Ee()},m(a,f){q(e,a,f),C(a,t,f),r&&r.m(a,f),C(a,i,f),o&&o.m(a,f),C(a,s,f),l=!0},p(a,[f]){const u={};f&67108939&&(u.$$scope={dirty:f,ctx:a}),e.$set(u),a[3].length?r?r.p(a,f):(r=ik(a),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null),a[3].length&&a[7]?o?o.p(a,f):(o=sk(a),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(a){l||(P(e.$$.fragment,a),l=!0)},o(a){I(e.$$.fragment,a),l=!1},d(a){W(e,a),a&&S(t),r&&r.d(a),a&&S(i),o&&o.d(a),a&&S(s)}}}function kV(n,e,t){let i;const s=Hn(),l={get:"label-info",post:"label-success",patch:"label-warning",delete:"label-danger"};let{filter:r=""}=e,{presets:o=""}=e,{sort:a="-rowid"}=e,f=[],u=1,d=0,h=!1,p=0;async function g(j=1,L=!0){return t(6,h=!0),Re.logs.getRequestsList(j,30,{sort:a,filter:[o,r].filter(Boolean).join("&&")}).then(async F=>{if(j<=1&&b(),t(6,h=!1),t(5,u=F.page),t(4,d=F.totalItems),s("load",f.concat(F.items)),L){const B=++p;for(;F.items.length&&p==B;)t(3,f=f.concat(F.items.splice(0,10))),await ee.yieldToMain()}else t(3,f=f.concat(F.items))}).catch(F=>{F!=null&&F.isAbort||(t(6,h=!1),console.warn(F),b(),Re.error(F,!1))})}function b(){t(3,f=[]),t(5,u=1),t(4,d=0)}function _(j){a=j,t(1,a)}function y(j){a=j,t(1,a)}function w(j){a=j,t(1,a)}function A(j){a=j,t(1,a)}function M(j){a=j,t(1,a)}function T(j){a=j,t(1,a)}const O=j=>s("select",j),E=(j,L)=>{L.code==="Enter"&&(L.preventDefault(),s("select",j))},R=()=>t(0,r=""),N=()=>g(u+1);return n.$$set=j=>{"filter"in j&&t(0,r=j.filter),"presets"in j&&t(10,o=j.presets),"sort"in j&&t(1,a=j.sort)},n.$$.update=()=>{n.$$.dirty&1027&&(typeof a<"u"||typeof r<"u"||typeof o<"u")&&(b(),g(1)),n.$$.dirty&24&&t(7,i=d>f.length)},[r,a,g,f,d,u,h,i,s,l,o,_,y,w,A,M,T,O,E,R,N]}class wV extends ke{constructor(e){super(),ve(this,e,kV,vV,De,{filter:0,presets:10,sort:1,load:2})}get load(){return this.$$.ctx[2]}}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function Dr(){}const SV=function(){let n=0;return function(){return n++}}();function Rn(n){return n===null||typeof n>"u"}function Qn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function an(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}const Oi=n=>(typeof n=="number"||n instanceof Number)&&isFinite(+n);function $s(n,e){return Oi(n)?n:e}function pn(n,e){return typeof n>"u"?e:n}const CV=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:n/e,VP=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function mi(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Vn(n,e,t,i){let s,l,r;if(Qn(n))if(l=n.length,i)for(s=l-1;s>=0;s--)e.call(t,n[s],s);else for(s=0;s<l;s++)e.call(t,n[s],s);else if(an(n))for(r=Object.keys(n),l=r.length,s=0;s<l;s++)e.call(t,n[r[s]],r[s])}function jp(n,e){let t,i,s,l;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],l=e[t],s.datasetIndex!==l.datasetIndex||s.index!==l.index)return!1;return!0}function Bp(n){if(Qn(n))return n.map(Bp);if(an(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=Bp(n[t[s]]);return e}return n}function zP(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function MV(n,e,t,i){if(!zP(n))return;const s=e[n],l=t[n];an(s)&&an(l)?Hc(s,l,i):e[n]=Bp(l)}function Hc(n,e,t){const i=Qn(e)?e:[e],s=i.length;if(!an(n))return n;t=t||{};const l=t.merger||MV;for(let r=0;r<s;++r){if(e=i[r],!an(e))continue;const o=Object.keys(e);for(let a=0,f=o.length;a<f;++a)l(o[a],n,e,t)}return n}function Tc(n,e){return Hc(n,e,{merger:TV})}function TV(n,e,t){if(!zP(n))return;const i=e[n],s=t[n];an(i)&&an(s)?Tc(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Bp(s))}const lk={"":n=>n,x:n=>n.x,y:n=>n.y};function Do(n,e){return(lk[e]||(lk[e]=AV(e)))(n)}function AV(n){const e=OV(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function OV(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function e2(n){return n.charAt(0).toUpperCase()+n.slice(1)}const _l=n=>typeof n<"u",Io=n=>typeof n=="function",rk=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function EV(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const yi=Math.PI,zn=2*yi,PV=zn+yi,Vp=Number.POSITIVE_INFINITY,DV=yi/180,bi=yi/2,$u=yi/4,ok=yi*2/3,ll=Math.log10,ur=Math.sign;function ak(n){const e=Math.round(n);n=Ac(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(ll(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function IV(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,l)=>s-l).pop(),e}function Zf(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Ac(n,e,t){return Math.abs(n-e)<t}function RV(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function HP(n,e,t){let i,s,l;for(i=0,s=n.length;i<s;i++)l=n[i][t],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function Nl(n){return n*(yi/180)}function t2(n){return n*(180/yi)}function fk(n){if(!Oi(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function qP(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let l=Math.atan2(i,t);return l<-.5*yi&&(l+=zn),{angle:l,distance:s}}function G0(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function NV(n,e){return(n-e+PV)%zn-yi}function qs(n){return(n%zn+zn)%zn}function qc(n,e,t,i){const s=qs(n),l=qs(e),r=qs(t),o=qs(l-s),a=qs(r-s),f=qs(s-l),u=qs(s-r);return s===l||s===r||i&&l===r||o>a&&f<u}function hs(n,e,t){return Math.max(e,Math.min(t,n))}function LV(n){return hs(n,-32768,32767)}function Wc(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function n2(n,e,t){t=t||(r=>n[r]<e);let i=n.length-1,s=0,l;for(;i-s>1;)l=s+i>>1,t(l)?s=l:i=l;return{lo:s,hi:i}}const va=(n,e,t,i)=>n2(n,t,i?s=>n[s][e]<=t:s=>n[s][e]<t),FV=(n,e,t)=>n2(n,t,i=>n[i][e]>=t);function jV(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const WP=["push","pop","shift","splice","unshift"];function BV(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),WP.forEach(t=>{const i="_onData"+e2(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...l){const r=s.apply(this,l);return n._chartjs.listeners.forEach(o=>{typeof o[i]=="function"&&o[i](...l)}),r}})})}function uk(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(WP.forEach(l=>{delete n[l]}),delete n._chartjs)}function UP(n){const e=new Set;let t,i;for(t=0,i=n.length;t<i;++t)e.add(n[t]);return e.size===i?n:Array.from(e)}const KP=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function JP(n,e,t){const i=t||(r=>Array.prototype.slice.call(r));let s=!1,l=[];return function(...r){l=i(r),s||(s=!0,KP.call(window,()=>{s=!1,n.apply(e,l)}))}}function VV(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const zV=n=>n==="start"?"left":n==="end"?"right":"center",ck=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2;function xP(n,e,t){const i=e.length;let s=0,l=i;if(n._sorted){const{iScale:r,_parsed:o}=n,a=r.axis,{min:f,max:u,minDefined:d,maxDefined:h}=r.getUserBounds();d&&(s=hs(Math.min(va(o,r.axis,f).lo,t?i:va(e,a,r.getPixelForValue(f)).lo),0,i-1)),h?l=hs(Math.max(va(o,r.axis,u,!0).hi+1,t?0:va(e,a,r.getPixelForValue(u),!0).hi+1),s,i)-s:l=i-s}return{start:s,count:l}}function YP(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const l=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),l}const fh=n=>n===0||n===1,dk=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*zn/t)),hk=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*zn/t)+1,Oc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*bi)+1,easeOutSine:n=>Math.sin(n*bi),easeInOutSine:n=>-.5*(Math.cos(yi*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>fh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>fh(n)?n:dk(n,.075,.3),easeOutElastic:n=>fh(n)?n:hk(n,.075,.3),easeInOutElastic(n){return fh(n)?n:n<.5?.5*dk(n*2,.1125,.45):.5+.5*hk(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Oc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Oc.easeInBounce(n*2)*.5:Oc.easeOutBounce(n*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Pd(n){return n+.5|0}const vo=(n,e,t)=>Math.max(Math.min(n,t),e);function mc(n){return vo(Pd(n*2.55),0,255)}function Ao(n){return vo(Pd(n*255),0,255)}function Nr(n){return vo(Pd(n/2.55)/100,0,1)}function pk(n){return vo(Pd(n*100),0,100)}const Qs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},X0=[..."0123456789ABCDEF"],HV=n=>X0[n&15],qV=n=>X0[(n&240)>>4]+X0[n&15],uh=n=>(n&240)>>4===(n&15),WV=n=>uh(n.r)&&uh(n.g)&&uh(n.b)&&uh(n.a);function UV(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Qs[n[1]]*17,g:255&Qs[n[2]]*17,b:255&Qs[n[3]]*17,a:e===5?Qs[n[4]]*17:255}:(e===7||e===9)&&(t={r:Qs[n[1]]<<4|Qs[n[2]],g:Qs[n[3]]<<4|Qs[n[4]],b:Qs[n[5]]<<4|Qs[n[6]],a:e===9?Qs[n[7]]<<4|Qs[n[8]]:255})),t}const KV=(n,e)=>n<255?e(n):"";function JV(n){var e=WV(n)?HV:qV;return n?"#"+e(n.r)+e(n.g)+e(n.b)+KV(n.a,e):void 0}const xV=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function GP(n,e,t){const i=e*Math.min(t,1-t),s=(l,r=(l+n/30)%12)=>t-i*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function YV(n,e,t){const i=(s,l=(s+n/60)%6)=>t-t*e*Math.max(Math.min(l,4-l,1),0);return[i(5),i(3),i(1)]}function GV(n,e,t){const i=GP(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function XV(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function i2(n){const t=n.r/255,i=n.g/255,s=n.b/255,l=Math.max(t,i,s),r=Math.min(t,i,s),o=(l+r)/2;let a,f,u;return l!==r&&(u=l-r,f=o>.5?u/(2-l-r):u/(l+r),a=XV(t,i,s,u,l),a=a*60+.5),[a|0,f||0,o]}function s2(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Ao)}function l2(n,e,t){return s2(GP,n,e,t)}function ZV(n,e,t){return s2(GV,n,e,t)}function QV(n,e,t){return s2(YV,n,e,t)}function XP(n){return(n%360+360)%360}function $V(n){const e=xV.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?mc(+e[5]):Ao(+e[5]));const s=XP(+e[2]),l=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?i=ZV(s,l,r):e[1]==="hsv"?i=QV(s,l,r):i=l2(s,l,r),{r:i[0],g:i[1],b:i[2],a:t}}function ez(n,e){var t=i2(n);t[0]=XP(t[0]+e),t=l2(t),n.r=t[0],n.g=t[1],n.b=t[2]}function tz(n){if(!n)return;const e=i2(n),t=e[0],i=pk(e[1]),s=pk(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${Nr(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const mk={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},gk={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function nz(){const n={},e=Object.keys(gk),t=Object.keys(mk);let i,s,l,r,o;for(i=0;i<e.length;i++){for(r=o=e[i],s=0;s<t.length;s++)l=t[s],o=o.replace(l,mk[l]);l=parseInt(gk[r],16),n[o]=[l>>16&255,l>>8&255,l&255]}return n}let ch;function iz(n){ch||(ch=nz(),ch.transparent=[0,0,0,0]);const e=ch[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const sz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function lz(n){const e=sz.exec(n);let t=255,i,s,l;if(e){if(e[7]!==i){const r=+e[7];t=e[8]?mc(r):vo(r*255,0,255)}return i=+e[1],s=+e[3],l=+e[5],i=255&(e[2]?mc(i):vo(i,0,255)),s=255&(e[4]?mc(s):vo(s,0,255)),l=255&(e[6]?mc(l):vo(l,0,255)),{r:i,g:s,b:l,a:t}}}function rz(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Nr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const h1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,uf=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function oz(n,e,t){const i=uf(Nr(n.r)),s=uf(Nr(n.g)),l=uf(Nr(n.b));return{r:Ao(h1(i+t*(uf(Nr(e.r))-i))),g:Ao(h1(s+t*(uf(Nr(e.g))-s))),b:Ao(h1(l+t*(uf(Nr(e.b))-l))),a:n.a+t*(e.a-n.a)}}function dh(n,e,t){if(n){let i=i2(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=l2(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function ZP(n,e){return n&&Object.assign(e||{},n)}function bk(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ao(n[3]))):(e=ZP(n,{r:0,g:0,b:0,a:1}),e.a=Ao(e.a)),e}function az(n){return n.charAt(0)==="r"?lz(n):$V(n)}class zp{constructor(e){if(e instanceof zp)return e;const t=typeof e;let i;t==="object"?i=bk(e):t==="string"&&(i=UV(e)||iz(e)||az(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=ZP(this._rgb);return e&&(e.a=Nr(e.a)),e}set rgb(e){this._rgb=bk(e)}rgbString(){return this._valid?rz(this._rgb):void 0}hexString(){return this._valid?JV(this._rgb):void 0}hslString(){return this._valid?tz(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let l;const r=t===l?.5:t,o=2*r-1,a=i.a-s.a,f=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;l=1-f,i.r=255&f*i.r+l*s.r+.5,i.g=255&f*i.g+l*s.g+.5,i.b=255&f*i.b+l*s.b+.5,i.a=r*i.a+(1-r)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=oz(this._rgb,e._rgb,t)),this}clone(){return new zp(this.rgb)}alpha(e){return this._rgb.a=Ao(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Pd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return dh(this._rgb,2,e),this}darken(e){return dh(this._rgb,2,-e),this}saturate(e){return dh(this._rgb,1,e),this}desaturate(e){return dh(this._rgb,1,-e),this}rotate(e){return ez(this._rgb,e),this}}function QP(n){return new zp(n)}function $P(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function _k(n){return $P(n)?n:QP(n)}function p1(n){return $P(n)?n:QP(n).saturate(.5).darken(.1).hexString()}const La=Object.create(null),Z0=Object.create(null);function Ec(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const l=t[i];n=n[l]||(n[l]=Object.create(null))}return n}function m1(n,e,t){return typeof e=="string"?Hc(Ec(n,e),t):Hc(Ec(n,""),e)}class fz{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,i)=>p1(i.backgroundColor),this.hoverBorderColor=(t,i)=>p1(i.borderColor),this.hoverColor=(t,i)=>p1(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return m1(this,e,t)}get(e){return Ec(this,e)}describe(e,t){return m1(Z0,e,t)}override(e,t){return m1(La,e,t)}route(e,t,i,s){const l=Ec(this,e),r=Ec(this,i),o="_"+t;Object.defineProperties(l,{[o]:{value:l[t],writable:!0},[t]:{enumerable:!0,get(){const a=this[o],f=r[s];return an(a)?Object.assign({},f,a):pn(a,f)},set(a){this[o]=a}}})}}var mn=new fz({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function uz(n){return!n||Rn(n.size)||Rn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Hp(n,e,t,i,s){let l=e[s];return l||(l=e[s]=n.measureText(s).width,t.push(s)),l>i&&(i=l),i}function cz(n,e,t,i){i=i||{};let s=i.data=i.data||{},l=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},l=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let r=0;const o=t.length;let a,f,u,d,h;for(a=0;a<o;a++)if(d=t[a],d!=null&&Qn(d)!==!0)r=Hp(n,s,l,r,d);else if(Qn(d))for(f=0,u=d.length;f<u;f++)h=d[f],h!=null&&!Qn(h)&&(r=Hp(n,s,l,r,h));n.restore();const p=l.length/2;if(p>t.length){for(a=0;a<p;a++)delete s[l[a]];l.splice(0,p)}return r}function la(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function yk(n,e){e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function Q0(n,e,t,i){dz(n,e,t,i,null)}function dz(n,e,t,i,s){let l,r,o,a,f,u;const d=e.pointStyle,h=e.rotation,p=e.radius;let g=(h||0)*DV;if(d&&typeof d=="object"&&(l=d.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(g),n.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),n.restore();return}if(!(isNaN(p)||p<=0)){switch(n.beginPath(),d){default:s?n.ellipse(t,i,s/2,p,0,0,zn):n.arc(t,i,p,0,zn),n.closePath();break;case"triangle":n.moveTo(t+Math.sin(g)*p,i-Math.cos(g)*p),g+=ok,n.lineTo(t+Math.sin(g)*p,i-Math.cos(g)*p),g+=ok,n.lineTo(t+Math.sin(g)*p,i-Math.cos(g)*p),n.closePath();break;case"rectRounded":f=p*.516,a=p-f,r=Math.cos(g+$u)*a,o=Math.sin(g+$u)*a,n.arc(t-r,i-o,f,g-yi,g-bi),n.arc(t+o,i-r,f,g-bi,g),n.arc(t+r,i+o,f,g,g+bi),n.arc(t-o,i+r,f,g+bi,g+yi),n.closePath();break;case"rect":if(!h){a=Math.SQRT1_2*p,u=s?s/2:a,n.rect(t-u,i-a,2*u,2*a);break}g+=$u;case"rectRot":r=Math.cos(g)*p,o=Math.sin(g)*p,n.moveTo(t-r,i-o),n.lineTo(t+o,i-r),n.lineTo(t+r,i+o),n.lineTo(t-o,i+r),n.closePath();break;case"crossRot":g+=$u;case"cross":r=Math.cos(g)*p,o=Math.sin(g)*p,n.moveTo(t-r,i-o),n.lineTo(t+r,i+o),n.moveTo(t+o,i-r),n.lineTo(t-o,i+r);break;case"star":r=Math.cos(g)*p,o=Math.sin(g)*p,n.moveTo(t-r,i-o),n.lineTo(t+r,i+o),n.moveTo(t+o,i-r),n.lineTo(t-o,i+r),g+=$u,r=Math.cos(g)*p,o=Math.sin(g)*p,n.moveTo(t-r,i-o),n.lineTo(t+r,i+o),n.moveTo(t+o,i-r),n.lineTo(t-o,i+r);break;case"line":r=s?s/2:Math.cos(g)*p,o=Math.sin(g)*p,n.moveTo(t-r,i-o),n.lineTo(t+r,i+o);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(g)*p,i+Math.sin(g)*p);break}n.fill(),e.borderWidth>0&&n.stroke()}}function Uc(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function r2(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function o2(n){n.restore()}function hz(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const l=(e.x+t.x)/2;n.lineTo(l,e.y),n.lineTo(l,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function pz(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function qp(n,e,t,i,s,l={}){const r=Qn(e)?e:[e],o=l.strokeWidth>0&&l.strokeColor!=="";let a,f;for(n.save(),n.font=s.string,mz(n,l),a=0;a<r.length;++a)f=r[a],o&&(l.strokeColor&&(n.strokeStyle=l.strokeColor),Rn(l.strokeWidth)||(n.lineWidth=l.strokeWidth),n.strokeText(f,t,i,l.maxWidth)),n.fillText(f,t,i,l.maxWidth),gz(n,t,i,f,l),i+=s.lineHeight;n.restore()}function mz(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Rn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function gz(n,e,t,i,s){if(s.strikethrough||s.underline){const l=n.measureText(i),r=e-l.actualBoundingBoxLeft,o=e+l.actualBoundingBoxRight,a=t-l.actualBoundingBoxAscent,f=t+l.actualBoundingBoxDescent,u=s.strikethrough?(a+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(r,u),n.lineTo(o,u),n.stroke()}}function Wp(n,e){const{x:t,y:i,w:s,h:l,radius:r}=e;n.arc(t+r.topLeft,i+r.topLeft,r.topLeft,-bi,yi,!0),n.lineTo(t,i+l-r.bottomLeft),n.arc(t+r.bottomLeft,i+l-r.bottomLeft,r.bottomLeft,yi,bi,!0),n.lineTo(t+s-r.bottomRight,i+l),n.arc(t+s-r.bottomRight,i+l-r.bottomRight,r.bottomRight,bi,0,!0),n.lineTo(t+s,i+r.topRight),n.arc(t+s-r.topRight,i+r.topRight,r.topRight,0,-bi,!0),n.lineTo(t+r.topLeft,i)}const bz=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),_z=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function yz(n,e){const t=(""+n).match(bz);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const vz=n=>+n||0;function a2(n,e){const t={},i=an(e),s=i?Object.keys(e):e,l=an(n)?i?r=>pn(n[r],n[e[r]]):r=>n[r]:()=>n;for(const r of s)t[r]=vz(l(r));return t}function eD(n){return a2(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Df(n){return a2(n,["topLeft","topRight","bottomLeft","bottomRight"])}function yl(n){const e=eD(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ks(n,e){n=n||{},e=e||mn.font;let t=pn(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=pn(n.style,e.style);i&&!(""+i).match(_z)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const s={family:pn(n.family,e.family),lineHeight:yz(pn(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:pn(n.weight,e.weight),string:""};return s.string=uz(s),s}function hh(n,e,t,i){let s=!0,l,r,o;for(l=0,r=n.length;l<r;++l)if(o=n[l],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),s=!1),t!==void 0&&Qn(o)&&(o=o[t%o.length],s=!1),o!==void 0))return i&&!s&&(i.cacheable=!1),o}function kz(n,e,t){const{min:i,max:s}=n,l=VP(e,(s-i)/2),r=(o,a)=>t&&o===0?0:o+a;return{min:r(i,-Math.abs(l)),max:r(s,l)}}function xo(n,e){return Object.assign(Object.create(n),e)}function f2(n,e=[""],t=n,i,s=()=>n[0]){_l(i)||(i=sD("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:t,_fallback:i,_getTarget:s,override:r=>f2([r,...n],e,t,i)};return new Proxy(l,{deleteProperty(r,o){return delete r[o],delete r._keys,delete n[0][o],!0},get(r,o){return nD(r,o,()=>Ez(o,e,n,r))},getOwnPropertyDescriptor(r,o){return Reflect.getOwnPropertyDescriptor(r._scopes[0],o)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(r,o){return kk(r).includes(o)},ownKeys(r){return kk(r)},set(r,o,a){const f=r._storage||(r._storage=s());return r[o]=f[o]=a,delete r._keys,!0}})}function Qf(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:tD(n,i),setContext:l=>Qf(n,l,t,i),override:l=>Qf(n.override(l),e,t,i)};return new Proxy(s,{deleteProperty(l,r){return delete l[r],delete n[r],!0},get(l,r,o){return nD(l,r,()=>Sz(l,r,o))},getOwnPropertyDescriptor(l,r){return l._descriptors.allKeys?Reflect.has(n,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,r)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(l,r){return Reflect.has(n,r)},ownKeys(){return Reflect.ownKeys(n)},set(l,r,o){return n[r]=o,delete l[r],!0}})}function tD(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:Io(t)?t:()=>t,isIndexable:Io(i)?i:()=>i}}const wz=(n,e)=>n?n+e2(e):e,u2=(n,e)=>an(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function nD(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const i=t();return n[e]=i,i}function Sz(n,e,t){const{_proxy:i,_context:s,_subProxy:l,_descriptors:r}=n;let o=i[e];return Io(o)&&r.isScriptable(e)&&(o=Cz(e,o,n,t)),Qn(o)&&o.length&&(o=Mz(e,o,n,r.isIndexable)),u2(e,o)&&(o=Qf(o,s,l&&l[e],r)),o}function Cz(n,e,t,i){const{_proxy:s,_context:l,_subProxy:r,_stack:o}=t;if(o.has(n))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+n);return o.add(n),e=e(l,r||i),o.delete(n),u2(n,e)&&(e=c2(s._scopes,s,n,e)),e}function Mz(n,e,t,i){const{_proxy:s,_context:l,_subProxy:r,_descriptors:o}=t;if(_l(l.index)&&i(n))e=e[l.index%e.length];else if(an(e[0])){const a=e,f=s._scopes.filter(u=>u!==a);e=[];for(const u of a){const d=c2(f,s,n,u);e.push(Qf(d,l,r&&r[n],o))}}return e}function iD(n,e,t){return Io(n)?n(e,t):n}const Tz=(n,e)=>n===!0?e:typeof n=="string"?Do(e,n):void 0;function Az(n,e,t,i,s){for(const l of e){const r=Tz(t,l);if(r){n.add(r);const o=iD(r._fallback,t,s);if(_l(o)&&o!==t&&o!==i)return o}else if(r===!1&&_l(i)&&t!==i)return null}return!1}function c2(n,e,t,i){const s=e._rootScopes,l=iD(e._fallback,t,i),r=[...n,...s],o=new Set;o.add(i);let a=vk(o,r,t,l||t,i);return a===null||_l(l)&&l!==t&&(a=vk(o,r,l,a,i),a===null)?!1:f2(Array.from(o),[""],s,l,()=>Oz(e,t,i))}function vk(n,e,t,i,s){for(;t;)t=Az(n,e,t,i,s);return t}function Oz(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return Qn(s)&&an(t)?t:s}function Ez(n,e,t,i){let s;for(const l of e)if(s=sD(wz(l,n),t),_l(s))return u2(n,s)?c2(t,i,n,s):s}function sD(n,e){for(const t of e){if(!t)continue;const i=t[n];if(_l(i))return i}}function kk(n){let e=n._keys;return e||(e=n._keys=Pz(n._scopes)),e}function Pz(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function lD(n,e,t,i){const{iScale:s}=n,{key:l="r"}=this._parsing,r=new Array(i);let o,a,f,u;for(o=0,a=i;o<a;++o)f=o+t,u=e[f],r[o]={r:s.parse(Do(u,l),f)};return r}const Dz=Number.EPSILON||1e-14,$f=(n,e)=>e<n.length&&!n[e].skip&&n[e],rD=n=>n==="x"?"y":"x";function Iz(n,e,t,i){const s=n.skip?e:n,l=e,r=t.skip?e:t,o=G0(l,s),a=G0(r,l);let f=o/(o+a),u=a/(o+a);f=isNaN(f)?0:f,u=isNaN(u)?0:u;const d=i*f,h=i*u;return{previous:{x:l.x-d*(r.x-s.x),y:l.y-d*(r.y-s.y)},next:{x:l.x+h*(r.x-s.x),y:l.y+h*(r.y-s.y)}}}function Rz(n,e,t){const i=n.length;let s,l,r,o,a,f=$f(n,0);for(let u=0;u<i-1;++u)if(a=f,f=$f(n,u+1),!(!a||!f)){if(Ac(e[u],0,Dz)){t[u]=t[u+1]=0;continue}s=t[u]/e[u],l=t[u+1]/e[u],o=Math.pow(s,2)+Math.pow(l,2),!(o<=9)&&(r=3/Math.sqrt(o),t[u]=s*r*e[u],t[u+1]=l*r*e[u])}}function Nz(n,e,t="x"){const i=rD(t),s=n.length;let l,r,o,a=$f(n,0);for(let f=0;f<s;++f){if(r=o,o=a,a=$f(n,f+1),!o)continue;const u=o[t],d=o[i];r&&(l=(u-r[t])/3,o[`cp1${t}`]=u-l,o[`cp1${i}`]=d-l*e[f]),a&&(l=(a[t]-u)/3,o[`cp2${t}`]=u+l,o[`cp2${i}`]=d+l*e[f])}}function Lz(n,e="x"){const t=rD(e),i=n.length,s=Array(i).fill(0),l=Array(i);let r,o,a,f=$f(n,0);for(r=0;r<i;++r)if(o=a,a=f,f=$f(n,r+1),!!a){if(f){const u=f[e]-a[e];s[r]=u!==0?(f[t]-a[t])/u:0}l[r]=o?f?ur(s[r-1])!==ur(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}Rz(n,s,l),Nz(n,l,e)}function ph(n,e,t){return Math.max(Math.min(n,t),e)}function Fz(n,e){let t,i,s,l,r,o=Uc(n[0],e);for(t=0,i=n.length;t<i;++t)r=l,l=o,o=t<i-1&&Uc(n[t+1],e),l&&(s=n[t],r&&(s.cp1x=ph(s.cp1x,e.left,e.right),s.cp1y=ph(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=ph(s.cp2x,e.left,e.right),s.cp2y=ph(s.cp2y,e.top,e.bottom)))}function jz(n,e,t,i,s){let l,r,o,a;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")Lz(n,s);else{let f=i?n[n.length-1]:n[0];for(l=0,r=n.length;l<r;++l)o=n[l],a=Iz(f,o,n[Math.min(l+1,r-(i?0:1))%r],e.tension),o.cp1x=a.previous.x,o.cp1y=a.previous.y,o.cp2x=a.next.x,o.cp2y=a.next.y,f=o}e.capBezierPoints&&Fz(n,t)}function oD(){return typeof window<"u"&&typeof document<"u"}function d2(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Up(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const ig=n=>window.getComputedStyle(n,null);function Bz(n,e){return ig(n).getPropertyValue(e)}const Vz=["top","right","bottom","left"];function Oa(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const l=Vz[s];i[l]=parseFloat(n[e+"-"+l+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const zz=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Hz(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:l}=i;let r=!1,o,a;if(zz(s,l,n.target))o=s,a=l;else{const f=e.getBoundingClientRect();o=i.clientX-f.left,a=i.clientY-f.top,r=!0}return{x:o,y:a,box:r}}function ha(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=ig(t),l=s.boxSizing==="border-box",r=Oa(s,"padding"),o=Oa(s,"border","width"),{x:a,y:f,box:u}=Hz(n,t),d=r.left+(u&&o.left),h=r.top+(u&&o.top);let{width:p,height:g}=e;return l&&(p-=r.width+o.width,g-=r.height+o.height),{x:Math.round((a-d)/p*t.width/i),y:Math.round((f-h)/g*t.height/i)}}function qz(n,e,t){let i,s;if(e===void 0||t===void 0){const l=d2(n);if(!l)e=n.clientWidth,t=n.clientHeight;else{const r=l.getBoundingClientRect(),o=ig(l),a=Oa(o,"border","width"),f=Oa(o,"padding");e=r.width-f.width-a.width,t=r.height-f.height-a.height,i=Up(o.maxWidth,l,"clientWidth"),s=Up(o.maxHeight,l,"clientHeight")}}return{width:e,height:t,maxWidth:i||Vp,maxHeight:s||Vp}}const g1=n=>Math.round(n*10)/10;function Wz(n,e,t,i){const s=ig(n),l=Oa(s,"margin"),r=Up(s.maxWidth,n,"clientWidth")||Vp,o=Up(s.maxHeight,n,"clientHeight")||Vp,a=qz(n,e,t);let{width:f,height:u}=a;if(s.boxSizing==="content-box"){const d=Oa(s,"border","width"),h=Oa(s,"padding");f-=h.width+d.width,u-=h.height+d.height}return f=Math.max(0,f-l.width),u=Math.max(0,i?Math.floor(f/i):u-l.height),f=g1(Math.min(f,r,a.maxWidth)),u=g1(Math.min(u,o,a.maxHeight)),f&&!u&&(u=g1(f/2)),{width:f,height:u}}function wk(n,e,t){const i=e||1,s=Math.floor(n.height*i),l=Math.floor(n.width*i);n.height=s/i,n.width=l/i;const r=n.canvas;return r.style&&(t||!r.style.height&&!r.style.width)&&(r.style.height=`${n.height}px`,r.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||r.height!==s||r.width!==l?(n.currentDevicePixelRatio=i,r.height=s,r.width=l,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Uz=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n}();function Sk(n,e){const t=Bz(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function pa(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Kz(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function Jz(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},l={x:e.cp1x,y:e.cp1y},r=pa(n,s,t),o=pa(s,l,t),a=pa(l,e,t),f=pa(r,o,t),u=pa(o,a,t);return pa(f,u,t)}const Ck=new Map;function xz(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Ck.get(t);return i||(i=new Intl.NumberFormat(n,e),Ck.set(t,i)),i}function Dd(n,e,t){return xz(e,t).format(n)}const Yz=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},Gz=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function b1(n,e,t){return n?Yz(e,t):Gz()}function Xz(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Zz(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function aD(n){return n==="angle"?{between:qc,compare:NV,normalize:qs}:{between:Wc,compare:(e,t)=>e-t,normalize:e=>e}}function Mk({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function Qz(n,e,t){const{property:i,start:s,end:l}=t,{between:r,normalize:o}=aD(i),a=e.length;let{start:f,end:u,loop:d}=n,h,p;if(d){for(f+=a,u+=a,h=0,p=a;h<p&&r(o(e[f%a][i]),s,l);++h)f--,u--;f%=a,u%=a}return u<f&&(u+=a),{start:f,end:u,loop:d,style:n.style}}function fD(n,e,t){if(!t)return[n];const{property:i,start:s,end:l}=t,r=e.length,{compare:o,between:a,normalize:f}=aD(i),{start:u,end:d,loop:h,style:p}=Qz(n,e,t),g=[];let b=!1,_=null,y,w,A;const M=()=>a(s,A,y)&&o(s,A)!==0,T=()=>o(l,y)===0||a(l,A,y),O=()=>b||M(),E=()=>!b||T();for(let R=u,N=u;R<=d;++R)w=e[R%r],!w.skip&&(y=f(w[i]),y!==A&&(b=a(y,s,l),_===null&&O()&&(_=o(y,s)===0?R:N),_!==null&&E()&&(g.push(Mk({start:_,end:R,loop:h,count:r,style:p})),_=null),N=R,A=y));return _!==null&&g.push(Mk({start:_,end:d,loop:h,count:r,style:p})),g}function uD(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const l=fD(i[s],n.points,e);l.length&&t.push(...l)}return t}function $z(n,e,t,i){let s=0,l=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(l+=s);l>s&&n[l%e].skip;)l--;return l%=e,{start:s,end:l}}function eH(n,e,t,i){const s=n.length,l=[];let r=e,o=n[e],a;for(a=e+1;a<=t;++a){const f=n[a%s];f.skip||f.stop?o.skip||(i=!1,l.push({start:e%s,end:(a-1)%s,loop:i}),e=r=f.stop?a:null):(r=a,o.skip&&(e=a)),o=f}return r!==null&&l.push({start:e%s,end:r%s,loop:i}),l}function tH(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const l=!!n._loop,{start:r,end:o}=$z(t,s,l,i);if(i===!0)return Tk(n,[{start:r,end:o,loop:l}],t,e);const a=o<r?o+s:o,f=!!n._fullLoop&&r===0&&o===s-1;return Tk(n,eH(t,r,a,f),t,e)}function Tk(n,e,t,i){return!i||!i.setContext||!t?e:nH(n,e,t,i)}function nH(n,e,t,i){const s=n._chart.getContext(),l=Ak(n.options),{_datasetIndex:r,options:{spanGaps:o}}=n,a=t.length,f=[];let u=l,d=e[0].start,h=d;function p(g,b,_,y){const w=o?-1:1;if(g!==b){for(g+=a;t[g%a].skip;)g-=w;for(;t[b%a].skip;)b+=w;g%a!==b%a&&(f.push({start:g%a,end:b%a,loop:_,style:y}),u=y,d=b%a)}}for(const g of e){d=o?d:g.start;let b=t[d%a],_;for(h=d+1;h<=g.end;h++){const y=t[h%a];_=Ak(i.setContext(xo(s,{type:"segment",p0:b,p1:y,p0DataIndex:(h-1)%a,p1DataIndex:h%a,datasetIndex:r}))),iH(_,u)&&p(d,h-1,g.loop,u),b=y,u=_}d<h-1&&p(d,h-1,g.loop,u)}return f}function Ak(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function iH(n,e){return e&&JSON.stringify(n)!==JSON.stringify(e)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class sH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const l=t.listeners[s],r=t.duration;l.forEach(o=>o({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(i-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=KP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const l=i.items;let r=l.length-1,o=!1,a;for(;r>=0;--r)a=l[r],a._active?(a._total>i.duration&&(i.duration=a._total),a.tick(e),o=!0):(l[r]=l[l.length-1],l.pop());o&&(s.draw(),this._notify(s,i,e,"progress")),l.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=l.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ir=new sH;const Ok="transparent",lH={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=_k(n||Ok),s=i.valid&&_k(e||Ok);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class rH{constructor(e,t,i,s){const l=t[i];s=hh([e.to,s,l,e.from]);const r=hh([e.from,l,s]);this._active=!0,this._fn=e.fn||lH[e.type||typeof r],this._easing=Oc[e.easing]||Oc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],l=i-this._start,r=this._duration-l;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=hh([e.to,t,s,e.from]),this._from=hh([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,l=this._from,r=this._loop,o=this._to;let a;if(this._active=l!==o&&(r||t<i),!this._active){this._target[s]=o,this._notify(!0);return}if(t<0){this._target[s]=l;return}a=t/i%2,a=r&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[s]=this._fn(l,o,a)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}const oH=["x","y","borderWidth","radius","tension"],aH=["color","borderColor","backgroundColor"];mn.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const fH=Object.keys(mn.animation);mn.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"});mn.set("animations",{colors:{type:"color",properties:aH},numbers:{type:"number",properties:oH}});mn.describe("animations",{_fallback:"animation"});mn.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}});class cD{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!an(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!an(s))return;const l={};for(const r of fH)l[r]=s[r];(Qn(s.properties)&&s.properties||[i]).forEach(r=>{(r===i||!t.has(r))&&t.set(r,l)})})}_animateOptions(e,t){const i=t.options,s=cH(e,i);if(!s)return[];const l=this._createAnimations(s,i);return i.$shared&&uH(e.options.$animations,i).then(()=>{e.options=i},()=>{}),l}_createAnimations(e,t){const i=this._properties,s=[],l=e.$animations||(e.$animations={}),r=Object.keys(t),o=Date.now();let a;for(a=r.length-1;a>=0;--a){const f=r[a];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(e,t));continue}const u=t[f];let d=l[f];const h=i.get(f);if(d)if(h&&d.active()){d.update(h,u,o);continue}else d.cancel();if(!h||!h.duration){e[f]=u;continue}l[f]=d=new rH(h,e,f,u),s.push(d)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Ir.add(this._chart,i),!0}}function uH(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const l=n[i[s]];l&&l.active()&&t.push(l.wait())}return Promise.all(t)}function cH(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Ek(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,l=t.max===void 0?e:0;return{start:i?l:s,end:i?s:l}}function dH(n,e,t){if(t===!1)return!1;const i=Ek(n,t),s=Ek(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function hH(n){let e,t,i,s;return an(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function dD(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,l;for(s=0,l=i.length;s<l;++s)t.push(i[s].index);return t}function Pk(n,e,t,i={}){const s=n.keys,l=i.mode==="single";let r,o,a,f;if(e!==null){for(r=0,o=s.length;r<o;++r){if(a=+s[r],a===t){if(i.all)continue;break}f=n.values[a],Oi(f)&&(l||e===0||ur(e)===ur(f))&&(e+=f)}return e}}function pH(n){const e=Object.keys(n),t=new Array(e.length);let i,s,l;for(i=0,s=e.length;i<s;++i)l=e[i],t[i]={x:l,y:n[l]};return t}function Dk(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function mH(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function gH(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function bH(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Ik(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const l=n[s.index];if(t&&l>0||!t&&l<0)return s.index}return null}function Rk(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:l,vScale:r,index:o}=i,a=l.axis,f=r.axis,u=mH(l,r,i),d=e.length;let h;for(let p=0;p<d;++p){const g=e[p],{[a]:b,[f]:_}=g,y=g._stacks||(g._stacks={});h=y[f]=bH(s,u,b),h[o]=_,h._top=Ik(h,r,!0,i.type),h._bottom=Ik(h,r,!1,i.type)}}function _1(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function _H(n,e){return xo(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function yH(n,e,t){return xo(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ec(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const l=s._stacks;if(!l||l[i]===void 0||l[i][t]===void 0)return;delete l[i][t]}}}const y1=n=>n==="reset"||n==="none",Nk=(n,e)=>e?n:Object.assign({},n),vH=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:dD(t,!0),values:null};class Wl{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Dk(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&ec(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(d,h,p,g)=>d==="x"?h:d==="r"?g:p,l=t.xAxisID=pn(i.xAxisID,_1(e,"x")),r=t.yAxisID=pn(i.yAxisID,_1(e,"y")),o=t.rAxisID=pn(i.rAxisID,_1(e,"r")),a=t.indexAxis,f=t.iAxisID=s(a,l,r,o),u=t.vAxisID=s(a,r,l,o);t.xScale=this.getScaleForId(l),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&uk(this._data,this),e._stacked&&ec(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(an(t))this._data=pH(t);else if(i!==t){if(i){uk(i,this);const s=this._cachedMeta;ec(s),s._parsed=[]}t&&Object.isExtensible(t)&&BV(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const l=t._stacked;t._stacked=Dk(t.vScale,t),t.stack!==i.stack&&(s=!0,ec(t),t.stack=i.stack),this._resyncElements(e),(s||l!==t._stacked)&&Rk(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:l,_stacked:r}=i,o=l.axis;let a=e===0&&t===s.length?!0:i._sorted,f=e>0&&i._parsed[e-1],u,d,h;if(this._parsing===!1)i._parsed=s,i._sorted=!0,h=s;else{Qn(s[e])?h=this.parseArrayData(i,s,e,t):an(s[e])?h=this.parseObjectData(i,s,e,t):h=this.parsePrimitiveData(i,s,e,t);const p=()=>d[o]===null||f&&d[o]<f[o];for(u=0;u<t;++u)i._parsed[u+e]=d=h[u],a&&(p()&&(a=!1),f=d);i._sorted=a}r&&Rk(this,h)}parsePrimitiveData(e,t,i,s){const{iScale:l,vScale:r}=e,o=l.axis,a=r.axis,f=l.getLabels(),u=l===r,d=new Array(s);let h,p,g;for(h=0,p=s;h<p;++h)g=h+i,d[h]={[o]:u||l.parse(f[g],g),[a]:r.parse(t[g],g)};return d}parseArrayData(e,t,i,s){const{xScale:l,yScale:r}=e,o=new Array(s);let a,f,u,d;for(a=0,f=s;a<f;++a)u=a+i,d=t[u],o[a]={x:l.parse(d[0],u),y:r.parse(d[1],u)};return o}parseObjectData(e,t,i,s){const{xScale:l,yScale:r}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,f=new Array(s);let u,d,h,p;for(u=0,d=s;u<d;++u)h=u+i,p=t[h],f[u]={x:l.parse(Do(p,o),h),y:r.parse(Do(p,a),h)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,l=this._cachedMeta,r=t[e.axis],o={keys:dD(s,!0),values:t._stacks[e.axis]};return Pk(o,r,l.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const l=i[t.axis];let r=l===null?NaN:l;const o=s&&i._stacks[t.axis];s&&o&&(s.values=o,r=Pk(s,l,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,l=i._sorted&&e===i.iScale,r=s.length,o=this._getOtherScale(e),a=vH(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=gH(o);let h,p;function g(){p=s[h];const b=p[o.axis];return!Oi(p[e.axis])||u>b||d<b}for(h=0;h<r&&!(!g()&&(this.updateRangeFromParsed(f,e,p,a),l));++h);if(l){for(h=r-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(f,e,p,a);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,l,r;for(s=0,l=t.length;s<l;++s)r=t[s][e.axis],Oi(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,l=this.getParsed(e);return{label:i?""+i.getLabelForValue(l[i.axis]):"",value:s?""+s.getLabelForValue(l[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=hH(pn(this.options.clip,dH(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],l=t.chartArea,r=[],o=this._drawStart||0,a=this._drawCount||s.length-o,f=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,l,o,a),u=o;u<o+a;++u){const d=s[u];d.hidden||(d.active&&f?r.push(d):d.draw(e,l))}for(u=0;u<r.length;++u)r[u].draw(e,l)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];l=r.$context||(r.$context=yH(this.getContext(),e,r)),l.parsed=this.getParsed(e),l.raw=s.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=_H(this.chart.getContext(),this.index)),l.dataset=s,l.index=l.datasetIndex=this.index;return l.active=!!t,l.mode=i,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",l=this._cachedDataOpts,r=e+"-"+t,o=l[r],a=this.enableOptionSharing&&_l(i);if(o)return Nk(o,a);const f=this.chart.config,u=f.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],h=f.getOptionScopes(this.getDataset(),u),p=Object.keys(mn.elements[e]),g=()=>this.getContext(i,s),b=f.resolveNamedOptions(h,p,g,d);return b.$shared&&(b.$shared=a,l[r]=Object.freeze(Nk(b,a))),b}_resolveAnimations(e,t,i){const s=this.chart,l=this._cachedDataOpts,r=`animation-${t}`,o=l[r];if(o)return o;let a;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,t),h=u.getOptionScopes(this.getDataset(),d);a=u.createResolver(h,this.getContext(e,i,t))}const f=new cD(s,a&&a.animations);return a&&a._cacheable&&(l[r]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||y1(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,l=this.getSharedOptions(i),r=this.includeOptions(t,l)||l!==s;return this.updateSharedOptions(l,t,i),{sharedOptions:l,includeOptions:r}}updateElement(e,t,i,s){y1(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!y1(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const l=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(l)||l})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[o,a,f]of this._syncList)this[o](a,f);this._syncList=[];const s=i.length,l=t.length,r=Math.min(l,s);r&&this.parse(0,r),l>s?this._insertElements(s,l-s,e):l<s&&this._removeElements(l,s-l)}_insertElements(e,t,i=!0){const s=this._cachedMeta,l=s.data,r=e+t;let o;const a=f=>{for(f.length+=t,o=f.length-1;o>=r;o--)f[o]=f[o-t]};for(a(l),o=e;o<r;++o)l[o]=new this.dataElementType;this._parsing&&a(s._parsed),this.parse(e,t),i&&this.updateElements(l,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&ec(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Wl.defaults={};Wl.prototype.datasetElementType=null;Wl.prototype.dataElementType=null;function kH(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let s=0,l=t.length;s<l;s++)i=i.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=UP(i.sort((s,l)=>s-l))}return n._cache.$bar}function wH(n){const e=n.iScale,t=kH(e,n.type);let i=e._length,s,l,r,o;const a=()=>{r===32767||r===-32768||(_l(o)&&(i=Math.min(i,Math.abs(r-o)||i)),o=r)};for(s=0,l=t.length;s<l;++s)r=e.getPixelForValue(t[s]),a();for(o=void 0,s=0,l=e.ticks.length;s<l;++s)r=e.getPixelForTick(s),a();return i}function SH(n,e,t,i){const s=t.barThickness;let l,r;return Rn(s)?(l=e.min*t.categoryPercentage,r=t.barPercentage):(l=s*i,r=1),{chunk:l/i,ratio:r,start:e.pixels[n]-l/2}}function CH(n,e,t,i){const s=e.pixels,l=s[n];let r=n>0?s[n-1]:null,o=n<s.length-1?s[n+1]:null;const a=t.categoryPercentage;r===null&&(r=l-(o===null?e.end-e.start:o-l)),o===null&&(o=l+l-r);const f=l-(l-Math.min(r,o))/2*a;return{chunk:Math.abs(o-r)/2*a/i,ratio:t.barPercentage,start:f}}function MH(n,e,t,i){const s=t.parse(n[0],i),l=t.parse(n[1],i),r=Math.min(s,l),o=Math.max(s,l);let a=r,f=o;Math.abs(r)>Math.abs(o)&&(a=o,f=r),e[t.axis]=f,e._custom={barStart:a,barEnd:f,start:s,end:l,min:r,max:o}}function hD(n,e,t,i){return Qn(n)?MH(n,e,t,i):e[t.axis]=t.parse(n,i),e}function Lk(n,e,t,i){const s=n.iScale,l=n.vScale,r=s.getLabels(),o=s===l,a=[];let f,u,d,h;for(f=t,u=t+i;f<u;++f)h=e[f],d={},d[s.axis]=o||s.parse(r[f],f),a.push(hD(h,d,l,f));return a}function v1(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function TH(n,e,t){return n!==0?ur(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function AH(n){let e,t,i,s,l;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(s="end",l="start"):(s="start",l="end"),{start:t,end:i,reverse:e,top:s,bottom:l}}function OH(n,e,t,i){let s=e.borderSkipped;const l={};if(!s){n.borderSkipped=l;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:o,reverse:a,top:f,bottom:u}=AH(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?s=f:(t._bottom||0)===i?s=u:(l[Fk(u,r,o,a)]=!0,s=f)),l[Fk(s,r,o,a)]=!0,n.borderSkipped=l}function Fk(n,e,t,i){return i?(n=EH(n,e,t),n=jk(n,t,e)):n=jk(n,e,t),n}function EH(n,e,t){return n===e?t:n===t?e:n}function jk(n,e,t){return n==="start"?e:n==="end"?t:n}function PH(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class h2 extends Wl{parsePrimitiveData(e,t,i,s){return Lk(e,t,i,s)}parseArrayData(e,t,i,s){return Lk(e,t,i,s)}parseObjectData(e,t,i,s){const{iScale:l,vScale:r}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,f=l.axis==="x"?o:a,u=r.axis==="x"?o:a,d=[];let h,p,g,b;for(h=i,p=i+s;h<p;++h)b=t[h],g={},g[l.axis]=l.parse(Do(b,f),h),d.push(hD(Do(b,u),g,r,h));return d}updateRangeFromParsed(e,t,i,s){super.updateRangeFromParsed(e,t,i,s);const l=i._custom;l&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:s}=t,l=this.getParsed(e),r=l._custom,o=v1(r)?"["+r.start+", "+r.end+"]":""+s.getLabelForValue(l[s.axis]);return{label:""+i.getLabelForValue(l[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,s){const l=s==="reset",{index:r,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),f=o.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(t,s);for(let p=t;p<t+i;p++){const g=this.getParsed(p),b=l||Rn(g[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(p),_=this._calculateBarIndexPixels(p,u),y=(g._stacks||{})[o.axis],w={horizontal:f,base:b.base,enableBorderRadius:!y||v1(g._custom)||r===y._top||r===y._bottom,x:f?b.head:_.center,y:f?_.center:b.head,height:f?_.size:Math.abs(b.size),width:f?Math.abs(b.size):_.size};h&&(w.options=d||this.resolveDataElementOptions(p,e[p].active?"active":s));const A=w.options||e[p].options;OH(w,A,y,r),PH(w,A,u.ratio),this.updateElement(e[p],p,w,s)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(a=>a.controller.options.grouped),l=i.options.stacked,r=[],o=a=>{const f=a.controller.getParsed(t),u=f&&f[a.vScale.axis];if(Rn(u)||isNaN(u))return!0};for(const a of s)if(!(t!==void 0&&o(a))&&((l===!1||r.indexOf(a.stack)===-1||l===void 0&&a.stack===void 0)&&r.push(a.stack),a.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const s=this._getStacks(e,i),l=t!==void 0?s.indexOf(t):-1;return l===-1?s.length-1:l}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,s=[];let l,r;for(l=0,r=t.data.length;l<r;++l)s.push(i.getPixelForValue(this.getParsed(l)[i.axis],l));const o=e.barThickness;return{min:o||wH(t),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i},options:{base:s,minBarLength:l}}=this,r=s||0,o=this.getParsed(e),a=o._custom,f=v1(a);let u=o[t.axis],d=0,h=i?this.applyStack(t,o,i):u,p,g;h!==u&&(d=h-u,h=u),f&&(u=a.barStart,h=a.barEnd-a.barStart,u!==0&&ur(u)!==ur(a.barEnd)&&(d=0),d+=u);const b=!Rn(s)&&!f?s:d;let _=t.getPixelForValue(b);if(this.chart.getDataVisibility(e)?p=t.getPixelForValue(d+h):p=_,g=p-_,Math.abs(g)<l){g=TH(g,t,r)*l,u===r&&(_-=g/2);const y=t.getPixelForDecimal(0),w=t.getPixelForDecimal(1),A=Math.min(y,w),M=Math.max(y,w);_=Math.max(Math.min(_,M),A),p=_+g}if(_===t.getPixelForValue(r)){const y=ur(g)*t.getLineWidthForValue(r)/2;_+=y,g-=y}return{size:g,base:_,head:p,center:p+g/2}}_calculateBarIndexPixels(e,t){const i=t.scale,s=this.options,l=s.skipNull,r=pn(s.maxBarThickness,1/0);let o,a;if(t.grouped){const f=l?this._getStackCount(e):t.stackCount,u=s.barThickness==="flex"?CH(e,t,s,f):SH(e,t,s,f),d=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0);o=u.start+u.chunk*d+u.chunk/2,a=Math.min(r,u.chunk*u.ratio)}else o=i.getPixelForValue(this.getParsed(e)[i.axis],e),a=Math.min(r,t.min*t.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,s=i.length;let l=0;for(;l<s;++l)this.getParsed(l)[t.axis]!==null&&i[l].draw(this._ctx)}}h2.id="bar";h2.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};h2.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class p2 extends Wl{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,s){const l=super.parsePrimitiveData(e,t,i,s);for(let r=0;r<l.length;r++)l[r]._custom=this.resolveDataElementOptions(r+i).radius;return l}parseArrayData(e,t,i,s){const l=super.parseArrayData(e,t,i,s);for(let r=0;r<l.length;r++){const o=t[i+r];l[r]._custom=pn(o[2],this.resolveDataElementOptions(r+i).radius)}return l}parseObjectData(e,t,i,s){const l=super.parseObjectData(e,t,i,s);for(let r=0;r<l.length;r++){const o=t[i+r];l[r]._custom=pn(o&&o.r&&+o.r,this.resolveDataElementOptions(r+i).radius)}return l}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:i,yScale:s}=t,l=this.getParsed(e),r=i.getLabelForValue(l.x),o=s.getLabelForValue(l.y),a=l._custom;return{label:t.label,value:"("+r+", "+o+(a?", "+a:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,s){const l=s==="reset",{iScale:r,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:f}=this._getSharedOptions(t,s),u=r.axis,d=o.axis;for(let h=t;h<t+i;h++){const p=e[h],g=!l&&this.getParsed(h),b={},_=b[u]=l?r.getPixelForDecimal(.5):r.getPixelForValue(g[u]),y=b[d]=l?o.getBasePixel():o.getPixelForValue(g[d]);b.skip=isNaN(_)||isNaN(y),f&&(b.options=a||this.resolveDataElementOptions(h,p.active?"active":s),l&&(b.options.radius=0)),this.updateElement(p,h,b,s)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,t);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const l=s.radius;return t!=="active"&&(s.radius=0),s.radius+=pn(i&&i._custom,l),s}}p2.id="bubble";p2.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};p2.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function DH(n,e,t){let i=1,s=1,l=0,r=0;if(e<zn){const o=n,a=o+e,f=Math.cos(o),u=Math.sin(o),d=Math.cos(a),h=Math.sin(a),p=(A,M,T)=>qc(A,o,a,!0)?1:Math.max(M,M*t,T,T*t),g=(A,M,T)=>qc(A,o,a,!0)?-1:Math.min(M,M*t,T,T*t),b=p(0,f,d),_=p(bi,u,h),y=g(yi,f,d),w=g(yi+bi,u,h);i=(b-y)/2,s=(_-w)/2,l=-(b+y)/2,r=-(_+w)/2}return{ratioX:i,ratioY:s,offsetX:l,offsetY:r}}class Id extends Wl{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let l=a=>+i[a];if(an(i[e])){const{key:a="value"}=this._parsing;l=f=>+Do(i[f],a)}let r,o;for(r=e,o=e+t;r<o;++r)s._parsed[r]=l(r)}}_getRotation(){return Nl(this.options.rotation-90)}_getCircumference(){return Nl(this.options.circumference)}_getRotationExtents(){let e=zn,t=-zn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const s=this.chart.getDatasetMeta(i).controller,l=s._getRotation(),r=s._getCircumference();e=Math.min(e,l),t=Math.max(t,l+r)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,s=this._cachedMeta,l=s.data,r=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,o=Math.max((Math.min(i.width,i.height)-r)/2,0),a=Math.min(CV(this.options.cutout,o),1),f=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:g,offsetY:b}=DH(d,u,a),_=(i.width-r)/h,y=(i.height-r)/p,w=Math.max(Math.min(_,y)/2,0),A=VP(this.options.radius,w),M=Math.max(A*a,0),T=(A-M)/this._getVisibleDatasetWeightTotal();this.offsetX=g*A,this.offsetY=b*A,s.total=this.calculateTotal(),this.outerRadius=A-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*f,0),this.updateElements(l,0,l.length,e)}_circumference(e,t){const i=this.options,s=this._cachedMeta,l=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*l/zn)}updateElements(e,t,i,s){const l=s==="reset",r=this.chart,o=r.chartArea,f=r.options.animation,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,h=l&&f.animateScale,p=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:b,includeOptions:_}=this._getSharedOptions(t,s);let y=this._getRotation(),w;for(w=0;w<t;++w)y+=this._circumference(w,l);for(w=t;w<t+i;++w){const A=this._circumference(w,l),M=e[w],T={x:u+this.offsetX,y:d+this.offsetY,startAngle:y,endAngle:y+A,circumference:A,outerRadius:g,innerRadius:p};_&&(T.options=b||this.resolveDataElementOptions(w,M.active?"active":s)),y+=A,this.updateElement(M,w,T,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,s;for(s=0;s<t.length;s++){const l=e._parsed[s];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(i+=Math.abs(l))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?zn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],l=Dd(t._parsed[e],i.options.locale);return{label:s[e]||"",value:l}}getMaxBorderWidth(e){let t=0;const i=this.chart;let s,l,r,o,a;if(!e){for(s=0,l=i.data.datasets.length;s<l;++s)if(i.isDatasetVisible(s)){r=i.getDatasetMeta(s),e=r.data,o=r.controller;break}}if(!e)return 0;for(s=0,l=e.length;s<l;++s)a=o.resolveDataElementOptions(s),a.borderAlign!=="inner"&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,s=e.length;i<s;++i){const l=this.resolveDataElementOptions(i);t=Math.max(t,l.offset||0,l.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(pn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Id.id="doughnut";Id.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Id.descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"};Id.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const e=n.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=n.legend.options;return e.labels.map((i,s)=>{const r=n.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:t,hidden:!n.getDataVisibility(s),index:s}})}return[]}},onClick(n,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){let e=n.label;const t=": "+n.formattedValue;return Qn(e)?(e=e.slice(),e[0]+=t):e+=t,e}}}}};class sg extends Wl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:l}=t,r=this.chart._animationsDisabled;let{start:o,count:a}=xP(t,s,r);this._drawStart=o,this._drawCount=a,YP(t)&&(o=0,a=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!l._decimated,i.points=s;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:f},e),this.updateElements(s,o,a,e)}updateElements(e,t,i,s){const l=s==="reset",{iScale:r,vScale:o,_stacked:a,_dataset:f}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,s),h=r.axis,p=o.axis,{spanGaps:g,segment:b}=this.options,_=Zf(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||l||s==="none";let w=t>0&&this.getParsed(t-1);for(let A=t;A<t+i;++A){const M=e[A],T=this.getParsed(A),O=y?M:{},E=Rn(T[p]),R=O[h]=r.getPixelForValue(T[h],A),N=O[p]=l||E?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,T,a):T[p],A);O.skip=isNaN(R)||isNaN(N)||E,O.stop=A>0&&Math.abs(T[h]-w[h])>_,b&&(O.parsed=T,O.raw=f.data[A]),d&&(O.options=u||this.resolveDataElementOptions(A,M.active?"active":s)),y||this.updateElement(M,A,O,s),w=T}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const l=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,l,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}sg.id="line";sg.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};sg.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class m2 extends Wl{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],l=Dd(t._parsed[e].r,i.options.locale);return{label:s[e]||"",value:l}}parseObjectData(e,t,i,s){return lD.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const l=this.getParsed(s).r;!isNaN(l)&&this.chart.getDataVisibility(s)&&(l<t.min&&(t.min=l),l>t.max&&(t.max=l))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,s=Math.min(t.right-t.left,t.bottom-t.top),l=Math.max(s/2,0),r=Math.max(i.cutoutPercentage?l/100*i.cutoutPercentage:1,0),o=(l-r)/e.getVisibleDatasetCount();this.outerRadius=l-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,i,s){const l=s==="reset",r=this.chart,a=r.options.animation,f=this._cachedMeta.rScale,u=f.xCenter,d=f.yCenter,h=f.getIndexAngle(0)-.5*yi;let p=h,g;const b=360/this.countVisibleElements();for(g=0;g<t;++g)p+=this._computeAngle(g,s,b);for(g=t;g<t+i;g++){const _=e[g];let y=p,w=p+this._computeAngle(g,s,b),A=r.getDataVisibility(g)?f.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=w,l&&(a.animateScale&&(A=0),a.animateRotate&&(y=w=h));const M={x:u,y:d,innerRadius:0,outerRadius:A,startAngle:y,endAngle:w,options:this.resolveDataElementOptions(g,_.active?"active":s)};this.updateElement(_,g,M,s)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?Nl(this.resolveDataElementOptions(e,t).angle||i):0}}m2.id="polarArea";m2.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};m2.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const e=n.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=n.legend.options;return e.labels.map((i,s)=>{const r=n.getDatasetMeta(0).controller.getStyle(s);return{text:i,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:t,hidden:!n.getDataVisibility(s),index:s}})}return[]}},onClick(n,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){return n.chart.data.labels[n.dataIndex]+": "+n.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class pD extends Id{}pD.id="pie";pD.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class g2 extends Wl{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,s){return lD.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta,i=t.dataset,s=t.data||[],l=t.iScale.getLabels();if(i.points=s,e!=="resize"){const r=this.resolveDatasetElementOptions(e);this.options.showLine||(r.borderWidth=0);const o={_loop:!0,_fullLoop:l.length===s.length,options:r};this.updateElement(i,void 0,o,e)}this.updateElements(s,0,s.length,e)}updateElements(e,t,i,s){const l=this._cachedMeta.rScale,r=s==="reset";for(let o=t;o<t+i;o++){const a=e[o],f=this.resolveDataElementOptions(o,a.active?"active":s),u=l.getPointPositionForValue(o,this.getParsed(o).r),d=r?l.xCenter:u.x,h=r?l.yCenter:u.y,p={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:f};this.updateElement(a,o,p,s)}}}g2.id="radar";g2.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};g2.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};let no=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Zf(this.x)&&Zf(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(l=>{s[l]=i[l]&&i[l].active()?i[l]._to:this[l]}),s}};no.defaults={};no.defaultRoutes=void 0;const mD={values(n){return Qn(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,l=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),l=IH(n,t)}const r=ll(Math.abs(l)),o=Math.max(Math.min(-1*Math.floor(r),20),0),a={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(a,this.options.ticks.format),Dd(n,i,a)},logarithmic(n,e,t){if(n===0)return"0";const i=n/Math.pow(10,Math.floor(ll(n)));return i===1||i===2||i===5?mD.numeric.call(this,n,e,t):""}};function IH(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var lg={formatters:mD};mn.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});mn.route("scale.ticks","color","","color");mn.route("scale.grid","color","","borderColor");mn.route("scale.grid","borderColor","","borderColor");mn.route("scale.title","color","","color");mn.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"});mn.describe("scales",{_fallback:"scale"});mn.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"});function RH(n,e){const t=n.options.ticks,i=t.maxTicksLimit||NH(n),s=t.major.enabled?FH(e):[],l=s.length,r=s[0],o=s[l-1],a=[];if(l>i)return jH(e,a,s,l/i),a;const f=LH(s,e,i);if(l>0){let u,d;const h=l>1?Math.round((o-r)/(l-1)):null;for(mh(e,a,f,Rn(h)?0:r-h,r),u=0,d=l-1;u<d;u++)mh(e,a,f,s[u],s[u+1]);return mh(e,a,f,o,Rn(h)?e.length:o+h),a}return mh(e,a,f),a}function NH(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function LH(n,e,t){const i=BH(n),s=e.length/t;if(!i)return Math.max(s,1);const l=IV(i);for(let r=0,o=l.length-1;r<o;r++){const a=l[r];if(a>s)return a}return Math.max(s,1)}function FH(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function jH(n,e,t,i){let s=0,l=t[0],r;for(i=Math.ceil(i),r=0;r<n.length;r++)r===l&&(e.push(n[r]),s++,l=t[s*i])}function mh(n,e,t,i,s){const l=pn(i,0),r=Math.min(pn(s,n.length),n.length);let o=0,a,f,u;for(t=Math.ceil(t),s&&(a=s-i,t=a/Math.floor(a/t)),u=l;u<0;)o++,u=Math.round(l+o*t);for(f=Math.max(l,0);f<r;f++)f===u&&(e.push(n[f]),o++,u=Math.round(l+o*t))}function BH(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const VH=n=>n==="left"?"right":n==="right"?"left":n,Bk=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t;function Vk(n,e){const t=[],i=n.length/e,s=n.length;let l=0;for(;l<s;l+=i)t.push(n[Math.floor(l)]);return t}function zH(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),l=n._startPixel,r=n._endPixel,o=1e-6;let a=n.getPixelForTick(s),f;if(!(t&&(i===1?f=Math.max(a-l,r-a):e===0?f=(n.getPixelForTick(1)-a)/2:f=(a-n.getPixelForTick(s-1))/2,a+=s<e?f:-f,a<l-o||a>r+o)))return a}function HH(n,e){Vn(n,t=>{const i=t.gc,s=i.length/2;let l;if(s>e){for(l=0;l<s;++l)delete t.data[i[l]];i.splice(0,s)}})}function tc(n){return n.drawTicks?n.tickLength:0}function zk(n,e){if(!n.display)return 0;const t=Ks(n.font,e),i=yl(n.padding);return(Qn(n.text)?n.text.length:1)*t.lineHeight+i.height}function qH(n,e){return xo(n,{scale:e,type:"scale"})}function WH(n,e,t){return xo(n,{tick:t,index:e,type:"tick"})}function UH(n,e,t){let i=zV(n);return(t&&e!=="right"||!t&&e==="right")&&(i=VH(i)),i}function KH(n,e,t,i){const{top:s,left:l,bottom:r,right:o,chart:a}=n,{chartArea:f,scales:u}=a;let d=0,h,p,g;const b=r-s,_=o-l;if(n.isHorizontal()){if(p=ck(i,l,o),an(t)){const y=Object.keys(t)[0],w=t[y];g=u[y].getPixelForValue(w)+b-e}else t==="center"?g=(f.bottom+f.top)/2+b-e:g=Bk(n,t,e);h=o-l}else{if(an(t)){const y=Object.keys(t)[0],w=t[y];p=u[y].getPixelForValue(w)-_+e}else t==="center"?p=(f.left+f.right)/2-_+e:p=Bk(n,t,e);g=ck(i,r,s),d=t==="left"?-bi:bi}return{titleX:p,titleY:g,maxWidth:h,rotation:d}}class Ga extends no{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=$s(e,Number.POSITIVE_INFINITY),t=$s(t,Number.NEGATIVE_INFINITY),i=$s(i,Number.POSITIVE_INFINITY),s=$s(s,Number.NEGATIVE_INFINITY),{min:$s(e,i),max:$s(t,s),minDefined:Oi(e),maxDefined:Oi(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:l}=this.getUserBounds(),r;if(s&&l)return{min:t,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,f=o.length;a<f;++a)r=o[a].controller.getMinMax(this,e),s||(t=Math.min(t,r.min)),l||(i=Math.max(i,r.max));return t=l&&t>i?i:t,i=s&&t>i?t:i,{min:$s(t,$s(i,t)),max:$s(i,$s(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mi(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:l,ticks:r}=this.options,o=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=kz(this,l,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?Vk(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=RH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mi(this.options.afterUpdate,[this])}beforeSetDimensions(){mi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mi(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),mi(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,l;for(i=0,s=e.length;i<s;i++)l=e[i],l.label=mi(t.callback,[l.value,i,e],this)}afterTickToLabelConversion(){mi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=this.ticks.length,s=t.minRotation||0,l=t.maxRotation;let r=s,o,a,f;if(!this._isVisible()||!t.display||s>=l||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,p=hs(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/i:p/(i-1),d+6>o&&(o=p/(i-(e.offset?.5:1)),a=this.maxHeight-tc(e.grid)-t.padding-zk(e.title,this.chart.options.font),f=Math.sqrt(d*d+h*h),r=t2(Math.min(Math.asin(hs((u.highest.height+6)/o,-1,1)),Math.asin(hs(a/f,-1,1))-Math.asin(hs(h/f,-1,1)))),r=Math.max(s,Math.min(l,r))),this.labelRotation=r}afterCalculateLabelRotation(){mi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mi(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:l}}=this,r=this._isVisible(),o=this.isHorizontal();if(r){const a=zk(s,t.options.font);if(o?(e.width=this.maxWidth,e.height=tc(l)+a):(e.height=this.maxHeight,e.width=tc(l)+a),i.display&&this.ticks.length){const{first:f,last:u,widest:d,highest:h}=this._getLabelSizes(),p=i.padding*2,g=Nl(this.labelRotation),b=Math.cos(g),_=Math.sin(g);if(o){const y=i.mirror?0:_*d.width+b*h.height;e.height=Math.min(this.maxHeight,e.height+y+p)}else{const y=i.mirror?0:b*d.width+_*h.height;e.width=Math.min(this.maxWidth,e.width+y+p)}this._calculatePadding(f,u,_,b)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:l,padding:r},position:o}=this.options,a=this.labelRotation!==0,f=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;a?f?(h=s*e.width,p=i*t.height):(h=i*e.height,p=s*t.width):l==="start"?p=t.width:l==="end"?h=e.width:l!=="inner"&&(h=e.width/2,p=t.width/2),this.paddingLeft=Math.max((h-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+r)*this.width/(this.width-d),0)}else{let u=t.height/2,d=e.height/2;l==="start"?(u=0,d=e.height):l==="end"&&(u=t.height,d=0),this.paddingTop=u+r,this.paddingBottom=d+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mi(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Rn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=Vk(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,t){const{ctx:i,_longestTextCache:s}=this,l=[],r=[];let o=0,a=0,f,u,d,h,p,g,b,_,y,w,A;for(f=0;f<t;++f){if(h=e[f].label,p=this._resolveTickFontOptions(f),i.font=g=p.string,b=s[g]=s[g]||{data:{},gc:[]},_=p.lineHeight,y=w=0,!Rn(h)&&!Qn(h))y=Hp(i,b.data,b.gc,y,h),w=_;else if(Qn(h))for(u=0,d=h.length;u<d;++u)A=h[u],!Rn(A)&&!Qn(A)&&(y=Hp(i,b.data,b.gc,y,A),w+=_);l.push(y),r.push(w),o=Math.max(y,o),a=Math.max(w,a)}HH(s,t);const M=l.indexOf(o),T=r.indexOf(a),O=E=>({width:l[E]||0,height:r[E]||0});return{first:O(0),last:O(t-1),widest:O(M),highest:O(T),widths:l,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return LV(this._alignToPixels?la(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=WH(this.getContext(),e,i))}return this.$context||(this.$context=qH(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Nl(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),l=this._getLabelSizes(),r=e.autoSkipPadding||0,o=l?l.widest.width+r:0,a=l?l.highest.height+r:0;return this.isHorizontal()?a*i>o*s?o/i:a/s:a*s<o*i?a/i:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:l,position:r}=s,o=l.offset,a=this.isHorizontal(),u=this.ticks.length+(o?1:0),d=tc(l),h=[],p=l.setContext(this.getContext()),g=p.drawBorder?p.borderWidth:0,b=g/2,_=function(H){return la(i,H,g)};let y,w,A,M,T,O,E,R,N,j,L,F;if(r==="top")y=_(this.bottom),O=this.bottom-d,R=y-b,j=_(e.top)+b,F=e.bottom;else if(r==="bottom")y=_(this.top),j=e.top,F=_(e.bottom)-b,O=y+b,R=this.top+d;else if(r==="left")y=_(this.right),T=this.right-d,E=y-b,N=_(e.left)+b,L=e.right;else if(r==="right")y=_(this.left),N=e.left,L=_(e.right)-b,T=y+b,E=this.left+d;else if(t==="x"){if(r==="center")y=_((e.top+e.bottom)/2+.5);else if(an(r)){const H=Object.keys(r)[0],K=r[H];y=_(this.chart.scales[H].getPixelForValue(K))}j=e.top,F=e.bottom,O=y+b,R=O+d}else if(t==="y"){if(r==="center")y=_((e.left+e.right)/2);else if(an(r)){const H=Object.keys(r)[0],K=r[H];y=_(this.chart.scales[H].getPixelForValue(K))}T=y-b,E=T-d,N=e.left,L=e.right}const B=pn(s.ticks.maxTicksLimit,u),V=Math.max(1,Math.ceil(u/B));for(w=0;w<u;w+=V){const H=l.setContext(this.getContext(w)),K=H.lineWidth,X=H.color,J=H.borderDash||[],z=H.borderDashOffset,Z=H.tickWidth,Y=H.tickColor,oe=H.tickBorderDash||[],re=H.tickBorderDashOffset;A=zH(this,w,o),A!==void 0&&(M=la(i,A,K),a?T=E=N=L=M:O=R=j=F=M,h.push({tx1:T,ty1:O,tx2:E,ty2:R,x1:N,y1:j,x2:L,y2:F,width:K,color:X,borderDash:J,borderDashOffset:z,tickWidth:Z,tickColor:Y,tickBorderDash:oe,tickBorderDashOffset:re}))}return this._ticksLength=u,this._borderValue=y,h}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:l}=i,r=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:f,padding:u,mirror:d}=l,h=tc(i.grid),p=h+u,g=d?-u:p,b=-Nl(this.labelRotation),_=[];let y,w,A,M,T,O,E,R,N,j,L,F,B="middle";if(s==="top")O=this.bottom-g,E=this._getXAxisLabelAlignment();else if(s==="bottom")O=this.top+g,E=this._getXAxisLabelAlignment();else if(s==="left"){const H=this._getYAxisLabelAlignment(h);E=H.textAlign,T=H.x}else if(s==="right"){const H=this._getYAxisLabelAlignment(h);E=H.textAlign,T=H.x}else if(t==="x"){if(s==="center")O=(e.top+e.bottom)/2+p;else if(an(s)){const H=Object.keys(s)[0],K=s[H];O=this.chart.scales[H].getPixelForValue(K)+p}E=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")T=(e.left+e.right)/2-p;else if(an(s)){const H=Object.keys(s)[0],K=s[H];T=this.chart.scales[H].getPixelForValue(K)}E=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(a==="start"?B="top":a==="end"&&(B="bottom"));const V=this._getLabelSizes();for(y=0,w=o.length;y<w;++y){A=o[y],M=A.label;const H=l.setContext(this.getContext(y));R=this.getPixelForTick(y)+l.labelOffset,N=this._resolveTickFontOptions(y),j=N.lineHeight,L=Qn(M)?M.length:1;const K=L/2,X=H.color,J=H.textStrokeColor,z=H.textStrokeWidth;let Z=E;r?(T=R,E==="inner"&&(y===w-1?Z=this.options.reverse?"left":"right":y===0?Z=this.options.reverse?"right":"left":Z="center"),s==="top"?f==="near"||b!==0?F=-L*j+j/2:f==="center"?F=-V.highest.height/2-K*j+j:F=-V.highest.height+j/2:f==="near"||b!==0?F=j/2:f==="center"?F=V.highest.height/2-K*j:F=V.highest.height-L*j,d&&(F*=-1)):(O=R,F=(1-L)*j/2);let Y;if(H.showLabelBackdrop){const oe=yl(H.backdropPadding),re=V.heights[y],Q=V.widths[y];let me=O+F-oe.top,qe=T-oe.left;switch(B){case"middle":me-=re/2;break;case"bottom":me-=re;break}switch(E){case"center":qe-=Q/2;break;case"right":qe-=Q;break}Y={left:qe,top:me,width:Q+oe.width,height:re+oe.height,color:H.backdropColor}}_.push({rotation:b,label:M,font:N,color:X,strokeColor:J,strokeWidth:z,textOffset:F,textAlign:Z,textBaseline:B,translation:[T,O],backdrop:Y})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Nl(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:l}}=this.options,r=this._getLabelSizes(),o=e+l,a=r.widest.width;let f,u;return t==="left"?s?(u=this.right+l,i==="near"?f="left":i==="center"?(f="center",u+=a/2):(f="right",u+=a)):(u=this.right-o,i==="near"?f="right":i==="center"?(f="center",u-=a/2):(f="left",u=this.left)):t==="right"?s?(u=this.left+l,i==="near"?f="right":i==="center"?(f="center",u-=a/2):(f="left",u-=a)):(u=this.left+o,i==="near"?f="left":i==="center"?(f="center",u+=a/2):(f="right",u=this.right)):f="right",{textAlign:f,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:l,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,l,r),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(l=>l.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,r;const o=(a,f,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(a.x,a.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(l=0,r=s.length;l<r;++l){const a=s[l];t.drawOnChartArea&&o({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),t.drawTicks&&o({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:i}}=this,s=i.setContext(this.getContext()),l=i.drawBorder?s.borderWidth:0;if(!l)return;const r=i.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let a,f,u,d;this.isHorizontal()?(a=la(e,this.left,l)-l/2,f=la(e,this.right,r)+r/2,u=d=o):(u=la(e,this.top,l)-l/2,d=la(e,this.bottom,r)+r/2,a=f=o),t.save(),t.lineWidth=s.borderWidth,t.strokeStyle=s.borderColor,t.beginPath(),t.moveTo(a,u),t.lineTo(f,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&r2(i,s);const l=this._labelItems||(this._labelItems=this._computeLabelItems(e));let r,o;for(r=0,o=l.length;r<o;++r){const a=l[r],f=a.font,u=a.label;a.backdrop&&(i.fillStyle=a.backdrop.color,i.fillRect(a.backdrop.left,a.backdrop.top,a.backdrop.width,a.backdrop.height));let d=a.textOffset;qp(i,u,0,d,f,a)}s&&o2(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const l=Ks(i.font),r=yl(i.padding),o=i.align;let a=l.lineHeight/2;t==="bottom"||t==="center"||an(t)?(a+=r.bottom,Qn(i.text)&&(a+=l.lineHeight*(i.text.length-1))):a+=r.top;const{titleX:f,titleY:u,maxWidth:d,rotation:h}=KH(this,a,t,o);qp(e,i.text,0,0,l,{color:i.color,maxWidth:d,rotation:h,textAlign:UH(o,t,s),textBaseline:"middle",translation:[f,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=pn(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==Ga.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let l,r;for(l=0,r=t.length;l<r;++l){const o=t[l];o[i]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Ks(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class gh{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;YH(t)&&(i=this.register(t));const s=this.items,l=e.id,r=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in s||(s[l]=e,JH(e,r,i),this.override&&mn.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in mn[s]&&(delete mn[s][i],this.override&&delete La[i])}}function JH(n,e,t){const i=Hc(Object.create(null),[t?mn.get(t):{},mn.get(e),n.defaults]);mn.set(e,i),n.defaultRoutes&&xH(e,n.defaultRoutes),n.descriptors&&mn.describe(e,n.descriptors)}function xH(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),l=[n].concat(i).join("."),r=e[t].split("."),o=r.pop(),a=r.join(".");mn.route(l,s,a,o)})}function YH(n){return"id"in n&&"defaults"in n}class GH{constructor(){this.controllers=new gh(Wl,"datasets",!0),this.elements=new gh(no,"elements"),this.plugins=new gh(Object,"plugins"),this.scales=new gh(Ga,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const l=i||this._getRegistryForType(s);i||l.isForType(s)||l===this.plugins&&s.id?this._exec(e,l,s):Vn(s,r=>{const o=i||this._getRegistryForType(r);this._exec(e,o,r)})})}_exec(e,t,i){const s=e2(e);mi(i["before"+s],[],i),t[e](i),mi(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var lr=new GH;class b2 extends Wl{update(e){const t=this._cachedMeta,{data:i=[]}=t,s=this.chart._animationsDisabled;let{start:l,count:r}=xP(t,i,s);if(this._drawStart=l,this._drawCount=r,YP(t)&&(l=0,r=i.length),this.options.showLine){const{dataset:o,_dataset:a}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!a._decimated,o.points=i;const f=this.resolveDatasetElementOptions(e);f.segment=this.options.segment,this.updateElement(o,void 0,{animated:!s,options:f},e)}this.updateElements(i,l,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=lr.getElement("line")),super.addElements()}updateElements(e,t,i,s){const l=s==="reset",{iScale:r,vScale:o,_stacked:a,_dataset:f}=this._cachedMeta,u=this.resolveDataElementOptions(t,s),d=this.getSharedOptions(u),h=this.includeOptions(s,d),p=r.axis,g=o.axis,{spanGaps:b,segment:_}=this.options,y=Zf(b)?b:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||l||s==="none";let A=t>0&&this.getParsed(t-1);for(let M=t;M<t+i;++M){const T=e[M],O=this.getParsed(M),E=w?T:{},R=Rn(O[g]),N=E[p]=r.getPixelForValue(O[p],M),j=E[g]=l||R?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,O,a):O[g],M);E.skip=isNaN(N)||isNaN(j)||R,E.stop=M>0&&Math.abs(O[p]-A[p])>y,_&&(E.parsed=O,E.raw=f.data[M]),h&&(E.options=d||this.resolveDataElementOptions(M,T.active?"active":s)),w||this.updateElement(T,M,E,s),A=O}this.updateSharedOptions(d,s,u)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let o=0;for(let a=t.length-1;a>=0;--a)o=Math.max(o,t[a].size(this.resolveDataElementOptions(a))/2);return o>0&&o}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!t.length)return s;const l=t[0].size(this.resolveDataElementOptions(0)),r=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(s,l,r)/2}}b2.id="scatter";b2.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};b2.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(n){return"("+n.label+", "+n.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function ra(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class $0{constructor(e){this.options=e||{}}init(e){}formats(){return ra()}parse(e,t){return ra()}format(e,t){return ra()}add(e,t,i){return ra()}diff(e,t,i){return ra()}startOf(e,t,i){return ra()}endOf(e,t){return ra()}}$0.override=function(n){Object.assign($0.prototype,n)};var gD={_date:$0};function XH(n,e,t,i){const{controller:s,data:l,_sorted:r}=n,o=s._cachedMeta.iScale;if(o&&e===o.axis&&e!=="r"&&r&&l.length){const a=o._reversePixels?FV:va;if(i){if(s._sharedOptions){const f=l[0],u=typeof f.getRange=="function"&&f.getRange(e);if(u){const d=a(l,e,t-u),h=a(l,e,t+u);return{lo:d.lo,hi:h.hi}}}}else return a(l,e,t)}return{lo:0,hi:l.length-1}}function Rd(n,e,t,i,s){const l=n.getSortedVisibleDatasetMetas(),r=t[e];for(let o=0,a=l.length;o<a;++o){const{index:f,data:u}=l[o],{lo:d,hi:h}=XH(l[o],e,r,s);for(let p=d;p<=h;++p){const g=u[p];g.skip||i(g,f,p)}}}function ZH(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const l=e?Math.abs(i.x-s.x):0,r=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(r,2))}}function k1(n,e,t,i,s){const l=[];return!s&&!n.isPointInArea(e)||Rd(n,t,e,function(o,a,f){!s&&!Uc(o,n.chartArea,0)||o.inRange(e.x,e.y,i)&&l.push({element:o,datasetIndex:a,index:f})},!0),l}function QH(n,e,t,i){let s=[];function l(r,o,a){const{startAngle:f,endAngle:u}=r.getProps(["startAngle","endAngle"],i),{angle:d}=qP(r,{x:e.x,y:e.y});qc(d,f,u)&&s.push({element:r,datasetIndex:o,index:a})}return Rd(n,t,e,l),s}function $H(n,e,t,i,s,l){let r=[];const o=ZH(t);let a=Number.POSITIVE_INFINITY;function f(u,d,h){const p=u.inRange(e.x,e.y,s);if(i&&!p)return;const g=u.getCenterPoint(s);if(!(!!l||n.isPointInArea(g))&&!p)return;const _=o(e,g);_<a?(r=[{element:u,datasetIndex:d,index:h}],a=_):_===a&&r.push({element:u,datasetIndex:d,index:h})}return Rd(n,t,e,f),r}function w1(n,e,t,i,s,l){return!l&&!n.isPointInArea(e)?[]:t==="r"&&!i?QH(n,e,t,s):$H(n,e,t,i,s,l)}function Hk(n,e,t,i,s){const l=[],r=t==="x"?"inXRange":"inYRange";let o=!1;return Rd(n,t,e,(a,f,u)=>{a[r](e[t],s)&&(l.push({element:a,datasetIndex:f,index:u}),o=o||a.inRange(e.x,e.y,s))}),i&&!o?[]:l}var eq={evaluateInteractionItems:Rd,modes:{index(n,e,t,i){const s=ha(e,n),l=t.axis||"x",r=t.includeInvisible||!1,o=t.intersect?k1(n,s,l,i,r):w1(n,s,l,!1,i,r),a=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const u=o[0].index,d=f.data[u];d&&!d.skip&&a.push({element:d,datasetIndex:f.index,index:u})}),a):[]},dataset(n,e,t,i){const s=ha(e,n),l=t.axis||"xy",r=t.includeInvisible||!1;let o=t.intersect?k1(n,s,l,i,r):w1(n,s,l,!1,i,r);if(o.length>0){const a=o[0].datasetIndex,f=n.getDatasetMeta(a).data;o=[];for(let u=0;u<f.length;++u)o.push({element:f[u],datasetIndex:a,index:u})}return o},point(n,e,t,i){const s=ha(e,n),l=t.axis||"xy",r=t.includeInvisible||!1;return k1(n,s,l,i,r)},nearest(n,e,t,i){const s=ha(e,n),l=t.axis||"xy",r=t.includeInvisible||!1;return w1(n,s,l,t.intersect,i,r)},x(n,e,t,i){const s=ha(e,n);return Hk(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=ha(e,n);return Hk(n,s,"y",t.intersect,i)}}};const bD=["left","top","right","bottom"];function nc(n,e){return n.filter(t=>t.pos===e)}function qk(n,e){return n.filter(t=>bD.indexOf(t.pos)===-1&&t.box.axis===e)}function ic(n,e){return n.sort((t,i)=>{const s=e?i:t,l=e?t:i;return s.weight===l.weight?s.index-l.index:s.weight-l.weight})}function tq(n){const e=[];let t,i,s,l,r,o;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:l,options:{stack:r,stackWeight:o=1}}=s,e.push({index:t,box:s,pos:l,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&l+r,stackWeight:o});return e}function nq(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:l}=t;if(!i||!bD.includes(s))continue;const r=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=l}return e}function iq(n,e){const t=nq(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let l,r,o;for(l=0,r=n.length;l<r;++l){o=n[l];const{fullSize:a}=o.box,f=t[o.stack],u=f&&o.stackWeight/f.weight;o.horizontal?(o.width=u?u*i:a&&e.availableWidth,o.height=s):(o.width=i,o.height=u?u*s:a&&e.availableHeight)}return t}function sq(n){const e=tq(n),t=ic(e.filter(f=>f.box.fullSize),!0),i=ic(nc(e,"left"),!0),s=ic(nc(e,"right")),l=ic(nc(e,"top"),!0),r=ic(nc(e,"bottom")),o=qk(e,"x"),a=qk(e,"y");return{fullSize:t,leftAndTop:i.concat(l),rightAndBottom:s.concat(a).concat(r).concat(o),chartArea:nc(e,"chartArea"),vertical:i.concat(s).concat(a),horizontal:l.concat(r).concat(o)}}function Wk(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function _D(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function lq(n,e,t,i){const{pos:s,box:l}=t,r=n.maxPadding;if(!an(s)){t.size&&(n[s]-=t.size);const d=i[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?l.height:l.width),t.size=d.size/d.count,n[s]+=t.size}l.getPadding&&_D(r,l.getPadding());const o=Math.max(0,e.outerWidth-Wk(r,n,"left","right")),a=Math.max(0,e.outerHeight-Wk(r,n,"top","bottom")),f=o!==n.w,u=a!==n.h;return n.w=o,n.h=a,t.horizontal?{same:f,other:u}:{same:u,other:f}}function rq(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function oq(n,e){const t=e.maxPadding;function i(s){const l={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{l[r]=Math.max(e[r],t[r])}),l}return i(n?["left","right"]:["top","bottom"])}function gc(n,e,t,i){const s=[];let l,r,o,a,f,u;for(l=0,r=n.length,f=0;l<r;++l){o=n[l],a=o.box,a.update(o.width||e.w,o.height||e.h,oq(o.horizontal,e));const{same:d,other:h}=lq(e,t,o,i);f|=d&&s.length,u=u||h,a.fullSize||s.push(o)}return f&&gc(s,e,t,i)||u}function bh(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function Uk(n,e,t,i){const s=t.padding;let{x:l,y:r}=e;for(const o of n){const a=o.box,f=i[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/f.weight||1;if(o.horizontal){const d=e.w*u,h=f.size||a.height;_l(f.start)&&(r=f.start),a.fullSize?bh(a,s.left,r,t.outerWidth-s.right-s.left,h):bh(a,e.left+f.placed,r,d,h),f.start=r,f.placed+=d,r=a.bottom}else{const d=e.h*u,h=f.size||a.width;_l(f.start)&&(l=f.start),a.fullSize?bh(a,l,s.top,h,t.outerHeight-s.bottom-s.top):bh(a,l,e.top+f.placed,h,d),f.start=l,f.placed+=d,l=a.right}}e.x=l,e.y=r}mn.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var _h={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=yl(n.options.layout.padding),l=Math.max(e-s.width,0),r=Math.max(t-s.height,0),o=sq(n.boxes),a=o.vertical,f=o.horizontal;Vn(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const u=a.reduce((b,_)=>_.box.options&&_.box.options.display===!1?b:b+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:l,availableHeight:r,vBoxMaxWidth:l/2/u,hBoxMaxHeight:r/2}),h=Object.assign({},s);_D(h,yl(i));const p=Object.assign({maxPadding:h,w:l,h:r,x:s.left,y:s.top},s),g=iq(a.concat(f),d);gc(o.fullSize,p,d,g),gc(a,p,d,g),gc(f,p,d,g)&&gc(a,p,d,g),rq(p),Uk(o.leftAndTop,p,d,g),p.x+=p.w,p.y+=p.h,Uk(o.rightAndBottom,p,d,g),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Vn(o.chartArea,b=>{const _=b.box;Object.assign(_,n.chartArea),_.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class yD{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class aq extends yD{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const up="$chartjs",fq={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Kk=n=>n===null||n==="";function uq(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[up]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Kk(s)){const l=Sk(n,"width");l!==void 0&&(n.width=l)}if(Kk(i))if(n.style.height==="")n.height=n.width/(e||2);else{const l=Sk(n,"height");l!==void 0&&(n.height=l)}return n}const vD=Uz?{passive:!0}:!1;function cq(n,e,t){n.addEventListener(e,t,vD)}function dq(n,e,t){n.canvas.removeEventListener(e,t,vD)}function hq(n,e){const t=fq[n.type]||n.type,{x:i,y:s}=ha(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Kp(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function pq(n,e,t){const i=n.canvas,s=new MutationObserver(l=>{let r=!1;for(const o of l)r=r||Kp(o.addedNodes,i),r=r&&!Kp(o.removedNodes,i);r&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function mq(n,e,t){const i=n.canvas,s=new MutationObserver(l=>{let r=!1;for(const o of l)r=r||Kp(o.removedNodes,i),r=r&&!Kp(o.addedNodes,i);r&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const Kc=new Map;let Jk=0;function kD(){const n=window.devicePixelRatio;n!==Jk&&(Jk=n,Kc.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function gq(n,e){Kc.size||window.addEventListener("resize",kD),Kc.set(n,e)}function bq(n){Kc.delete(n),Kc.size||window.removeEventListener("resize",kD)}function _q(n,e,t){const i=n.canvas,s=i&&d2(i);if(!s)return;const l=JP((o,a)=>{const f=s.clientWidth;t(o,a),f<s.clientWidth&&t()},window),r=new ResizeObserver(o=>{const a=o[0],f=a.contentRect.width,u=a.contentRect.height;f===0&&u===0||l(f,u)});return r.observe(s),gq(n,l),r}function S1(n,e,t){t&&t.disconnect(),e==="resize"&&bq(n)}function yq(n,e,t){const i=n.canvas,s=JP(l=>{n.ctx!==null&&t(hq(l,n))},n,l=>{const r=l[0];return[r,r.offsetX,r.offsetY]});return cq(i,e,s),s}class vq extends yD{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(uq(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[up])return!1;const i=t[up].initial;["height","width"].forEach(l=>{const r=i[l];Rn(r)?t.removeAttribute(l):t.setAttribute(l,r)});const s=i.style||{};return Object.keys(s).forEach(l=>{t.style[l]=s[l]}),t.width=t.width,delete t[up],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),r={attach:pq,detach:mq,resize:_q}[t]||yq;s[t]=r(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:S1,detach:S1,resize:S1}[t]||dq)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return Wz(e,t,i,s)}isAttached(e){const t=d2(e);return!!(t&&t.isConnected)}}function kq(n){return!oD()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?aq:vq}class wq{constructor(){this._init=[]}notify(e,t,i,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const l=s?this._descriptors(e).filter(s):this._descriptors(e),r=this._notify(l,e,t,i);return t==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,t,i,s){s=s||{};for(const l of e){const r=l.plugin,o=r[i],a=[t,s,l.options];if(mi(o,a,r)===!1&&s.cancelable)return!1}return!0}invalidate(){Rn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=pn(i.options&&i.options.plugins,{}),l=Sq(i);return s===!1&&!t?[]:Mq(e,l,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(l,r)=>l.filter(o=>!r.some(a=>o.plugin.id===a.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function Sq(n){const e={},t=[],i=Object.keys(lr.plugins.items);for(let l=0;l<i.length;l++)t.push(lr.getPlugin(i[l]));const s=n.plugins||[];for(let l=0;l<s.length;l++){const r=s[l];t.indexOf(r)===-1&&(t.push(r),e[r.id]=!0)}return{plugins:t,localIds:e}}function Cq(n,e){return!e&&n===!1?null:n===!0?{}:n}function Mq(n,{plugins:e,localIds:t},i,s){const l=[],r=n.getContext();for(const o of e){const a=o.id,f=Cq(i[a],s);f!==null&&l.push({plugin:o,options:Tq(n.config,{plugin:o,local:t[a]},f,r)})}return l}function Tq(n,{plugin:e,local:t},i,s){const l=n.pluginScopeKeys(e),r=n.getOptionScopes(i,l);return t&&e.defaults&&r.push(e.defaults),n.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function eb(n,e){const t=mn.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Aq(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function Oq(n,e){return n===e?"_index_":"_value_"}function Eq(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function tb(n,e){return n==="x"||n==="y"?n:e.axis||Eq(e.position)||n.charAt(0).toLowerCase()}function Pq(n,e){const t=La[n.type]||{scales:{}},i=e.scales||{},s=eb(n.type,e),l=Object.create(null),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!an(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const f=tb(o,a),u=Oq(f,s),d=t.scales||{};l[f]=l[f]||o,r[o]=Tc(Object.create(null),[{axis:f},a,d[f],d[u]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,f=o.indexAxis||eb(a,e),d=(La[a]||{}).scales||{};Object.keys(d).forEach(h=>{const p=Aq(h,f),g=o[p+"AxisID"]||l[p]||p;r[g]=r[g]||Object.create(null),Tc(r[g],[{axis:p},i[g],d[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Tc(a,[mn.scales[a.type],mn.scale])}),r}function wD(n){const e=n.options||(n.options={});e.plugins=pn(e.plugins,{}),e.scales=Pq(n,e)}function SD(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Dq(n){return n=n||{},n.data=SD(n.data),wD(n),n}const xk=new Map,CD=new Set;function yh(n,e){let t=xk.get(n);return t||(t=e(),xk.set(n,t),CD.add(t)),t}const sc=(n,e,t)=>{const i=Do(e,t);i!==void 0&&n.add(i)};class Iq{constructor(e){this._config=Dq(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=SD(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),wD(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return yh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return yh(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return yh(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return yh(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:l}=this,r=this._cachedScopes(e,i),o=r.get(t);if(o)return o;const a=new Set;t.forEach(u=>{e&&(a.add(e),u.forEach(d=>sc(a,e,d))),u.forEach(d=>sc(a,s,d)),u.forEach(d=>sc(a,La[l]||{},d)),u.forEach(d=>sc(a,mn,d)),u.forEach(d=>sc(a,Z0,d))});const f=Array.from(a);return f.length===0&&f.push(Object.create(null)),CD.has(t)&&r.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,La[t]||{},mn.datasets[t]||{},{type:t},mn,Z0]}resolveNamedOptions(e,t,i,s=[""]){const l={$shared:!0},{resolver:r,subPrefixes:o}=Yk(this._resolverCache,e,s);let a=r;if(Nq(r,t)){l.$shared=!1,i=Io(i)?i():i;const f=this.createResolver(e,i,o);a=Qf(r,i,f)}for(const f of t)l[f]=a[f];return l}createResolver(e,t,i=[""],s){const{resolver:l}=Yk(this._resolverCache,e,i);return an(t)?Qf(l,t,void 0,s):l}}function Yk(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let l=i.get(s);return l||(l={resolver:f2(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},i.set(s,l)),l}const Rq=n=>an(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||Io(n[t]),!1);function Nq(n,e){const{isScriptable:t,isIndexable:i}=tD(n);for(const s of e){const l=t(s),r=i(s),o=(r||l)&&n[s];if(l&&(Io(o)||Rq(o))||r&&Qn(o))return!0}return!1}var Lq="3.9.1";const Fq=["top","bottom","left","right","chartArea"];function Gk(n,e){return n==="top"||n==="bottom"||Fq.indexOf(n)===-1&&e==="x"}function Xk(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function Zk(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),mi(t&&t.onComplete,[n],e)}function jq(n){const e=n.chart,t=e.options.animation;mi(t&&t.onProgress,[n],e)}function MD(n){return oD()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Jp={},TD=n=>{const e=MD(n);return Object.values(Jp).filter(t=>t.canvas===e).pop()};function Bq(n,e,t){const i=Object.keys(n);for(const s of i){const l=+s;if(l>=e){const r=n[s];delete n[s],(t>0||l>e)&&(n[l+t]=r)}}}function Vq(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}class xp{constructor(e,t){const i=this.config=new Iq(t),s=MD(e),l=TD(s);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||kq(s)),this.platform.updateConfig(i);const o=this.platform.acquireContext(s,r.aspectRatio),a=o&&o.canvas,f=a&&a.height,u=a&&a.width;if(this.id=SV(),this.ctx=o,this.canvas=a,this.width=u,this.height=f,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wq,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=VV(d=>this.update(d),r.resizeDelay||0),this._dataChanges=[],Jp[this.id]=this,!o||!a){console.error("Failed to create chart: can't acquire context from the given item");return}Ir.listen(this,"complete",Zk),Ir.listen(this,"progress",jq),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:l}=this;return Rn(e)?t&&l?l:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():wk(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return yk(this.canvas,this.ctx),this}stop(){return Ir.stop(this),this}resize(e,t){Ir.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,l=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(s,e,t,l),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,wk(this,o,!0)&&(this.notifyPlugins("resize",{size:r}),mi(i.onResize,[this,r],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Vn(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((r,o)=>(r[o]=!1,r),{});let l=[];t&&(l=l.concat(Object.keys(t).map(r=>{const o=t[r],a=tb(r,o),f=a==="r",u=a==="x";return{options:o,dposition:f?"chartArea":u?"bottom":"left",dtype:f?"radialLinear":u?"category":"linear"}}))),Vn(l,r=>{const o=r.options,a=o.id,f=tb(a,o),u=pn(o.type,r.dtype);(o.position===void 0||Gk(o.position,f)!==Gk(r.dposition))&&(o.position=r.dposition),s[a]=!0;let d=null;if(a in i&&i[a].type===u)d=i[a];else{const h=lr.getScale(u);d=new h({id:a,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(o,e)}),Vn(s,(r,o)=>{r||delete i[o]}),Vn(i,r=>{_h.configure(this,r,r.options),_h.addBox(this,r)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,l)=>s.index-l.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Xk("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(l=>l===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const l=t[i];let r=this.getDatasetMeta(i);const o=l.type||this.config.type;if(r.type&&r.type!==o&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=o,r.indexAxis=l.indexAxis||eb(o,this.options),r.order=l.order||0,r.index=i,r.label=""+l.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const a=lr.getController(o),{datasetElementType:f,dataElementType:u}=mn.datasets[o];Object.assign(a.prototype,{dataElementType:lr.getElement(u),datasetElementType:f&&lr.getElement(f)}),r.controller=new a(this,i),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){Vn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let f=0,u=this.data.datasets.length;f<u;f++){const{controller:d}=this.getDatasetMeta(f),h=!s&&l.indexOf(d)===-1;d.buildOrUpdateElements(h),r=Math.max(+d.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),s||Vn(l,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Xk("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Vn(this.scales,e=>{_h.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!rk(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:l}of t){const r=i==="_removeElements"?-l:l;Bq(e,s,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=l=>new Set(e.filter(r=>r[0]===l).map((r,o)=>o+","+r.splice(1).join(","))),s=i(0);for(let l=1;l<t;l++)if(!rk(s,i(l)))return;return Array.from(s).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_h.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Vn(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,l)=>{s._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Io(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ir.has(this)?this.attached&&!Ir.running(this)&&Ir.start(this):(this.draw(),Zk({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,l;for(s=0,l=t.length;s<l;++s){const r=t[s];(!e||r.visible)&&i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,s=!i.disabled,l=this.chartArea,r={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&r2(t,{left:i.left===!1?0:l.left-i.left,right:i.right===!1?this.width:l.right+i.right,top:i.top===!1?0:l.top-i.top,bottom:i.bottom===!1?this.height:l.bottom+i.bottom}),e.controller.draw(),s&&o2(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Uc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const l=eq.modes[t];return typeof l=="function"?l(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(l=>l&&l._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=xo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",l=this.getDatasetMeta(e),r=l.controller._resolveAnimations(void 0,s);_l(t)?(l.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(l,{visible:i}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ir.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),yk(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Jp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(l,r)=>{t.addEventListener(this,l,r),e[l]=r},s=(l,r,o)=>{l.offsetX=r,l.offsetY=o,this._eventHandler(l)};Vn(this.options.events,l=>i(l,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(a,f)=>{t.addEventListener(this,a,f),e[a]=f},s=(a,f)=>{e[a]&&(t.removeEventListener(this,a,f),delete e[a])},l=(a,f)=>{this.canvas&&this.resize(a,f)};let r;const o=()=>{s("attach",o),this.attached=!0,this.resize(),i("resize",l),i("detach",r)};r=()=>{this.attached=!1,s("resize",l),this._stop(),this._resize(0,0),i("attach",o)},t.isAttached(this.canvas)?o():r()}unbindEvents(){Vn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Vn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let l,r,o,a;for(t==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+s+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){r=e[o];const f=r&&this.getDatasetMeta(r.datasetIndex).controller;f&&f[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:l,index:r})=>{const o=this.getDatasetMeta(l);if(!o)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:o.data[r],index:r}});!jp(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}_updateHoverStyles(e,t,i){const s=this.options.hover,l=(a,f)=>a.filter(u=>!f.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),r=l(t,e),o=i?e:l(e,t);r.length&&this.updateHoverStyle(r,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const l=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(l||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:l}=this,r=t,o=this._getActiveElements(e,s,i,r),a=EV(e),f=Vq(e,this._lastEvent,i,a);i&&(this._lastEvent=null,mi(l.onHover,[e,o,this],this),a&&mi(l.onClick,[e,o,this],this));const u=!jp(o,s);return(u||t)&&(this._active=o,this._updateHoverStyles(o,s,t)),this._lastEvent=f,u}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,s)}}const Qk=()=>Vn(xp.instances,n=>n._plugins.invalidate()),co=!0;Object.defineProperties(xp,{defaults:{enumerable:co,value:mn},instances:{enumerable:co,value:Jp},overrides:{enumerable:co,value:La},registry:{enumerable:co,value:lr},version:{enumerable:co,value:Lq},getChart:{enumerable:co,value:TD},register:{enumerable:co,value:(...n)=>{lr.add(...n),Qk()}},unregister:{enumerable:co,value:(...n)=>{lr.remove(...n),Qk()}}});function AD(n,e,t){const{startAngle:i,pixelMargin:s,x:l,y:r,outerRadius:o,innerRadius:a}=e;let f=s/o;n.beginPath(),n.arc(l,r,o,i-f,t+f),a>s?(f=s/a,n.arc(l,r,a,t+f,i-f,!0)):n.arc(l,r,s,t+bi,i-bi),n.closePath(),n.clip()}function zq(n){return a2(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Hq(n,e,t,i){const s=zq(n.options.borderRadius),l=(t-e)/2,r=Math.min(l,i*e/2),o=a=>{const f=(t-Math.min(l,a))*i/2;return hs(a,0,Math.min(l,f))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:hs(s.innerStart,0,r),innerEnd:hs(s.innerEnd,0,r)}}function cf(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function nb(n,e,t,i,s,l){const{x:r,y:o,startAngle:a,pixelMargin:f,innerRadius:u}=e,d=Math.max(e.outerRadius+i+t-f,0),h=u>0?u+i+t+f:0;let p=0;const g=s-a;if(i){const H=u>0?u-i:0,K=d>0?d-i:0,X=(H+K)/2,J=X!==0?g*X/(X+i):g;p=(g-J)/2}const b=Math.max(.001,g*d-t/yi)/d,_=(g-b)/2,y=a+_+p,w=s-_-p,{outerStart:A,outerEnd:M,innerStart:T,innerEnd:O}=Hq(e,h,d,w-y),E=d-A,R=d-M,N=y+A/E,j=w-M/R,L=h+T,F=h+O,B=y+T/L,V=w-O/F;if(n.beginPath(),l){if(n.arc(r,o,d,N,j),M>0){const X=cf(R,j,r,o);n.arc(X.x,X.y,M,j,w+bi)}const H=cf(F,w,r,o);if(n.lineTo(H.x,H.y),O>0){const X=cf(F,V,r,o);n.arc(X.x,X.y,O,w+bi,V+Math.PI)}if(n.arc(r,o,h,w-O/h,y+T/h,!0),T>0){const X=cf(L,B,r,o);n.arc(X.x,X.y,T,B+Math.PI,y-bi)}const K=cf(E,y,r,o);if(n.lineTo(K.x,K.y),A>0){const X=cf(E,N,r,o);n.arc(X.x,X.y,A,y-bi,N)}}else{n.moveTo(r,o);const H=Math.cos(N)*d+r,K=Math.sin(N)*d+o;n.lineTo(H,K);const X=Math.cos(j)*d+r,J=Math.sin(j)*d+o;n.lineTo(X,J)}n.closePath()}function qq(n,e,t,i,s){const{fullCircles:l,startAngle:r,circumference:o}=e;let a=e.endAngle;if(l){nb(n,e,t,i,r+zn,s);for(let f=0;f<l;++f)n.fill();isNaN(o)||(a=r+o%zn,o%zn===0&&(a+=zn))}return nb(n,e,t,i,a,s),n.fill(),a}function Wq(n,e,t){const{x:i,y:s,startAngle:l,pixelMargin:r,fullCircles:o}=e,a=Math.max(e.outerRadius-r,0),f=e.innerRadius+r;let u;for(t&&AD(n,e,l+zn),n.beginPath(),n.arc(i,s,f,l+zn,l,!0),u=0;u<o;++u)n.stroke();for(n.beginPath(),n.arc(i,s,a,l,l+zn),u=0;u<o;++u)n.stroke()}function Uq(n,e,t,i,s,l){const{options:r}=e,{borderWidth:o,borderJoinStyle:a}=r,f=r.borderAlign==="inner";o&&(f?(n.lineWidth=o*2,n.lineJoin=a||"round"):(n.lineWidth=o,n.lineJoin=a||"bevel"),e.fullCircles&&Wq(n,e,f),f&&AD(n,e,s),nb(n,e,t,i,s,l),n.stroke())}class _2 extends no{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const s=this.getProps(["x","y"],i),{angle:l,distance:r}=qP(s,{x:e,y:t}),{startAngle:o,endAngle:a,innerRadius:f,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=this.options.spacing/2,g=pn(d,a-o)>=zn||qc(l,o,a),b=Wc(r,f+h,u+h);return g&&b}getCenterPoint(e){const{x:t,y:i,startAngle:s,endAngle:l,innerRadius:r,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:a,spacing:f}=this.options,u=(s+l)/2,d=(r+o+f+a)/2;return{x:t+Math.cos(u)*d,y:i+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,s=(t.offset||0)/2,l=(t.spacing||0)/2,r=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>zn?Math.floor(i/zn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let o=0;if(s){o=s/2;const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*o,Math.sin(f)*o),this.circumference>=yi&&(o=s)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const a=qq(e,this,o,l,r);Uq(e,this,o,l,a,r),e.restore()}}_2.id="arc";_2.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};_2.defaultRoutes={backgroundColor:"backgroundColor"};function OD(n,e,t=e){n.lineCap=pn(t.borderCapStyle,e.borderCapStyle),n.setLineDash(pn(t.borderDash,e.borderDash)),n.lineDashOffset=pn(t.borderDashOffset,e.borderDashOffset),n.lineJoin=pn(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=pn(t.borderWidth,e.borderWidth),n.strokeStyle=pn(t.borderColor,e.borderColor)}function Kq(n,e,t){n.lineTo(t.x,t.y)}function Jq(n){return n.stepped?hz:n.tension||n.cubicInterpolationMode==="monotone"?pz:Kq}function ED(n,e,t={}){const i=n.length,{start:s=0,end:l=i-1}=t,{start:r,end:o}=e,a=Math.max(s,r),f=Math.min(l,o),u=s<r&&l<r||s>o&&l>o;return{count:i,start:a,loop:e.loop,ilen:f<a&&!u?i+f-a:f-a}}function xq(n,e,t,i){const{points:s,options:l}=e,{count:r,start:o,loop:a,ilen:f}=ED(s,t,i),u=Jq(l);let{move:d=!0,reverse:h}=i||{},p,g,b;for(p=0;p<=f;++p)g=s[(o+(h?f-p:p))%r],!g.skip&&(d?(n.moveTo(g.x,g.y),d=!1):u(n,b,g,h,l.stepped),b=g);return a&&(g=s[(o+(h?f:0))%r],u(n,b,g,h,l.stepped)),!!a}function Yq(n,e,t,i){const s=e.points,{count:l,start:r,ilen:o}=ED(s,t,i),{move:a=!0,reverse:f}=i||{};let u=0,d=0,h,p,g,b,_,y;const w=M=>(r+(f?o-M:M))%l,A=()=>{b!==_&&(n.lineTo(u,_),n.lineTo(u,b),n.lineTo(u,y))};for(a&&(p=s[w(0)],n.moveTo(p.x,p.y)),h=0;h<=o;++h){if(p=s[w(h)],p.skip)continue;const M=p.x,T=p.y,O=M|0;O===g?(T<b?b=T:T>_&&(_=T),u=(d*u+M)/++d):(A(),n.lineTo(M,T),g=O,d=0,b=_=T),y=T}A()}function ib(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Yq:xq}function Gq(n){return n.stepped?Kz:n.tension||n.cubicInterpolationMode==="monotone"?Jz:pa}function Xq(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),OD(n,e.options),n.stroke(s)}function Zq(n,e,t,i){const{segments:s,options:l}=e,r=ib(e);for(const o of s)OD(n,l,o.style),n.beginPath(),r(n,e,o,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const Qq=typeof Path2D=="function";function $q(n,e,t,i){Qq&&!e.options.segment?Xq(n,e,t,i):Zq(n,e,t,i)}class Yo extends no{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;jz(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=tH(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],l=this.points,r=uD(this,{property:t,start:s,end:s});if(!r.length)return;const o=[],a=Gq(i);let f,u;for(f=0,u=r.length;f<u;++f){const{start:d,end:h}=r[f],p=l[d],g=l[h];if(p===g){o.push(p);continue}const b=Math.abs((s-p[t])/(g[t]-p[t])),_=a(p,g,b,i.stepped);_[t]=e[t],o.push(_)}return o.length===1?o[0]:o}pathSegment(e,t,i){return ib(this)(e,this,t,i)}path(e,t,i){const s=this.segments,l=ib(this);let r=this._loop;t=t||0,i=i||this.points.length-t;for(const o of s)r&=l(e,this,o,{start:t,end:t+i-1});return!!r}draw(e,t,i,s){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),$q(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Yo.id="line";Yo.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Yo.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Yo.descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};function $k(n,e,t,i){const s=n.options,{[t]:l}=n.getProps([t],i);return Math.abs(e-l)<s.radius+s.hitRadius}class rg extends no{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const s=this.options,{x:l,y:r}=this.getProps(["x","y"],i);return Math.pow(e-l,2)+Math.pow(t-r,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,t){return $k(this,e,"x",t)}inYRange(e,t){return $k(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const i=t&&e.borderWidth||0;return(t+i)*2}draw(e,t){const i=this.options;this.skip||i.radius<.1||!Uc(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Q0(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}rg.id="point";rg.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};rg.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function PD(n,e){const{x:t,y:i,base:s,width:l,height:r}=n.getProps(["x","y","base","width","height"],e);let o,a,f,u,d;return n.horizontal?(d=r/2,o=Math.min(t,s),a=Math.max(t,s),f=i-d,u=i+d):(d=l/2,o=t-d,a=t+d,f=Math.min(i,s),u=Math.max(i,s)),{left:o,top:f,right:a,bottom:u}}function ko(n,e,t,i){return n?0:hs(e,t,i)}function eW(n,e,t){const i=n.options.borderWidth,s=n.borderSkipped,l=eD(i);return{t:ko(s.top,l.top,0,t),r:ko(s.right,l.right,0,e),b:ko(s.bottom,l.bottom,0,t),l:ko(s.left,l.left,0,e)}}function tW(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,l=Df(s),r=Math.min(e,t),o=n.borderSkipped,a=i||an(s);return{topLeft:ko(!a||o.top||o.left,l.topLeft,0,r),topRight:ko(!a||o.top||o.right,l.topRight,0,r),bottomLeft:ko(!a||o.bottom||o.left,l.bottomLeft,0,r),bottomRight:ko(!a||o.bottom||o.right,l.bottomRight,0,r)}}function nW(n){const e=PD(n),t=e.right-e.left,i=e.bottom-e.top,s=eW(n,t/2,i/2),l=tW(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:l},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,l.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(s.b,s.r))}}}}function C1(n,e,t,i){const s=e===null,l=t===null,o=n&&!(s&&l)&&PD(n,i);return o&&(s||Wc(e,o.left,o.right))&&(l||Wc(t,o.top,o.bottom))}function iW(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function sW(n,e){n.rect(e.x,e.y,e.w,e.h)}function M1(n,e,t={}){const i=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,l=(n.x+n.w!==t.x+t.w?e:0)-i,r=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+l,h:n.h+r,radius:n.radius}}class y2 extends no{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:s}}=this,{inner:l,outer:r}=nW(this),o=iW(r.radius)?Wp:sW;e.save(),(r.w!==l.w||r.h!==l.h)&&(e.beginPath(),o(e,M1(r,t,l)),e.clip(),o(e,M1(l,-t,r)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),o(e,M1(l,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return C1(this,e,t,i)}inXRange(e,t){return C1(this,e,null,t)}inYRange(e,t){return C1(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:s,horizontal:l}=this.getProps(["x","y","base","horizontal"],e);return{x:l?(t+s)/2:t,y:l?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}y2.id="bar";y2.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};y2.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function lW(n,e,t){const i=n.segments,s=n.points,l=e.points,r=[];for(const o of i){let{start:a,end:f}=o;f=v2(a,f,s);const u=sb(t,s[a],s[f],o.loop);if(!e.segments){r.push({source:o,target:u,start:s[a],end:s[f]});continue}const d=uD(e,u);for(const h of d){const p=sb(t,l[h.start],l[h.end],h.loop),g=fD(o,s,p);for(const b of g)r.push({source:b,target:h,start:{[t]:ew(u,p,"start",Math.max)},end:{[t]:ew(u,p,"end",Math.min)}})}}return r}function sb(n,e,t,i){if(i)return;let s=e[n],l=t[n];return n==="angle"&&(s=qs(s),l=qs(l)),{property:n,start:s,end:l}}function rW(n,e){const{x:t=null,y:i=null}=n||{},s=e.points,l=[];return e.segments.forEach(({start:r,end:o})=>{o=v2(r,o,s);const a=s[r],f=s[o];i!==null?(l.push({x:a.x,y:i}),l.push({x:f.x,y:i})):t!==null&&(l.push({x:t,y:a.y}),l.push({x:t,y:f.y}))}),l}function v2(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function ew(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function DD(n,e){let t=[],i=!1;return Qn(n)?(i=!0,t=n):t=rW(n,e),t.length?new Yo({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function tw(n){return n&&n.fill!==!1}function oW(n,e,t){let s=n[e].fill;const l=[e];let r;if(!t)return s;for(;s!==!1&&l.indexOf(s)===-1;){if(!Oi(s))return s;if(r=n[s],!r)return!1;if(r.visible)return s;l.push(s),s=r.fill}return!1}function aW(n,e,t){const i=dW(n);if(an(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Oi(s)&&Math.floor(s)===s?fW(i[0],e,s,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function fW(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function uW(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:an(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function cW(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:an(n)?i=n.value:i=e.getBaseValue(),i}function dW(n){const e=n.options,t=e.fill;let i=pn(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function hW(n){const{scale:e,index:t,line:i}=n,s=[],l=i.segments,r=i.points,o=pW(e,t);o.push(DD({x:null,y:e.bottom},i));for(let a=0;a<l.length;a++){const f=l[a];for(let u=f.start;u<=f.end;u++)mW(s,r[u],o)}return new Yo({points:s,options:{}})}function pW(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const l=i[s];if(l.index===e)break;l.hidden||t.unshift(l.dataset)}return t}function mW(n,e,t){const i=[];for(let s=0;s<t.length;s++){const l=t[s],{first:r,last:o,point:a}=gW(l,e,"x");if(!(!a||r&&o)){if(r)i.unshift(a);else if(n.push(a),!o)break}}n.push(...i)}function gW(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const s=i[t],l=n.segments,r=n.points;let o=!1,a=!1;for(let f=0;f<l.length;f++){const u=l[f],d=r[u.start][t],h=r[u.end][t];if(Wc(s,d,h)){o=s===d,a=s===h;break}}return{first:o,last:a,point:i}}class ID{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:s,y:l,radius:r}=this;return t=t||{start:0,end:zn},e.arc(s,l,r,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:s}=this,l=e.angle;return{x:t+Math.cos(l)*s,y:i+Math.sin(l)*s,angle:l}}}function bW(n){const{chart:e,fill:t,line:i}=n;if(Oi(t))return _W(e,t);if(t==="stack")return hW(n);if(t==="shape")return!0;const s=yW(n);return s instanceof ID?s:DD(s,i)}function _W(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function yW(n){return(n.scale||{}).getPointPositionForValue?kW(n):vW(n)}function vW(n){const{scale:e={},fill:t}=n,i=uW(t,e);if(Oi(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function kW(n){const{scale:e,fill:t}=n,i=e.options,s=e.getLabels().length,l=i.reverse?e.max:e.min,r=cW(t,e,l),o=[];if(i.grid.circular){const a=e.getPointPositionForValue(0,l);return new ID({x:a.x,y:a.y,radius:e.getDistanceFromCenterForValue(r)})}for(let a=0;a<s;++a)o.push(e.getPointPositionForValue(a,r));return o}function T1(n,e,t){const i=bW(e),{line:s,scale:l,axis:r}=e,o=s.options,a=o.fill,f=o.backgroundColor,{above:u=f,below:d=f}=a||{};i&&s.points.length&&(r2(n,t),wW(n,{line:s,target:i,above:u,below:d,area:t,scale:l,axis:r}),o2(n))}function wW(n,e){const{line:t,target:i,above:s,below:l,area:r,scale:o}=e,a=t._loop?"angle":e.axis;n.save(),a==="x"&&l!==s&&(nw(n,i,r.top),iw(n,{line:t,target:i,color:s,scale:o,property:a}),n.restore(),n.save(),nw(n,i,r.bottom)),iw(n,{line:t,target:i,color:l,scale:o,property:a}),n.restore()}function nw(n,e,t){const{segments:i,points:s}=e;let l=!0,r=!1;n.beginPath();for(const o of i){const{start:a,end:f}=o,u=s[a],d=s[v2(a,f,s)];l?(n.moveTo(u.x,u.y),l=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),r=!!e.pathSegment(n,o,{move:r}),r?n.closePath():n.lineTo(d.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function iw(n,e){const{line:t,target:i,property:s,color:l,scale:r}=e,o=lW(t,i,s);for(const{source:a,target:f,start:u,end:d}of o){const{style:{backgroundColor:h=l}={}}=a,p=i!==!0;n.save(),n.fillStyle=h,SW(n,r,p&&sb(s,u,d)),n.beginPath();const g=!!t.pathSegment(n,a);let b;if(p){g?n.closePath():sw(n,i,d,s);const _=!!i.pathSegment(n,f,{move:g,reverse:!0});b=g&&_,b||sw(n,i,u,s)}n.closePath(),n.fill(b?"evenodd":"nonzero"),n.restore()}}function SW(n,e,t){const{top:i,bottom:s}=e.chart.chartArea,{property:l,start:r,end:o}=t||{};l==="x"&&(n.beginPath(),n.rect(r,i,o-r,s-i),n.clip())}function sw(n,e,t,i){const s=e.interpolate(t,i);s&&n.lineTo(s.x,s.y)}var CW={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,s=[];let l,r,o,a;for(r=0;r<i;++r)l=n.getDatasetMeta(r),o=l.dataset,a=null,o&&o.options&&o instanceof Yo&&(a={visible:n.isDatasetVisible(r),index:r,fill:aW(o,r,i),chart:n,axis:l.controller.options.indexAxis,scale:l.vScale,line:o}),l.$filler=a,s.push(a);for(r=0;r<i;++r)a=s[r],!(!a||a.fill===!1)&&(a.fill=oW(s,r,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),l=n.chartArea;for(let r=s.length-1;r>=0;--r){const o=s[r].$filler;o&&(o.line.updateControlPoints(l,o.axis),i&&o.fill&&T1(n.ctx,o,l))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const l=i[s].$filler;tw(l)&&T1(n.ctx,l,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!tw(i)||t.drawTime!=="beforeDatasetDraw"||T1(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Pc={average(n){if(!n.length)return!1;let e,t,i=0,s=0,l=0;for(e=0,t=n.length;e<t;++e){const r=n[e].element;if(r&&r.hasValue()){const o=r.tooltipPosition();i+=o.x,s+=o.y,++l}}return{x:i/l,y:s/l}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,l,r,o;for(l=0,r=n.length;l<r;++l){const a=n[l].element;if(a&&a.hasValue()){const f=a.getCenterPoint(),u=G0(e,f);u<s&&(s=u,o=a)}}if(o){const a=o.tooltipPosition();t=a.x,i=a.y}return{x:t,y:i}}};function Ql(n,e){return e&&(Qn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Rr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function MW(n,e){const{element:t,datasetIndex:i,index:s}=e,l=n.getDatasetMeta(i).controller,{label:r,value:o}=l.getLabelAndValue(s);return{chart:n,label:r,parsed:l.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:o,dataset:l.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function lw(n,e){const t=n.chart.ctx,{body:i,footer:s,title:l}=n,{boxWidth:r,boxHeight:o}=e,a=Ks(e.bodyFont),f=Ks(e.titleFont),u=Ks(e.footerFont),d=l.length,h=s.length,p=i.length,g=yl(e.padding);let b=g.height,_=0,y=i.reduce((M,T)=>M+T.before.length+T.lines.length+T.after.length,0);if(y+=n.beforeBody.length+n.afterBody.length,d&&(b+=d*f.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){const M=e.displayColors?Math.max(o,a.lineHeight):a.lineHeight;b+=p*M+(y-p)*a.lineHeight+(y-1)*e.bodySpacing}h&&(b+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let w=0;const A=function(M){_=Math.max(_,t.measureText(M).width+w)};return t.save(),t.font=f.string,Vn(n.title,A),t.font=a.string,Vn(n.beforeBody.concat(n.afterBody),A),w=e.displayColors?r+2+e.boxPadding:0,Vn(i,M=>{Vn(M.before,A),Vn(M.lines,A),Vn(M.after,A)}),w=0,t.font=u.string,Vn(n.footer,A),t.restore(),_+=g.width,{width:_,height:b}}function TW(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function AW(n,e,t,i){const{x:s,width:l}=i,r=t.caretSize+t.caretPadding;if(n==="left"&&s+l+r>e.width||n==="right"&&s-l-r<0)return!0}function OW(n,e,t,i){const{x:s,width:l}=t,{width:r,chartArea:{left:o,right:a}}=n;let f="center";return i==="center"?f=s<=(o+a)/2?"left":"right":s<=l/2?f="left":s>=r-l/2&&(f="right"),AW(f,n,e,t)&&(f="center"),f}function rw(n,e,t){const i=t.yAlign||e.yAlign||TW(n,t);return{xAlign:t.xAlign||e.xAlign||OW(n,e,t,i),yAlign:i}}function EW(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function PW(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function ow(n,e,t,i){const{caretSize:s,caretPadding:l,cornerRadius:r}=n,{xAlign:o,yAlign:a}=t,f=s+l,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=Df(r);let g=EW(e,o);const b=PW(e,a,f);return a==="center"?o==="left"?g+=f:o==="right"&&(g-=f):o==="left"?g-=Math.max(u,h)+s:o==="right"&&(g+=Math.max(d,p)+s),{x:hs(g,0,i.width-e.width),y:hs(b,0,i.height-e.height)}}function vh(n,e,t){const i=yl(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function aw(n){return Ql([],Rr(n))}function DW(n,e,t){return xo(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function fw(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}let lb=class extends no{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,l=new cD(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=DW(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=i.beforeTitle.apply(this,[e]),l=i.title.apply(this,[e]),r=i.afterTitle.apply(this,[e]);let o=[];return o=Ql(o,Rr(s)),o=Ql(o,Rr(l)),o=Ql(o,Rr(r)),o}getBeforeBody(e,t){return aw(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:i}=t,s=[];return Vn(e,l=>{const r={before:[],lines:[],after:[]},o=fw(i,l);Ql(r.before,Rr(o.beforeLabel.call(this,l))),Ql(r.lines,o.label.call(this,l)),Ql(r.after,Rr(o.afterLabel.call(this,l))),s.push(r)}),s}getAfterBody(e,t){return aw(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:i}=t,s=i.beforeFooter.apply(this,[e]),l=i.footer.apply(this,[e]),r=i.afterFooter.apply(this,[e]);let o=[];return o=Ql(o,Rr(s)),o=Ql(o,Rr(l)),o=Ql(o,Rr(r)),o}_createItems(e){const t=this._active,i=this.chart.data,s=[],l=[],r=[];let o=[],a,f;for(a=0,f=t.length;a<f;++a)o.push(MW(this.chart,t[a]));return e.filter&&(o=o.filter((u,d,h)=>e.filter(u,d,h,i))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,i))),Vn(o,u=>{const d=fw(e.callbacks,u);s.push(d.labelColor.call(this,u)),l.push(d.labelPointStyle.call(this,u)),r.push(d.labelTextColor.call(this,u))}),this.labelColors=s,this.labelPointStyles=l,this.labelTextColors=r,this.dataPoints=o,o}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let l,r=[];if(!s.length)this.opacity!==0&&(l={opacity:0});else{const o=Pc[i.position].call(this,s,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const a=this._size=lw(this,i),f=Object.assign({},o,a),u=rw(this.chart,i,f),d=ow(i,f,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,l={opacity:1,x:d.x,y:d.y,width:a.width,height:a.height,caretX:o.x,caretY:o.y}}this._tooltipItems=r,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const l=this.getCaretPosition(e,i,s);t.lineTo(l.x1,l.y1),t.lineTo(l.x2,l.y2),t.lineTo(l.x3,l.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:l}=this,{caretSize:r,cornerRadius:o}=i,{topLeft:a,topRight:f,bottomLeft:u,bottomRight:d}=Df(o),{x:h,y:p}=e,{width:g,height:b}=t;let _,y,w,A,M,T;return l==="center"?(M=p+b/2,s==="left"?(_=h,y=_-r,A=M+r,T=M-r):(_=h+g,y=_+r,A=M-r,T=M+r),w=_):(s==="left"?y=h+Math.max(a,u)+r:s==="right"?y=h+g-Math.max(f,d)-r:y=this.caretX,l==="top"?(A=p,M=A-r,_=y-r,w=y+r):(A=p+b,M=A+r,_=y+r,w=y-r),T=A),{x1:_,x2:y,x3:w,y1:A,y2:M,y3:T}}drawTitle(e,t,i){const s=this.title,l=s.length;let r,o,a;if(l){const f=b1(i.rtl,this.x,this.width);for(e.x=vh(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",r=Ks(i.titleFont),o=i.titleSpacing,t.fillStyle=i.titleColor,t.font=r.string,a=0;a<l;++a)t.fillText(s[a],f.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+o,a+1===l&&(e.y+=i.titleMarginBottom-o)}}_drawColorBox(e,t,i,s,l){const r=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:a,boxWidth:f,boxPadding:u}=l,d=Ks(l.bodyFont),h=vh(this,"left",l),p=s.x(h),g=a<d.lineHeight?(d.lineHeight-a)/2:0,b=t.y+g;if(l.usePointStyle){const _={radius:Math.min(f,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},y=s.leftForLtr(p,f)+f/2,w=b+a/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,Q0(e,_,y,w),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,Q0(e,_,y,w)}else{e.lineWidth=an(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const _=s.leftForLtr(p,f-u),y=s.leftForLtr(s.xPlus(p,1),f-u-2),w=Df(r.borderRadius);Object.values(w).some(A=>A!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,Wp(e,{x:_,y:b,w:f,h:a,radius:w}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),Wp(e,{x:y,y:b+1,w:f-2,h:a-2,radius:w}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(_,b,f,a),e.strokeRect(_,b,f,a),e.fillStyle=r.backgroundColor,e.fillRect(y,b+1,f-2,a-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:l,bodyAlign:r,displayColors:o,boxHeight:a,boxWidth:f,boxPadding:u}=i,d=Ks(i.bodyFont);let h=d.lineHeight,p=0;const g=b1(i.rtl,this.x,this.width),b=function(R){t.fillText(R,g.x(e.x+p),e.y+h/2),e.y+=h+l},_=g.textAlign(r);let y,w,A,M,T,O,E;for(t.textAlign=r,t.textBaseline="middle",t.font=d.string,e.x=vh(this,_,i),t.fillStyle=i.bodyColor,Vn(this.beforeBody,b),p=o&&_!=="right"?r==="center"?f/2+u:f+2+u:0,M=0,O=s.length;M<O;++M){for(y=s[M],w=this.labelTextColors[M],t.fillStyle=w,Vn(y.before,b),A=y.lines,o&&A.length&&(this._drawColorBox(t,e,M,g,i),h=Math.max(d.lineHeight,a)),T=0,E=A.length;T<E;++T)b(A[T]),h=d.lineHeight;Vn(y.after,b)}p=0,h=d.lineHeight,Vn(this.afterBody,b),e.y-=l}drawFooter(e,t,i){const s=this.footer,l=s.length;let r,o;if(l){const a=b1(i.rtl,this.x,this.width);for(e.x=vh(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=a.textAlign(i.footerAlign),t.textBaseline="middle",r=Ks(i.footerFont),t.fillStyle=i.footerColor,t.font=r.string,o=0;o<l;++o)t.fillText(s[o],a.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:l,yAlign:r}=this,{x:o,y:a}=e,{width:f,height:u}=i,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:g}=Df(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(o+d,a),r==="top"&&this.drawCaret(e,t,i,s),t.lineTo(o+f-h,a),t.quadraticCurveTo(o+f,a,o+f,a+h),r==="center"&&l==="right"&&this.drawCaret(e,t,i,s),t.lineTo(o+f,a+u-g),t.quadraticCurveTo(o+f,a+u,o+f-g,a+u),r==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(o+p,a+u),t.quadraticCurveTo(o,a+u,o,a+u-p),r==="center"&&l==="left"&&this.drawCaret(e,t,i,s),t.lineTo(o,a+d),t.quadraticCurveTo(o,a,o+d,a),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,l=i&&i.y;if(s||l){const r=Pc[e.position].call(this,this._active,this._eventPosition);if(!r)return;const o=this._size=lw(this,e),a=Object.assign({},r,this._size),f=rw(t,e,a),u=ow(e,a,f,t);(s._to!==u.x||l._to!==u.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=o.width,this.height=o.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},l={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=yl(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=i,this.drawBackground(l,e,s,t),Xz(e,t.textDirection),l.y+=r.top,this.drawTitle(l,e,t),this.drawBody(l,e,t),this.drawFooter(l,e,t),Zz(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:o,index:a})=>{const f=this.chart.getDatasetMeta(o);if(!f)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:f.data[a],index:a}}),l=!jp(i,s),r=this._positionChanged(s,t);(l||r)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,l=this._active||[],r=this._getActiveElements(e,l,t,i),o=this._positionChanged(r,e),a=t||!jp(r,l)||o;return a&&(this._active=r,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,i,s){const l=this.options;if(e.type==="mouseout")return[];if(!s)return t;const r=this.chart.getElementsAtEventForMode(e,l.mode,l,i);return l.reverse&&r.reverse(),r}_positionChanged(e,t){const{caretX:i,caretY:s,options:l}=this,r=Pc[l.position].call(this,e,t);return r!==!1&&(i!==r.x||s!==r.y)}};lb.positioners=Pc;var IW={id:"tooltip",_element:lb,positioners:Pc,afterInit(n,e,t){t&&(n.tooltip=new lb({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",t)===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Dr,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Dr,beforeBody:Dr,beforeLabel:Dr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Rn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Dr,afterBody:Dr,beforeFooter:Dr,footer:Dr,afterFooter:Dr}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const RW=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function NW(n,e,t,i){const s=n.indexOf(e);if(s===-1)return RW(n,e,t,i);const l=n.lastIndexOf(e);return s!==l?t:s}const LW=(n,e)=>n===null?null:hs(Math.round(n),0,e);class rb extends Ga{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:l}of t)i[s]===l&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Rn(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:NW(i,e,pn(t,e),this._addedLabels),LW(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let l=this.getLabels();l=e===0&&t===l.length-1?l:l.slice(e,t+1),this._valueRange=Math.max(l.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=e;r<=t;r++)s.push({value:r});return s}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}rb.id="category";rb.defaults={ticks:{callback:rb.prototype.getLabelForValue}};function FW(n,e){const t=[],{bounds:s,step:l,min:r,max:o,precision:a,count:f,maxTicks:u,maxDigits:d,includeBounds:h}=n,p=l||1,g=u-1,{min:b,max:_}=e,y=!Rn(r),w=!Rn(o),A=!Rn(f),M=(_-b)/(d+1);let T=ak((_-b)/g/p)*p,O,E,R,N;if(T<1e-14&&!y&&!w)return[{value:b},{value:_}];N=Math.ceil(_/T)-Math.floor(b/T),N>g&&(T=ak(N*T/g/p)*p),Rn(a)||(O=Math.pow(10,a),T=Math.ceil(T*O)/O),s==="ticks"?(E=Math.floor(b/T)*T,R=Math.ceil(_/T)*T):(E=b,R=_),y&&w&&l&&RV((o-r)/l,T/1e3)?(N=Math.round(Math.min((o-r)/T,u)),T=(o-r)/N,E=r,R=o):A?(E=y?r:E,R=w?o:R,N=f-1,T=(R-E)/N):(N=(R-E)/T,Ac(N,Math.round(N),T/1e3)?N=Math.round(N):N=Math.ceil(N));const j=Math.max(fk(T),fk(E));O=Math.pow(10,Rn(a)?j:a),E=Math.round(E*O)/O,R=Math.round(R*O)/O;let L=0;for(y&&(h&&E!==r?(t.push({value:r}),E<r&&L++,Ac(Math.round((E+L*T)*O)/O,r,uw(r,M,n))&&L++):E<r&&L++);L<N;++L)t.push({value:Math.round((E+L*T)*O)/O});return w&&h&&R!==o?t.length&&Ac(t[t.length-1].value,o,uw(o,M,n))?t[t.length-1].value=o:t.push({value:o}):(!w||R===o)&&t.push({value:R}),t}function uw(n,e,{horizontal:t,minRotation:i}){const s=Nl(i),l=(t?Math.sin(s):Math.cos(s))||.001,r=.75*e*(""+n).length;return Math.min(e/l,r)}class Yp extends Ga{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Rn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:l}=this;const r=a=>s=t?s:a,o=a=>l=i?l:a;if(e){const a=ur(s),f=ur(l);a<0&&f<0?o(0):a>0&&f>0&&r(0)}if(s===l){let a=1;(l>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(a=Math.abs(l*.05)),o(l+a),e||r(s-a)}this.min=s,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},l=this._range||this,r=FW(s,l);return e.bounds==="ticks"&&HP(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Dd(e,this.chart.options.locale,this.options.ticks.format)}}class k2 extends Yp{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Oi(e)?e:0,this.max=Oi(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Nl(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,l.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}k2.id="linear";k2.defaults={ticks:{callback:lg.formatters.numeric}};function cw(n){return n/Math.pow(10,Math.floor(ll(n)))===1}function jW(n,e){const t=Math.floor(ll(e.max)),i=Math.ceil(e.max/Math.pow(10,t)),s=[];let l=$s(n.min,Math.pow(10,Math.floor(ll(e.min)))),r=Math.floor(ll(l)),o=Math.floor(l/Math.pow(10,r)),a=r<0?Math.pow(10,Math.abs(r)):1;do s.push({value:l,major:cw(l)}),++o,o===10&&(o=1,++r,a=r>=0?1:a),l=Math.round(o*Math.pow(10,r)*a)/a;while(r<t||r===t&&o<i);const f=$s(n.max,l);return s.push({value:f,major:cw(l)}),s}class RD extends Ga{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=Yp.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return Oi(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Oi(e)?Math.max(0,e):null,this.max=Oi(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,s=this.max;const l=a=>i=e?i:a,r=a=>s=t?s:a,o=(a,f)=>Math.pow(10,Math.floor(ll(a))+f);i===s&&(i<=0?(l(1),r(10)):(l(o(i,-1)),r(o(s,1)))),i<=0&&l(o(s,-1)),s<=0&&r(o(i,1)),this._zero&&this.min!==this._suggestedMin&&i===o(this.min,0)&&l(o(i,-1)),this.min=i,this.max=s}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=jW(t,this);return e.bounds==="ticks"&&HP(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Dd(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ll(e),this._valueRange=ll(this.max)-ll(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ll(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}RD.id="logarithmic";RD.defaults={ticks:{callback:lg.formatters.logarithmic,major:{enabled:!0}}};function ob(n){const e=n.ticks;if(e.display&&n.display){const t=yl(e.backdropPadding);return pn(e.font&&e.font.size,mn.font.size)+t.height}return 0}function BW(n,e,t){return t=Qn(t)?t:[t],{w:cz(n,e.string,t),h:t.length*e.lineHeight}}function dw(n,e,t,i,s){return n===i||n===s?{start:e-t/2,end:e+t/2}:n<i||n>s?{start:e-t,end:e}:{start:e,end:e+t}}function VW(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],s=[],l=n._pointLabels.length,r=n.options.pointLabels,o=r.centerPointLabels?yi/l:0;for(let a=0;a<l;a++){const f=r.setContext(n.getPointLabelContext(a));s[a]=f.padding;const u=n.getPointPosition(a,n.drawingArea+s[a],o),d=Ks(f.font),h=BW(n.ctx,d,n._pointLabels[a]);i[a]=h;const p=qs(n.getIndexAngle(a)+o),g=Math.round(t2(p)),b=dw(g,u.x,h.w,0,180),_=dw(g,u.y,h.h,90,270);zW(t,e,p,b,_)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=HW(n,i,s)}function zW(n,e,t,i,s){const l=Math.abs(Math.sin(t)),r=Math.abs(Math.cos(t));let o=0,a=0;i.start<e.l?(o=(e.l-i.start)/l,n.l=Math.min(n.l,e.l-o)):i.end>e.r&&(o=(i.end-e.r)/l,n.r=Math.max(n.r,e.r+o)),s.start<e.t?(a=(e.t-s.start)/r,n.t=Math.min(n.t,e.t-a)):s.end>e.b&&(a=(s.end-e.b)/r,n.b=Math.max(n.b,e.b+a))}function HW(n,e,t){const i=[],s=n._pointLabels.length,l=n.options,r=ob(l)/2,o=n.drawingArea,a=l.pointLabels.centerPointLabels?yi/s:0;for(let f=0;f<s;f++){const u=n.getPointPosition(f,o+r+t[f],a),d=Math.round(t2(qs(u.angle+bi))),h=e[f],p=UW(u.y,h.h,d),g=qW(d),b=WW(u.x,h.w,g);i.push({x:u.x,y:p,textAlign:g,left:b,top:p,right:b+h.w,bottom:p+h.h})}return i}function qW(n){return n===0||n===180?"center":n<180?"left":"right"}function WW(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function UW(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function KW(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let s=e-1;s>=0;s--){const l=i.setContext(n.getPointLabelContext(s)),r=Ks(l.font),{x:o,y:a,textAlign:f,left:u,top:d,right:h,bottom:p}=n._pointLabelItems[s],{backdropColor:g}=l;if(!Rn(g)){const b=Df(l.borderRadius),_=yl(l.backdropPadding);t.fillStyle=g;const y=u-_.left,w=d-_.top,A=h-u+_.width,M=p-d+_.height;Object.values(b).some(T=>T!==0)?(t.beginPath(),Wp(t,{x:y,y:w,w:A,h:M,radius:b}),t.fill()):t.fillRect(y,w,A,M)}qp(t,n._pointLabels[s],o,a+r.lineHeight/2,r,{color:l.color,textAlign:f,textBaseline:"middle"})}}function ND(n,e,t,i){const{ctx:s}=n;if(t)s.arc(n.xCenter,n.yCenter,e,0,zn);else{let l=n.getPointPosition(0,e);s.moveTo(l.x,l.y);for(let r=1;r<i;r++)l=n.getPointPosition(r,e),s.lineTo(l.x,l.y)}}function JW(n,e,t,i){const s=n.ctx,l=e.circular,{color:r,lineWidth:o}=e;!l&&!i||!r||!o||t<0||(s.save(),s.strokeStyle=r,s.lineWidth=o,s.setLineDash(e.borderDash),s.lineDashOffset=e.borderDashOffset,s.beginPath(),ND(n,t,l,i),s.closePath(),s.stroke(),s.restore())}function xW(n,e,t){return xo(n,{label:t,index:e,type:"pointLabel"})}class og extends Yp{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=yl(ob(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Oi(e)&&!isNaN(e)?e:0,this.max=Oi(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ob(this.options))}generateTickLabels(e){Yp.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const s=mi(this.options.pointLabels.callback,[t,i],this);return s||s===0?s:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?VW(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,s){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,s))}getIndexAngle(e){const t=zn/(this._pointLabels.length||1),i=this.options.startAngle||0;return qs(e*t+Nl(i))}getDistanceFromCenterForValue(e){if(Rn(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Rn(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return xW(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const s=this.getIndexAngle(e)-bi+i;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:s,bottom:l}=this._pointLabelItems[e];return{left:t,top:i,right:s,bottom:l}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),ND(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:s}=t,l=this._pointLabels.length;let r,o,a;if(t.pointLabels.display&&KW(this,l),s.display&&this.ticks.forEach((f,u)=>{if(u!==0){o=this.getDistanceFromCenterForValue(f.value);const d=s.setContext(this.getContext(u-1));JW(this,d,o,l)}}),i.display){for(e.save(),r=l-1;r>=0;r--){const f=i.setContext(this.getPointLabelContext(r)),{color:u,lineWidth:d}=f;!d||!u||(e.lineWidth=d,e.strokeStyle=u,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,o=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),a=this.getPointPosition(r,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(a.x,a.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let l,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,a)=>{if(a===0&&!t.reverse)return;const f=i.setContext(this.getContext(a)),u=Ks(f.font);if(l=this.getDistanceFromCenterForValue(this.ticks[a].value),f.showLabelBackdrop){e.font=u.string,r=e.measureText(o.label).width,e.fillStyle=f.backdropColor;const d=yl(f.backdropPadding);e.fillRect(-r/2-d.left,-l-u.size/2-d.top,r+d.width,u.size+d.height)}qp(e,o.label,0,-l,u,{color:f.color})}),e.restore()}drawTitle(){}}og.id="radialLinear";og.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:lg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};og.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};og.descriptors={angleLines:{_fallback:"grid"}};const ag={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},As=Object.keys(ag);function YW(n,e){return n-e}function hw(n,e){if(Rn(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:l}=n._parseOpts;let r=e;return typeof i=="function"&&(r=i(r)),Oi(r)||(r=typeof i=="string"?t.parse(r,i):t.parse(r)),r===null?null:(s&&(r=s==="week"&&(Zf(l)||l===!0)?t.startOf(r,"isoWeek",l):t.startOf(r,s)),+r)}function pw(n,e,t,i){const s=As.length;for(let l=As.indexOf(n);l<s-1;++l){const r=ag[As[l]],o=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((t-e)/(o*r.size))<=i)return As[l]}return As[s-1]}function GW(n,e,t,i,s){for(let l=As.length-1;l>=As.indexOf(t);l--){const r=As[l];if(ag[r].common&&n._adapter.diff(s,i,r)>=e-1)return r}return As[t?As.indexOf(t):0]}function XW(n){for(let e=As.indexOf(n)+1,t=As.length;e<t;++e)if(ag[As[e]].common)return As[e]}function mw(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=n2(t,e),l=t[i]>=e?t[i]:t[s];n[l]=!0}}function ZW(n,e,t,i){const s=n._adapter,l=+s.startOf(e[0].value,i),r=e[e.length-1].value;let o,a;for(o=l;o<=r;o=+s.add(o,1,i))a=t[o],a>=0&&(e[a].major=!0);return e}function gw(n,e,t){const i=[],s={},l=e.length;let r,o;for(r=0;r<l;++r)o=e[r],s[o]=r,i.push({value:o,major:!1});return l===0||!t?i:ZW(n,i,s,t)}class Nd extends Ga{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const i=e.time||(e.time={}),s=this._adapter=new gD._date(e.adapters.date);s.init(t),Tc(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:hw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:l,minDefined:r,maxDefined:o}=this.getUserBounds();function a(f){!r&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!o&&!isNaN(f.max)&&(l=Math.max(l,f.max))}(!r||!o)&&(a(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&a(this.getMinMax(!1))),s=Oi(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),l=Oi(l)&&!isNaN(l)?l:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,l-1),this.max=Math.max(s+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const l=this.min,r=this.max,o=jV(s,l,r);return this._unit=t.unit||(i.autoSkip?pw(t.minUnit,this.min,this.max,this._getLabelCapacity(l)):GW(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:XW(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),gw(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let t=0,i=0,s,l;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?i=l:i=(l-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;t=hs(t,0,r),i=hs(i,0,r),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,l=s.time,r=l.unit||pw(l.minUnit,t,i,this._getLabelCapacity(t)),o=pn(l.stepSize,1),a=r==="week"?l.isoWeekday:!1,f=Zf(a)||a===!0,u={};let d=t,h,p;if(f&&(d=+e.startOf(d,"isoWeek",a)),d=+e.startOf(d,f?"day":r),e.diff(i,t,r)>1e5*o)throw new Error(t+" and "+i+" are too far apart with stepSize of "+o+" "+r);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(h=d,p=0;h<i;h=+e.add(h,o,r),p++)mw(u,h,g);return(h===i||s.bounds==="ticks"||p===1)&&mw(u,h,g),Object.keys(u).sort((b,_)=>b-_).map(b=>+b)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}_tickFormatFunction(e,t,i,s){const l=this.options,r=l.time.displayFormats,o=this._unit,a=this._majorUnit,f=o&&r[o],u=a&&r[a],d=i[t],h=a&&u&&d&&d.major,p=this._adapter.format(e,s||(h?u:f)),g=l.ticks.callback;return g?mi(g,[p,t,i],this):p}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=Nl(this.isHorizontal()?t.maxRotation:t.minRotation),l=Math.cos(s),r=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:i*l+o*r,h:i*r+o*l}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,l=this._tickFormatFunction(e,0,gw(this,[e],this._majorUnit),s),r=this._getLabelSize(l),o=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(hw(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return UP(e.sort(YW))}}Nd.id="time";Nd.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function kh(n,e,t){let i=0,s=n.length-1,l,r,o,a;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=va(n,"pos",e)),{pos:l,time:o}=n[i],{pos:r,time:a}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=va(n,"time",e)),{time:l,pos:o}=n[i],{time:r,pos:a}=n[s]);const f=r-l;return f?o+(a-o)*(e-l)/f:o}class LD extends Nd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=kh(t,this.min),this._tableRange=kh(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],l=[];let r,o,a,f,u;for(r=0,o=e.length;r<o;++r)f=e[r],f>=t&&f<=i&&s.push(f);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(r=0,o=s.length;r<o;++r)u=s[r+1],a=s[r-1],f=s[r],Math.round((u+a)/2)!==f&&l.push({time:f,pos:r/(o-1)});return l}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(kh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return kh(this._table,i*this._tableRange+this._minPos,!0)}}LD.id="timeseries";LD.defaults=Nd.defaults;/*!
 * chartjs-adapter-luxon v1.3.1
 * https://www.chartjs.org
 * (c) 2023 chartjs-adapter-luxon Contributors
 * Released under the MIT license
 */const QW={datetime:At.DATETIME_MED_WITH_SECONDS,millisecond:"h:mm:ss.SSS a",second:At.TIME_WITH_SECONDS,minute:At.TIME_SIMPLE,hour:{hour:"numeric"},day:{day:"numeric",month:"short"},week:"DD",month:{month:"short",year:"numeric"},quarter:"'Q'q - yyyy",year:{year:"numeric"}};gD._date.override({_id:"luxon",_create:function(n){return At.fromMillis(n,this.options)},init(n){this.options.locale||(this.options.locale=n.locale)},formats:function(){return QW},parse:function(n,e){const t=this.options,i=typeof n;return n===null||i==="undefined"?null:(i==="number"?n=this._create(n):i==="string"?typeof e=="string"?n=At.fromFormat(n,e,t):n=At.fromISO(n,t):n instanceof Date?n=At.fromJSDate(n,t):i==="object"&&!(n instanceof At)&&(n=At.fromObject(n,t)),n.isValid?n.valueOf():null)},format:function(n,e){const t=this._create(n);return typeof e=="string"?t.toFormat(e):t.toLocaleString(e)},add:function(n,e,t){const i={};return i[t]=e,this._create(n).plus(i).valueOf()},diff:function(n,e,t){return this._create(n).diff(this._create(e)).as(t).valueOf()},startOf:function(n,e,t){if(e==="isoWeek"){t=Math.trunc(Math.min(Math.max(0,t),6));const i=this._create(n);return i.minus({days:(i.weekday-t+7)%7}).startOf("day").valueOf()}return e?this._create(n).startOf(e).valueOf():n},endOf:function(n,e){return this._create(n).endOf(e).valueOf()}});function bw(n){let e,t,i;return{c(){e=k("div"),m(e,"class","chart-loader loader svelte-vh4sl8")},m(s,l){C(s,e,l),i=!0},i(s){i||(s&&Yt(()=>{i&&(t||(t=gt(e,ji,{duration:150},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=gt(e,ji,{duration:150},!1)),t.run(0)),i=!1},d(s){s&&S(e),s&&t&&t.end()}}}function $W(n){let e,t,i=n[1]===1?"log":"logs",s;return{c(){e=G(n[1]),t=D(),s=G(i)},m(l,r){C(l,e,r),C(l,t,r),C(l,s,r)},p(l,r){r&2&&pe(e,l[1]),r&2&&i!==(i=l[1]===1?"log":"logs")&&pe(s,i)},d(l){l&&S(e),l&&S(t),l&&S(s)}}}function eU(n){let e;return{c(){e=G("Loading...")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function tU(n){let e,t,i,s,l,r=n[2]&&bw();function o(u,d){return u[2]?eU:$W}let a=o(n),f=a(n);return{c(){e=k("div"),r&&r.c(),t=D(),i=k("canvas"),s=D(),l=k("div"),f.c(),m(i,"class","chart-canvas svelte-vh4sl8"),Il(i,"height","250px"),Il(i,"width","100%"),m(e,"class","chart-wrapper svelte-vh4sl8"),$(e,"loading",n[2]),m(l,"class","txt-hint m-t-xs txt-right")},m(u,d){C(u,e,d),r&&r.m(e,null),v(e,t),v(e,i),n[8](i),C(u,s,d),C(u,l,d),f.m(l,null)},p(u,[d]){u[2]?r?d&4&&P(r,1):(r=bw(),r.c(),P(r,1),r.m(e,t)):r&&(ue(),I(r,1,1,()=>{r=null}),ce()),d&4&&$(e,"loading",u[2]),a===(a=o(u))&&f?f.p(u,d):(f.d(1),f=a(u),f&&(f.c(),f.m(l,null)))},i(u){P(r)},o(u){I(r)},d(u){u&&S(e),r&&r.d(),n[8](null),u&&S(s),u&&S(l),f.d()}}}function nU(n,e,t){let{filter:i=""}=e,{presets:s=""}=e,l,r,o=[],a=0,f=!1;async function u(){return t(2,f=!0),Re.logs.getRequestsStats({filter:[s,i].filter(Boolean).join("&&")}).then(p=>{d();for(let g of p)o.push({x:new Date(g.date),y:g.total}),t(1,a+=g.total);o.push({x:new Date,y:void 0})}).catch(p=>{p!=null&&p.isAbort||(d(),console.warn(p),Re.error(p,!1))}).finally(()=>{t(2,f=!1)})}function d(){t(1,a=0),t(7,o=[])}Pn(()=>(xp.register(Yo,rg,sg,k2,Nd,CW,IW),t(6,r=new xp(l,{type:"line",data:{datasets:[{label:"Total requests",data:o,borderColor:"#ef4565",pointBackgroundColor:"#ef4565",backgroundColor:"rgb(239,69,101,0.05)",borderWidth:2,pointRadius:1,pointBorderWidth:0,fill:!0}]},options:{animation:!1,interaction:{intersect:!1,mode:"index"},scales:{y:{beginAtZero:!0,grid:{color:"#edf0f3",borderColor:"#dee3e8"},ticks:{precision:0,maxTicksLimit:6,autoSkip:!0,color:"#666f75"}},x:{type:"time",time:{unit:"hour",tooltipFormat:"DD h a"},grid:{borderColor:"#dee3e8",color:p=>p.tick.major?"#edf0f3":""},ticks:{maxTicksLimit:15,autoSkip:!0,maxRotation:0,major:{enabled:!0},color:p=>p.tick.major?"#16161a":"#666f75"}}},plugins:{legend:{display:!1}}}})),()=>r==null?void 0:r.destroy()));function h(p){de[p?"unshift":"push"](()=>{l=p,t(0,l)})}return n.$$set=p=>{"filter"in p&&t(3,i=p.filter),"presets"in p&&t(4,s=p.presets)},n.$$.update=()=>{n.$$.dirty&24&&(typeof i<"u"||typeof s<"u")&&u(),n.$$.dirty&192&&typeof o<"u"&&r&&(t(6,r.data.datasets[0].data=o,r),r.update())},[l,a,f,i,s,u,r,o,h]}class iU extends ke{constructor(e){super(),ve(this,e,nU,tU,De,{filter:3,presets:4,load:5})}get load(){return this.$$.ctx[5]}}var _w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function FD(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jD={exports:{}};(function(n){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(i){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,l=0,r={},o={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function w(A){return A instanceof a?new a(A.type,w(A.content),A.alias):Array.isArray(A)?A.map(w):A.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(w){return Object.prototype.toString.call(w).slice(8,-1)},objId:function(w){return w.__id||Object.defineProperty(w,"__id",{value:++l}),w.__id},clone:function w(A,M){M=M||{};var T,O;switch(o.util.type(A)){case"Object":if(O=o.util.objId(A),M[O])return M[O];T={},M[O]=T;for(var E in A)A.hasOwnProperty(E)&&(T[E]=w(A[E],M));return T;case"Array":return O=o.util.objId(A),M[O]?M[O]:(T=[],M[O]=T,A.forEach(function(R,N){T[N]=w(R,M)}),T);default:return A}},getLanguage:function(w){for(;w;){var A=s.exec(w.className);if(A)return A[1].toLowerCase();w=w.parentElement}return"none"},setLanguage:function(w,A){w.className=w.className.replace(RegExp(s,"gi"),""),w.classList.add("language-"+A)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(T){var w=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(T.stack)||[])[1];if(w){var A=document.getElementsByTagName("script");for(var M in A)if(A[M].src==w)return A[M]}return null}},isActive:function(w,A,M){for(var T="no-"+A;w;){var O=w.classList;if(O.contains(A))return!0;if(O.contains(T))return!1;w=w.parentElement}return!!M}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(w,A){var M=o.util.clone(o.languages[w]);for(var T in A)M[T]=A[T];return M},insertBefore:function(w,A,M,T){T=T||o.languages;var O=T[w],E={};for(var R in O)if(O.hasOwnProperty(R)){if(R==A)for(var N in M)M.hasOwnProperty(N)&&(E[N]=M[N]);M.hasOwnProperty(R)||(E[R]=O[R])}var j=T[w];return T[w]=E,o.languages.DFS(o.languages,function(L,F){F===j&&L!=w&&(this[L]=E)}),E},DFS:function w(A,M,T,O){O=O||{};var E=o.util.objId;for(var R in A)if(A.hasOwnProperty(R)){M.call(A,R,A[R],T||R);var N=A[R],j=o.util.type(N);j==="Object"&&!O[E(N)]?(O[E(N)]=!0,w(N,M,null,O)):j==="Array"&&!O[E(N)]&&(O[E(N)]=!0,w(N,M,R,O))}}},plugins:{},highlightAll:function(w,A){o.highlightAllUnder(document,w,A)},highlightAllUnder:function(w,A,M){var T={callback:M,container:w,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",T),T.elements=Array.prototype.slice.apply(T.container.querySelectorAll(T.selector)),o.hooks.run("before-all-elements-highlight",T);for(var O=0,E;E=T.elements[O++];)o.highlightElement(E,A===!0,T.callback)},highlightElement:function(w,A,M){var T=o.util.getLanguage(w),O=o.languages[T];o.util.setLanguage(w,T);var E=w.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(E,T);var R=w.textContent,N={element:w,language:T,grammar:O,code:R};function j(F){N.highlightedCode=F,o.hooks.run("before-insert",N),N.element.innerHTML=N.highlightedCode,o.hooks.run("after-highlight",N),o.hooks.run("complete",N),M&&M.call(N.element)}if(o.hooks.run("before-sanity-check",N),E=N.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!N.code){o.hooks.run("complete",N),M&&M.call(N.element);return}if(o.hooks.run("before-highlight",N),!N.grammar){j(o.util.encode(N.code));return}if(A&&i.Worker){var L=new Worker(o.filename);L.onmessage=function(F){j(F.data)},L.postMessage(JSON.stringify({language:N.language,code:N.code,immediateClose:!0}))}else j(o.highlight(N.code,N.grammar,N.language))},highlight:function(w,A,M){var T={code:w,grammar:A,language:M};if(o.hooks.run("before-tokenize",T),!T.grammar)throw new Error('The language "'+T.language+'" has no grammar.');return T.tokens=o.tokenize(T.code,T.grammar),o.hooks.run("after-tokenize",T),a.stringify(o.util.encode(T.tokens),T.language)},tokenize:function(w,A){var M=A.rest;if(M){for(var T in M)A[T]=M[T];delete A.rest}var O=new d;return h(O,O.head,w),u(w,O,A,O.head,0),g(O)},hooks:{all:{},add:function(w,A){var M=o.hooks.all;M[w]=M[w]||[],M[w].push(A)},run:function(w,A){var M=o.hooks.all[w];if(!(!M||!M.length))for(var T=0,O;O=M[T++];)O(A)}},Token:a};i.Prism=o;function a(w,A,M,T){this.type=w,this.content=A,this.alias=M,this.length=(T||"").length|0}a.stringify=function w(A,M){if(typeof A=="string")return A;if(Array.isArray(A)){var T="";return A.forEach(function(j){T+=w(j,M)}),T}var O={type:A.type,content:w(A.content,M),tag:"span",classes:["token",A.type],attributes:{},language:M},E=A.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(O.classes,E):O.classes.push(E)),o.hooks.run("wrap",O);var R="";for(var N in O.attributes)R+=" "+N+'="'+(O.attributes[N]||"").replace(/"/g,"&quot;")+'"';return"<"+O.tag+' class="'+O.classes.join(" ")+'"'+R+">"+O.content+"</"+O.tag+">"};function f(w,A,M,T){w.lastIndex=A;var O=w.exec(M);if(O&&T&&O[1]){var E=O[1].length;O.index+=E,O[0]=O[0].slice(E)}return O}function u(w,A,M,T,O,E){for(var R in M)if(!(!M.hasOwnProperty(R)||!M[R])){var N=M[R];N=Array.isArray(N)?N:[N];for(var j=0;j<N.length;++j){if(E&&E.cause==R+","+j)return;var L=N[j],F=L.inside,B=!!L.lookbehind,V=!!L.greedy,H=L.alias;if(V&&!L.pattern.global){var K=L.pattern.toString().match(/[imsuy]*$/)[0];L.pattern=RegExp(L.pattern.source,K+"g")}for(var X=L.pattern||L,J=T.next,z=O;J!==A.tail&&!(E&&z>=E.reach);z+=J.value.length,J=J.next){var Z=J.value;if(A.length>w.length)return;if(!(Z instanceof a)){var Y=1,oe;if(V){if(oe=f(X,z,w,B),!oe||oe.index>=w.length)break;var qe=oe.index,re=oe.index+oe[0].length,Q=z;for(Q+=J.value.length;qe>=Q;)J=J.next,Q+=J.value.length;if(Q-=J.value.length,z=Q,J.value instanceof a)continue;for(var me=J;me!==A.tail&&(Q<re||typeof me.value=="string");me=me.next)Y++,Q+=me.value.length;Y--,Z=w.slice(z,Q),oe.index-=z}else if(oe=f(X,0,Z,B),!oe)continue;var qe=oe.index,be=oe[0],Ie=Z.slice(0,qe),he=Z.slice(qe+be.length),Ve=z+Z.length;E&&Ve>E.reach&&(E.reach=Ve);var Qe=J.prev;Ie&&(Qe=h(A,Qe,Ie),z+=Ie.length),p(A,Qe,Y);var it=new a(R,F?o.tokenize(be,F):be,H,be);if(J=h(A,Qe,it),he&&h(A,J,he),Y>1){var ye={cause:R+","+j,reach:Ve};u(w,A,M,J.prev,z,ye),E&&ye.reach>E.reach&&(E.reach=ye.reach)}}}}}}function d(){var w={value:null,prev:null,next:null},A={value:null,prev:w,next:null};w.next=A,this.head=w,this.tail=A,this.length=0}function h(w,A,M){var T=A.next,O={value:M,prev:A,next:T};return A.next=O,T.prev=O,w.length++,O}function p(w,A,M){for(var T=A.next,O=0;O<M&&T!==w.tail;O++)T=T.next;A.next=T,T.prev=A,w.length-=O}function g(w){for(var A=[],M=w.head.next;M!==w.tail;)A.push(M.value),M=M.next;return A}if(!i.document)return i.addEventListener&&(o.disableWorkerMessageHandler||i.addEventListener("message",function(w){var A=JSON.parse(w.data),M=A.language,T=A.code,O=A.immediateClose;i.postMessage(o.highlight(T,o.languages[M],M)),O&&i.close()},!1)),o;var b=o.util.currentScript();b&&(o.filename=b.src,b.hasAttribute("data-manual")&&(o.manual=!0));function _(){o.manual||o.highlightAll()}if(!o.manual){var y=document.readyState;y==="loading"||y==="interactive"&&b&&b.defer?document.addEventListener("DOMContentLoaded",_):window.requestAnimationFrame?window.requestAnimationFrame(_):window.setTimeout(_,16)}return o}(e);n.exports&&(n.exports=t),typeof _w<"u"&&(_w.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(s,l){var r={};r["language-"+l]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[l]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+l]={pattern:/[\s\S]+/,inside:t.languages[l]};var a={};a[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:o},t.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(i,s){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:t.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(i){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var l=i.languages.markup;l&&(l.tag.addInlined("style","css"),l.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading…",s=function(b,_){return"✖ Error "+b+" while fetching file: "+_},l="✖ Error: File does not exist or is empty",r={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",a="loading",f="loaded",u="failed",d="pre[data-src]:not(["+o+'="'+f+'"]):not(['+o+'="'+a+'"])';function h(b,_,y){var w=new XMLHttpRequest;w.open("GET",b,!0),w.onreadystatechange=function(){w.readyState==4&&(w.status<400&&w.responseText?_(w.responseText):w.status>=400?y(s(w.status,w.statusText)):y(l))},w.send(null)}function p(b){var _=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(b||"");if(_){var y=Number(_[1]),w=_[2],A=_[3];return w?A?[y,Number(A)]:[y,void 0]:[y,y]}}t.hooks.add("before-highlightall",function(b){b.selector+=", "+d}),t.hooks.add("before-sanity-check",function(b){var _=b.element;if(_.matches(d)){b.code="",_.setAttribute(o,a);var y=_.appendChild(document.createElement("CODE"));y.textContent=i;var w=_.getAttribute("data-src"),A=b.language;if(A==="none"){var M=(/\.(\w+)$/.exec(w)||[,"none"])[1];A=r[M]||M}t.util.setLanguage(y,A),t.util.setLanguage(_,A);var T=t.plugins.autoloader;T&&T.loadLanguages(A),h(w,function(O){_.setAttribute(o,f);var E=p(_.getAttribute("data-range"));if(E){var R=O.split(/\r\n?|\n/g),N=E[0],j=E[1]==null?R.length:E[1];N<0&&(N+=R.length),N=Math.max(0,Math.min(N-1,R.length)),j<0&&(j+=R.length),j=Math.max(0,Math.min(j,R.length)),O=R.slice(N,j).join(`
`),_.hasAttribute("data-start")||_.setAttribute("data-start",String(N+1))}y.textContent=O,t.highlightElement(y)},function(O){_.setAttribute(o,u),y.textContent=O})}}),t.plugins.fileHighlight={highlight:function(_){for(var y=(_||document).querySelectorAll(d),w=0,A;A=y[w++];)t.highlightElement(A)}};var g=!1;t.fileHighlight=function(){g||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),g=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(jD);var sU=jD.exports;const lc=FD(sU);var lU={exports:{}};(function(n){(function(){if(typeof Prism>"u")return;var e=Object.assign||function(r,o){for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a]);return r};function t(r){this.defaults=e({},r)}function i(r){return r.replace(/-(\w)/g,function(o,a){return a.toUpperCase()})}function s(r){for(var o=0,a=0;a<r.length;++a)r.charCodeAt(a)=="	".charCodeAt(0)&&(o+=3);return r.length+o}var l={"remove-trailing":"boolean","remove-indent":"boolean","left-trim":"boolean","right-trim":"boolean","break-lines":"number",indent:"number","remove-initial-line-feed":"boolean","tabs-to-spaces":"number","spaces-to-tabs":"number"};t.prototype={setDefaults:function(r){this.defaults=e(this.defaults,r)},normalize:function(r,o){o=e(this.defaults,o);for(var a in o){var f=i(a);a!=="normalize"&&f!=="setDefaults"&&o[a]&&this[f]&&(r=this[f].call(this,r,o[a]))}return r},leftTrim:function(r){return r.replace(/^\s+/,"")},rightTrim:function(r){return r.replace(/\s+$/,"")},tabsToSpaces:function(r,o){return o=o|0||4,r.replace(/\t/g,new Array(++o).join(" "))},spacesToTabs:function(r,o){return o=o|0||4,r.replace(RegExp(" {"+o+"}","g"),"	")},removeTrailing:function(r){return r.replace(/\s*?$/gm,"")},removeInitialLineFeed:function(r){return r.replace(/^(?:\r?\n|\r)/,"")},removeIndent:function(r){var o=r.match(/^[^\S\n\r]*(?=\S)/gm);return!o||!o[0].length||(o.sort(function(a,f){return a.length-f.length}),!o[0].length)?r:r.replace(RegExp("^"+o[0],"gm"),"")},indent:function(r,o){return r.replace(/^[^\S\n\r]*(?=\S)/gm,new Array(++o).join("	")+"$&")},breakLines:function(r,o){o=o===!0?80:o|0||80;for(var a=r.split(`
`),f=0;f<a.length;++f)if(!(s(a[f])<=o)){for(var u=a[f].split(/(\s+)/g),d=0,h=0;h<u.length;++h){var p=s(u[h]);d+=p,d>o&&(u[h]=`
`+u[h],d=p)}a[f]=u.join("")}return a.join(`
`)}},n.exports&&(n.exports=t),Prism.plugins.NormalizeWhitespace=new t({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),Prism.hooks.add("before-sanity-check",function(r){var o=Prism.plugins.NormalizeWhitespace;if(!(r.settings&&r.settings["whitespace-normalization"]===!1)&&Prism.util.isActive(r.element,"whitespace-normalization",!0)){if((!r.element||!r.element.parentNode)&&r.code){r.code=o.normalize(r.code,r.settings);return}var a=r.element.parentNode;if(!(!r.code||!a||a.nodeName.toLowerCase()!=="pre")){r.settings==null&&(r.settings={});for(var f in l)if(Object.hasOwnProperty.call(l,f)){var u=l[f];if(a.hasAttribute("data-"+f))try{var d=JSON.parse(a.getAttribute("data-"+f)||"true");typeof d===u&&(r.settings[f]=d)}catch{}}for(var h=a.childNodes,p="",g="",b=!1,_=0;_<h.length;++_){var y=h[_];y==r.element?b=!0:y.nodeName==="#text"&&(b?g+=y.nodeValue:p+=y.nodeValue,a.removeChild(y),--_)}if(!r.element.children.length||!Prism.plugins.KeepMarkup)r.code=p+r.code+g,r.code=o.normalize(r.code,r.settings);else{var w=p+r.element.innerHTML+g;r.element.innerHTML=o.normalize(w,r.settings),r.code=r.element.textContent}}}})})()})(lU);(function(n){var e=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],t=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,i={pattern:RegExp(t+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};n.languages.dart=n.languages.extend("clike",{"class-name":[i,{pattern:RegExp(t+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:i.inside}],keyword:e,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),n.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:n.languages.dart}}},string:/[\s\S]+/}},string:void 0}),n.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),n.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":i,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})})(Prism);function rU(n){let e,t,i;return{c(){e=k("div"),t=k("code"),m(t,"class","svelte-10s5tkd"),m(e,"class",i="code-wrapper prism-light "+n[0]+" svelte-10s5tkd")},m(s,l){C(s,e,l),v(e,t),t.innerHTML=n[1]},p(s,[l]){l&2&&(t.innerHTML=s[1]),l&1&&i!==(i="code-wrapper prism-light "+s[0]+" svelte-10s5tkd")&&m(e,"class",i)},i:te,o:te,d(s){s&&S(e)}}}function oU(n,e,t){let{class:i=""}=e,{content:s=""}=e,{language:l="javascript"}=e,r="";function o(a){return a=typeof a=="string"?a:"",a=lc.plugins.NormalizeWhitespace.normalize(a,{"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),lc.highlight(a,lc.languages[l]||lc.languages.javascript,l)}return n.$$set=a=>{"class"in a&&t(0,i=a.class),"content"in a&&t(2,s=a.content),"language"in a&&t(3,l=a.language)},n.$$.update=()=>{n.$$.dirty&4&&typeof lc<"u"&&s&&t(1,r=o(s))},[i,r,s,l]}class BD extends ke{constructor(e){super(),ve(this,e,oU,rU,De,{class:0,content:2,language:3})}}const aU=n=>({}),yw=n=>({}),fU=n=>({}),vw=n=>({});function kw(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A=n[4]&&!n[2]&&ww(n);const M=n[19].header,T=It(M,n,n[18],vw);let O=n[4]&&n[2]&&Sw(n);const E=n[19].default,R=It(E,n,n[18],null),N=n[19].footer,j=It(N,n,n[18],yw);return{c(){e=k("div"),t=k("div"),s=D(),l=k("div"),r=k("div"),A&&A.c(),o=D(),T&&T.c(),a=D(),O&&O.c(),f=D(),u=k("div"),R&&R.c(),d=D(),h=k("div"),j&&j.c(),m(t,"class","overlay"),m(r,"class","overlay-panel-section panel-header"),m(u,"class","overlay-panel-section panel-content"),m(h,"class","overlay-panel-section panel-footer"),m(l,"class",p="overlay-panel "+n[1]+" "+n[8]),$(l,"popup",n[2]),m(e,"class","overlay-panel-container"),$(e,"padded",n[2]),$(e,"active",n[0])},m(L,F){C(L,e,F),v(e,t),v(e,s),v(e,l),v(l,r),A&&A.m(r,null),v(r,o),T&&T.m(r,null),v(r,a),O&&O.m(r,null),v(l,f),v(l,u),R&&R.m(u,null),n[21](u),v(l,d),v(l,h),j&&j.m(h,null),_=!0,y||(w=[x(t,"click",qt(n[20])),x(u,"scroll",n[22])],y=!0)},p(L,F){n=L,n[4]&&!n[2]?A?A.p(n,F):(A=ww(n),A.c(),A.m(r,o)):A&&(A.d(1),A=null),T&&T.p&&(!_||F[0]&262144)&&Nt(T,M,n,n[18],_?Rt(M,n[18],F,fU):Lt(n[18]),vw),n[4]&&n[2]?O?O.p(n,F):(O=Sw(n),O.c(),O.m(r,null)):O&&(O.d(1),O=null),R&&R.p&&(!_||F[0]&262144)&&Nt(R,E,n,n[18],_?Rt(E,n[18],F,null):Lt(n[18]),null),j&&j.p&&(!_||F[0]&262144)&&Nt(j,N,n,n[18],_?Rt(N,n[18],F,aU):Lt(n[18]),yw),(!_||F[0]&258&&p!==(p="overlay-panel "+n[1]+" "+n[8]))&&m(l,"class",p),(!_||F[0]&262)&&$(l,"popup",n[2]),(!_||F[0]&4)&&$(e,"padded",n[2]),(!_||F[0]&1)&&$(e,"active",n[0])},i(L){_||(L&&Yt(()=>{_&&(i||(i=gt(t,Np,{duration:df,opacity:0},!0)),i.run(1))}),P(T,L),P(R,L),P(j,L),Yt(()=>{_&&(b&&b.end(1),g=AE(l,vr,n[2]?{duration:df,y:-10}:{duration:df,x:50}),g.start())}),_=!0)},o(L){L&&(i||(i=gt(t,Np,{duration:df,opacity:0},!1)),i.run(0)),I(T,L),I(R,L),I(j,L),g&&g.invalidate(),b=V_(l,vr,n[2]?{duration:df,y:10}:{duration:df,x:50}),_=!1},d(L){L&&S(e),L&&i&&i.end(),A&&A.d(),T&&T.d(L),O&&O.d(),R&&R.d(L),n[21](null),j&&j.d(L),L&&b&&b.end(),y=!1,Ke(w)}}}function ww(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-close-line"></i>',m(e,"type","button"),m(e,"class","overlay-close")},m(s,l){C(s,e,l),t||(i=x(e,"click",qt(n[5])),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function Sw(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-close-line txt-lg"></i>',m(e,"type","button"),m(e,"class","btn btn-sm btn-circle btn-transparent btn-close m-l-auto")},m(s,l){C(s,e,l),t||(i=x(e,"click",qt(n[5])),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function uU(n){let e,t,i,s,l=n[0]&&kw(n);return{c(){e=k("div"),l&&l.c(),m(e,"class","overlay-panel-wrapper"),m(e,"tabindex","-1")},m(r,o){C(r,e,o),l&&l.m(e,null),n[23](e),t=!0,i||(s=[x(window,"resize",n[10]),x(window,"keydown",n[9])],i=!0)},p(r,o){r[0]?l?(l.p(r,o),o[0]&1&&P(l,1)):(l=kw(r),l.c(),P(l,1),l.m(e,null)):l&&(ue(),I(l,1,1,()=>{l=null}),ce())},i(r){t||(P(l),t=!0)},o(r){I(l),t=!1},d(r){r&&S(e),l&&l.d(),n[23](null),i=!1,Ke(s)}}}let oa,A1=[];function VD(){return oa=oa||document.querySelector(".overlays"),oa||(oa=document.createElement("div"),oa.classList.add("overlays"),document.body.appendChild(oa)),oa}let df=150;function Cw(){return 1e3+VD().querySelectorAll(".overlay-panel-container.active").length}function cU(n,e,t){let{$$slots:i={},$$scope:s}=e,{class:l=""}=e,{active:r=!1}=e,{popup:o=!1}=e,{overlayClose:a=!0}=e,{btnClose:f=!0}=e,{escClose:u=!0}=e,{beforeOpen:d=void 0}=e,{beforeHide:h=void 0}=e;const p=Hn(),g="op_"+ee.randomString(10);let b,_,y,w,A="",M=r;function T(){typeof d=="function"&&d()===!1||t(0,r=!0)}function O(){typeof h=="function"&&h()===!1||t(0,r=!1)}function E(){return r}async function R(z){t(17,M=z),z?(y=document.activeElement,p("show"),b==null||b.focus()):(clearTimeout(w),p("hide"),y==null||y.focus()),await nn(),N()}function N(){b&&(r?t(6,b.style.zIndex=Cw(),b):t(6,b.style="",b))}function j(){ee.pushUnique(A1,g),document.body.classList.add("overlay-active")}function L(){ee.removeByValue(A1,g),A1.length||document.body.classList.remove("overlay-active")}function F(z){r&&u&&z.code=="Escape"&&!ee.isInput(z.target)&&b&&b.style.zIndex==Cw()&&(z.preventDefault(),O())}function B(z){r&&V(_)}function V(z,Z){Z&&t(8,A=""),z&&(w||(w=setTimeout(()=>{if(clearTimeout(w),w=null,!z)return;if(z.scrollHeight-z.offsetHeight>0)t(8,A="scrollable");else{t(8,A="");return}z.scrollTop==0?t(8,A+=" scroll-top-reached"):z.scrollTop+z.offsetHeight==z.scrollHeight&&t(8,A+=" scroll-bottom-reached")},100)))}Pn(()=>(VD().appendChild(b),()=>{var z;clearTimeout(w),L(),(z=b==null?void 0:b.classList)==null||z.add("hidden"),setTimeout(()=>{b==null||b.remove()},0)}));const H=()=>a?O():!0;function K(z){de[z?"unshift":"push"](()=>{_=z,t(7,_)})}const X=z=>V(z.target);function J(z){de[z?"unshift":"push"](()=>{b=z,t(6,b)})}return n.$$set=z=>{"class"in z&&t(1,l=z.class),"active"in z&&t(0,r=z.active),"popup"in z&&t(2,o=z.popup),"overlayClose"in z&&t(3,a=z.overlayClose),"btnClose"in z&&t(4,f=z.btnClose),"escClose"in z&&t(12,u=z.escClose),"beforeOpen"in z&&t(13,d=z.beforeOpen),"beforeHide"in z&&t(14,h=z.beforeHide),"$$scope"in z&&t(18,s=z.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131073&&M!=r&&R(r),n.$$.dirty[0]&128&&V(_,!0),n.$$.dirty[0]&64&&b&&N(),n.$$.dirty[0]&1&&(r?j():L())},[r,l,o,a,f,O,b,_,A,F,B,V,u,d,h,T,E,M,s,i,H,K,X,J]}class rs extends ke{constructor(e){super(),ve(this,e,cU,uU,De,{class:1,active:0,popup:2,overlayClose:3,btnClose:4,escClose:12,beforeOpen:13,beforeHide:14,show:15,hide:5,isActive:16},null,[-1,-1])}get show(){return this.$$.ctx[15]}get hide(){return this.$$.ctx[5]}get isActive(){return this.$$.ctx[16]}}function dU(n){let e;return{c(){e=k("span"),e.textContent="N/A",m(e,"class","txt-hint")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function hU(n){let e,t=n[2].referer+"",i,s;return{c(){e=k("a"),i=G(t),m(e,"href",s=n[2].referer),m(e,"target","_blank"),m(e,"rel","noopener noreferrer")},m(l,r){C(l,e,r),v(e,i)},p(l,r){r&4&&t!==(t=l[2].referer+"")&&pe(i,t),r&4&&s!==(s=l[2].referer)&&m(e,"href",s)},d(l){l&&S(e)}}}function pU(n){let e;return{c(){e=k("span"),e.textContent="N/A",m(e,"class","txt-hint")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function mU(n){let e,t,i;return t=new BD({props:{content:JSON.stringify(n[2].meta,null,2)}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","block")},m(s,l){C(s,e,l),q(t,e,null),i=!0},p(s,l){const r={};l&4&&(r.content=JSON.stringify(s[2].meta,null,2)),t.$set(r)},i(s){i||(P(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&S(e),W(t)}}}function gU(n){var et;let e,t,i,s,l,r,o=n[2].id+"",a,f,u,d,h,p,g,b=n[2].status+"",_,y,w,A,M,T,O=((et=n[2].method)==null?void 0:et.toUpperCase())+"",E,R,N,j,L,F,B=n[2].auth+"",V,H,K,X,J,z,Z=n[2].url+"",Y,oe,re,Q,me,qe,be,Ie,he,Ve,Qe,it=n[2].remoteIp+"",ye,ie,we,Ue,Oe,_e,Ye=n[2].userIp+"",St,Et,Fe,Le,Pt,tn,ct=n[2].userAgent+"",Se,Ut,un,pt,rn,bn,je,Xe,ot,Dt,Te,qn,Mn,Dn,Gt,In;function ki(tt,Ze){return tt[2].referer?hU:dU}let ne=ki(n),le=ne(n);const ge=[mU,pU],Me=[];function Je(tt,Ze){return Ze&4&&(je=null),je==null&&(je=!ee.isEmpty(tt[2].meta)),je?0:1}return Xe=Je(n,-1),ot=Me[Xe]=ge[Xe](n),Gt=new xr({props:{date:n[2].created}}),{c(){e=k("table"),t=k("tbody"),i=k("tr"),s=k("td"),s.textContent="ID",l=D(),r=k("td"),a=G(o),f=D(),u=k("tr"),d=k("td"),d.textContent="Status",h=D(),p=k("td"),g=k("span"),_=G(b),y=D(),w=k("tr"),A=k("td"),A.textContent="Method",M=D(),T=k("td"),E=G(O),R=D(),N=k("tr"),j=k("td"),j.textContent="Auth",L=D(),F=k("td"),V=G(B),H=D(),K=k("tr"),X=k("td"),X.textContent="URL",J=D(),z=k("td"),Y=G(Z),oe=D(),re=k("tr"),Q=k("td"),Q.textContent="Referer",me=D(),qe=k("td"),le.c(),be=D(),Ie=k("tr"),he=k("td"),he.textContent="Remote IP",Ve=D(),Qe=k("td"),ye=G(it),ie=D(),we=k("tr"),Ue=k("td"),Ue.textContent="User IP",Oe=D(),_e=k("td"),St=G(Ye),Et=D(),Fe=k("tr"),Le=k("td"),Le.textContent="UserAgent",Pt=D(),tn=k("td"),Se=G(ct),Ut=D(),un=k("tr"),pt=k("td"),pt.textContent="Meta",rn=D(),bn=k("td"),ot.c(),Dt=D(),Te=k("tr"),qn=k("td"),qn.textContent="Created",Mn=D(),Dn=k("td"),U(Gt.$$.fragment),m(s,"class","min-width txt-hint txt-bold"),m(d,"class","min-width txt-hint txt-bold"),m(g,"class","label"),$(g,"label-danger",n[2].status>=400),m(A,"class","min-width txt-hint txt-bold"),m(j,"class","min-width txt-hint txt-bold"),m(X,"class","min-width txt-hint txt-bold"),m(Q,"class","min-width txt-hint txt-bold"),m(he,"class","min-width txt-hint txt-bold"),m(Ue,"class","min-width txt-hint txt-bold"),m(Le,"class","min-width txt-hint txt-bold"),m(pt,"class","min-width txt-hint txt-bold"),m(qn,"class","min-width txt-hint txt-bold"),m(e,"class","table-border")},m(tt,Ze){C(tt,e,Ze),v(e,t),v(t,i),v(i,s),v(i,l),v(i,r),v(r,a),v(t,f),v(t,u),v(u,d),v(u,h),v(u,p),v(p,g),v(g,_),v(t,y),v(t,w),v(w,A),v(w,M),v(w,T),v(T,E),v(t,R),v(t,N),v(N,j),v(N,L),v(N,F),v(F,V),v(t,H),v(t,K),v(K,X),v(K,J),v(K,z),v(z,Y),v(t,oe),v(t,re),v(re,Q),v(re,me),v(re,qe),le.m(qe,null),v(t,be),v(t,Ie),v(Ie,he),v(Ie,Ve),v(Ie,Qe),v(Qe,ye),v(t,ie),v(t,we),v(we,Ue),v(we,Oe),v(we,_e),v(_e,St),v(t,Et),v(t,Fe),v(Fe,Le),v(Fe,Pt),v(Fe,tn),v(tn,Se),v(t,Ut),v(t,un),v(un,pt),v(un,rn),v(un,bn),Me[Xe].m(bn,null),v(t,Dt),v(t,Te),v(Te,qn),v(Te,Mn),v(Te,Dn),q(Gt,Dn,null),In=!0},p(tt,Ze){var yt;(!In||Ze&4)&&o!==(o=tt[2].id+"")&&pe(a,o),(!In||Ze&4)&&b!==(b=tt[2].status+"")&&pe(_,b),(!In||Ze&4)&&$(g,"label-danger",tt[2].status>=400),(!In||Ze&4)&&O!==(O=((yt=tt[2].method)==null?void 0:yt.toUpperCase())+"")&&pe(E,O),(!In||Ze&4)&&B!==(B=tt[2].auth+"")&&pe(V,B),(!In||Ze&4)&&Z!==(Z=tt[2].url+"")&&pe(Y,Z),ne===(ne=ki(tt))&&le?le.p(tt,Ze):(le.d(1),le=ne(tt),le&&(le.c(),le.m(qe,null))),(!In||Ze&4)&&it!==(it=tt[2].remoteIp+"")&&pe(ye,it),(!In||Ze&4)&&Ye!==(Ye=tt[2].userIp+"")&&pe(St,Ye),(!In||Ze&4)&&ct!==(ct=tt[2].userAgent+"")&&pe(Se,ct);let Tt=Xe;Xe=Je(tt,Ze),Xe===Tt?Me[Xe].p(tt,Ze):(ue(),I(Me[Tt],1,1,()=>{Me[Tt]=null}),ce(),ot=Me[Xe],ot?ot.p(tt,Ze):(ot=Me[Xe]=ge[Xe](tt),ot.c()),P(ot,1),ot.m(bn,null));const st={};Ze&4&&(st.date=tt[2].created),Gt.$set(st)},i(tt){In||(P(ot),P(Gt.$$.fragment,tt),In=!0)},o(tt){I(ot),I(Gt.$$.fragment,tt),In=!1},d(tt){tt&&S(e),le.d(),Me[Xe].d(),W(Gt)}}}function bU(n){let e;return{c(){e=k("h4"),e.textContent="Request log"},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function _U(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Close</span>',m(e,"type","button"),m(e,"class","btn btn-transparent")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[4]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function yU(n){let e,t,i={class:"overlay-panel-lg log-panel",$$slots:{footer:[_U],header:[bU],default:[gU]},$$scope:{ctx:n}};return e=new rs({props:i}),n[5](e),e.$on("hide",n[6]),e.$on("show",n[7]),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,[l]){const r={};l&260&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[5](null),W(e,s)}}}function vU(n,e,t){let i,s=new j0;function l(d){return t(2,s=d),i==null?void 0:i.show()}function r(){return i==null?void 0:i.hide()}const o=()=>r();function a(d){de[d?"unshift":"push"](()=>{i=d,t(1,i)})}function f(d){ht.call(this,n,d)}function u(d){ht.call(this,n,d)}return[r,i,s,l,o,a,f,u]}class kU extends ke{constructor(e){super(),ve(this,e,vU,yU,De,{show:3,hide:0})}get show(){return this.$$.ctx[3]}get hide(){return this.$$.ctx[0]}}function wU(n){let e,t,i,s,l,r,o,a;return{c(){e=k("input"),i=D(),s=k("label"),l=G("Include requests by admins"),m(e,"type","checkbox"),m(e,"id",t=n[14]),m(s,"for",r=n[14])},m(f,u){C(f,e,u),e.checked=n[1],C(f,i,u),C(f,s,u),v(s,l),o||(a=x(e,"change",n[10]),o=!0)},p(f,u){u&16384&&t!==(t=f[14])&&m(e,"id",t),u&2&&(e.checked=f[1]),u&16384&&r!==(r=f[14])&&m(s,"for",r)},d(f){f&&S(e),f&&S(i),f&&S(s),o=!1,a()}}}function Mw(n){let e,t;return e=new iU({props:{filter:n[4],presets:n[5]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&16&&(l.filter=i[4]),s&32&&(l.presets=i[5]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Tw(n){let e,t;return e=new wV({props:{filter:n[4],presets:n[5]}}),e.$on("select",n[12]),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&16&&(l.filter=i[4]),s&32&&(l.presets=i[5]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function SU(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w=n[3],A,M=n[3],T,O;o=new ng({}),o.$on("refresh",n[9]),h=new ze({props:{class:"form-field form-field-toggle m-0",$$slots:{default:[wU,({uniqueId:N})=>({14:N}),({uniqueId:N})=>N?16384:0]},$$scope:{ctx:n}}}),g=new tg({props:{value:n[0],placeholder:"Search term or filter like status >= 400",extraAutocompleteKeys:n[7]}}),g.$on("submit",n[11]);let E=Mw(n),R=Tw(n);return{c(){e=k("div"),t=k("header"),i=k("nav"),s=k("div"),l=G(n[6]),r=D(),U(o.$$.fragment),a=D(),f=k("div"),u=D(),d=k("div"),U(h.$$.fragment),p=D(),U(g.$$.fragment),b=D(),_=k("div"),y=D(),E.c(),A=D(),R.c(),T=Ee(),m(s,"class","breadcrumb-item"),m(i,"class","breadcrumbs"),m(f,"class","flex-fill"),m(d,"class","inline-flex"),m(t,"class","page-header"),m(_,"class","clearfix m-b-base"),m(e,"class","page-header-wrapper m-b-0")},m(N,j){C(N,e,j),v(e,t),v(t,i),v(i,s),v(s,l),v(t,r),q(o,t,null),v(t,a),v(t,f),v(t,u),v(t,d),q(h,d,null),v(e,p),q(g,e,null),v(e,b),v(e,_),v(e,y),E.m(e,null),C(N,A,j),R.m(N,j),C(N,T,j),O=!0},p(N,j){(!O||j&64)&&pe(l,N[6]);const L={};j&49154&&(L.$$scope={dirty:j,ctx:N}),h.$set(L);const F={};j&1&&(F.value=N[0]),g.$set(F),j&8&&De(w,w=N[3])?(ue(),I(E,1,1,te),ce(),E=Mw(N),E.c(),P(E,1),E.m(e,null)):E.p(N,j),j&8&&De(M,M=N[3])?(ue(),I(R,1,1,te),ce(),R=Tw(N),R.c(),P(R,1),R.m(T.parentNode,T)):R.p(N,j)},i(N){O||(P(o.$$.fragment,N),P(h.$$.fragment,N),P(g.$$.fragment,N),P(E),P(R),O=!0)},o(N){I(o.$$.fragment,N),I(h.$$.fragment,N),I(g.$$.fragment,N),I(E),I(R),O=!1},d(N){N&&S(e),W(o),W(h),W(g),E.d(N),N&&S(A),N&&S(T),R.d(N)}}}function CU(n){let e,t,i,s;e=new Ls({props:{$$slots:{default:[SU]},$$scope:{ctx:n}}});let l={};return i=new kU({props:l}),n[13](i),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment)},m(r,o){q(e,r,o),C(r,t,o),q(i,r,o),s=!0},p(r,[o]){const a={};o&32895&&(a.$$scope={dirty:o,ctx:r}),e.$set(a);const f={};i.$set(f)},i(r){s||(P(e.$$.fragment,r),P(i.$$.fragment,r),s=!0)},o(r){I(e.$$.fragment,r),I(i.$$.fragment,r),s=!1},d(r){W(e,r),r&&S(t),n[13](null),W(i,r)}}}const Aw="includeAdminLogs";function MU(n,e,t){var y;let i,s,l;Ht(n,si,w=>t(6,l=w));const r=["method","url","remoteIp","userIp","referer","status","auth","userAgent","created"];ss(si,l="Request logs",l);let o,a="",f=((y=window.localStorage)==null?void 0:y.getItem(Aw))<<0,u=1;function d(){t(3,u++,u)}const h=()=>d();function p(){f=this.checked,t(1,f)}const g=w=>t(0,a=w.detail),b=w=>o==null?void 0:o.show(w==null?void 0:w.detail);function _(w){de[w?"unshift":"push"](()=>{o=w,t(2,o)})}return n.$$.update=()=>{n.$$.dirty&2&&t(5,i=f?"":'auth!="admin"'),n.$$.dirty&2&&typeof f<"u"&&window.localStorage&&window.localStorage.setItem(Aw,f<<0),n.$$.dirty&1&&t(4,s=ee.normalizeSearchFilter(a,r))},[a,f,o,u,s,i,l,r,d,h,p,g,b,_]}class TU extends ke{constructor(e){super(),ve(this,e,MU,CU,De,{})}}const w2=Gs({});function ds(n,e,t){w2.set({text:n,yesCallback:e,noCallback:t})}function zD(){w2.set({})}function Ow(n){let e,t,i;const s=n[17].default,l=It(s,n,n[16],null);return{c(){e=k("div"),l&&l.c(),m(e,"class",n[1]),$(e,"active",n[0])},m(r,o){C(r,e,o),l&&l.m(e,null),n[18](e),i=!0},p(r,o){l&&l.p&&(!i||o&65536)&&Nt(l,s,r,r[16],i?Rt(s,r[16],o,null):Lt(r[16]),null),(!i||o&2)&&m(e,"class",r[1]),(!i||o&3)&&$(e,"active",r[0])},i(r){i||(P(l,r),r&&Yt(()=>{i&&(t||(t=gt(e,vr,{duration:150,y:3},!0)),t.run(1))}),i=!0)},o(r){I(l,r),r&&(t||(t=gt(e,vr,{duration:150,y:3},!1)),t.run(0)),i=!1},d(r){r&&S(e),l&&l.d(r),n[18](null),r&&t&&t.end()}}}function AU(n){let e,t,i,s,l=n[0]&&Ow(n);return{c(){e=k("div"),l&&l.c(),m(e,"class","toggler-container"),m(e,"tabindex","-1")},m(r,o){C(r,e,o),l&&l.m(e,null),n[19](e),t=!0,i||(s=[x(window,"mousedown",n[5]),x(window,"click",n[6]),x(window,"keydown",n[4]),x(window,"focusin",n[7])],i=!0)},p(r,[o]){r[0]?l?(l.p(r,o),o&1&&P(l,1)):(l=Ow(r),l.c(),P(l,1),l.m(e,null)):l&&(ue(),I(l,1,1,()=>{l=null}),ce())},i(r){t||(P(l),t=!0)},o(r){I(l),t=!1},d(r){r&&S(e),l&&l.d(),n[19](null),i=!1,Ke(s)}}}function OU(n,e,t){let{$$slots:i={},$$scope:s}=e,{trigger:l=void 0}=e,{active:r=!1}=e,{escClose:o=!0}=e,{autoScroll:a=!0}=e,{closableClass:f="closable"}=e,{class:u=""}=e,d,h,p,g,b=!1;const _=Hn();function y(){t(0,r=!1),b=!1,clearTimeout(g)}function w(){t(0,r=!0),clearTimeout(g),g=setTimeout(()=>{a&&(h!=null&&h.scrollIntoViewIfNeeded?h==null||h.scrollIntoViewIfNeeded():h!=null&&h.scrollIntoView&&(h==null||h.scrollIntoView({behavior:"smooth",block:"nearest"})))},180)}function A(){r?y():w()}function M(H){return!d||H.classList.contains(f)||(p==null?void 0:p.contains(H))&&!d.contains(H)||d.contains(H)&&H.closest&&H.closest("."+f)}function T(H){(!r||M(H.target))&&(H.preventDefault(),H.stopPropagation(),A())}function O(H){(H.code==="Enter"||H.code==="Space")&&(!r||M(H.target))&&(H.preventDefault(),H.stopPropagation(),A())}function E(H){r&&o&&H.code==="Escape"&&(H.preventDefault(),y())}function R(H){r&&!(d!=null&&d.contains(H.target))?b=!0:b&&(b=!1)}function N(H){var K;r&&b&&!(d!=null&&d.contains(H.target))&&!(p!=null&&p.contains(H.target))&&!((K=H.target)!=null&&K.closest(".flatpickr-calendar"))&&y()}function j(H){R(H),N(H)}function L(H){F(),d==null||d.addEventListener("click",T),t(15,p=H||(d==null?void 0:d.parentNode)),p==null||p.addEventListener("click",T),p==null||p.addEventListener("keydown",O)}function F(){clearTimeout(g),d==null||d.removeEventListener("click",T),p==null||p.removeEventListener("click",T),p==null||p.removeEventListener("keydown",O)}Pn(()=>(L(),()=>F()));function B(H){de[H?"unshift":"push"](()=>{h=H,t(3,h)})}function V(H){de[H?"unshift":"push"](()=>{d=H,t(2,d)})}return n.$$set=H=>{"trigger"in H&&t(8,l=H.trigger),"active"in H&&t(0,r=H.active),"escClose"in H&&t(9,o=H.escClose),"autoScroll"in H&&t(10,a=H.autoScroll),"closableClass"in H&&t(11,f=H.closableClass),"class"in H&&t(1,u=H.class),"$$scope"in H&&t(16,s=H.$$scope)},n.$$.update=()=>{var H,K;n.$$.dirty&260&&d&&L(l),n.$$.dirty&32769&&(r?((H=p==null?void 0:p.classList)==null||H.add("active"),_("show")):((K=p==null?void 0:p.classList)==null||K.remove("active"),_("hide")))},[r,u,d,h,E,R,N,j,l,o,a,f,y,w,A,p,s,i,B,V]}class kl extends ke{constructor(e){super(),ve(this,e,OU,AU,De,{trigger:8,active:0,escClose:9,autoScroll:10,closableClass:11,class:1,hide:12,show:13,toggle:14})}get hide(){return this.$$.ctx[12]}get show(){return this.$$.ctx[13]}get toggle(){return this.$$.ctx[14]}}function Ew(n,e,t){const i=n.slice();return i[27]=e[t],i}function EU(n){let e,t,i,s,l,r,o,a,f;return{c(){e=k("input"),s=D(),l=k("label"),r=G("Unique"),m(e,"type","checkbox"),m(e,"id",t=n[30]),e.checked=i=n[3].unique,m(l,"for",o=n[30])},m(u,d){C(u,e,d),C(u,s,d),C(u,l,d),v(l,r),a||(f=x(e,"change",n[19]),a=!0)},p(u,d){d[0]&1073741824&&t!==(t=u[30])&&m(e,"id",t),d[0]&8&&i!==(i=u[3].unique)&&(e.checked=i),d[0]&1073741824&&o!==(o=u[30])&&m(l,"for",o)},d(u){u&&S(e),u&&S(s),u&&S(l),a=!1,f()}}}function PU(n){let e,t,i,s;function l(a){n[20](a)}var r=n[7];function o(a){var u;let f={id:a[30],placeholder:`eg. CREATE INDEX idx_test on ${(u=a[0])==null?void 0:u.name} (created)`,language:"sql-create-index",minHeight:"85"};return a[2]!==void 0&&(f.value=a[2]),{props:f}}return r&&(e=Sn(r,o(n)),de.push(()=>Ne(e,"value",l))),{c(){e&&U(e.$$.fragment),i=Ee()},m(a,f){e&&q(e,a,f),C(a,i,f),s=!0},p(a,f){var d;const u={};if(f[0]&1073741824&&(u.id=a[30]),f[0]&1&&(u.placeholder=`eg. CREATE INDEX idx_test on ${(d=a[0])==null?void 0:d.name} (created)`),!t&&f[0]&4&&(t=!0,u.value=a[2],Be(()=>t=!1)),f[0]&128&&r!==(r=a[7])){if(e){ue();const h=e;I(h.$$.fragment,1,0,()=>{W(h,1)}),ce()}r?(e=Sn(r,o(a)),de.push(()=>Ne(e,"value",l)),U(e.$$.fragment),P(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else r&&e.$set(u)},i(a){s||(e&&P(e.$$.fragment,a),s=!0)},o(a){e&&I(e.$$.fragment,a),s=!1},d(a){a&&S(i),e&&W(e,a)}}}function DU(n){let e;return{c(){e=k("textarea"),e.disabled=!0,m(e,"rows","7"),m(e,"placeholder","Loading...")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function IU(n){let e,t,i,s;const l=[DU,PU],r=[];function o(a,f){return a[8]?0:1}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),i=Ee()},m(a,f){r[e].m(a,f),C(a,i,f),s=!0},p(a,f){let u=e;e=o(a),e===u?r[e].p(a,f):(ue(),I(r[u],1,1,()=>{r[u]=null}),ce(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),P(t,1),t.m(i.parentNode,i))},i(a){s||(P(t),s=!0)},o(a){I(t),s=!1},d(a){r[e].d(a),a&&S(i)}}}function Pw(n){let e,t,i,s=n[10],l=[];for(let r=0;r<s.length;r+=1)l[r]=Dw(Ew(n,s,r));return{c(){e=k("div"),t=k("span"),t.textContent="Presets",i=D();for(let r=0;r<l.length;r+=1)l[r].c();m(t,"class","txt txt-hint"),m(e,"class","inline-flex gap-10")},m(r,o){C(r,e,o),v(e,t),v(e,i);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(r,o){if(o[0]&9728){s=r[10];let a;for(a=0;a<s.length;a+=1){const f=Ew(r,s,a);l[a]?l[a].p(f,o):(l[a]=Dw(f),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=s.length}},d(r){r&&S(e),Ot(l,r)}}}function Dw(n){let e,t=n[27]+"",i,s,l,r;function o(){return n[21](n[27])}return{c(){e=k("button"),i=G(t),s=D(),m(e,"type","button"),m(e,"class","label link-primary"),$(e,"label-info",n[9].includes(n[27]))},m(a,f){C(a,e,f),v(e,i),v(e,s),l||(r=x(e,"click",o),l=!0)},p(a,f){n=a,f[0]&1024&&t!==(t=n[27]+"")&&pe(i,t),f[0]&1536&&$(e,"label-info",n[9].includes(n[27]))},d(a){a&&S(e),l=!1,r()}}}function RU(n){let e,t,i,s,l,r;e=new ze({props:{class:"form-field form-field-toggle m-b-sm",$$slots:{default:[EU,({uniqueId:a})=>({30:a}),({uniqueId:a})=>[a?1073741824:0]]},$$scope:{ctx:n}}}),i=new ze({props:{class:"form-field required m-b-sm",name:`indexes.${n[6]||""}`,$$slots:{default:[IU,({uniqueId:a})=>({30:a}),({uniqueId:a})=>[a?1073741824:0]]},$$scope:{ctx:n}}});let o=n[10].length>0&&Pw(n);return{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment),s=D(),o&&o.c(),l=Ee()},m(a,f){q(e,a,f),C(a,t,f),q(i,a,f),C(a,s,f),o&&o.m(a,f),C(a,l,f),r=!0},p(a,f){const u={};f[0]&1073741837|f[1]&1&&(u.$$scope={dirty:f,ctx:a}),e.$set(u);const d={};f[0]&64&&(d.name=`indexes.${a[6]||""}`),f[0]&1073742213|f[1]&1&&(d.$$scope={dirty:f,ctx:a}),i.$set(d),a[10].length>0?o?o.p(a,f):(o=Pw(a),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},i(a){r||(P(e.$$.fragment,a),P(i.$$.fragment,a),r=!0)},o(a){I(e.$$.fragment,a),I(i.$$.fragment,a),r=!1},d(a){W(e,a),a&&S(t),W(i,a),a&&S(s),o&&o.d(a),a&&S(l)}}}function NU(n){let e,t=n[5]?"Update":"Create",i,s;return{c(){e=k("h4"),i=G(t),s=G(" index")},m(l,r){C(l,e,r),v(e,i),v(e,s)},p(l,r){r[0]&32&&t!==(t=l[5]?"Update":"Create")&&pe(i,t)},d(l){l&&S(e)}}}function Iw(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-delete-bin-7-line"></i>',m(e,"type","button"),m(e,"class","btn btn-sm btn-circle btn-hint btn-transparent m-r-auto")},m(s,l){C(s,e,l),t||(i=[xe(Mt.call(null,e,{text:"Delete",position:"top"})),x(e,"click",n[16])],t=!0)},p:te,d(s){s&&S(e),t=!1,Ke(i)}}}function LU(n){let e,t,i,s,l,r,o=n[5]!=""&&Iw(n);return{c(){o&&o.c(),e=D(),t=k("button"),t.innerHTML='<span class="txt">Cancel</span>',i=D(),s=k("button"),s.innerHTML='<span class="txt">Set index</span>',m(t,"type","button"),m(t,"class","btn btn-transparent"),m(s,"type","button"),m(s,"class","btn"),$(s,"btn-disabled",n[9].length<=0)},m(a,f){o&&o.m(a,f),C(a,e,f),C(a,t,f),C(a,i,f),C(a,s,f),l||(r=[x(t,"click",n[17]),x(s,"click",n[18])],l=!0)},p(a,f){a[5]!=""?o?o.p(a,f):(o=Iw(a),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),f[0]&512&&$(s,"btn-disabled",a[9].length<=0)},d(a){o&&o.d(a),a&&S(e),a&&S(t),a&&S(i),a&&S(s),l=!1,Ke(r)}}}function FU(n){let e,t;const i=[{popup:!0},n[14]];let s={$$slots:{footer:[LU],header:[NU],default:[RU]},$$scope:{ctx:n}};for(let l=0;l<i.length;l+=1)s=ft(s,i[l]);return e=new rs({props:s}),n[22](e),e.$on("hide",n[23]),e.$on("show",n[24]),{c(){U(e.$$.fragment)},m(l,r){q(e,l,r),t=!0},p(l,r){const o=r[0]&16384?kn(i,[i[0],ri(l[14])]):{};r[0]&2029|r[1]&1&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){n[22](null),W(e,l)}}}function jU(n,e,t){let i,s,l;const r=["collection","show","hide"];let o=Jt(e,r);const a=Hn();let{collection:f}=e,u,d="",h="",p="",g,b=!1;function _(H,K){return t(6,p=ee.isEmpty(K)?"":K),t(5,d=H||w()),t(2,h=d),u==null?void 0:u.show()}function y(){return u==null?void 0:u.hide()}function w(){const H=ee.parseIndex("");return H.tableName=(f==null?void 0:f.name)||"",ee.buildIndex(H)}function A(){a("remove",d),y()}function M(){l.length&&(a("submit",{old:d,new:h}),y())}function T(H){const K=ee.clone(s),X=K.columns.find(J=>J.name==H);X?ee.removeByValue(K.columns,X):ee.pushUnique(K.columns,{name:H}),t(2,h=ee.buildIndex(K))}Pn(async()=>{t(8,b=!0);try{t(7,g=(await _n(()=>import("./CodeEditor-af13d208.js"),[],import.meta.url)).default)}catch(H){console.warn(H)}t(8,b=!1)});const O=()=>A(),E=()=>y(),R=()=>M(),N=H=>{t(3,s.unique=H.target.checked,s),t(3,s.tableName=s.tableName||(f==null?void 0:f.name),s),t(2,h=ee.buildIndex(s))};function j(H){h=H,t(2,h)}const L=H=>T(H);function F(H){de[H?"unshift":"push"](()=>{u=H,t(4,u)})}function B(H){ht.call(this,n,H)}function V(H){ht.call(this,n,H)}return n.$$set=H=>{e=ft(ft({},e),Pi(H)),t(14,o=Jt(e,r)),"collection"in H&&t(0,f=H.collection)},n.$$.update=()=>{var H,K,X;n.$$.dirty[0]&1&&t(10,i=(((K=(H=f==null?void 0:f.schema)==null?void 0:H.filter(J=>!J.toDelete))==null?void 0:K.map(J=>J.name))||[]).concat(["created","updated"])),n.$$.dirty[0]&4&&t(3,s=ee.parseIndex(h)),n.$$.dirty[0]&8&&t(9,l=((X=s.columns)==null?void 0:X.map(J=>J.name))||[])},[f,y,h,s,u,d,p,g,b,l,i,A,M,T,o,_,O,E,R,N,j,L,F,B,V]}class BU extends ke{constructor(e){super(),ve(this,e,jU,FU,De,{collection:0,show:15,hide:1},null,[-1,-1])}get show(){return this.$$.ctx[15]}get hide(){return this.$$.ctx[1]}}function Rw(n,e,t){const i=n.slice();i[10]=e[t],i[13]=t;const s=ee.parseIndex(i[10]);return i[11]=s,i}function Nw(n){let e;return{c(){e=k("strong"),e.textContent="Unique:"},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Lw(n){var h;let e,t,i,s=((h=n[11].columns)==null?void 0:h.map(Fw).join(", "))+"",l,r,o,a,f,u=n[11].unique&&Nw();function d(){return n[4](n[10],n[13])}return{c(){var p,g;e=k("button"),u&&u.c(),t=D(),i=k("span"),l=G(s),m(i,"class","txt"),m(e,"type","button"),m(e,"class",r="label link-primary "+((g=(p=n[2].indexes)==null?void 0:p[n[13]])!=null&&g.message?"label-danger":"")+" svelte-167lbwu")},m(p,g){var b,_;C(p,e,g),u&&u.m(e,null),v(e,t),v(e,i),v(i,l),a||(f=[xe(o=Mt.call(null,e,((_=(b=n[2].indexes)==null?void 0:b[n[13]])==null?void 0:_.message)||"")),x(e,"click",d)],a=!0)},p(p,g){var b,_,y,w,A;n=p,n[11].unique?u||(u=Nw(),u.c(),u.m(e,t)):u&&(u.d(1),u=null),g&1&&s!==(s=((b=n[11].columns)==null?void 0:b.map(Fw).join(", "))+"")&&pe(l,s),g&4&&r!==(r="label link-primary "+((y=(_=n[2].indexes)==null?void 0:_[n[13]])!=null&&y.message?"label-danger":"")+" svelte-167lbwu")&&m(e,"class",r),o&&fn(o.update)&&g&4&&o.update.call(null,((A=(w=n[2].indexes)==null?void 0:w[n[13]])==null?void 0:A.message)||"")},d(p){p&&S(e),u&&u.d(),a=!1,Ke(f)}}}function VU(n){var M,T,O;let e,t,i=(((T=(M=n[0])==null?void 0:M.indexes)==null?void 0:T.length)||0)+"",s,l,r,o,a,f,u,d,h,p,g,b,_=((O=n[0])==null?void 0:O.indexes)||[],y=[];for(let E=0;E<_.length;E+=1)y[E]=Lw(Rw(n,_,E));function w(E){n[7](E)}let A={};return n[0]!==void 0&&(A.collection=n[0]),d=new BU({props:A}),n[6](d),de.push(()=>Ne(d,"collection",w)),d.$on("remove",n[8]),d.$on("submit",n[9]),{c(){e=k("div"),t=G("Unique constraints and indexes ("),s=G(i),l=G(")"),r=D(),o=k("div");for(let E=0;E<y.length;E+=1)y[E].c();a=D(),f=k("button"),f.innerHTML=`<span class="txt">+</span> 
        <span class="txt">New index</span>`,u=D(),U(d.$$.fragment),m(e,"class","section-title"),m(f,"type","button"),m(f,"class","btn btn-xs btn-transparent btn-pill btn-outline"),m(o,"class","indexes-list svelte-167lbwu")},m(E,R){C(E,e,R),v(e,t),v(e,s),v(e,l),C(E,r,R),C(E,o,R);for(let N=0;N<y.length;N+=1)y[N]&&y[N].m(o,null);v(o,a),v(o,f),C(E,u,R),q(d,E,R),p=!0,g||(b=x(f,"click",n[5]),g=!0)},p(E,[R]){var j,L,F;if((!p||R&1)&&i!==(i=(((L=(j=E[0])==null?void 0:j.indexes)==null?void 0:L.length)||0)+"")&&pe(s,i),R&7){_=((F=E[0])==null?void 0:F.indexes)||[];let B;for(B=0;B<_.length;B+=1){const V=Rw(E,_,B);y[B]?y[B].p(V,R):(y[B]=Lw(V),y[B].c(),y[B].m(o,a))}for(;B<y.length;B+=1)y[B].d(1);y.length=_.length}const N={};!h&&R&1&&(h=!0,N.collection=E[0],Be(()=>h=!1)),d.$set(N)},i(E){p||(P(d.$$.fragment,E),p=!0)},o(E){I(d.$$.fragment,E),p=!1},d(E){E&&S(e),E&&S(r),E&&S(o),Ot(y,E),E&&S(u),n[6](null),W(d,E),g=!1,b()}}}const Fw=n=>n.name;function zU(n,e,t){let i;Ht(n,to,p=>t(2,i=p));let{collection:s}=e,l;function r(p,g){for(let b=0;b<s.indexes.length;b++)if(s.indexes[b]==p){t(0,s.indexes[b]=g,s),_r("indexes."+b);return}s.indexes.push(g),t(0,s)}const o=(p,g)=>l==null?void 0:l.show(p,g),a=()=>l==null?void 0:l.show();function f(p){de[p?"unshift":"push"](()=>{l=p,t(1,l)})}function u(p){s=p,t(0,s)}const d=p=>{for(let g=0;g<s.indexes.length;g++)if(s.indexes[g]==p.detail){s.indexes.splice(g,1),_r("indexes."+g);break}t(0,s)},h=p=>{r(p.detail.old,p.detail.new)};return n.$$set=p=>{"collection"in p&&t(0,s=p.collection)},[s,l,i,r,o,a,f,u,d,h]}class HU extends ke{constructor(e){super(),ve(this,e,zU,VU,De,{collection:0})}}function jw(n,e,t){const i=n.slice();return i[6]=e[t],i}function Bw(n){let e,t,i,s,l=n[6].label+"",r,o,a,f;function u(){return n[4](n[6])}function d(...h){return n[5](n[6],...h)}return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),r=G(l),o=D(),m(t,"class","icon "+n[6].icon+" svelte-1gz9b6p"),m(s,"class","txt"),m(e,"tabindex","0"),m(e,"class","dropdown-item closable svelte-1gz9b6p")},m(h,p){C(h,e,p),v(e,t),v(e,i),v(e,s),v(s,r),v(e,o),a||(f=[x(e,"click",Ei(u)),x(e,"keydown",Ei(d))],a=!0)},p(h,p){n=h},d(h){h&&S(e),a=!1,Ke(f)}}}function qU(n){let e,t=n[2],i=[];for(let s=0;s<t.length;s+=1)i[s]=Bw(jw(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Ee()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);C(s,e,l)},p(s,l){if(l&12){t=s[2];let r;for(r=0;r<t.length;r+=1){const o=jw(s,t,r);i[r]?i[r].p(o,l):(i[r]=Bw(o),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(s){Ot(i,s),s&&S(e)}}}function WU(n){let e,t,i,s,l,r,o,a,f,u;return r=new kl({props:{class:"dropdown field-types-dropdown",$$slots:{default:[qU]},$$scope:{ctx:n}}}),{c(){e=k("button"),t=k("i"),i=D(),s=k("div"),s.textContent="New field",l=D(),U(r.$$.fragment),m(t,"class","ri-add-line"),m(s,"class","txt"),m(e,"type","button"),m(e,"class",o="field-types-btn "+n[0]+" svelte-1gz9b6p")},m(d,h){C(d,e,h),v(e,t),v(e,i),v(e,s),v(e,l),q(r,e,null),a=!0,f||(u=x(e,"click",n[1]),f=!0)},p(d,[h]){const p={};h&512&&(p.$$scope={dirty:h,ctx:d}),r.$set(p),(!a||h&1&&o!==(o="field-types-btn "+d[0]+" svelte-1gz9b6p"))&&m(e,"class",o)},i(d){a||(P(r.$$.fragment,d),a=!0)},o(d){I(r.$$.fragment,d),a=!1},d(d){d&&S(e),W(r),f=!1,u()}}}function UU(n,e,t){let{class:i=""}=e;const s=Hn(),l=[{label:"Plain text",value:"text",icon:ee.getFieldTypeIcon("text")},{label:"Rich editor",value:"editor",icon:ee.getFieldTypeIcon("editor")},{label:"Number",value:"number",icon:ee.getFieldTypeIcon("number")},{label:"Bool",value:"bool",icon:ee.getFieldTypeIcon("bool")},{label:"Email",value:"email",icon:ee.getFieldTypeIcon("email")},{label:"Url",value:"url",icon:ee.getFieldTypeIcon("url")},{label:"DateTime",value:"date",icon:ee.getFieldTypeIcon("date")},{label:"Select",value:"select",icon:ee.getFieldTypeIcon("select")},{label:"File",value:"file",icon:ee.getFieldTypeIcon("file")},{label:"Relation",value:"relation",icon:ee.getFieldTypeIcon("relation")},{label:"JSON",value:"json",icon:ee.getFieldTypeIcon("json")}];function r(f){s("select",f)}const o=f=>{r(f.value)},a=(f,u)=>{(u.code==="Enter"||u.code==="Space")&&r(f.value)};return n.$$set=f=>{"class"in f&&t(0,i=f.class)},[i,s,l,r,o,a]}class KU extends ke{constructor(e){super(),ve(this,e,UU,WU,De,{class:0})}}const JU=n=>({interactive:n&64,hasErrors:n&32}),Vw=n=>({interactive:n[6],hasErrors:n[5]}),xU=n=>({interactive:n&64,hasErrors:n&32}),zw=n=>({interactive:n[6],hasErrors:n[5]}),YU=n=>({interactive:n&64,hasErrors:n&32}),Hw=n=>({interactive:n[6],hasErrors:n[5]}),GU=n=>({interactive:n&64,hasErrors:n&32}),qw=n=>({interactive:n[6],hasErrors:n[5]});function Ww(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="drag-handle"></span>',m(e,"class","drag-handle-wrapper"),m(e,"draggable",!0),m(e,"aria-label","Sort")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Uw(n){let e,t,i,s;return{c(){e=k("span"),m(e,"class","marker marker-required")},m(l,r){C(l,e,r),i||(s=xe(t=Mt.call(null,e,n[4])),i=!0)},p(l,r){t&&fn(t.update)&&r&16&&t.update.call(null,l[4])},d(l){l&&S(e),i=!1,s()}}}function XU(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g=n[0].required&&Uw(n);return{c(){e=k("div"),g&&g.c(),t=D(),i=k("div"),s=k("i"),r=D(),o=k("input"),m(e,"class","markers"),m(s,"class",l=ee.getFieldTypeIcon(n[0].type)),m(i,"class","form-field-addon prefix no-pointer-events field-type-icon"),$(i,"txt-disabled",!n[6]),m(o,"type","text"),o.required=!0,o.disabled=a=!n[6],o.readOnly=f=n[0].id&&n[0].system,m(o,"spellcheck","false"),o.autofocus=u=!n[0].id,m(o,"placeholder","Field name"),o.value=d=n[0].name},m(b,_){C(b,e,_),g&&g.m(e,null),C(b,t,_),C(b,i,_),v(i,s),C(b,r,_),C(b,o,_),n[14](o),n[0].id||o.focus(),h||(p=x(o,"input",n[15]),h=!0)},p(b,_){b[0].required?g?g.p(b,_):(g=Uw(b),g.c(),g.m(e,null)):g&&(g.d(1),g=null),_&1&&l!==(l=ee.getFieldTypeIcon(b[0].type))&&m(s,"class",l),_&64&&$(i,"txt-disabled",!b[6]),_&64&&a!==(a=!b[6])&&(o.disabled=a),_&1&&f!==(f=b[0].id&&b[0].system)&&(o.readOnly=f),_&1&&u!==(u=!b[0].id)&&(o.autofocus=u),_&1&&d!==(d=b[0].name)&&o.value!==d&&(o.value=d)},d(b){b&&S(e),g&&g.d(),b&&S(t),b&&S(i),b&&S(r),b&&S(o),n[14](null),h=!1,p()}}}function ZU(n){let e;return{c(){e=k("span"),m(e,"class","separator")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function QU(n){let e,t,i,s,l;return{c(){e=k("button"),t=k("i"),m(t,"class","ri-settings-3-line"),m(e,"type","button"),m(e,"aria-label","Toggle field options"),m(e,"class",i="btn btn-sm btn-circle options-trigger "+(n[3]?"btn-secondary":"btn-transparent")),$(e,"btn-hint",!n[3]&&!n[5]),$(e,"btn-danger",n[5])},m(r,o){C(r,e,o),v(e,t),s||(l=x(e,"click",n[11]),s=!0)},p(r,o){o&8&&i!==(i="btn btn-sm btn-circle options-trigger "+(r[3]?"btn-secondary":"btn-transparent"))&&m(e,"class",i),o&40&&$(e,"btn-hint",!r[3]&&!r[5]),o&40&&$(e,"btn-danger",r[5])},d(r){r&&S(e),s=!1,l()}}}function $U(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-restart-line"></i>',m(e,"type","button"),m(e,"class","btn btn-sm btn-circle btn-warning btn-transparent options-trigger"),m(e,"aria-label","Restore")},m(s,l){C(s,e,l),t||(i=[xe(Mt.call(null,e,"Restore")),x(e,"click",n[9])],t=!0)},p:te,d(s){s&&S(e),t=!1,Ke(i)}}}function Kw(n){let e,t,i,s,l,r,o,a,f,u,d;const h=n[13].options,p=It(h,n,n[17],Hw),g=n[13].beforeNonempty,b=It(g,n,n[17],zw);o=new ze({props:{class:"form-field form-field-toggle m-0",name:"requried",$$slots:{default:[eK,({uniqueId:A})=>({23:A}),({uniqueId:A})=>A?8388608:0]},$$scope:{ctx:n}}});const _=n[13].afterNonempty,y=It(_,n,n[17],Vw);let w=!n[0].toDelete&&Jw(n);return{c(){e=k("div"),t=k("div"),i=k("div"),p&&p.c(),s=D(),b&&b.c(),l=D(),r=k("div"),U(o.$$.fragment),a=D(),y&&y.c(),f=D(),w&&w.c(),m(i,"class","col-sm-12 hidden-empty"),m(r,"class","col-sm-4"),m(t,"class","grid grid-sm"),m(e,"class","schema-field-options")},m(A,M){C(A,e,M),v(e,t),v(t,i),p&&p.m(i,null),v(t,s),b&&b.m(t,null),v(t,l),v(t,r),q(o,r,null),v(t,a),y&&y.m(t,null),v(t,f),w&&w.m(t,null),d=!0},p(A,M){p&&p.p&&(!d||M&131168)&&Nt(p,h,A,A[17],d?Rt(h,A[17],M,YU):Lt(A[17]),Hw),b&&b.p&&(!d||M&131168)&&Nt(b,g,A,A[17],d?Rt(g,A[17],M,xU):Lt(A[17]),zw);const T={};M&8519697&&(T.$$scope={dirty:M,ctx:A}),o.$set(T),y&&y.p&&(!d||M&131168)&&Nt(y,_,A,A[17],d?Rt(_,A[17],M,JU):Lt(A[17]),Vw),A[0].toDelete?w&&(ue(),I(w,1,1,()=>{w=null}),ce()):w?(w.p(A,M),M&1&&P(w,1)):(w=Jw(A),w.c(),P(w,1),w.m(t,null))},i(A){d||(P(p,A),P(b,A),P(o.$$.fragment,A),P(y,A),P(w),A&&Yt(()=>{d&&(u||(u=gt(e,gn,{duration:150},!0)),u.run(1))}),d=!0)},o(A){I(p,A),I(b,A),I(o.$$.fragment,A),I(y,A),I(w),A&&(u||(u=gt(e,gn,{duration:150},!1)),u.run(0)),d=!1},d(A){A&&S(e),p&&p.d(A),b&&b.d(A),W(o),y&&y.d(A),w&&w.d(),A&&u&&u.end()}}}function eK(n){let e,t,i,s,l,r,o,a,f,u,d,h;return{c(){e=k("input"),i=D(),s=k("label"),l=k("span"),r=G(n[4]),o=D(),a=k("i"),m(e,"type","checkbox"),m(e,"id",t=n[23]),m(l,"class","txt"),m(a,"class","ri-information-line link-hint"),m(s,"for",u=n[23])},m(p,g){C(p,e,g),e.checked=n[0].required,C(p,i,g),C(p,s,g),v(s,l),v(l,r),v(s,o),v(s,a),d||(h=[x(e,"change",n[16]),xe(f=Mt.call(null,a,{text:`Requires the field value NOT to be ${ee.zeroDefaultStr(n[0])}.`,position:"right"}))],d=!0)},p(p,g){g&8388608&&t!==(t=p[23])&&m(e,"id",t),g&1&&(e.checked=p[0].required),g&16&&pe(r,p[4]),f&&fn(f.update)&&g&1&&f.update.call(null,{text:`Requires the field value NOT to be ${ee.zeroDefaultStr(p[0])}.`,position:"right"}),g&8388608&&u!==(u=p[23])&&m(s,"for",u)},d(p){p&&S(e),p&&S(i),p&&S(s),d=!1,Ke(h)}}}function Jw(n){let e,t,i,s,l,r,o,a,f;return a=new kl({props:{class:"dropdown dropdown-sm dropdown-upside dropdown-right dropdown-nowrap no-min-width",$$slots:{default:[tK]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),i=D(),s=k("div"),l=k("button"),r=k("i"),o=D(),U(a.$$.fragment),m(t,"class","flex-fill"),m(r,"class","ri-more-line"),m(l,"type","button"),m(l,"aria-label","More"),m(l,"class","btn btn-circle btn-sm btn-transparent"),m(s,"class","inline-flex flex-gap-sm flex-nowrap"),m(e,"class","col-sm-4 m-l-auto txt-right")},m(u,d){C(u,e,d),v(e,t),v(e,i),v(e,s),v(s,l),v(l,r),v(l,o),q(a,l,null),f=!0},p(u,d){const h={};d&131072&&(h.$$scope={dirty:d,ctx:u}),a.$set(h)},i(u){f||(P(a.$$.fragment,u),f=!0)},o(u){I(a.$$.fragment,u),f=!1},d(u){u&&S(e),W(a)}}}function tK(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Remove</span>',m(e,"type","button"),m(e,"class","dropdown-item txt-right")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[8]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function nK(n){let e,t,i,s,l,r,o,a,f,u=n[6]&&Ww();s=new ze({props:{class:"form-field required m-0 "+(n[6]?"":"disabled"),name:"schema."+n[1]+".name",inlineError:!0,$$slots:{default:[XU]},$$scope:{ctx:n}}});const d=n[13].default,h=It(d,n,n[17],qw),p=h||ZU();function g(w,A){if(w[0].toDelete)return $U;if(w[6])return QU}let b=g(n),_=b&&b(n),y=n[6]&&n[3]&&Kw(n);return{c(){e=k("div"),t=k("div"),u&&u.c(),i=D(),U(s.$$.fragment),l=D(),p&&p.c(),r=D(),_&&_.c(),o=D(),y&&y.c(),m(t,"class","schema-field-header"),m(e,"class","schema-field"),$(e,"required",n[0].required),$(e,"expanded",n[6]&&n[3]),$(e,"deleted",n[0].toDelete)},m(w,A){C(w,e,A),v(e,t),u&&u.m(t,null),v(t,i),q(s,t,null),v(t,l),p&&p.m(t,null),v(t,r),_&&_.m(t,null),v(e,o),y&&y.m(e,null),f=!0},p(w,[A]){w[6]?u||(u=Ww(),u.c(),u.m(t,i)):u&&(u.d(1),u=null);const M={};A&64&&(M.class="form-field required m-0 "+(w[6]?"":"disabled")),A&2&&(M.name="schema."+w[1]+".name"),A&131157&&(M.$$scope={dirty:A,ctx:w}),s.$set(M),h&&h.p&&(!f||A&131168)&&Nt(h,d,w,w[17],f?Rt(d,w[17],A,GU):Lt(w[17]),qw),b===(b=g(w))&&_?_.p(w,A):(_&&_.d(1),_=b&&b(w),_&&(_.c(),_.m(t,null))),w[6]&&w[3]?y?(y.p(w,A),A&72&&P(y,1)):(y=Kw(w),y.c(),P(y,1),y.m(e,null)):y&&(ue(),I(y,1,1,()=>{y=null}),ce()),(!f||A&1)&&$(e,"required",w[0].required),(!f||A&72)&&$(e,"expanded",w[6]&&w[3]),(!f||A&1)&&$(e,"deleted",w[0].toDelete)},i(w){f||(P(s.$$.fragment,w),P(p,w),P(y),w&&Yt(()=>{f&&(a||(a=gt(e,gn,{duration:150},!0)),a.run(1))}),f=!0)},o(w){I(s.$$.fragment,w),I(p,w),I(y),w&&(a||(a=gt(e,gn,{duration:150},!1)),a.run(0)),f=!1},d(w){w&&S(e),u&&u.d(),W(s),p&&p.d(w),_&&_.d(),y&&y.d(),w&&a&&a.end()}}}let O1=[];function iK(n,e,t){let i,s,l,r;Ht(n,to,j=>t(12,r=j));let{$$slots:o={},$$scope:a}=e;const f="f_"+ee.randomString(8),u=Hn(),d={bool:"Nonfalsey",number:"Nonzero"};let{key:h=""}=e,{field:p=new Ns}=e,g,b=!1;function _(){p.id?t(0,p.toDelete=!0,p):u("remove")}function y(){t(0,p.toDelete=!1,p),Ki({})}function w(j){return ee.slugify(j)}function A(){t(3,b=!0),O()}function M(){t(3,b=!1)}function T(){b?M():A()}function O(){for(let j of O1)j.id!=f&&j.collapse()}Pn(()=>(O1.push({id:f,collapse:M}),p.onMountSelect&&(t(0,p.onMountSelect=!1,p),g==null||g.select()),()=>{ee.removeByKey(O1,"id",f)}));function E(j){de[j?"unshift":"push"](()=>{g=j,t(2,g)})}const R=j=>{const L=p.name;t(0,p.name=w(j.target.value),p),j.target.value=p.name,u("rename",{oldName:L,newName:p.name})};function N(){p.required=this.checked,t(0,p)}return n.$$set=j=>{"key"in j&&t(1,h=j.key),"field"in j&&t(0,p=j.field),"$$scope"in j&&t(17,a=j.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&p.toDelete&&p.originalName&&p.name!==p.originalName&&t(0,p.name=p.originalName,p),n.$$.dirty&1&&!p.originalName&&p.name&&t(0,p.originalName=p.name,p),n.$$.dirty&1&&typeof p.toDelete>"u"&&t(0,p.toDelete=!1,p),n.$$.dirty&1&&p.required&&t(0,p.nullable=!1,p),n.$$.dirty&1&&t(6,i=!p.toDelete&&!(p.id&&p.system)),n.$$.dirty&4098&&t(5,s=!ee.isEmpty(ee.getNestedVal(r,`schema.${h}`))),n.$$.dirty&1&&t(4,l=d[p==null?void 0:p.type]||"Nonempty")},[p,h,g,b,l,s,i,u,_,y,w,T,r,o,E,R,N,a]}class Mr extends ke{constructor(e){super(),ve(this,e,iK,nK,De,{key:1,field:0})}}function sK(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Min length"),s=D(),l=k("input"),m(e,"for",i=n[9]),m(l,"type","number"),m(l,"id",r=n[9]),m(l,"step","1"),m(l,"min","0")},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].options.min),o||(a=x(l,"input",n[3]),o=!0)},p(f,u){u&512&&i!==(i=f[9])&&m(e,"for",i),u&512&&r!==(r=f[9])&&m(l,"id",r),u&1&&jn(l.value)!==f[0].options.min&&Ae(l,f[0].options.min)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function lK(n){let e,t,i,s,l,r,o,a,f;return{c(){e=k("label"),t=G("Max length"),s=D(),l=k("input"),m(e,"for",i=n[9]),m(l,"type","number"),m(l,"id",r=n[9]),m(l,"step","1"),m(l,"min",o=n[0].options.min||0)},m(u,d){C(u,e,d),v(e,t),C(u,s,d),C(u,l,d),Ae(l,n[0].options.max),a||(f=x(l,"input",n[4]),a=!0)},p(u,d){d&512&&i!==(i=u[9])&&m(e,"for",i),d&512&&r!==(r=u[9])&&m(l,"id",r),d&1&&o!==(o=u[0].options.min||0)&&m(l,"min",o),d&1&&jn(l.value)!==u[0].options.max&&Ae(l,u[0].options.max)},d(u){u&&S(e),u&&S(s),u&&S(l),a=!1,f()}}}function rK(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Regex pattern"),s=D(),l=k("input"),m(e,"for",i=n[9]),m(l,"type","text"),m(l,"id",r=n[9]),m(l,"placeholder","Valid Go regular expression, eg. ^w+$")},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].options.pattern),o||(a=x(l,"input",n[5]),o=!0)},p(f,u){u&512&&i!==(i=f[9])&&m(e,"for",i),u&512&&r!==(r=f[9])&&m(l,"id",r),u&1&&l.value!==f[0].options.pattern&&Ae(l,f[0].options.pattern)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function oK(n){let e,t,i,s,l,r,o,a,f,u;return i=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.min",$$slots:{default:[sK,({uniqueId:d})=>({9:d}),({uniqueId:d})=>d?512:0]},$$scope:{ctx:n}}}),r=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.max",$$slots:{default:[lK,({uniqueId:d})=>({9:d}),({uniqueId:d})=>d?512:0]},$$scope:{ctx:n}}}),f=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.pattern",$$slots:{default:[rK,({uniqueId:d})=>({9:d}),({uniqueId:d})=>d?512:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),U(i.$$.fragment),s=D(),l=k("div"),U(r.$$.fragment),o=D(),a=k("div"),U(f.$$.fragment),m(t,"class","col-sm-3"),m(l,"class","col-sm-3"),m(a,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(d,h){C(d,e,h),v(e,t),q(i,t,null),v(e,s),v(e,l),q(r,l,null),v(e,o),v(e,a),q(f,a,null),u=!0},p(d,h){const p={};h&2&&(p.name="schema."+d[1]+".options.min"),h&1537&&(p.$$scope={dirty:h,ctx:d}),i.$set(p);const g={};h&2&&(g.name="schema."+d[1]+".options.max"),h&1537&&(g.$$scope={dirty:h,ctx:d}),r.$set(g);const b={};h&2&&(b.name="schema."+d[1]+".options.pattern"),h&1537&&(b.$$scope={dirty:h,ctx:d}),f.$set(b)},i(d){u||(P(i.$$.fragment,d),P(r.$$.fragment,d),P(f.$$.fragment,d),u=!0)},o(d){I(i.$$.fragment,d),I(r.$$.fragment,d),I(f.$$.fragment,d),u=!1},d(d){d&&S(e),W(i),W(r),W(f)}}}function aK(n){let e,t,i;const s=[{key:n[1]},n[2]];function l(o){n[6](o)}let r={$$slots:{options:[oK]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=ft(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mr({props:r}),de.push(()=>Ne(e,"field",l)),e.$on("rename",n[7]),e.$on("remove",n[8]),{c(){U(e.$$.fragment)},m(o,a){q(e,o,a),i=!0},p(o,[a]){const f=a&6?kn(s,[a&2&&{key:o[1]},a&4&&ri(o[2])]):{};a&1027&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.field=o[0],Be(()=>t=!1)),e.$set(f)},i(o){i||(P(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){W(e,o)}}}function fK(n,e,t){const i=["field","key"];let s=Jt(e,i),{field:l}=e,{key:r=""}=e;function o(){l.options.min=jn(this.value),t(0,l)}function a(){l.options.max=jn(this.value),t(0,l)}function f(){l.options.pattern=this.value,t(0,l)}function u(p){l=p,t(0,l)}function d(p){ht.call(this,n,p)}function h(p){ht.call(this,n,p)}return n.$$set=p=>{e=ft(ft({},e),Pi(p)),t(2,s=Jt(e,i)),"field"in p&&t(0,l=p.field),"key"in p&&t(1,r=p.key)},[l,r,s,o,a,f,u,d,h]}class uK extends ke{constructor(e){super(),ve(this,e,fK,aK,De,{field:0,key:1})}}function cK(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Min"),s=D(),l=k("input"),m(e,"for",i=n[8]),m(l,"type","number"),m(l,"id",r=n[8])},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].options.min),o||(a=x(l,"input",n[3]),o=!0)},p(f,u){u&256&&i!==(i=f[8])&&m(e,"for",i),u&256&&r!==(r=f[8])&&m(l,"id",r),u&1&&jn(l.value)!==f[0].options.min&&Ae(l,f[0].options.min)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function dK(n){let e,t,i,s,l,r,o,a,f;return{c(){e=k("label"),t=G("Max"),s=D(),l=k("input"),m(e,"for",i=n[8]),m(l,"type","number"),m(l,"id",r=n[8]),m(l,"min",o=n[0].options.min)},m(u,d){C(u,e,d),v(e,t),C(u,s,d),C(u,l,d),Ae(l,n[0].options.max),a||(f=x(l,"input",n[4]),a=!0)},p(u,d){d&256&&i!==(i=u[8])&&m(e,"for",i),d&256&&r!==(r=u[8])&&m(l,"id",r),d&1&&o!==(o=u[0].options.min)&&m(l,"min",o),d&1&&jn(l.value)!==u[0].options.max&&Ae(l,u[0].options.max)},d(u){u&&S(e),u&&S(s),u&&S(l),a=!1,f()}}}function hK(n){let e,t,i,s,l,r,o;return i=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.min",$$slots:{default:[cK,({uniqueId:a})=>({8:a}),({uniqueId:a})=>a?256:0]},$$scope:{ctx:n}}}),r=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.max",$$slots:{default:[dK,({uniqueId:a})=>({8:a}),({uniqueId:a})=>a?256:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),U(i.$$.fragment),s=D(),l=k("div"),U(r.$$.fragment),m(t,"class","col-sm-6"),m(l,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(a,f){C(a,e,f),v(e,t),q(i,t,null),v(e,s),v(e,l),q(r,l,null),o=!0},p(a,f){const u={};f&2&&(u.name="schema."+a[1]+".options.min"),f&769&&(u.$$scope={dirty:f,ctx:a}),i.$set(u);const d={};f&2&&(d.name="schema."+a[1]+".options.max"),f&769&&(d.$$scope={dirty:f,ctx:a}),r.$set(d)},i(a){o||(P(i.$$.fragment,a),P(r.$$.fragment,a),o=!0)},o(a){I(i.$$.fragment,a),I(r.$$.fragment,a),o=!1},d(a){a&&S(e),W(i),W(r)}}}function pK(n){let e,t,i;const s=[{key:n[1]},n[2]];function l(o){n[5](o)}let r={$$slots:{options:[hK]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=ft(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mr({props:r}),de.push(()=>Ne(e,"field",l)),e.$on("rename",n[6]),e.$on("remove",n[7]),{c(){U(e.$$.fragment)},m(o,a){q(e,o,a),i=!0},p(o,[a]){const f=a&6?kn(s,[a&2&&{key:o[1]},a&4&&ri(o[2])]):{};a&515&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.field=o[0],Be(()=>t=!1)),e.$set(f)},i(o){i||(P(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){W(e,o)}}}function mK(n,e,t){const i=["field","key"];let s=Jt(e,i),{field:l}=e,{key:r=""}=e;function o(){l.options.min=jn(this.value),t(0,l)}function a(){l.options.max=jn(this.value),t(0,l)}function f(h){l=h,t(0,l)}function u(h){ht.call(this,n,h)}function d(h){ht.call(this,n,h)}return n.$$set=h=>{e=ft(ft({},e),Pi(h)),t(2,s=Jt(e,i)),"field"in h&&t(0,l=h.field),"key"in h&&t(1,r=h.key)},[l,r,s,o,a,f,u,d]}class gK extends ke{constructor(e){super(),ve(this,e,mK,pK,De,{field:0,key:1})}}function bK(n){let e,t,i;const s=[{key:n[1]},n[2]];function l(o){n[3](o)}let r={};for(let o=0;o<s.length;o+=1)r=ft(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mr({props:r}),de.push(()=>Ne(e,"field",l)),e.$on("rename",n[4]),e.$on("remove",n[5]),{c(){U(e.$$.fragment)},m(o,a){q(e,o,a),i=!0},p(o,[a]){const f=a&6?kn(s,[a&2&&{key:o[1]},a&4&&ri(o[2])]):{};!t&&a&1&&(t=!0,f.field=o[0],Be(()=>t=!1)),e.$set(f)},i(o){i||(P(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){W(e,o)}}}function _K(n,e,t){const i=["field","key"];let s=Jt(e,i),{field:l}=e,{key:r=""}=e;function o(u){l=u,t(0,l)}function a(u){ht.call(this,n,u)}function f(u){ht.call(this,n,u)}return n.$$set=u=>{e=ft(ft({},e),Pi(u)),t(2,s=Jt(e,i)),"field"in u&&t(0,l=u.field),"key"in u&&t(1,r=u.key)},[l,r,s,o,a,f]}class yK extends ke{constructor(e){super(),ve(this,e,_K,bK,De,{field:0,key:1})}}function vK(n){let e,t,i,s,l=[{type:t=n[5].type||"text"},{value:n[4]},{disabled:n[3]},{readOnly:n[2]},n[5]],r={};for(let o=0;o<l.length;o+=1)r=ft(r,l[o]);return{c(){e=k("input"),bl(e,r)},m(o,a){C(o,e,a),"value"in r&&(e.value=r.value),e.autofocus&&e.focus(),i||(s=x(e,"input",n[6]),i=!0)},p(o,[a]){bl(e,r=kn(l,[a&32&&t!==(t=o[5].type||"text")&&{type:t},a&16&&e.value!==o[4]&&{value:o[4]},a&8&&{disabled:o[3]},a&4&&{readOnly:o[2]},a&32&&o[5]])),"value"in r&&(e.value=r.value)},i:te,o:te,d(o){o&&S(e),i=!1,s()}}}function kK(n,e,t){let i;const s=["value","separator","readonly","disabled"];let l=Jt(e,s),{value:r=[]}=e,{separator:o=","}=e,{readonly:a=null}=e,{disabled:f=null}=e;const u=d=>{t(0,r=ee.splitNonEmpty(d.target.value,o))};return n.$$set=d=>{e=ft(ft({},e),Pi(d)),t(5,l=Jt(e,s)),"value"in d&&t(0,r=d.value),"separator"in d&&t(1,o=d.separator),"readonly"in d&&t(2,a=d.readonly),"disabled"in d&&t(3,f=d.disabled)},n.$$.update=()=>{n.$$.dirty&1&&t(4,i=(r||[]).join(", "))},[r,o,a,f,i,l,u]}class Pu extends ke{constructor(e){super(),ve(this,e,kK,vK,De,{value:0,separator:1,readonly:2,disabled:3})}}function wK(n){let e,t,i,s,l,r,o,a,f,u,d,h,p;function g(_){n[3](_)}let b={id:n[8],disabled:!ee.isEmpty(n[0].options.onlyDomains)};return n[0].options.exceptDomains!==void 0&&(b.value=n[0].options.exceptDomains),o=new Pu({props:b}),de.push(()=>Ne(o,"value",g)),{c(){e=k("label"),t=k("span"),t.textContent="Except domains",i=D(),s=k("i"),r=D(),U(o.$$.fragment),f=D(),u=k("div"),u.textContent="Use comma as separator.",m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[8]),m(u,"class","help-block")},m(_,y){C(_,e,y),v(e,t),v(e,i),v(e,s),C(_,r,y),q(o,_,y),C(_,f,y),C(_,u,y),d=!0,h||(p=xe(Mt.call(null,s,{text:`List of domains that are NOT allowed. 
 This field is disabled if "Only domains" is set.`,position:"top"})),h=!0)},p(_,y){(!d||y&256&&l!==(l=_[8]))&&m(e,"for",l);const w={};y&256&&(w.id=_[8]),y&1&&(w.disabled=!ee.isEmpty(_[0].options.onlyDomains)),!a&&y&1&&(a=!0,w.value=_[0].options.exceptDomains,Be(()=>a=!1)),o.$set(w)},i(_){d||(P(o.$$.fragment,_),d=!0)},o(_){I(o.$$.fragment,_),d=!1},d(_){_&&S(e),_&&S(r),W(o,_),_&&S(f),_&&S(u),h=!1,p()}}}function SK(n){let e,t,i,s,l,r,o,a,f,u,d,h,p;function g(_){n[4](_)}let b={id:n[8]+".options.onlyDomains",disabled:!ee.isEmpty(n[0].options.exceptDomains)};return n[0].options.onlyDomains!==void 0&&(b.value=n[0].options.onlyDomains),o=new Pu({props:b}),de.push(()=>Ne(o,"value",g)),{c(){e=k("label"),t=k("span"),t.textContent="Only domains",i=D(),s=k("i"),r=D(),U(o.$$.fragment),f=D(),u=k("div"),u.textContent="Use comma as separator.",m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[8]+".options.onlyDomains"),m(u,"class","help-block")},m(_,y){C(_,e,y),v(e,t),v(e,i),v(e,s),C(_,r,y),q(o,_,y),C(_,f,y),C(_,u,y),d=!0,h||(p=xe(Mt.call(null,s,{text:`List of domains that are ONLY allowed. 
 This field is disabled if "Except domains" is set.`,position:"top"})),h=!0)},p(_,y){(!d||y&256&&l!==(l=_[8]+".options.onlyDomains"))&&m(e,"for",l);const w={};y&256&&(w.id=_[8]+".options.onlyDomains"),y&1&&(w.disabled=!ee.isEmpty(_[0].options.exceptDomains)),!a&&y&1&&(a=!0,w.value=_[0].options.onlyDomains,Be(()=>a=!1)),o.$set(w)},i(_){d||(P(o.$$.fragment,_),d=!0)},o(_){I(o.$$.fragment,_),d=!1},d(_){_&&S(e),_&&S(r),W(o,_),_&&S(f),_&&S(u),h=!1,p()}}}function CK(n){let e,t,i,s,l,r,o;return i=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.exceptDomains",$$slots:{default:[wK,({uniqueId:a})=>({8:a}),({uniqueId:a})=>a?256:0]},$$scope:{ctx:n}}}),r=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.onlyDomains",$$slots:{default:[SK,({uniqueId:a})=>({8:a}),({uniqueId:a})=>a?256:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),U(i.$$.fragment),s=D(),l=k("div"),U(r.$$.fragment),m(t,"class","col-sm-6"),m(l,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(a,f){C(a,e,f),v(e,t),q(i,t,null),v(e,s),v(e,l),q(r,l,null),o=!0},p(a,f){const u={};f&2&&(u.name="schema."+a[1]+".options.exceptDomains"),f&769&&(u.$$scope={dirty:f,ctx:a}),i.$set(u);const d={};f&2&&(d.name="schema."+a[1]+".options.onlyDomains"),f&769&&(d.$$scope={dirty:f,ctx:a}),r.$set(d)},i(a){o||(P(i.$$.fragment,a),P(r.$$.fragment,a),o=!0)},o(a){I(i.$$.fragment,a),I(r.$$.fragment,a),o=!1},d(a){a&&S(e),W(i),W(r)}}}function MK(n){let e,t,i;const s=[{key:n[1]},n[2]];function l(o){n[5](o)}let r={$$slots:{options:[CK]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=ft(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mr({props:r}),de.push(()=>Ne(e,"field",l)),e.$on("rename",n[6]),e.$on("remove",n[7]),{c(){U(e.$$.fragment)},m(o,a){q(e,o,a),i=!0},p(o,[a]){const f=a&6?kn(s,[a&2&&{key:o[1]},a&4&&ri(o[2])]):{};a&515&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.field=o[0],Be(()=>t=!1)),e.$set(f)},i(o){i||(P(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){W(e,o)}}}function TK(n,e,t){const i=["field","key"];let s=Jt(e,i),{field:l}=e,{key:r=""}=e;function o(h){n.$$.not_equal(l.options.exceptDomains,h)&&(l.options.exceptDomains=h,t(0,l))}function a(h){n.$$.not_equal(l.options.onlyDomains,h)&&(l.options.onlyDomains=h,t(0,l))}function f(h){l=h,t(0,l)}function u(h){ht.call(this,n,h)}function d(h){ht.call(this,n,h)}return n.$$set=h=>{e=ft(ft({},e),Pi(h)),t(2,s=Jt(e,i)),"field"in h&&t(0,l=h.field),"key"in h&&t(1,r=h.key)},[l,r,s,o,a,f,u,d]}class HD extends ke{constructor(e){super(),ve(this,e,TK,MK,De,{field:0,key:1})}}function AK(n){let e,t,i;const s=[{key:n[1]},n[2]];function l(o){n[3](o)}let r={};for(let o=0;o<s.length;o+=1)r=ft(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new HD({props:r}),de.push(()=>Ne(e,"field",l)),e.$on("rename",n[4]),e.$on("remove",n[5]),{c(){U(e.$$.fragment)},m(o,a){q(e,o,a),i=!0},p(o,[a]){const f=a&6?kn(s,[a&2&&{key:o[1]},a&4&&ri(o[2])]):{};!t&&a&1&&(t=!0,f.field=o[0],Be(()=>t=!1)),e.$set(f)},i(o){i||(P(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){W(e,o)}}}function OK(n,e,t){const i=["field","key"];let s=Jt(e,i),{field:l}=e,{key:r=""}=e;function o(u){l=u,t(0,l)}function a(u){ht.call(this,n,u)}function f(u){ht.call(this,n,u)}return n.$$set=u=>{e=ft(ft({},e),Pi(u)),t(2,s=Jt(e,i)),"field"in u&&t(0,l=u.field),"key"in u&&t(1,r=u.key)},[l,r,s,o,a,f]}class EK extends ke{constructor(e){super(),ve(this,e,OK,AK,De,{field:0,key:1})}}function PK(n){let e,t,i;const s=[{key:n[1]},n[2]];function l(o){n[3](o)}let r={};for(let o=0;o<s.length;o+=1)r=ft(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mr({props:r}),de.push(()=>Ne(e,"field",l)),e.$on("rename",n[4]),e.$on("remove",n[5]),{c(){U(e.$$.fragment)},m(o,a){q(e,o,a),i=!0},p(o,[a]){const f=a&6?kn(s,[a&2&&{key:o[1]},a&4&&ri(o[2])]):{};!t&&a&1&&(t=!0,f.field=o[0],Be(()=>t=!1)),e.$set(f)},i(o){i||(P(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){W(e,o)}}}function DK(n,e,t){const i=["field","key"];let s=Jt(e,i),{field:l}=e,{key:r=""}=e;function o(u){l=u,t(0,l)}function a(u){ht.call(this,n,u)}function f(u){ht.call(this,n,u)}return n.$$set=u=>{e=ft(ft({},e),Pi(u)),t(2,s=Jt(e,i)),"field"in u&&t(0,l=u.field),"key"in u&&t(1,r=u.key)},[l,r,s,o,a,f]}class IK extends ke{constructor(e){super(),ve(this,e,DK,PK,De,{field:0,key:1})}}var E1=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],If={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Jc={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Cs=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},el=function(n){return n===!0?1:0};function xw(n,e){var t;return function(){var i=this,s=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(i,s)},e)}}var P1=function(n){return n instanceof Array?n:[n]};function _s(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function On(n,e,t){var i=window.document.createElement(n);return e=e||"",t=t||"",i.className=e,t!==void 0&&(i.textContent=t),i}function wh(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function qD(n,e){if(e(n))return n;if(n.parentNode)return qD(n.parentNode,e)}function Sh(n,e){var t=On("div","numInputWrapper"),i=On("input","numInput "+n),s=On("span","arrowUp"),l=On("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?i.type="number":(i.type="text",i.pattern="\\d*"),e!==void 0)for(var r in e)i.setAttribute(r,e[r]);return t.appendChild(i),t.appendChild(s),t.appendChild(l),t}function Bs(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var D1=function(){},Gp=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},RK={D:D1,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*el(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var i=parseInt(e),s=new Date(n.getFullYear(),0,2+(i-1)*7,0,0,0,0);return s.setDate(s.getDate()-s.getDay()+t.firstDayOfWeek),s},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:D1,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:D1,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},ga={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Dc={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[Dc.w(n,e,t)]},F:function(n,e,t){return Gp(Dc.n(n,e,t)-1,!1,e)},G:function(n,e,t){return Cs(Dc.h(n,e,t))},H:function(n){return Cs(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[el(n.getHours()>11)]},M:function(n,e){return Gp(n.getMonth(),!0,e)},S:function(n){return Cs(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return Cs(n.getFullYear(),4)},d:function(n){return Cs(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return Cs(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return Cs(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},WD=function(n){var e=n.config,t=e===void 0?If:e,i=n.l10n,s=i===void 0?Jc:i,l=n.isMobile,r=l===void 0?!1:l;return function(o,a,f){var u=f||s;return t.formatDate!==void 0&&!r?t.formatDate(o,a,u):a.split("").map(function(d,h,p){return Dc[d]&&p[h-1]!=="\\"?Dc[d](o,u,t):d!=="\\"?d:""}).join("")}},ab=function(n){var e=n.config,t=e===void 0?If:e,i=n.l10n,s=i===void 0?Jc:i;return function(l,r,o,a){if(!(l!==0&&!l)){var f=a||s,u,d=l;if(l instanceof Date)u=new Date(l.getTime());else if(typeof l!="string"&&l.toFixed!==void 0)u=new Date(l);else if(typeof l=="string"){var h=r||(t||If).dateFormat,p=String(l).trim();if(p==="today")u=new Date,o=!0;else if(t&&t.parseDate)u=t.parseDate(l,h);else if(/Z$/.test(p)||/GMT$/.test(p))u=new Date(l);else{for(var g=void 0,b=[],_=0,y=0,w="";_<h.length;_++){var A=h[_],M=A==="\\",T=h[_-1]==="\\"||M;if(ga[A]&&!T){w+=ga[A];var O=new RegExp(w).exec(l);O&&(g=!0)&&b[A!=="Y"?"push":"unshift"]({fn:RK[A],val:O[++y]})}else M||(w+=".")}u=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),b.forEach(function(E){var R=E.fn,N=E.val;return u=R(u,N,f)||u}),u=g?u:void 0}}if(!(u instanceof Date&&!isNaN(u.getTime()))){t.errorHandler(new Error("Invalid date provided: "+d));return}return o===!0&&u.setHours(0,0,0,0),u}}};function zs(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var NK=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},I1=function(n,e,t){return n*3600+e*60+t},LK=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},FK={DAY:864e5};function R1(n){var e=n.defaultHour,t=n.defaultMinute,i=n.defaultSeconds;if(n.minDate!==void 0){var s=n.minDate.getHours(),l=n.minDate.getMinutes(),r=n.minDate.getSeconds();e<s&&(e=s),e===s&&t<l&&(t=l),e===s&&t===l&&i<r&&(i=n.minDate.getSeconds())}if(n.maxDate!==void 0){var o=n.maxDate.getHours(),a=n.maxDate.getMinutes();e=Math.min(e,o),e===o&&(t=Math.min(a,t)),e===o&&t===a&&(i=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:i}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var i=function(o){o&&Object.keys(o).forEach(function(a){return n[a]=o[a]})},s=0,l=e;s<l.length;s++){var r=l[s];i(r)}return n});var as=globalThis&&globalThis.__assign||function(){return as=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},as.apply(this,arguments)},Yw=globalThis&&globalThis.__spreadArrays||function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),s=0,e=0;e<t;e++)for(var l=arguments[e],r=0,o=l.length;r<o;r++,s++)i[s]=l[r];return i},jK=300;function BK(n,e){var t={config:as(as({},If),Ri.defaultConfig),l10n:Jc};t.parseDate=ab({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=b,t._setHoursFromDate=h,t._positionCalendar=Ye,t.changeMonth=Y,t.changeYear=be,t.clear=oe,t.close=re,t.onMouseOver=it,t._createElement=On,t.createDay=O,t.destroy=Q,t.isEnabled=Ie,t.jumpToDate=w,t.updateValue=Gt,t.open=ie,t.redraw=Fe,t.set=ct,t.setDate=Ut,t.toggle=Xe;function i(){t.utils={getDaysInMonth:function(ne,le){return ne===void 0&&(ne=t.currentMonth),le===void 0&&(le=t.currentYear),ne===1&&(le%4===0&&le%100!==0||le%400===0)?29:t.l10n.daysInMonth[ne]}}}function s(){t.element=t.input=n,t.isOpen=!1,Ue(),_e(),rn(),pt(),i(),t.isMobile||T(),y(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&h(t.config.noCalendar?t.latestSelectedDateObj:void 0),Gt(!1)),o();var ne=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&ne&&Ye(),ot("onReady")}function l(){var ne;return((ne=t.calendarContainer)===null||ne===void 0?void 0:ne.getRootNode()).activeElement||document.activeElement}function r(ne){return ne.bind(t)}function o(){var ne=t.config;ne.weekNumbers===!1&&ne.showMonths===1||ne.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var le=(t.days.offsetWidth+1)*ne.showMonths;t.daysContainer.style.width=le+"px",t.calendarContainer.style.width=le+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function a(ne){if(t.selectedDates.length===0){var le=t.config.minDate===void 0||zs(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),ge=R1(t.config);le.setHours(ge.hours,ge.minutes,ge.seconds,le.getMilliseconds()),t.selectedDates=[le],t.latestSelectedDateObj=le}ne!==void 0&&ne.type!=="blur"&&ki(ne);var Me=t._input.value;d(),Gt(),t._input.value!==Me&&t._debouncedChange()}function f(ne,le){return ne%12+12*el(le===t.l10n.amPM[1])}function u(ne){switch(ne%24){case 0:case 12:return 12;default:return ne%12}}function d(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var ne=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,le=(parseInt(t.minuteElement.value,10)||0)%60,ge=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(ne=f(ne,t.amPM.textContent));var Me=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&zs(t.latestSelectedDateObj,t.config.minDate,!0)===0,Je=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&zs(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var et=I1(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),tt=I1(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),Ze=I1(ne,le,ge);if(Ze>tt&&Ze<et){var Tt=LK(et);ne=Tt[0],le=Tt[1],ge=Tt[2]}}else{if(Je){var st=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;ne=Math.min(ne,st.getHours()),ne===st.getHours()&&(le=Math.min(le,st.getMinutes())),le===st.getMinutes()&&(ge=Math.min(ge,st.getSeconds()))}if(Me){var yt=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;ne=Math.max(ne,yt.getHours()),ne===yt.getHours()&&le<yt.getMinutes()&&(le=yt.getMinutes()),le===yt.getMinutes()&&(ge=Math.max(ge,yt.getSeconds()))}}p(ne,le,ge)}}function h(ne){var le=ne||t.latestSelectedDateObj;le&&le instanceof Date&&p(le.getHours(),le.getMinutes(),le.getSeconds())}function p(ne,le,ge){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(ne%24,le,ge||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=Cs(t.config.time_24hr?ne:(12+ne)%12+12*el(ne%12===0)),t.minuteElement.value=Cs(le),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[el(ne>=12)]),t.secondElement!==void 0&&(t.secondElement.value=Cs(ge)))}function g(ne){var le=Bs(ne),ge=parseInt(le.value)+(ne.delta||0);(ge/1e3>1||ne.key==="Enter"&&!/[^\d]/.test(ge.toString()))&&be(ge)}function b(ne,le,ge,Me){if(le instanceof Array)return le.forEach(function(Je){return b(ne,Je,ge,Me)});if(ne instanceof Array)return ne.forEach(function(Je){return b(Je,le,ge,Me)});ne.addEventListener(le,ge,Me),t._handlers.push({remove:function(){return ne.removeEventListener(le,ge,Me)}})}function _(){ot("onChange")}function y(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(ge){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+ge+"]"),function(Me){return b(Me,"click",t[ge])})}),t.isMobile){je();return}var ne=xw(ye,50);if(t._debouncedChange=xw(_,jK),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&b(t.daysContainer,"mouseover",function(ge){t.config.mode==="range"&&it(Bs(ge))}),b(t._input,"keydown",Qe),t.calendarContainer!==void 0&&b(t.calendarContainer,"keydown",Qe),!t.config.inline&&!t.config.static&&b(window,"resize",ne),window.ontouchstart!==void 0?b(window.document,"touchstart",qe):b(window.document,"mousedown",qe),b(window.document,"focus",qe,{capture:!0}),t.config.clickOpens===!0&&(b(t._input,"focus",t.open),b(t._input,"click",t.open)),t.daysContainer!==void 0&&(b(t.monthNav,"click",In),b(t.monthNav,["keyup","increment"],g),b(t.daysContainer,"click",Pt)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var le=function(ge){return Bs(ge).select()};b(t.timeContainer,["increment"],a),b(t.timeContainer,"blur",a,{capture:!0}),b(t.timeContainer,"click",A),b([t.hourElement,t.minuteElement],["focus","click"],le),t.secondElement!==void 0&&b(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&b(t.amPM,"click",function(ge){a(ge)})}t.config.allowInput&&b(t._input,"blur",Ve)}function w(ne,le){var ge=ne!==void 0?t.parseDate(ne):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),Me=t.currentYear,Je=t.currentMonth;try{ge!==void 0&&(t.currentYear=ge.getFullYear(),t.currentMonth=ge.getMonth())}catch(et){et.message="Invalid date supplied: "+ge,t.config.errorHandler(et)}le&&t.currentYear!==Me&&(ot("onYearChange"),B()),le&&(t.currentYear!==Me||t.currentMonth!==Je)&&ot("onMonthChange"),t.redraw()}function A(ne){var le=Bs(ne);~le.className.indexOf("arrow")&&M(ne,le.classList.contains("arrowUp")?1:-1)}function M(ne,le,ge){var Me=ne&&Bs(ne),Je=ge||Me&&Me.parentNode&&Me.parentNode.firstChild,et=Dt("increment");et.delta=le,Je&&Je.dispatchEvent(et)}function T(){var ne=window.document.createDocumentFragment();if(t.calendarContainer=On("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(ne.appendChild(K()),t.innerContainer=On("div","flatpickr-innerContainer"),t.config.weekNumbers){var le=Z(),ge=le.weekWrapper,Me=le.weekNumbers;t.innerContainer.appendChild(ge),t.weekNumbers=Me,t.weekWrapper=ge}t.rContainer=On("div","flatpickr-rContainer"),t.rContainer.appendChild(J()),t.daysContainer||(t.daysContainer=On("div","flatpickr-days"),t.daysContainer.tabIndex=-1),F(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),ne.appendChild(t.innerContainer)}t.config.enableTime&&ne.appendChild(X()),_s(t.calendarContainer,"rangeMode",t.config.mode==="range"),_s(t.calendarContainer,"animate",t.config.animate===!0),_s(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(ne);var Je=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Je&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var et=On("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(et,t.element),et.appendChild(t.element),t.altInput&&et.appendChild(t.altInput),et.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function O(ne,le,ge,Me){var Je=Ie(le,!0),et=On("span",ne,le.getDate().toString());return et.dateObj=le,et.$i=Me,et.setAttribute("aria-label",t.formatDate(le,t.config.ariaDateFormat)),ne.indexOf("hidden")===-1&&zs(le,t.now)===0&&(t.todayDateElem=et,et.classList.add("today"),et.setAttribute("aria-current","date")),Je?(et.tabIndex=-1,Te(le)&&(et.classList.add("selected"),t.selectedDateElem=et,t.config.mode==="range"&&(_s(et,"startRange",t.selectedDates[0]&&zs(le,t.selectedDates[0],!0)===0),_s(et,"endRange",t.selectedDates[1]&&zs(le,t.selectedDates[1],!0)===0),ne==="nextMonthDay"&&et.classList.add("inRange")))):et.classList.add("flatpickr-disabled"),t.config.mode==="range"&&qn(le)&&!Te(le)&&et.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&ne!=="prevMonthDay"&&Me%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(le)+"</span>"),ot("onDayCreate",et),et}function E(ne){ne.focus(),t.config.mode==="range"&&it(ne)}function R(ne){for(var le=ne>0?0:t.config.showMonths-1,ge=ne>0?t.config.showMonths:-1,Me=le;Me!=ge;Me+=ne)for(var Je=t.daysContainer.children[Me],et=ne>0?0:Je.children.length-1,tt=ne>0?Je.children.length:-1,Ze=et;Ze!=tt;Ze+=ne){var Tt=Je.children[Ze];if(Tt.className.indexOf("hidden")===-1&&Ie(Tt.dateObj))return Tt}}function N(ne,le){for(var ge=ne.className.indexOf("Month")===-1?ne.dateObj.getMonth():t.currentMonth,Me=le>0?t.config.showMonths:-1,Je=le>0?1:-1,et=ge-t.currentMonth;et!=Me;et+=Je)for(var tt=t.daysContainer.children[et],Ze=ge-t.currentMonth===et?ne.$i+le:le<0?tt.children.length-1:0,Tt=tt.children.length,st=Ze;st>=0&&st<Tt&&st!=(le>0?Tt:-1);st+=Je){var yt=tt.children[st];if(yt.className.indexOf("hidden")===-1&&Ie(yt.dateObj)&&Math.abs(ne.$i-st)>=Math.abs(le))return E(yt)}t.changeMonth(Je),j(R(Je),0)}function j(ne,le){var ge=l(),Me=he(ge||document.body),Je=ne!==void 0?ne:Me?ge:t.selectedDateElem!==void 0&&he(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&he(t.todayDateElem)?t.todayDateElem:R(le>0?1:-1);Je===void 0?t._input.focus():Me?N(Je,le):E(Je)}function L(ne,le){for(var ge=(new Date(ne,le,1).getDay()-t.l10n.firstDayOfWeek+7)%7,Me=t.utils.getDaysInMonth((le-1+12)%12,ne),Je=t.utils.getDaysInMonth(le,ne),et=window.document.createDocumentFragment(),tt=t.config.showMonths>1,Ze=tt?"prevMonthDay hidden":"prevMonthDay",Tt=tt?"nextMonthDay hidden":"nextMonthDay",st=Me+1-ge,yt=0;st<=Me;st++,yt++)et.appendChild(O("flatpickr-day "+Ze,new Date(ne,le-1,st),st,yt));for(st=1;st<=Je;st++,yt++)et.appendChild(O("flatpickr-day",new Date(ne,le,st),st,yt));for(var Qt=Je+1;Qt<=42-ge&&(t.config.showMonths===1||yt%7!==0);Qt++,yt++)et.appendChild(O("flatpickr-day "+Tt,new Date(ne,le+1,Qt%Je),Qt,yt));var wi=On("div","dayContainer");return wi.appendChild(et),wi}function F(){if(t.daysContainer!==void 0){wh(t.daysContainer),t.weekNumbers&&wh(t.weekNumbers);for(var ne=document.createDocumentFragment(),le=0;le<t.config.showMonths;le++){var ge=new Date(t.currentYear,t.currentMonth,1);ge.setMonth(t.currentMonth+le),ne.appendChild(L(ge.getFullYear(),ge.getMonth()))}t.daysContainer.appendChild(ne),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&it()}}function B(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var ne=function(Me){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&Me<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&Me>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var le=0;le<12;le++)if(ne(le)){var ge=On("option","flatpickr-monthDropdown-month");ge.value=new Date(t.currentYear,le).getMonth().toString(),ge.textContent=Gp(le,t.config.shorthandCurrentMonth,t.l10n),ge.tabIndex=-1,t.currentMonth===le&&(ge.selected=!0),t.monthsDropdownContainer.appendChild(ge)}}}function V(){var ne=On("div","flatpickr-month"),le=window.document.createDocumentFragment(),ge;t.config.showMonths>1||t.config.monthSelectorType==="static"?ge=On("span","cur-month"):(t.monthsDropdownContainer=On("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),b(t.monthsDropdownContainer,"change",function(tt){var Ze=Bs(tt),Tt=parseInt(Ze.value,10);t.changeMonth(Tt-t.currentMonth),ot("onMonthChange")}),B(),ge=t.monthsDropdownContainer);var Me=Sh("cur-year",{tabindex:"-1"}),Je=Me.getElementsByTagName("input")[0];Je.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Je.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Je.setAttribute("max",t.config.maxDate.getFullYear().toString()),Je.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var et=On("div","flatpickr-current-month");return et.appendChild(ge),et.appendChild(Me),le.appendChild(et),ne.appendChild(le),{container:ne,yearElement:Je,monthElement:ge}}function H(){wh(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var ne=t.config.showMonths;ne--;){var le=V();t.yearElements.push(le.yearElement),t.monthElements.push(le.monthElement),t.monthNav.appendChild(le.container)}t.monthNav.appendChild(t.nextMonthNav)}function K(){return t.monthNav=On("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=On("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=On("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,H(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(ne){t.__hidePrevMonthArrow!==ne&&(_s(t.prevMonthNav,"flatpickr-disabled",ne),t.__hidePrevMonthArrow=ne)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(ne){t.__hideNextMonthArrow!==ne&&(_s(t.nextMonthNav,"flatpickr-disabled",ne),t.__hideNextMonthArrow=ne)}}),t.currentYearElement=t.yearElements[0],Mn(),t.monthNav}function X(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var ne=R1(t.config);t.timeContainer=On("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var le=On("span","flatpickr-time-separator",":"),ge=Sh("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=ge.getElementsByTagName("input")[0];var Me=Sh("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=Me.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=Cs(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?ne.hours:u(ne.hours)),t.minuteElement.value=Cs(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():ne.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(ge),t.timeContainer.appendChild(le),t.timeContainer.appendChild(Me),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var Je=Sh("flatpickr-second");t.secondElement=Je.getElementsByTagName("input")[0],t.secondElement.value=Cs(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():ne.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(On("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Je)}return t.config.time_24hr||(t.amPM=On("span","flatpickr-am-pm",t.l10n.amPM[el((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function J(){t.weekdayContainer?wh(t.weekdayContainer):t.weekdayContainer=On("div","flatpickr-weekdays");for(var ne=t.config.showMonths;ne--;){var le=On("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(le)}return z(),t.weekdayContainer}function z(){if(t.weekdayContainer){var ne=t.l10n.firstDayOfWeek,le=Yw(t.l10n.weekdays.shorthand);ne>0&&ne<le.length&&(le=Yw(le.splice(ne,le.length),le.splice(0,ne)));for(var ge=t.config.showMonths;ge--;)t.weekdayContainer.children[ge].innerHTML=`
      <span class='flatpickr-weekday'>
        `+le.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Z(){t.calendarContainer.classList.add("hasWeeks");var ne=On("div","flatpickr-weekwrapper");ne.appendChild(On("span","flatpickr-weekday",t.l10n.weekAbbreviation));var le=On("div","flatpickr-weeks");return ne.appendChild(le),{weekWrapper:ne,weekNumbers:le}}function Y(ne,le){le===void 0&&(le=!0);var ge=le?ne:ne-t.currentMonth;ge<0&&t._hidePrevMonthArrow===!0||ge>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=ge,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,ot("onYearChange"),B()),F(),ot("onMonthChange"),Mn())}function oe(ne,le){if(ne===void 0&&(ne=!0),le===void 0&&(le=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,le===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var ge=R1(t.config),Me=ge.hours,Je=ge.minutes,et=ge.seconds;p(Me,Je,et)}t.redraw(),ne&&ot("onChange")}function re(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),ot("onClose")}function Q(){t.config!==void 0&&ot("onDestroy");for(var ne=t._handlers.length;ne--;)t._handlers[ne].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var le=t.calendarContainer.parentNode;if(le.lastChild&&le.removeChild(le.lastChild),le.parentNode){for(;le.firstChild;)le.parentNode.insertBefore(le.firstChild,le);le.parentNode.removeChild(le)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(ge){try{delete t[ge]}catch{}})}function me(ne){return t.calendarContainer.contains(ne)}function qe(ne){if(t.isOpen&&!t.config.inline){var le=Bs(ne),ge=me(le),Me=le===t.input||le===t.altInput||t.element.contains(le)||ne.path&&ne.path.indexOf&&(~ne.path.indexOf(t.input)||~ne.path.indexOf(t.altInput)),Je=!Me&&!ge&&!me(ne.relatedTarget),et=!t.config.ignoredFocusElements.some(function(tt){return tt.contains(le)});Je&&et&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&a(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function be(ne){if(!(!ne||t.config.minDate&&ne<t.config.minDate.getFullYear()||t.config.maxDate&&ne>t.config.maxDate.getFullYear())){var le=ne,ge=t.currentYear!==le;t.currentYear=le||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),ge&&(t.redraw(),ot("onYearChange"),B())}}function Ie(ne,le){var ge;le===void 0&&(le=!0);var Me=t.parseDate(ne,void 0,le);if(t.config.minDate&&Me&&zs(Me,t.config.minDate,le!==void 0?le:!t.minDateHasTime)<0||t.config.maxDate&&Me&&zs(Me,t.config.maxDate,le!==void 0?le:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(Me===void 0)return!1;for(var Je=!!t.config.enable,et=(ge=t.config.enable)!==null&&ge!==void 0?ge:t.config.disable,tt=0,Ze=void 0;tt<et.length;tt++){if(Ze=et[tt],typeof Ze=="function"&&Ze(Me))return Je;if(Ze instanceof Date&&Me!==void 0&&Ze.getTime()===Me.getTime())return Je;if(typeof Ze=="string"){var Tt=t.parseDate(Ze,void 0,!0);return Tt&&Tt.getTime()===Me.getTime()?Je:!Je}else if(typeof Ze=="object"&&Me!==void 0&&Ze.from&&Ze.to&&Me.getTime()>=Ze.from.getTime()&&Me.getTime()<=Ze.to.getTime())return Je}return!Je}function he(ne){return t.daysContainer!==void 0?ne.className.indexOf("hidden")===-1&&ne.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(ne):!1}function Ve(ne){var le=ne.target===t._input,ge=t._input.value.trimEnd()!==Dn();le&&ge&&!(ne.relatedTarget&&me(ne.relatedTarget))&&t.setDate(t._input.value,!0,ne.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Qe(ne){var le=Bs(ne),ge=t.config.wrap?n.contains(le):le===t._input,Me=t.config.allowInput,Je=t.isOpen&&(!Me||!ge),et=t.config.inline&&ge&&!Me;if(ne.keyCode===13&&ge){if(Me)return t.setDate(t._input.value,!0,le===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),le.blur();t.open()}else if(me(le)||Je||et){var tt=!!t.timeContainer&&t.timeContainer.contains(le);switch(ne.keyCode){case 13:tt?(ne.preventDefault(),a(),Le()):Pt(ne);break;case 27:ne.preventDefault(),Le();break;case 8:case 46:ge&&!t.config.allowInput&&(ne.preventDefault(),t.clear());break;case 37:case 39:if(!tt&&!ge){ne.preventDefault();var Ze=l();if(t.daysContainer!==void 0&&(Me===!1||Ze&&he(Ze))){var Tt=ne.keyCode===39?1:-1;ne.ctrlKey?(ne.stopPropagation(),Y(Tt),j(R(1),0)):j(void 0,Tt)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:ne.preventDefault();var st=ne.keyCode===40?1:-1;t.daysContainer&&le.$i!==void 0||le===t.input||le===t.altInput?ne.ctrlKey?(ne.stopPropagation(),be(t.currentYear-st),j(R(1),0)):tt||j(void 0,st*7):le===t.currentYearElement?be(t.currentYear-st):t.config.enableTime&&(!tt&&t.hourElement&&t.hourElement.focus(),a(ne),t._debouncedChange());break;case 9:if(tt){var yt=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Si){return Si}),Qt=yt.indexOf(le);if(Qt!==-1){var wi=yt[Qt+(ne.shiftKey?-1:1)];ne.preventDefault(),(wi||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(le)&&ne.shiftKey&&(ne.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&le===t.amPM)switch(ne.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],d(),Gt();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],d(),Gt();break}(ge||me(le))&&ot("onKeyDown",ne)}function it(ne,le){if(le===void 0&&(le="flatpickr-day"),!(t.selectedDates.length!==1||ne&&(!ne.classList.contains(le)||ne.classList.contains("flatpickr-disabled")))){for(var ge=ne?ne.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),Me=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Je=Math.min(ge,t.selectedDates[0].getTime()),et=Math.max(ge,t.selectedDates[0].getTime()),tt=!1,Ze=0,Tt=0,st=Je;st<et;st+=FK.DAY)Ie(new Date(st),!0)||(tt=tt||st>Je&&st<et,st<Me&&(!Ze||st>Ze)?Ze=st:st>Me&&(!Tt||st<Tt)&&(Tt=st));var yt=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+le));yt.forEach(function(Qt){var wi=Qt.dateObj,Si=wi.getTime(),Xi=Ze>0&&Si<Ze||Tt>0&&Si>Tt;if(Xi){Qt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Ce){Qt.classList.remove(Ce)});return}else if(tt&&!Xi)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Ce){Qt.classList.remove(Ce)}),ne!==void 0&&(ne.classList.add(ge<=t.selectedDates[0].getTime()?"startRange":"endRange"),Me<ge&&Si===Me?Qt.classList.add("startRange"):Me>ge&&Si===Me&&Qt.classList.add("endRange"),Si>=Ze&&(Tt===0||Si<=Tt)&&NK(Si,Me,ge)&&Qt.classList.add("inRange"))})}}function ye(){t.isOpen&&!t.config.static&&!t.config.inline&&Ye()}function ie(ne,le){if(le===void 0&&(le=t._positionElement),t.isMobile===!0){if(ne){ne.preventDefault();var ge=Bs(ne);ge&&ge.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),ot("onOpen");return}else if(t._input.disabled||t.config.inline)return;var Me=t.isOpen;t.isOpen=!0,Me||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),ot("onOpen"),Ye(le)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(ne===void 0||!t.timeContainer.contains(ne.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function we(ne){return function(le){var ge=t.config["_"+ne+"Date"]=t.parseDate(le,t.config.dateFormat),Me=t.config["_"+(ne==="min"?"max":"min")+"Date"];ge!==void 0&&(t[ne==="min"?"minDateHasTime":"maxDateHasTime"]=ge.getHours()>0||ge.getMinutes()>0||ge.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(Je){return Ie(Je)}),!t.selectedDates.length&&ne==="min"&&h(ge),Gt()),t.daysContainer&&(Fe(),ge!==void 0?t.currentYearElement[ne]=ge.getFullYear().toString():t.currentYearElement.removeAttribute(ne),t.currentYearElement.disabled=!!Me&&ge!==void 0&&Me.getFullYear()===ge.getFullYear())}}function Ue(){var ne=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],le=as(as({},JSON.parse(JSON.stringify(n.dataset||{}))),e),ge={};t.config.parseDate=le.parseDate,t.config.formatDate=le.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(yt){t.config._enable=un(yt)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(yt){t.config._disable=un(yt)}});var Me=le.mode==="time";if(!le.dateFormat&&(le.enableTime||Me)){var Je=Ri.defaultConfig.dateFormat||If.dateFormat;ge.dateFormat=le.noCalendar||Me?"H:i"+(le.enableSeconds?":S":""):Je+" H:i"+(le.enableSeconds?":S":"")}if(le.altInput&&(le.enableTime||Me)&&!le.altFormat){var et=Ri.defaultConfig.altFormat||If.altFormat;ge.altFormat=le.noCalendar||Me?"h:i"+(le.enableSeconds?":S K":" K"):et+(" h:i"+(le.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:we("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:we("max")});var tt=function(yt){return function(Qt){t.config[yt==="min"?"_minTime":"_maxTime"]=t.parseDate(Qt,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:tt("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:tt("max")}),le.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,ge,le);for(var Ze=0;Ze<ne.length;Ze++)t.config[ne[Ze]]=t.config[ne[Ze]]===!0||t.config[ne[Ze]]==="true";E1.filter(function(yt){return t.config[yt]!==void 0}).forEach(function(yt){t.config[yt]=P1(t.config[yt]||[]).map(r)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Ze=0;Ze<t.config.plugins.length;Ze++){var Tt=t.config.plugins[Ze](t)||{};for(var st in Tt)E1.indexOf(st)>-1?t.config[st]=P1(Tt[st]).map(r).concat(t.config[st]):typeof le[st]>"u"&&(t.config[st]=Tt[st])}le.altInputClass||(t.config.altInputClass=Oe().className+" "+t.config.altInputClass),ot("onParseConfig")}function Oe(){return t.config.wrap?n.querySelector("[data-input]"):n}function _e(){typeof t.config.locale!="object"&&typeof Ri.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=as(as({},Ri.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Ri.l10ns[t.config.locale]:void 0),ga.D="("+t.l10n.weekdays.shorthand.join("|")+")",ga.l="("+t.l10n.weekdays.longhand.join("|")+")",ga.M="("+t.l10n.months.shorthand.join("|")+")",ga.F="("+t.l10n.months.longhand.join("|")+")",ga.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var ne=as(as({},e),JSON.parse(JSON.stringify(n.dataset||{})));ne.time_24hr===void 0&&Ri.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=WD(t),t.parseDate=ab({config:t.config,l10n:t.l10n})}function Ye(ne){if(typeof t.config.position=="function")return void t.config.position(t,ne);if(t.calendarContainer!==void 0){ot("onPreCalendarPosition");var le=ne||t._positionElement,ge=Array.prototype.reduce.call(t.calendarContainer.children,function(xl,Or){return xl+Or.offsetHeight},0),Me=t.calendarContainer.offsetWidth,Je=t.config.position.split(" "),et=Je[0],tt=Je.length>1?Je[1]:null,Ze=le.getBoundingClientRect(),Tt=window.innerHeight-Ze.bottom,st=et==="above"||et!=="below"&&Tt<ge&&Ze.top>ge,yt=window.pageYOffset+Ze.top+(st?-ge-2:le.offsetHeight+2);if(_s(t.calendarContainer,"arrowTop",!st),_s(t.calendarContainer,"arrowBottom",st),!t.config.inline){var Qt=window.pageXOffset+Ze.left,wi=!1,Si=!1;tt==="center"?(Qt-=(Me-Ze.width)/2,wi=!0):tt==="right"&&(Qt-=Me-Ze.width,Si=!0),_s(t.calendarContainer,"arrowLeft",!wi&&!Si),_s(t.calendarContainer,"arrowCenter",wi),_s(t.calendarContainer,"arrowRight",Si);var Xi=window.document.body.offsetWidth-(window.pageXOffset+Ze.right),Ce=Qt+Me>window.document.body.offsetWidth,Ft=Xi+Me>window.document.body.offsetWidth;if(_s(t.calendarContainer,"rightMost",Ce),!t.config.static)if(t.calendarContainer.style.top=yt+"px",!Ce)t.calendarContainer.style.left=Qt+"px",t.calendarContainer.style.right="auto";else if(!Ft)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=Xi+"px";else{var dn=St();if(dn===void 0)return;var Kn=window.document.body.offsetWidth,Bn=Math.max(0,Kn/2-Me/2),Wn=".flatpickr-calendar.centerMost:before",Di=".flatpickr-calendar.centerMost:after",Fs=dn.cssRules.length,js="{left:"+Ze.left+"px;right:auto;}";_s(t.calendarContainer,"rightMost",!1),_s(t.calendarContainer,"centerMost",!0),dn.insertRule(Wn+","+Di+js,Fs),t.calendarContainer.style.left=Bn+"px",t.calendarContainer.style.right="auto"}}}}function St(){for(var ne=null,le=0;le<document.styleSheets.length;le++){var ge=document.styleSheets[le];if(ge.cssRules){try{ge.cssRules}catch{continue}ne=ge;break}}return ne??Et()}function Et(){var ne=document.createElement("style");return document.head.appendChild(ne),ne.sheet}function Fe(){t.config.noCalendar||t.isMobile||(B(),Mn(),F())}function Le(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function Pt(ne){ne.preventDefault(),ne.stopPropagation();var le=function(yt){return yt.classList&&yt.classList.contains("flatpickr-day")&&!yt.classList.contains("flatpickr-disabled")&&!yt.classList.contains("notAllowed")},ge=qD(Bs(ne),le);if(ge!==void 0){var Me=ge,Je=t.latestSelectedDateObj=new Date(Me.dateObj.getTime()),et=(Je.getMonth()<t.currentMonth||Je.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=Me,t.config.mode==="single")t.selectedDates=[Je];else if(t.config.mode==="multiple"){var tt=Te(Je);tt?t.selectedDates.splice(parseInt(tt),1):t.selectedDates.push(Je)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Je,t.selectedDates.push(Je),zs(Je,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(yt,Qt){return yt.getTime()-Qt.getTime()}));if(d(),et){var Ze=t.currentYear!==Je.getFullYear();t.currentYear=Je.getFullYear(),t.currentMonth=Je.getMonth(),Ze&&(ot("onYearChange"),B()),ot("onMonthChange")}if(Mn(),F(),Gt(),!et&&t.config.mode!=="range"&&t.config.showMonths===1?E(Me):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Tt=t.config.mode==="single"&&!t.config.enableTime,st=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Tt||st)&&Le()}_()}}var tn={locale:[_e,z],showMonths:[H,o,J],minDate:[w],maxDate:[w],positionElement:[bn],clickOpens:[function(){t.config.clickOpens===!0?(b(t._input,"focus",t.open),b(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function ct(ne,le){if(ne!==null&&typeof ne=="object"){Object.assign(t.config,ne);for(var ge in ne)tn[ge]!==void 0&&tn[ge].forEach(function(Me){return Me()})}else t.config[ne]=le,tn[ne]!==void 0?tn[ne].forEach(function(Me){return Me()}):E1.indexOf(ne)>-1&&(t.config[ne]=P1(le));t.redraw(),Gt(!0)}function Se(ne,le){var ge=[];if(ne instanceof Array)ge=ne.map(function(Me){return t.parseDate(Me,le)});else if(ne instanceof Date||typeof ne=="number")ge=[t.parseDate(ne,le)];else if(typeof ne=="string")switch(t.config.mode){case"single":case"time":ge=[t.parseDate(ne,le)];break;case"multiple":ge=ne.split(t.config.conjunction).map(function(Me){return t.parseDate(Me,le)});break;case"range":ge=ne.split(t.l10n.rangeSeparator).map(function(Me){return t.parseDate(Me,le)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(ne)));t.selectedDates=t.config.allowInvalidPreload?ge:ge.filter(function(Me){return Me instanceof Date&&Ie(Me,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(Me,Je){return Me.getTime()-Je.getTime()})}function Ut(ne,le,ge){if(le===void 0&&(le=!1),ge===void 0&&(ge=t.config.dateFormat),ne!==0&&!ne||ne instanceof Array&&ne.length===0)return t.clear(le);Se(ne,ge),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),w(void 0,le),h(),t.selectedDates.length===0&&t.clear(!1),Gt(le),le&&ot("onChange")}function un(ne){return ne.slice().map(function(le){return typeof le=="string"||typeof le=="number"||le instanceof Date?t.parseDate(le,void 0,!0):le&&typeof le=="object"&&le.from&&le.to?{from:t.parseDate(le.from,void 0),to:t.parseDate(le.to,void 0)}:le}).filter(function(le){return le})}function pt(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var ne=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);ne&&Se(ne,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function rn(){if(t.input=Oe(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=On(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),bn()}function bn(){t._positionElement=t.config.positionElement||t._input}function je(){var ne=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=On("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=ne,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=ne==="datetime-local"?"Y-m-d\\TH:i:S":ne==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}b(t.mobileInput,"change",function(le){t.setDate(Bs(le).value,!1,t.mobileFormatStr),ot("onChange"),ot("onClose")})}function Xe(ne){if(t.isOpen===!0)return t.close();t.open(ne)}function ot(ne,le){if(t.config!==void 0){var ge=t.config[ne];if(ge!==void 0&&ge.length>0)for(var Me=0;ge[Me]&&Me<ge.length;Me++)ge[Me](t.selectedDates,t.input.value,t,le);ne==="onChange"&&(t.input.dispatchEvent(Dt("change")),t.input.dispatchEvent(Dt("input")))}}function Dt(ne){var le=document.createEvent("Event");return le.initEvent(ne,!0,!0),le}function Te(ne){for(var le=0;le<t.selectedDates.length;le++){var ge=t.selectedDates[le];if(ge instanceof Date&&zs(ge,ne)===0)return""+le}return!1}function qn(ne){return t.config.mode!=="range"||t.selectedDates.length<2?!1:zs(ne,t.selectedDates[0])>=0&&zs(ne,t.selectedDates[1])<=0}function Mn(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(ne,le){var ge=new Date(t.currentYear,t.currentMonth,1);ge.setMonth(t.currentMonth+le),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[le].textContent=Gp(ge.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=ge.getMonth().toString(),ne.value=ge.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function Dn(ne){var le=ne||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(ge){return t.formatDate(ge,le)}).filter(function(ge,Me,Je){return t.config.mode!=="range"||t.config.enableTime||Je.indexOf(ge)===Me}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Gt(ne){ne===void 0&&(ne=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=Dn(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=Dn(t.config.altFormat)),ne!==!1&&ot("onValueUpdate")}function In(ne){var le=Bs(ne),ge=t.prevMonthNav.contains(le),Me=t.nextMonthNav.contains(le);ge||Me?Y(ge?-1:1):t.yearElements.indexOf(le)>=0?le.select():le.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):le.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function ki(ne){ne.preventDefault();var le=ne.type==="keydown",ge=Bs(ne),Me=ge;t.amPM!==void 0&&ge===t.amPM&&(t.amPM.textContent=t.l10n.amPM[el(t.amPM.textContent===t.l10n.amPM[0])]);var Je=parseFloat(Me.getAttribute("min")),et=parseFloat(Me.getAttribute("max")),tt=parseFloat(Me.getAttribute("step")),Ze=parseInt(Me.value,10),Tt=ne.delta||(le?ne.which===38?1:-1:0),st=Ze+tt*Tt;if(typeof Me.value<"u"&&Me.value.length===2){var yt=Me===t.hourElement,Qt=Me===t.minuteElement;st<Je?(st=et+st+el(!yt)+(el(yt)&&el(!t.amPM)),Qt&&M(void 0,-1,t.hourElement)):st>et&&(st=Me===t.hourElement?st-et-el(!t.amPM):Je,Qt&&M(void 0,1,t.hourElement)),t.amPM&&yt&&(tt===1?st+Ze===23:Math.abs(st-Ze)>tt)&&(t.amPM.textContent=t.l10n.amPM[el(t.amPM.textContent===t.l10n.amPM[0])]),Me.value=Cs(st)}}return s(),t}function Rf(n,e){for(var t=Array.prototype.slice.call(n).filter(function(r){return r instanceof HTMLElement}),i=[],s=0;s<t.length;s++){var l=t[s];try{if(l.getAttribute("data-fp-omit")!==null)continue;l._flatpickr!==void 0&&(l._flatpickr.destroy(),l._flatpickr=void 0),l._flatpickr=BK(l,e||{}),i.push(l._flatpickr)}catch(r){console.error(r)}}return i.length===1?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Rf(this,n)},HTMLElement.prototype.flatpickr=function(n){return Rf([this],n)});var Ri=function(n,e){return typeof n=="string"?Rf(window.document.querySelectorAll(n),e):n instanceof Node?Rf([n],e):Rf(n,e)};Ri.defaultConfig={};Ri.l10ns={en:as({},Jc),default:as({},Jc)};Ri.localize=function(n){Ri.l10ns.default=as(as({},Ri.l10ns.default),n)};Ri.setDefaults=function(n){Ri.defaultConfig=as(as({},Ri.defaultConfig),n)};Ri.parseDate=ab({});Ri.formatDate=WD({});Ri.compareDates=zs;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Rf(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=Ri);function VK(n){let e,t=[n[1]],i={};for(let s=0;s<t.length;s+=1)i=ft(i,t[s]);return{c(){e=k("input"),bl(e,i)},m(s,l){C(s,e,l),e.autofocus&&e.focus(),n[11](e)},p(s,l){bl(e,i=kn(t,[l&2&&s[1]]))},d(s){s&&S(e),n[11](null)}}}function zK(n){let e;const t=n[10].default,i=It(t,n,n[9],null),s=i||VK(n);return{c(){s&&s.c()},m(l,r){s&&s.m(l,r),e=!0},p(l,[r]){i?i.p&&(!e||r&512)&&Nt(i,t,l,l[9],e?Rt(t,l[9],r,null):Lt(l[9]),null):s&&s.p&&(!e||r&3)&&s.p(l,e?r:-1)},i(l){e||(P(s,l),e=!0)},o(l){I(s,l),e=!1},d(l){s&&s.d(l)}}}function HK(n){return n.charAt(2).toLowerCase()+n.substring(3)}function Gw(n,e){var i;return(((i=n==null?void 0:n.config)==null?void 0:i.mode)??"single")==="single"?e[0]:e}function Xw(n,e){return!!(n==e||n instanceof Date&&e instanceof Date&&n.valueOf()===e.valueOf()||Array.isArray(n)&&Array.isArray(e)&&n.length===e.length&&n.every((t,i)=>t===e[i]))}function qK(n,e,t){const i=["value","formattedValue","element","dateFormat","options","input","flatpickr"];let s=Jt(e,i),{$$slots:l={},$$scope:r}=e;const o=new Set(["onChange","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate"]);let{value:a=void 0,formattedValue:f="",element:u=void 0,dateFormat:d=void 0}=e,{options:h={}}=e,p=!1,{input:g=void 0,flatpickr:b=void 0}=e;Pn(()=>{const M=u??g,T=y(h);return T.onReady.push((O,E,R)=>{a===void 0&&w(O,E,R),nn().then(()=>{t(8,p=!0)})}),t(3,b=Ri(M,Object.assign(T,u?{wrap:!0}:{}))),()=>{b.destroy()}});const _=Hn();function y(M={}){M=Object.assign({},M);for(const T of o){const O=(E,R,N)=>{_(HK(T),[E,R,N])};T in M?(Array.isArray(M[T])||(M[T]=[M[T]]),M[T].push(O)):M[T]=[O]}return M.onChange&&!M.onChange.includes(w)&&M.onChange.push(w),M}function w(M,T,O){const E=Gw(O,M);!Xw(a,E)&&(a||E)&&t(2,a=E),t(4,f=T)}function A(M){de[M?"unshift":"push"](()=>{g=M,t(0,g)})}return n.$$set=M=>{e=ft(ft({},e),Pi(M)),t(1,s=Jt(e,i)),"value"in M&&t(2,a=M.value),"formattedValue"in M&&t(4,f=M.formattedValue),"element"in M&&t(5,u=M.element),"dateFormat"in M&&t(6,d=M.dateFormat),"options"in M&&t(7,h=M.options),"input"in M&&t(0,g=M.input),"flatpickr"in M&&t(3,b=M.flatpickr),"$$scope"in M&&t(9,r=M.$$scope)},n.$$.update=()=>{if(n.$$.dirty&332&&b&&p&&(Xw(a,Gw(b,b.selectedDates))||b.setDate(a,!0,d)),n.$$.dirty&392&&b&&p)for(const[M,T]of Object.entries(y(h)))b.set(M,T)},[g,s,a,b,f,u,d,h,p,r,l,A]}class S2 extends ke{constructor(e){super(),ve(this,e,qK,zK,De,{value:2,formattedValue:4,element:5,dateFormat:6,options:7,input:0,flatpickr:3})}}function WK(n){let e,t,i,s,l,r,o,a;function f(h){n[6](h)}function u(h){n[7](h)}let d={id:n[15],options:ee.defaultFlatpickrOptions()};return n[2]!==void 0&&(d.value=n[2]),n[0].options.min!==void 0&&(d.formattedValue=n[0].options.min),l=new S2({props:d}),de.push(()=>Ne(l,"value",f)),de.push(()=>Ne(l,"formattedValue",u)),l.$on("close",n[8]),{c(){e=k("label"),t=G("Min date (UTC)"),s=D(),U(l.$$.fragment),m(e,"for",i=n[15])},m(h,p){C(h,e,p),v(e,t),C(h,s,p),q(l,h,p),a=!0},p(h,p){(!a||p&32768&&i!==(i=h[15]))&&m(e,"for",i);const g={};p&32768&&(g.id=h[15]),!r&&p&4&&(r=!0,g.value=h[2],Be(()=>r=!1)),!o&&p&1&&(o=!0,g.formattedValue=h[0].options.min,Be(()=>o=!1)),l.$set(g)},i(h){a||(P(l.$$.fragment,h),a=!0)},o(h){I(l.$$.fragment,h),a=!1},d(h){h&&S(e),h&&S(s),W(l,h)}}}function UK(n){let e,t,i,s,l,r,o,a;function f(h){n[9](h)}function u(h){n[10](h)}let d={id:n[15],options:ee.defaultFlatpickrOptions()};return n[3]!==void 0&&(d.value=n[3]),n[0].options.max!==void 0&&(d.formattedValue=n[0].options.max),l=new S2({props:d}),de.push(()=>Ne(l,"value",f)),de.push(()=>Ne(l,"formattedValue",u)),l.$on("close",n[11]),{c(){e=k("label"),t=G("Max date (UTC)"),s=D(),U(l.$$.fragment),m(e,"for",i=n[15])},m(h,p){C(h,e,p),v(e,t),C(h,s,p),q(l,h,p),a=!0},p(h,p){(!a||p&32768&&i!==(i=h[15]))&&m(e,"for",i);const g={};p&32768&&(g.id=h[15]),!r&&p&8&&(r=!0,g.value=h[3],Be(()=>r=!1)),!o&&p&1&&(o=!0,g.formattedValue=h[0].options.max,Be(()=>o=!1)),l.$set(g)},i(h){a||(P(l.$$.fragment,h),a=!0)},o(h){I(l.$$.fragment,h),a=!1},d(h){h&&S(e),h&&S(s),W(l,h)}}}function KK(n){let e,t,i,s,l,r,o;return i=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.min",$$slots:{default:[WK,({uniqueId:a})=>({15:a}),({uniqueId:a})=>a?32768:0]},$$scope:{ctx:n}}}),r=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.max",$$slots:{default:[UK,({uniqueId:a})=>({15:a}),({uniqueId:a})=>a?32768:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),U(i.$$.fragment),s=D(),l=k("div"),U(r.$$.fragment),m(t,"class","col-sm-6"),m(l,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(a,f){C(a,e,f),v(e,t),q(i,t,null),v(e,s),v(e,l),q(r,l,null),o=!0},p(a,f){const u={};f&2&&(u.name="schema."+a[1]+".options.min"),f&98309&&(u.$$scope={dirty:f,ctx:a}),i.$set(u);const d={};f&2&&(d.name="schema."+a[1]+".options.max"),f&98313&&(d.$$scope={dirty:f,ctx:a}),r.$set(d)},i(a){o||(P(i.$$.fragment,a),P(r.$$.fragment,a),o=!0)},o(a){I(i.$$.fragment,a),I(r.$$.fragment,a),o=!1},d(a){a&&S(e),W(i),W(r)}}}function JK(n){let e,t,i;const s=[{key:n[1]},n[5]];function l(o){n[12](o)}let r={$$slots:{options:[KK]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=ft(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mr({props:r}),de.push(()=>Ne(e,"field",l)),e.$on("rename",n[13]),e.$on("remove",n[14]),{c(){U(e.$$.fragment)},m(o,a){q(e,o,a),i=!0},p(o,[a]){const f=a&34?kn(s,[a&2&&{key:o[1]},a&32&&ri(o[5])]):{};a&65551&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.field=o[0],Be(()=>t=!1)),e.$set(f)},i(o){i||(P(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){W(e,o)}}}function xK(n,e,t){var A,M;const i=["field","key"];let s=Jt(e,i),{field:l}=e,{key:r=""}=e,o=(A=l==null?void 0:l.options)==null?void 0:A.min,a=(M=l==null?void 0:l.options)==null?void 0:M.max;function f(T,O){T.detail&&T.detail.length==3&&t(0,l.options[O]=T.detail[1],l)}function u(T){o=T,t(2,o),t(0,l)}function d(T){n.$$.not_equal(l.options.min,T)&&(l.options.min=T,t(0,l))}const h=T=>f(T,"min");function p(T){a=T,t(3,a),t(0,l)}function g(T){n.$$.not_equal(l.options.max,T)&&(l.options.max=T,t(0,l))}const b=T=>f(T,"max");function _(T){l=T,t(0,l)}function y(T){ht.call(this,n,T)}function w(T){ht.call(this,n,T)}return n.$$set=T=>{e=ft(ft({},e),Pi(T)),t(5,s=Jt(e,i)),"field"in T&&t(0,l=T.field),"key"in T&&t(1,r=T.key)},n.$$.update=()=>{var T,O,E,R;n.$$.dirty&5&&o!=((T=l==null?void 0:l.options)==null?void 0:T.min)&&t(2,o=(O=l==null?void 0:l.options)==null?void 0:O.min),n.$$.dirty&9&&a!=((E=l==null?void 0:l.options)==null?void 0:E.max)&&t(3,a=(R=l==null?void 0:l.options)==null?void 0:R.max)},[l,r,o,a,f,s,u,d,h,p,g,b,_,y,w]}class YK extends ke{constructor(e){super(),ve(this,e,xK,JK,De,{field:0,key:1})}}const GK=n=>({}),Zw=n=>({});function Qw(n,e,t){const i=n.slice();return i[47]=e[t],i}const XK=n=>({}),$w=n=>({});function e3(n,e,t){const i=n.slice();return i[47]=e[t],i[51]=t,i}function t3(n){let e,t,i;return{c(){e=k("div"),t=G(n[2]),i=D(),m(e,"class","block txt-placeholder"),$(e,"link-hint",!n[5]&&!n[6])},m(s,l){C(s,e,l),v(e,t),v(e,i)},p(s,l){l[0]&4&&pe(t,s[2]),l[0]&96&&$(e,"link-hint",!s[5]&&!s[6])},d(s){s&&S(e)}}}function ZK(n){let e,t=n[47]+"",i;return{c(){e=k("span"),i=G(t),m(e,"class","txt")},m(s,l){C(s,e,l),v(e,i)},p(s,l){l[0]&1&&t!==(t=s[47]+"")&&pe(i,t)},i:te,o:te,d(s){s&&S(e)}}}function QK(n){let e,t,i;const s=[{item:n[47]},n[10]];var l=n[9];function r(o){let a={};for(let f=0;f<s.length;f+=1)a=ft(a,s[f]);return{props:a}}return l&&(e=Sn(l,r())),{c(){e&&U(e.$$.fragment),t=Ee()},m(o,a){e&&q(e,o,a),C(o,t,a),i=!0},p(o,a){const f=a[0]&1025?kn(s,[a[0]&1&&{item:o[47]},a[0]&1024&&ri(o[10])]):{};if(a[0]&512&&l!==(l=o[9])){if(e){ue();const u=e;I(u.$$.fragment,1,0,()=>{W(u,1)}),ce()}l?(e=Sn(l,r()),U(e.$$.fragment),P(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else l&&e.$set(f)},i(o){i||(e&&P(e.$$.fragment,o),i=!0)},o(o){e&&I(e.$$.fragment,o),i=!1},d(o){o&&S(t),e&&W(e,o)}}}function n3(n){let e,t,i;function s(){return n[35](n[47])}return{c(){e=k("span"),e.innerHTML='<i class="ri-close-line"></i>',m(e,"class","clear")},m(l,r){C(l,e,r),t||(i=[xe(Mt.call(null,e,"Clear")),x(e,"click",Ei(qt(s)))],t=!0)},p(l,r){n=l},d(l){l&&S(e),t=!1,Ke(i)}}}function i3(n){let e,t,i,s,l,r;const o=[QK,ZK],a=[];function f(d,h){return d[9]?0:1}t=f(n),i=a[t]=o[t](n);let u=(n[4]||n[7])&&n3(n);return{c(){e=k("div"),i.c(),s=D(),u&&u.c(),l=D(),m(e,"class","option")},m(d,h){C(d,e,h),a[t].m(e,null),v(e,s),u&&u.m(e,null),v(e,l),r=!0},p(d,h){let p=t;t=f(d),t===p?a[t].p(d,h):(ue(),I(a[p],1,1,()=>{a[p]=null}),ce(),i=a[t],i?i.p(d,h):(i=a[t]=o[t](d),i.c()),P(i,1),i.m(e,s)),d[4]||d[7]?u?u.p(d,h):(u=n3(d),u.c(),u.m(e,l)):u&&(u.d(1),u=null)},i(d){r||(P(i),r=!0)},o(d){I(i),r=!1},d(d){d&&S(e),a[t].d(),u&&u.d()}}}function s3(n){let e,t,i={class:"dropdown dropdown-block options-dropdown dropdown-left",trigger:n[19],$$slots:{default:[tJ]},$$scope:{ctx:n}};return e=new kl({props:i}),n[40](e),e.$on("show",n[25]),e.$on("hide",n[41]),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,l){const r={};l[0]&524288&&(r.trigger=s[19]),l[0]&3225866|l[1]&4096&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[40](null),W(e,s)}}}function l3(n){let e,t,i,s,l,r,o,a,f=n[16].length&&r3(n);return{c(){e=k("div"),t=k("label"),i=k("div"),i.innerHTML='<i class="ri-search-line"></i>',s=D(),l=k("input"),r=D(),f&&f.c(),m(i,"class","addon p-r-0"),l.autofocus=!0,m(l,"type","text"),m(l,"placeholder",n[3]),m(t,"class","input-group"),m(e,"class","form-field form-field-sm options-search")},m(u,d){C(u,e,d),v(e,t),v(t,i),v(t,s),v(t,l),Ae(l,n[16]),v(t,r),f&&f.m(t,null),l.focus(),o||(a=x(l,"input",n[37]),o=!0)},p(u,d){d[0]&8&&m(l,"placeholder",u[3]),d[0]&65536&&l.value!==u[16]&&Ae(l,u[16]),u[16].length?f?f.p(u,d):(f=r3(u),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(u){u&&S(e),f&&f.d(),o=!1,a()}}}function r3(n){let e,t,i,s;return{c(){e=k("div"),t=k("button"),t.innerHTML='<i class="ri-close-line"></i>',m(t,"type","button"),m(t,"class","btn btn-sm btn-circle btn-transparent clear"),m(e,"class","addon suffix p-r-5")},m(l,r){C(l,e,r),v(e,t),i||(s=x(t,"click",Ei(qt(n[22]))),i=!0)},p:te,d(l){l&&S(e),i=!1,s()}}}function o3(n){let e,t=n[1]&&a3(n);return{c(){t&&t.c(),e=Ee()},m(i,s){t&&t.m(i,s),C(i,e,s)},p(i,s){i[1]?t?t.p(i,s):(t=a3(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){t&&t.d(i),i&&S(e)}}}function a3(n){let e,t;return{c(){e=k("div"),t=G(n[1]),m(e,"class","txt-missing")},m(i,s){C(i,e,s),v(e,t)},p(i,s){s[0]&2&&pe(t,i[1])},d(i){i&&S(e)}}}function $K(n){let e=n[47]+"",t;return{c(){t=G(e)},m(i,s){C(i,t,s)},p(i,s){s[0]&2097152&&e!==(e=i[47]+"")&&pe(t,e)},i:te,o:te,d(i){i&&S(t)}}}function eJ(n){let e,t,i;const s=[{item:n[47]},n[12]];var l=n[11];function r(o){let a={};for(let f=0;f<s.length;f+=1)a=ft(a,s[f]);return{props:a}}return l&&(e=Sn(l,r())),{c(){e&&U(e.$$.fragment),t=Ee()},m(o,a){e&&q(e,o,a),C(o,t,a),i=!0},p(o,a){const f=a[0]&2101248?kn(s,[a[0]&2097152&&{item:o[47]},a[0]&4096&&ri(o[12])]):{};if(a[0]&2048&&l!==(l=o[11])){if(e){ue();const u=e;I(u.$$.fragment,1,0,()=>{W(u,1)}),ce()}l?(e=Sn(l,r()),U(e.$$.fragment),P(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else l&&e.$set(f)},i(o){i||(e&&P(e.$$.fragment,o),i=!0)},o(o){e&&I(e.$$.fragment,o),i=!1},d(o){o&&S(t),e&&W(e,o)}}}function f3(n){let e,t,i,s,l,r,o;const a=[eJ,$K],f=[];function u(p,g){return p[11]?0:1}t=u(n),i=f[t]=a[t](n);function d(...p){return n[38](n[47],...p)}function h(...p){return n[39](n[47],...p)}return{c(){e=k("div"),i.c(),s=D(),m(e,"tabindex","0"),m(e,"class","dropdown-item option"),$(e,"closable",n[8]),$(e,"selected",n[20](n[47]))},m(p,g){C(p,e,g),f[t].m(e,null),v(e,s),l=!0,r||(o=[x(e,"click",d),x(e,"keydown",h)],r=!0)},p(p,g){n=p;let b=t;t=u(n),t===b?f[t].p(n,g):(ue(),I(f[b],1,1,()=>{f[b]=null}),ce(),i=f[t],i?i.p(n,g):(i=f[t]=a[t](n),i.c()),P(i,1),i.m(e,s)),(!l||g[0]&256)&&$(e,"closable",n[8]),(!l||g[0]&3145728)&&$(e,"selected",n[20](n[47]))},i(p){l||(P(i),l=!0)},o(p){I(i),l=!1},d(p){p&&S(e),f[t].d(),r=!1,Ke(o)}}}function tJ(n){let e,t,i,s,l,r=n[13]&&l3(n);const o=n[34].beforeOptions,a=It(o,n,n[43],$w);let f=n[21],u=[];for(let b=0;b<f.length;b+=1)u[b]=f3(Qw(n,f,b));const d=b=>I(u[b],1,1,()=>{u[b]=null});let h=null;f.length||(h=o3(n));const p=n[34].afterOptions,g=It(p,n,n[43],Zw);return{c(){r&&r.c(),e=D(),a&&a.c(),t=D(),i=k("div");for(let b=0;b<u.length;b+=1)u[b].c();h&&h.c(),s=D(),g&&g.c(),m(i,"class","options-list")},m(b,_){r&&r.m(b,_),C(b,e,_),a&&a.m(b,_),C(b,t,_),C(b,i,_);for(let y=0;y<u.length;y+=1)u[y]&&u[y].m(i,null);h&&h.m(i,null),C(b,s,_),g&&g.m(b,_),l=!0},p(b,_){if(b[13]?r?r.p(b,_):(r=l3(b),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),a&&a.p&&(!l||_[1]&4096)&&Nt(a,o,b,b[43],l?Rt(o,b[43],_,XK):Lt(b[43]),$w),_[0]&28317954){f=b[21];let y;for(y=0;y<f.length;y+=1){const w=Qw(b,f,y);u[y]?(u[y].p(w,_),P(u[y],1)):(u[y]=f3(w),u[y].c(),P(u[y],1),u[y].m(i,null))}for(ue(),y=f.length;y<u.length;y+=1)d(y);ce(),!f.length&&h?h.p(b,_):f.length?h&&(h.d(1),h=null):(h=o3(b),h.c(),h.m(i,null))}g&&g.p&&(!l||_[1]&4096)&&Nt(g,p,b,b[43],l?Rt(p,b[43],_,GK):Lt(b[43]),Zw)},i(b){if(!l){P(a,b);for(let _=0;_<f.length;_+=1)P(u[_]);P(g,b),l=!0}},o(b){I(a,b),u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)I(u[_]);I(g,b),l=!1},d(b){r&&r.d(b),b&&S(e),a&&a.d(b),b&&S(t),b&&S(i),Ot(u,b),h&&h.d(),b&&S(s),g&&g.d(b)}}}function nJ(n){let e,t,i,s,l,r,o=ee.toArray(n[0]),a=[];for(let h=0;h<o.length;h+=1)a[h]=i3(e3(n,o,h));const f=h=>I(a[h],1,1,()=>{a[h]=null});let u=null;o.length||(u=t3(n));let d=!n[5]&&!n[6]&&s3(n);return{c(){e=k("div"),t=k("div");for(let h=0;h<a.length;h+=1)a[h].c();u&&u.c(),s=D(),d&&d.c(),m(t,"tabindex",i=n[5]||n[6]?"-1":"0"),m(t,"class","selected-container"),$(t,"disabled",n[5]),$(t,"readonly",n[6]),m(e,"class",l="select "+n[14]),$(e,"multiple",n[4]),$(e,"disabled",n[5]),$(e,"readonly",n[6])},m(h,p){C(h,e,p),v(e,t);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(t,null);u&&u.m(t,null),n[36](t),v(e,s),d&&d.m(e,null),n[42](e),r=!0},p(h,p){if(p[0]&34549){o=ee.toArray(h[0]);let g;for(g=0;g<o.length;g+=1){const b=e3(h,o,g);a[g]?(a[g].p(b,p),P(a[g],1)):(a[g]=i3(b),a[g].c(),P(a[g],1),a[g].m(t,null))}for(ue(),g=o.length;g<a.length;g+=1)f(g);ce(),!o.length&&u?u.p(h,p):o.length?u&&(u.d(1),u=null):(u=t3(h),u.c(),u.m(t,null))}(!r||p[0]&96&&i!==(i=h[5]||h[6]?"-1":"0"))&&m(t,"tabindex",i),(!r||p[0]&32)&&$(t,"disabled",h[5]),(!r||p[0]&64)&&$(t,"readonly",h[6]),!h[5]&&!h[6]?d?(d.p(h,p),p[0]&96&&P(d,1)):(d=s3(h),d.c(),P(d,1),d.m(e,null)):d&&(ue(),I(d,1,1,()=>{d=null}),ce()),(!r||p[0]&16384&&l!==(l="select "+h[14]))&&m(e,"class",l),(!r||p[0]&16400)&&$(e,"multiple",h[4]),(!r||p[0]&16416)&&$(e,"disabled",h[5]),(!r||p[0]&16448)&&$(e,"readonly",h[6])},i(h){if(!r){for(let p=0;p<o.length;p+=1)P(a[p]);P(d),r=!0}},o(h){a=a.filter(Boolean);for(let p=0;p<a.length;p+=1)I(a[p]);I(d),r=!1},d(h){h&&S(e),Ot(a,h),u&&u.d(),n[36](null),d&&d.d(),n[42](null)}}}function iJ(n,e){let t=(""+e).replace(/\s+/g,"").toLowerCase(),i=n;try{typeof n=="object"&&n!==null&&(i=JSON.stringify(n))}catch{}return(""+i).replace(/\s+/g,"").toLowerCase().includes(t)}function sJ(n,e,t){let i,s,{$$slots:l={},$$scope:r}=e,{id:o=""}=e,{noOptionsText:a="No options found"}=e,{selectPlaceholder:f="- Select -"}=e,{searchPlaceholder:u="Search..."}=e,{items:d=[]}=e,{multiple:h=!1}=e,{disabled:p=!1}=e,{readonly:g=!1}=e,{selected:b=h?[]:void 0}=e,{toggle:_=h}=e,{closable:y=!0}=e,{labelComponent:w=void 0}=e,{labelComponentProps:A={}}=e,{optionComponent:M=void 0}=e,{optionComponentProps:T={}}=e,{searchable:O=!1}=e,{searchFunc:E=void 0}=e,{class:R=""}=e,N,j="",L,F;function B(ie){if(ee.isEmpty(b))return;let we=ee.toArray(b);ee.inArray(we,ie)&&(ee.removeByValue(we,ie),t(0,b=we)),L==null||L.dispatchEvent(new CustomEvent("change",{detail:b,bubbles:!0}))}function V(ie){if(h){let we=ee.toArray(b);ee.inArray(we,ie)||t(0,b=[...we,ie])}else t(0,b=ie);L==null||L.dispatchEvent(new CustomEvent("change",{detail:b,bubbles:!0}))}function H(ie){return s(ie)?B(ie):V(ie)}function K(){t(0,b=h?[]:void 0)}function X(){N!=null&&N.show&&(N==null||N.show())}function J(){N!=null&&N.hide&&(N==null||N.hide())}function z(){if(ee.isEmpty(b)||ee.isEmpty(d))return;let ie=ee.toArray(b),we=[];for(const Ue of ie)ee.inArray(d,Ue)||we.push(Ue);if(we.length){for(const Ue of we)ee.removeByValue(ie,Ue);t(0,b=h?ie:ie[0])}}function Z(){t(16,j="")}function Y(ie,we){ie=ie||[];const Ue=E||iJ;return ie.filter(Oe=>Ue(Oe,we))||[]}function oe(ie,we){ie.preventDefault(),_&&h?H(we):V(we)}function re(ie,we){(ie.code==="Enter"||ie.code==="Space")&&(oe(ie,we),y&&J())}function Q(){Z(),setTimeout(()=>{const ie=L==null?void 0:L.querySelector(".dropdown-item.option.selected");ie&&(ie.focus(),ie.scrollIntoView({block:"nearest"}))},0)}function me(ie){ie.stopPropagation(),!g&&!p&&(N==null||N.toggle())}Pn(()=>{const ie=document.querySelectorAll(`label[for="${o}"]`);for(const we of ie)we.addEventListener("click",me);return()=>{for(const we of ie)we.removeEventListener("click",me)}});const qe=ie=>B(ie);function be(ie){de[ie?"unshift":"push"](()=>{F=ie,t(19,F)})}function Ie(){j=this.value,t(16,j)}const he=(ie,we)=>oe(we,ie),Ve=(ie,we)=>re(we,ie);function Qe(ie){de[ie?"unshift":"push"](()=>{N=ie,t(17,N)})}function it(ie){ht.call(this,n,ie)}function ye(ie){de[ie?"unshift":"push"](()=>{L=ie,t(18,L)})}return n.$$set=ie=>{"id"in ie&&t(26,o=ie.id),"noOptionsText"in ie&&t(1,a=ie.noOptionsText),"selectPlaceholder"in ie&&t(2,f=ie.selectPlaceholder),"searchPlaceholder"in ie&&t(3,u=ie.searchPlaceholder),"items"in ie&&t(27,d=ie.items),"multiple"in ie&&t(4,h=ie.multiple),"disabled"in ie&&t(5,p=ie.disabled),"readonly"in ie&&t(6,g=ie.readonly),"selected"in ie&&t(0,b=ie.selected),"toggle"in ie&&t(7,_=ie.toggle),"closable"in ie&&t(8,y=ie.closable),"labelComponent"in ie&&t(9,w=ie.labelComponent),"labelComponentProps"in ie&&t(10,A=ie.labelComponentProps),"optionComponent"in ie&&t(11,M=ie.optionComponent),"optionComponentProps"in ie&&t(12,T=ie.optionComponentProps),"searchable"in ie&&t(13,O=ie.searchable),"searchFunc"in ie&&t(28,E=ie.searchFunc),"class"in ie&&t(14,R=ie.class),"$$scope"in ie&&t(43,r=ie.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&134217728&&d&&(z(),Z()),n.$$.dirty[0]&134283264&&t(21,i=Y(d,j)),n.$$.dirty[0]&1&&t(20,s=function(ie){const we=ee.toArray(b);return ee.inArray(we,ie)})},[b,a,f,u,h,p,g,_,y,w,A,M,T,O,R,B,j,N,L,F,s,i,Z,oe,re,Q,o,d,E,V,H,K,X,J,l,qe,be,Ie,he,Ve,Qe,it,ye,r]}let C2=class extends ke{constructor(e){super(),ve(this,e,sJ,nJ,De,{id:26,noOptionsText:1,selectPlaceholder:2,searchPlaceholder:3,items:27,multiple:4,disabled:5,readonly:6,selected:0,toggle:7,closable:8,labelComponent:9,labelComponentProps:10,optionComponent:11,optionComponentProps:12,searchable:13,searchFunc:28,class:14,deselectItem:15,selectItem:29,toggleItem:30,reset:31,showDropdown:32,hideDropdown:33},null,[-1,-1])}get deselectItem(){return this.$$.ctx[15]}get selectItem(){return this.$$.ctx[29]}get toggleItem(){return this.$$.ctx[30]}get reset(){return this.$$.ctx[31]}get showDropdown(){return this.$$.ctx[32]}get hideDropdown(){return this.$$.ctx[33]}};function u3(n){let e,t;return{c(){e=k("i"),m(e,"class",t="icon "+n[0].icon)},m(i,s){C(i,e,s)},p(i,s){s&1&&t!==(t="icon "+i[0].icon)&&m(e,"class",t)},d(i){i&&S(e)}}}function lJ(n){let e,t,i=(n[0].label||n[0].name||n[0].title||n[0].id||n[0].value)+"",s,l=n[0].icon&&u3(n);return{c(){l&&l.c(),e=D(),t=k("span"),s=G(i),m(t,"class","txt")},m(r,o){l&&l.m(r,o),C(r,e,o),C(r,t,o),v(t,s)},p(r,[o]){r[0].icon?l?l.p(r,o):(l=u3(r),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),o&1&&i!==(i=(r[0].label||r[0].name||r[0].title||r[0].id||r[0].value)+"")&&pe(s,i)},i:te,o:te,d(r){l&&l.d(r),r&&S(e),r&&S(t)}}}function rJ(n,e,t){let{item:i={}}=e;return n.$$set=s=>{"item"in s&&t(0,i=s.item)},[i]}class c3 extends ke{constructor(e){super(),ve(this,e,rJ,lJ,De,{item:0})}}const oJ=n=>({}),d3=n=>({});function aJ(n){let e;const t=n[8].afterOptions,i=It(t,n,n[12],d3);return{c(){i&&i.c()},m(s,l){i&&i.m(s,l),e=!0},p(s,l){i&&i.p&&(!e||l&4096)&&Nt(i,t,s,s[12],e?Rt(t,s[12],l,oJ):Lt(s[12]),d3)},i(s){e||(P(i,s),e=!0)},o(s){I(i,s),e=!1},d(s){i&&i.d(s)}}}function fJ(n){let e,t,i;const s=[{items:n[1]},{multiple:n[2]},{labelComponent:n[3]},{optionComponent:n[4]},n[5]];function l(o){n[9](o)}let r={$$slots:{afterOptions:[aJ]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=ft(r,s[o]);return n[0]!==void 0&&(r.selected=n[0]),e=new C2({props:r}),de.push(()=>Ne(e,"selected",l)),e.$on("show",n[10]),e.$on("hide",n[11]),{c(){U(e.$$.fragment)},m(o,a){q(e,o,a),i=!0},p(o,[a]){const f=a&62?kn(s,[a&2&&{items:o[1]},a&4&&{multiple:o[2]},a&8&&{labelComponent:o[3]},a&16&&{optionComponent:o[4]},a&32&&ri(o[5])]):{};a&4096&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.selected=o[0],Be(()=>t=!1)),e.$set(f)},i(o){i||(P(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){W(e,o)}}}function uJ(n,e,t){const i=["items","multiple","selected","labelComponent","optionComponent","selectionKey","keyOfSelected"];let s=Jt(e,i),{$$slots:l={},$$scope:r}=e,{items:o=[]}=e,{multiple:a=!1}=e,{selected:f=a?[]:void 0}=e,{labelComponent:u=c3}=e,{optionComponent:d=c3}=e,{selectionKey:h="value"}=e,{keyOfSelected:p=a?[]:void 0}=e;function g(A){A=ee.toArray(A,!0);let M=[];for(let T of A){const O=ee.findByKey(o,h,T);O&&M.push(O)}A.length&&!M.length||t(0,f=a?M:M[0])}async function b(A){let M=ee.toArray(A,!0).map(T=>T[h]);o.length&&t(6,p=a?M:M[0])}function _(A){f=A,t(0,f)}function y(A){ht.call(this,n,A)}function w(A){ht.call(this,n,A)}return n.$$set=A=>{e=ft(ft({},e),Pi(A)),t(5,s=Jt(e,i)),"items"in A&&t(1,o=A.items),"multiple"in A&&t(2,a=A.multiple),"selected"in A&&t(0,f=A.selected),"labelComponent"in A&&t(3,u=A.labelComponent),"optionComponent"in A&&t(4,d=A.optionComponent),"selectionKey"in A&&t(7,h=A.selectionKey),"keyOfSelected"in A&&t(6,p=A.keyOfSelected),"$$scope"in A&&t(12,r=A.$$scope)},n.$$.update=()=>{n.$$.dirty&66&&o&&g(p),n.$$.dirty&1&&b(f)},[f,o,a,u,d,s,p,h,l,_,y,w,r]}class Go extends ke{constructor(e){super(),ve(this,e,uJ,fJ,De,{items:1,multiple:2,selected:0,labelComponent:3,optionComponent:4,selectionKey:7,keyOfSelected:6})}}function cJ(n){let e,t,i,s,l,r;function o(f){n[7](f)}let a={id:n[13],placeholder:"Choices: eg. optionA, optionB",required:!0,readonly:!n[14]};return n[0].options.values!==void 0&&(a.value=n[0].options.values),t=new Pu({props:a}),de.push(()=>Ne(t,"value",o)),{c(){e=k("div"),U(t.$$.fragment)},m(f,u){C(f,e,u),q(t,e,null),s=!0,l||(r=xe(Mt.call(null,e,{text:"Choices (comma separated)",position:"top-left",delay:700})),l=!0)},p(f,u){const d={};u&8192&&(d.id=f[13]),u&16384&&(d.readonly=!f[14]),!i&&u&1&&(i=!0,d.value=f[0].options.values,Be(()=>i=!1)),t.$set(d)},i(f){s||(P(t.$$.fragment,f),s=!0)},o(f){I(t.$$.fragment,f),s=!1},d(f){f&&S(e),W(t),l=!1,r()}}}function dJ(n){let e,t,i;function s(r){n[8](r)}let l={id:n[13],items:n[3],readonly:!n[14]};return n[2]!==void 0&&(l.keyOfSelected=n[2]),e=new Go({props:l}),de.push(()=>Ne(e,"keyOfSelected",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};o&8192&&(a.id=r[13]),o&16384&&(a.readonly=!r[14]),!t&&o&4&&(t=!0,a.keyOfSelected=r[2],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function hJ(n){let e,t,i,s,l,r,o,a,f,u;return i=new ze({props:{class:"form-field required "+(n[14]?"":"readonly"),inlineError:!0,name:"schema."+n[1]+".options.values",$$slots:{default:[cJ,({uniqueId:d})=>({13:d}),({uniqueId:d})=>d?8192:0]},$$scope:{ctx:n}}}),o=new ze({props:{class:"form-field form-field-single-multiple-select "+(n[14]?"":"readonly"),inlineError:!0,$$slots:{default:[dJ,({uniqueId:d})=>({13:d}),({uniqueId:d})=>d?8192:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=D(),U(i.$$.fragment),s=D(),l=k("div"),r=D(),U(o.$$.fragment),a=D(),f=k("div"),m(e,"class","separator"),m(l,"class","separator"),m(f,"class","separator")},m(d,h){C(d,e,h),C(d,t,h),q(i,d,h),C(d,s,h),C(d,l,h),C(d,r,h),q(o,d,h),C(d,a,h),C(d,f,h),u=!0},p(d,h){const p={};h&16384&&(p.class="form-field required "+(d[14]?"":"readonly")),h&2&&(p.name="schema."+d[1]+".options.values"),h&57345&&(p.$$scope={dirty:h,ctx:d}),i.$set(p);const g={};h&16384&&(g.class="form-field form-field-single-multiple-select "+(d[14]?"":"readonly")),h&57348&&(g.$$scope={dirty:h,ctx:d}),o.$set(g)},i(d){u||(P(i.$$.fragment,d),P(o.$$.fragment,d),u=!0)},o(d){I(i.$$.fragment,d),I(o.$$.fragment,d),u=!1},d(d){d&&S(e),d&&S(t),W(i,d),d&&S(s),d&&S(l),d&&S(r),W(o,d),d&&S(a),d&&S(f)}}}function h3(n){let e,t;return e=new ze({props:{class:"form-field required",name:"schema."+n[1]+".options.maxSelect",$$slots:{default:[pJ,({uniqueId:i})=>({13:i}),({uniqueId:i})=>i?8192:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&2&&(l.name="schema."+i[1]+".options.maxSelect"),s&40961&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function pJ(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Max select"),s=D(),l=k("input"),m(e,"for",i=n[13]),m(l,"id",r=n[13]),m(l,"type","number"),m(l,"step","1"),m(l,"min","2"),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].options.maxSelect),o||(a=x(l,"input",n[6]),o=!0)},p(f,u){u&8192&&i!==(i=f[13])&&m(e,"for",i),u&8192&&r!==(r=f[13])&&m(l,"id",r),u&1&&jn(l.value)!==f[0].options.maxSelect&&Ae(l,f[0].options.maxSelect)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function mJ(n){let e,t,i=!n[2]&&h3(n);return{c(){i&&i.c(),e=Ee()},m(s,l){i&&i.m(s,l),C(s,e,l),t=!0},p(s,l){s[2]?i&&(ue(),I(i,1,1,()=>{i=null}),ce()):i?(i.p(s,l),l&4&&P(i,1)):(i=h3(s),i.c(),P(i,1),i.m(e.parentNode,e))},i(s){t||(P(i),t=!0)},o(s){I(i),t=!1},d(s){i&&i.d(s),s&&S(e)}}}function gJ(n){let e,t,i;const s=[{key:n[1]},n[4]];function l(o){n[9](o)}let r={$$slots:{options:[mJ],default:[hJ,({interactive:o})=>({14:o}),({interactive:o})=>o?16384:0]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=ft(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mr({props:r}),de.push(()=>Ne(e,"field",l)),e.$on("rename",n[10]),e.$on("remove",n[11]),{c(){U(e.$$.fragment)},m(o,a){q(e,o,a),i=!0},p(o,[a]){const f=a&18?kn(s,[a&2&&{key:o[1]},a&16&&ri(o[4])]):{};a&49159&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.field=o[0],Be(()=>t=!1)),e.$set(f)},i(o){i||(P(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){W(e,o)}}}function bJ(n,e,t){var y;const i=["field","key"];let s=Jt(e,i),{field:l}=e,{key:r=""}=e;const o=[{label:"Single",value:!0},{label:"Multiple",value:!1}];let a=((y=l.options)==null?void 0:y.maxSelect)<=1,f=a;function u(){t(0,l.options={maxSelect:1,values:[]},l),t(2,a=!0),t(5,f=a)}function d(){l.options.maxSelect=jn(this.value),t(0,l),t(5,f),t(2,a)}function h(w){n.$$.not_equal(l.options.values,w)&&(l.options.values=w,t(0,l),t(5,f),t(2,a))}function p(w){a=w,t(2,a)}function g(w){l=w,t(0,l),t(5,f),t(2,a)}function b(w){ht.call(this,n,w)}function _(w){ht.call(this,n,w)}return n.$$set=w=>{e=ft(ft({},e),Pi(w)),t(4,s=Jt(e,i)),"field"in w&&t(0,l=w.field),"key"in w&&t(1,r=w.key)},n.$$.update=()=>{var w,A;n.$$.dirty&37&&f!=a&&(t(5,f=a),a?t(0,l.options.maxSelect=1,l):t(0,l.options.maxSelect=((A=(w=l.options)==null?void 0:w.values)==null?void 0:A.length)||2,l)),n.$$.dirty&1&&ee.isEmpty(l.options)&&u()},[l,r,a,o,s,f,d,h,p,g,b,_]}class _J extends ke{constructor(e){super(),ve(this,e,bJ,gJ,De,{field:0,key:1})}}function yJ(n){let e;return{c(){e=k("i"),m(e,"class","ri-arrow-down-s-line txt-sm")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function vJ(n){let e;return{c(){e=k("i"),m(e,"class","ri-arrow-up-s-line txt-sm")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function p3(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E='"{"a":1,"b":2}"',R,N,j,L,F,B,V,H,K,X,J,z,Z;return{c(){e=k("div"),t=k("div"),i=k("div"),s=G("In order to support seamlessly both "),l=k("code"),l.textContent="application/json",r=G(` and
                        `),o=k("code"),o.textContent="multipart/form-data",a=G(`
                        requests, the following normalization rules are applied if the `),f=k("code"),f.textContent="json",u=G(` field
                        is a
                        `),d=k("strong"),d.textContent="plain string",h=G(`:
                        `),p=k("ul"),g=k("li"),g.innerHTML="&quot;true&quot; is converted to the json <code>true</code>",b=D(),_=k("li"),_.innerHTML="&quot;false&quot; is converted to the json <code>false</code>",y=D(),w=k("li"),w.innerHTML="&quot;null&quot; is converted to the json <code>null</code>",A=D(),M=k("li"),M.innerHTML="&quot;[1,2,3]&quot; is converted to the json <code>[1,2,3]</code>",T=D(),O=k("li"),R=G(E),N=G(" is converted to the json "),j=k("code"),j.textContent='{"a":1,"b":2}',L=D(),F=k("li"),F.textContent="numeric strings are converted to json number",B=D(),V=k("li"),V.textContent="double quoted strings are left as they are (aka. without normalizations)",H=D(),K=k("li"),K.textContent="any other string (empty string too) is double quoted",X=G(`
                        Alternatively, if you want to avoid the string value normalizations, you can wrap your
                        data inside an object, eg.`),J=k("code"),J.textContent='{"data": anything}',m(i,"class","content"),m(t,"class","alert alert-warning m-b-0 m-t-10"),m(e,"class","block")},m(Y,oe){C(Y,e,oe),v(e,t),v(t,i),v(i,s),v(i,l),v(i,r),v(i,o),v(i,a),v(i,f),v(i,u),v(i,d),v(i,h),v(i,p),v(p,g),v(p,b),v(p,_),v(p,y),v(p,w),v(p,A),v(p,M),v(p,T),v(p,O),v(O,R),v(O,N),v(O,j),v(p,L),v(p,F),v(p,B),v(p,V),v(p,H),v(p,K),v(i,X),v(i,J),Z=!0},i(Y){Z||(Y&&Yt(()=>{Z&&(z||(z=gt(e,gn,{duration:150},!0)),z.run(1))}),Z=!0)},o(Y){Y&&(z||(z=gt(e,gn,{duration:150},!1)),z.run(0)),Z=!1},d(Y){Y&&S(e),Y&&z&&z.end()}}}function kJ(n){let e,t,i,s,l,r,o;function a(h,p){return h[2]?vJ:yJ}let f=a(n),u=f(n),d=n[2]&&p3();return{c(){e=k("button"),t=k("strong"),t.textContent="String value normalizations",i=D(),u.c(),s=D(),d&&d.c(),l=Ee(),m(t,"class","txt"),m(e,"type","button"),m(e,"class","inline-flex txt-sm flex-gap-5 link-hint")},m(h,p){C(h,e,p),v(e,t),v(e,i),u.m(e,null),C(h,s,p),d&&d.m(h,p),C(h,l,p),r||(o=x(e,"click",n[4]),r=!0)},p(h,p){f!==(f=a(h))&&(u.d(1),u=f(h),u&&(u.c(),u.m(e,null))),h[2]?d?p&4&&P(d,1):(d=p3(),d.c(),P(d,1),d.m(l.parentNode,l)):d&&(ue(),I(d,1,1,()=>{d=null}),ce())},d(h){h&&S(e),u.d(),h&&S(s),d&&d.d(h),h&&S(l),r=!1,o()}}}function wJ(n){let e,t,i;const s=[{key:n[1]},n[3]];function l(o){n[5](o)}let r={$$slots:{options:[kJ]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=ft(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mr({props:r}),de.push(()=>Ne(e,"field",l)),e.$on("rename",n[6]),e.$on("remove",n[7]),{c(){U(e.$$.fragment)},m(o,a){q(e,o,a),i=!0},p(o,[a]){const f=a&10?kn(s,[a&2&&{key:o[1]},a&8&&ri(o[3])]):{};a&260&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.field=o[0],Be(()=>t=!1)),e.$set(f)},i(o){i||(P(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){W(e,o)}}}function SJ(n,e,t){const i=["field","key"];let s=Jt(e,i),{field:l}=e,{key:r=""}=e,o=!1;const a=()=>{t(2,o=!o)};function f(h){l=h,t(0,l)}function u(h){ht.call(this,n,h)}function d(h){ht.call(this,n,h)}return n.$$set=h=>{e=ft(ft({},e),Pi(h)),t(3,s=Jt(e,i)),"field"in h&&t(0,l=h.field),"key"in h&&t(1,r=h.key)},[l,r,o,s,a,f,u,d]}class CJ extends ke{constructor(e){super(),ve(this,e,SJ,wJ,De,{field:0,key:1})}}function MJ(n){let e,t=(n[0].ext||"N/A")+"",i,s,l,r=n[0].mimeType+"",o;return{c(){e=k("span"),i=G(t),s=D(),l=k("small"),o=G(r),m(e,"class","txt"),m(l,"class","txt-hint")},m(a,f){C(a,e,f),v(e,i),C(a,s,f),C(a,l,f),v(l,o)},p(a,[f]){f&1&&t!==(t=(a[0].ext||"N/A")+"")&&pe(i,t),f&1&&r!==(r=a[0].mimeType+"")&&pe(o,r)},i:te,o:te,d(a){a&&S(e),a&&S(s),a&&S(l)}}}function TJ(n,e,t){let{item:i={}}=e;return n.$$set=s=>{"item"in s&&t(0,i=s.item)},[i]}class m3 extends ke{constructor(e){super(),ve(this,e,TJ,MJ,De,{item:0})}}const AJ=[{ext:".xpm",mimeType:"image/x-xpixmap"},{ext:".7z",mimeType:"application/x-7z-compressed"},{ext:".zip",mimeType:"application/zip"},{ext:".xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{ext:".docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{ext:".pptx",mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{ext:".epub",mimeType:"application/epub+zip"},{ext:".jar",mimeType:"application/jar"},{ext:".odt",mimeType:"application/vnd.oasis.opendocument.text"},{ext:".ott",mimeType:"application/vnd.oasis.opendocument.text-template"},{ext:".ods",mimeType:"application/vnd.oasis.opendocument.spreadsheet"},{ext:".ots",mimeType:"application/vnd.oasis.opendocument.spreadsheet-template"},{ext:".odp",mimeType:"application/vnd.oasis.opendocument.presentation"},{ext:".otp",mimeType:"application/vnd.oasis.opendocument.presentation-template"},{ext:".odg",mimeType:"application/vnd.oasis.opendocument.graphics"},{ext:".otg",mimeType:"application/vnd.oasis.opendocument.graphics-template"},{ext:".odf",mimeType:"application/vnd.oasis.opendocument.formula"},{ext:".odc",mimeType:"application/vnd.oasis.opendocument.chart"},{ext:".sxc",mimeType:"application/vnd.sun.xml.calc"},{ext:".pdf",mimeType:"application/pdf"},{ext:".fdf",mimeType:"application/vnd.fdf"},{ext:"",mimeType:"application/x-ole-storage"},{ext:".msi",mimeType:"application/x-ms-installer"},{ext:".aaf",mimeType:"application/octet-stream"},{ext:".msg",mimeType:"application/vnd.ms-outlook"},{ext:".xls",mimeType:"application/vnd.ms-excel"},{ext:".pub",mimeType:"application/vnd.ms-publisher"},{ext:".ppt",mimeType:"application/vnd.ms-powerpoint"},{ext:".doc",mimeType:"application/msword"},{ext:".ps",mimeType:"application/postscript"},{ext:".psd",mimeType:"image/vnd.adobe.photoshop"},{ext:".p7s",mimeType:"application/pkcs7-signature"},{ext:".ogg",mimeType:"application/ogg"},{ext:".oga",mimeType:"audio/ogg"},{ext:".ogv",mimeType:"video/ogg"},{ext:".png",mimeType:"image/png"},{ext:".png",mimeType:"image/vnd.mozilla.apng"},{ext:".jpg",mimeType:"image/jpeg"},{ext:".jxl",mimeType:"image/jxl"},{ext:".jp2",mimeType:"image/jp2"},{ext:".jpf",mimeType:"image/jpx"},{ext:".jpm",mimeType:"image/jpm"},{ext:".jxs",mimeType:"image/jxs"},{ext:".gif",mimeType:"image/gif"},{ext:".webp",mimeType:"image/webp"},{ext:".exe",mimeType:"application/vnd.microsoft.portable-executable"},{ext:"",mimeType:"application/x-elf"},{ext:"",mimeType:"application/x-object"},{ext:"",mimeType:"application/x-executable"},{ext:".so",mimeType:"application/x-sharedlib"},{ext:"",mimeType:"application/x-coredump"},{ext:".a",mimeType:"application/x-archive"},{ext:".deb",mimeType:"application/vnd.debian.binary-package"},{ext:".tar",mimeType:"application/x-tar"},{ext:".xar",mimeType:"application/x-xar"},{ext:".bz2",mimeType:"application/x-bzip2"},{ext:".fits",mimeType:"application/fits"},{ext:".tiff",mimeType:"image/tiff"},{ext:".bmp",mimeType:"image/bmp"},{ext:".ico",mimeType:"image/x-icon"},{ext:".mp3",mimeType:"audio/mpeg"},{ext:".flac",mimeType:"audio/flac"},{ext:".midi",mimeType:"audio/midi"},{ext:".ape",mimeType:"audio/ape"},{ext:".mpc",mimeType:"audio/musepack"},{ext:".amr",mimeType:"audio/amr"},{ext:".wav",mimeType:"audio/wav"},{ext:".aiff",mimeType:"audio/aiff"},{ext:".au",mimeType:"audio/basic"},{ext:".mpeg",mimeType:"video/mpeg"},{ext:".mov",mimeType:"video/quicktime"},{ext:".mqv",mimeType:"video/quicktime"},{ext:".mp4",mimeType:"video/mp4"},{ext:".webm",mimeType:"video/webm"},{ext:".3gp",mimeType:"video/3gpp"},{ext:".3g2",mimeType:"video/3gpp2"},{ext:".avi",mimeType:"video/x-msvideo"},{ext:".flv",mimeType:"video/x-flv"},{ext:".mkv",mimeType:"video/x-matroska"},{ext:".asf",mimeType:"video/x-ms-asf"},{ext:".aac",mimeType:"audio/aac"},{ext:".voc",mimeType:"audio/x-unknown"},{ext:".mp4",mimeType:"audio/mp4"},{ext:".m4a",mimeType:"audio/x-m4a"},{ext:".m3u",mimeType:"application/vnd.apple.mpegurl"},{ext:".m4v",mimeType:"video/x-m4v"},{ext:".rmvb",mimeType:"application/vnd.rn-realmedia-vbr"},{ext:".gz",mimeType:"application/gzip"},{ext:".class",mimeType:"application/x-java-applet"},{ext:".swf",mimeType:"application/x-shockwave-flash"},{ext:".crx",mimeType:"application/x-chrome-extension"},{ext:".ttf",mimeType:"font/ttf"},{ext:".woff",mimeType:"font/woff"},{ext:".woff2",mimeType:"font/woff2"},{ext:".otf",mimeType:"font/otf"},{ext:".ttc",mimeType:"font/collection"},{ext:".eot",mimeType:"application/vnd.ms-fontobject"},{ext:".wasm",mimeType:"application/wasm"},{ext:".shx",mimeType:"application/vnd.shx"},{ext:".shp",mimeType:"application/vnd.shp"},{ext:".dbf",mimeType:"application/x-dbf"},{ext:".dcm",mimeType:"application/dicom"},{ext:".rar",mimeType:"application/x-rar-compressed"},{ext:".djvu",mimeType:"image/vnd.djvu"},{ext:".mobi",mimeType:"application/x-mobipocket-ebook"},{ext:".lit",mimeType:"application/x-ms-reader"},{ext:".bpg",mimeType:"image/bpg"},{ext:".sqlite",mimeType:"application/vnd.sqlite3"},{ext:".dwg",mimeType:"image/vnd.dwg"},{ext:".nes",mimeType:"application/vnd.nintendo.snes.rom"},{ext:".lnk",mimeType:"application/x-ms-shortcut"},{ext:".macho",mimeType:"application/x-mach-binary"},{ext:".qcp",mimeType:"audio/qcelp"},{ext:".icns",mimeType:"image/x-icns"},{ext:".heic",mimeType:"image/heic"},{ext:".heic",mimeType:"image/heic-sequence"},{ext:".heif",mimeType:"image/heif"},{ext:".heif",mimeType:"image/heif-sequence"},{ext:".hdr",mimeType:"image/vnd.radiance"},{ext:".mrc",mimeType:"application/marc"},{ext:".mdb",mimeType:"application/x-msaccess"},{ext:".accdb",mimeType:"application/x-msaccess"},{ext:".zst",mimeType:"application/zstd"},{ext:".cab",mimeType:"application/vnd.ms-cab-compressed"},{ext:".rpm",mimeType:"application/x-rpm"},{ext:".xz",mimeType:"application/x-xz"},{ext:".lz",mimeType:"application/lzip"},{ext:".torrent",mimeType:"application/x-bittorrent"},{ext:".cpio",mimeType:"application/x-cpio"},{ext:"",mimeType:"application/tzif"},{ext:".xcf",mimeType:"image/x-xcf"},{ext:".pat",mimeType:"image/x-gimp-pat"},{ext:".gbr",mimeType:"image/x-gimp-gbr"},{ext:".glb",mimeType:"model/gltf-binary"},{ext:".avif",mimeType:"image/avif"},{ext:".cab",mimeType:"application/x-installshield"},{ext:".jxr",mimeType:"image/jxr"},{ext:".txt",mimeType:"text/plain"},{ext:".html",mimeType:"text/html"},{ext:".svg",mimeType:"image/svg+xml"},{ext:".xml",mimeType:"text/xml"},{ext:".rss",mimeType:"application/rss+xml"},{ext:".atom",mimeType:"applicatiotom+xml"},{ext:".x3d",mimeType:"model/x3d+xml"},{ext:".kml",mimeType:"application/vnd.google-earth.kml+xml"},{ext:".xlf",mimeType:"application/x-xliff+xml"},{ext:".dae",mimeType:"model/vnd.collada+xml"},{ext:".gml",mimeType:"application/gml+xml"},{ext:".gpx",mimeType:"application/gpx+xml"},{ext:".tcx",mimeType:"application/vnd.garmin.tcx+xml"},{ext:".amf",mimeType:"application/x-amf"},{ext:".3mf",mimeType:"application/vnd.ms-package.3dmanufacturing-3dmodel+xml"},{ext:".xfdf",mimeType:"application/vnd.adobe.xfdf"},{ext:".owl",mimeType:"application/owl+xml"},{ext:".php",mimeType:"text/x-php"},{ext:".js",mimeType:"application/javascript"},{ext:".lua",mimeType:"text/x-lua"},{ext:".pl",mimeType:"text/x-perl"},{ext:".py",mimeType:"text/x-python"},{ext:".json",mimeType:"application/json"},{ext:".geojson",mimeType:"application/geo+json"},{ext:".har",mimeType:"application/json"},{ext:".ndjson",mimeType:"application/x-ndjson"},{ext:".rtf",mimeType:"text/rtf"},{ext:".srt",mimeType:"application/x-subrip"},{ext:".tcl",mimeType:"text/x-tcl"},{ext:".csv",mimeType:"text/csv"},{ext:".tsv",mimeType:"text/tab-separated-values"},{ext:".vcf",mimeType:"text/vcard"},{ext:".ics",mimeType:"text/calendar"},{ext:".warc",mimeType:"application/warc"},{ext:".vtt",mimeType:"text/vtt"},{ext:"",mimeType:"application/octet-stream"}];function OJ(n){let e,t,i;function s(r){n[16](r)}let l={id:n[22],items:n[4],readonly:!n[23]};return n[2]!==void 0&&(l.keyOfSelected=n[2]),e=new Go({props:l}),de.push(()=>Ne(e,"keyOfSelected",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};o&4194304&&(a.id=r[22]),o&8388608&&(a.readonly=!r[23]),!t&&o&4&&(t=!0,a.keyOfSelected=r[2],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function EJ(n){let e,t,i,s,l,r;return i=new ze({props:{class:"form-field form-field-single-multiple-select "+(n[23]?"":"readonly"),inlineError:!0,$$slots:{default:[OJ,({uniqueId:o})=>({22:o}),({uniqueId:o})=>o?4194304:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=D(),U(i.$$.fragment),s=D(),l=k("div"),m(e,"class","separator"),m(l,"class","separator")},m(o,a){C(o,e,a),C(o,t,a),q(i,o,a),C(o,s,a),C(o,l,a),r=!0},p(o,a){const f={};a&8388608&&(f.class="form-field form-field-single-multiple-select "+(o[23]?"":"readonly")),a&29360132&&(f.$$scope={dirty:a,ctx:o}),i.$set(f)},i(o){r||(P(i.$$.fragment,o),r=!0)},o(o){I(i.$$.fragment,o),r=!1},d(o){o&&S(e),o&&S(t),W(i,o),o&&S(s),o&&S(l)}}}function PJ(n){let e,t,i,s,l,r,o,a,f;return{c(){e=k("button"),e.innerHTML='<span class="txt">Images (jpg, png, svg, gif, webp)</span>',t=D(),i=k("button"),i.innerHTML='<span class="txt">Documents (pdf, doc/docx, xls/xlsx)</span>',s=D(),l=k("button"),l.innerHTML='<span class="txt">Videos (mp4, avi, mov, 3gp)</span>',r=D(),o=k("button"),o.innerHTML='<span class="txt">Archives (zip, 7zip, rar)</span>',m(e,"type","button"),m(e,"class","dropdown-item closable"),m(i,"type","button"),m(i,"class","dropdown-item closable"),m(l,"type","button"),m(l,"class","dropdown-item closable"),m(o,"type","button"),m(o,"class","dropdown-item closable")},m(u,d){C(u,e,d),C(u,t,d),C(u,i,d),C(u,s,d),C(u,l,d),C(u,r,d),C(u,o,d),a||(f=[x(e,"click",n[9]),x(i,"click",n[10]),x(l,"click",n[11]),x(o,"click",n[12])],a=!0)},p:te,d(u){u&&S(e),u&&S(t),u&&S(i),u&&S(s),u&&S(l),u&&S(r),u&&S(o),a=!1,Ke(f)}}}function DJ(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A;function M(O){n[8](O)}let T={id:n[22],multiple:!0,searchable:!0,closable:!1,selectionKey:"mimeType",selectPlaceholder:"No restriction",items:n[3],labelComponent:m3,optionComponent:m3};return n[0].options.mimeTypes!==void 0&&(T.keyOfSelected=n[0].options.mimeTypes),o=new Go({props:T}),de.push(()=>Ne(o,"keyOfSelected",M)),_=new kl({props:{class:"dropdown dropdown-sm dropdown-nowrap dropdown-left",$$slots:{default:[PJ]},$$scope:{ctx:n}}}),{c(){e=k("label"),t=k("span"),t.textContent="Allowed mime types",i=D(),s=k("i"),r=D(),U(o.$$.fragment),f=D(),u=k("div"),d=k("button"),h=k("span"),h.textContent="Choose presets",p=D(),g=k("i"),b=D(),U(_.$$.fragment),m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[22]),m(h,"class","txt link-primary"),m(g,"class","ri-arrow-drop-down-fill"),m(d,"type","button"),m(d,"class","inline-flex flex-gap-0"),m(u,"class","help-block")},m(O,E){C(O,e,E),v(e,t),v(e,i),v(e,s),C(O,r,E),q(o,O,E),C(O,f,E),C(O,u,E),v(u,d),v(d,h),v(d,p),v(d,g),v(d,b),q(_,d,null),y=!0,w||(A=xe(Mt.call(null,s,{text:`Allow files ONLY with the listed mime types. 
 Leave empty for no restriction.`,position:"top"})),w=!0)},p(O,E){(!y||E&4194304&&l!==(l=O[22]))&&m(e,"for",l);const R={};E&4194304&&(R.id=O[22]),E&8&&(R.items=O[3]),!a&&E&1&&(a=!0,R.keyOfSelected=O[0].options.mimeTypes,Be(()=>a=!1)),o.$set(R);const N={};E&16777217&&(N.$$scope={dirty:E,ctx:O}),_.$set(N)},i(O){y||(P(o.$$.fragment,O),P(_.$$.fragment,O),y=!0)},o(O){I(o.$$.fragment,O),I(_.$$.fragment,O),y=!1},d(O){O&&S(e),O&&S(r),W(o,O),O&&S(f),O&&S(u),W(_),w=!1,A()}}}function IJ(n){let e;return{c(){e=k("ul"),e.innerHTML=`<li><strong>WxH</strong>
                                        (eg. 100x50) - crop to WxH viewbox (from center)</li> 
                                    <li><strong>WxHt</strong>
                                        (eg. 100x50t) - crop to WxH viewbox (from top)</li> 
                                    <li><strong>WxHb</strong>
                                        (eg. 100x50b) - crop to WxH viewbox (from bottom)</li> 
                                    <li><strong>WxHf</strong>
                                        (eg. 100x50f) - fit inside a WxH viewbox (without cropping)</li> 
                                    <li><strong>0xH</strong>
                                        (eg. 0x50) - resize to H height preserving the aspect ratio</li> 
                                    <li><strong>Wx0</strong>
                                        (eg. 100x0) - resize to W width preserving the aspect ratio</li>`,m(e,"class","m-0")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function RJ(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T;function O(R){n[13](R)}let E={id:n[22],placeholder:"eg. 50x50, 480x720"};return n[0].options.thumbs!==void 0&&(E.value=n[0].options.thumbs),o=new Pu({props:E}),de.push(()=>Ne(o,"value",O)),w=new kl({props:{class:"dropdown dropdown-sm dropdown-center dropdown-nowrap p-r-10",$$slots:{default:[IJ]},$$scope:{ctx:n}}}),{c(){e=k("label"),t=k("span"),t.textContent="Thumb sizes",i=D(),s=k("i"),r=D(),U(o.$$.fragment),f=D(),u=k("div"),d=k("span"),d.textContent="Use comma as separator.",h=D(),p=k("button"),g=k("span"),g.textContent="Supported formats",b=D(),_=k("i"),y=D(),U(w.$$.fragment),m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[22]),m(d,"class","txt"),m(g,"class","txt link-primary"),m(_,"class","ri-arrow-drop-down-fill"),m(p,"type","button"),m(p,"class","inline-flex flex-gap-0"),m(u,"class","help-block")},m(R,N){C(R,e,N),v(e,t),v(e,i),v(e,s),C(R,r,N),q(o,R,N),C(R,f,N),C(R,u,N),v(u,d),v(u,h),v(u,p),v(p,g),v(p,b),v(p,_),v(p,y),q(w,p,null),A=!0,M||(T=xe(Mt.call(null,s,{text:"List of additional thumb sizes for image files, along with the default thumb size of 100x100. The thumbs are generated lazily on first access.",position:"top"})),M=!0)},p(R,N){(!A||N&4194304&&l!==(l=R[22]))&&m(e,"for",l);const j={};N&4194304&&(j.id=R[22]),!a&&N&1&&(a=!0,j.value=R[0].options.thumbs,Be(()=>a=!1)),o.$set(j);const L={};N&16777216&&(L.$$scope={dirty:N,ctx:R}),w.$set(L)},i(R){A||(P(o.$$.fragment,R),P(w.$$.fragment,R),A=!0)},o(R){I(o.$$.fragment,R),I(w.$$.fragment,R),A=!1},d(R){R&&S(e),R&&S(r),W(o,R),R&&S(f),R&&S(u),W(w),M=!1,T()}}}function NJ(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("label"),t=G("Max file size"),s=D(),l=k("input"),o=D(),a=k("div"),a.textContent="Must be in bytes.",m(e,"for",i=n[22]),m(l,"type","number"),m(l,"id",r=n[22]),m(l,"step","1"),m(l,"min","0"),m(a,"class","help-block")},m(d,h){C(d,e,h),v(e,t),C(d,s,h),C(d,l,h),Ae(l,n[0].options.maxSize),C(d,o,h),C(d,a,h),f||(u=x(l,"input",n[14]),f=!0)},p(d,h){h&4194304&&i!==(i=d[22])&&m(e,"for",i),h&4194304&&r!==(r=d[22])&&m(l,"id",r),h&1&&jn(l.value)!==d[0].options.maxSize&&Ae(l,d[0].options.maxSize)},d(d){d&&S(e),d&&S(s),d&&S(l),d&&S(o),d&&S(a),f=!1,u()}}}function g3(n){let e,t,i;return t=new ze({props:{class:"form-field required",name:"schema."+n[1]+".options.maxSelect",$$slots:{default:[LJ,({uniqueId:s})=>({22:s}),({uniqueId:s})=>s?4194304:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","col-sm-3")},m(s,l){C(s,e,l),q(t,e,null),i=!0},p(s,l){const r={};l&2&&(r.name="schema."+s[1]+".options.maxSelect"),l&20971521&&(r.$$scope={dirty:l,ctx:s}),t.$set(r)},i(s){i||(P(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&S(e),W(t)}}}function LJ(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Max select"),s=D(),l=k("input"),m(e,"for",i=n[22]),m(l,"id",r=n[22]),m(l,"type","number"),m(l,"step","1"),m(l,"min","2"),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].options.maxSelect),o||(a=x(l,"input",n[15]),o=!0)},p(f,u){u&4194304&&i!==(i=f[22])&&m(e,"for",i),u&4194304&&r!==(r=f[22])&&m(l,"id",r),u&1&&jn(l.value)!==f[0].options.maxSelect&&Ae(l,f[0].options.maxSelect)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function FJ(n){let e,t,i,s,l,r,o,a,f,u,d,h,p;i=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.mimeTypes",$$slots:{default:[DJ,({uniqueId:b})=>({22:b}),({uniqueId:b})=>b?4194304:0]},$$scope:{ctx:n}}}),r=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.thumbs",$$slots:{default:[RJ,({uniqueId:b})=>({22:b}),({uniqueId:b})=>b?4194304:0]},$$scope:{ctx:n}}}),u=new ze({props:{class:"form-field required",name:"schema."+n[1]+".options.maxSize",$$slots:{default:[NJ,({uniqueId:b})=>({22:b}),({uniqueId:b})=>b?4194304:0]},$$scope:{ctx:n}}});let g=!n[2]&&g3(n);return{c(){e=k("div"),t=k("div"),U(i.$$.fragment),s=D(),l=k("div"),U(r.$$.fragment),a=D(),f=k("div"),U(u.$$.fragment),h=D(),g&&g.c(),m(t,"class","col-sm-12"),m(l,"class",o=n[2]?"col-sm-8":"col-sm-6"),m(f,"class",d=n[2]?"col-sm-4":"col-sm-3"),m(e,"class","grid grid-sm")},m(b,_){C(b,e,_),v(e,t),q(i,t,null),v(e,s),v(e,l),q(r,l,null),v(e,a),v(e,f),q(u,f,null),v(e,h),g&&g.m(e,null),p=!0},p(b,_){const y={};_&2&&(y.name="schema."+b[1]+".options.mimeTypes"),_&20971529&&(y.$$scope={dirty:_,ctx:b}),i.$set(y);const w={};_&2&&(w.name="schema."+b[1]+".options.thumbs"),_&20971521&&(w.$$scope={dirty:_,ctx:b}),r.$set(w),(!p||_&4&&o!==(o=b[2]?"col-sm-8":"col-sm-6"))&&m(l,"class",o);const A={};_&2&&(A.name="schema."+b[1]+".options.maxSize"),_&20971521&&(A.$$scope={dirty:_,ctx:b}),u.$set(A),(!p||_&4&&d!==(d=b[2]?"col-sm-4":"col-sm-3"))&&m(f,"class",d),b[2]?g&&(ue(),I(g,1,1,()=>{g=null}),ce()):g?(g.p(b,_),_&4&&P(g,1)):(g=g3(b),g.c(),P(g,1),g.m(e,null))},i(b){p||(P(i.$$.fragment,b),P(r.$$.fragment,b),P(u.$$.fragment,b),P(g),p=!0)},o(b){I(i.$$.fragment,b),I(r.$$.fragment,b),I(u.$$.fragment,b),I(g),p=!1},d(b){b&&S(e),W(i),W(r),W(u),g&&g.d()}}}function jJ(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("input"),i=D(),s=k("label"),l=k("span"),l.textContent="Protected",o=D(),a=k("a"),a.textContent="(Learn more)",m(e,"type","checkbox"),m(e,"id",t=n[22]),m(l,"class","txt"),m(s,"for",r=n[22]),m(a,"href","https://pocketbase.io/docs/files-handling/#protected-files"),m(a,"class","toggle-info txt-sm txt-hint m-l-5"),m(a,"target","_blank"),m(a,"rel","noopener")},m(d,h){C(d,e,h),e.checked=n[0].options.protected,C(d,i,h),C(d,s,h),v(s,l),C(d,o,h),C(d,a,h),f||(u=x(e,"change",n[7]),f=!0)},p(d,h){h&4194304&&t!==(t=d[22])&&m(e,"id",t),h&1&&(e.checked=d[0].options.protected),h&4194304&&r!==(r=d[22])&&m(s,"for",r)},d(d){d&&S(e),d&&S(i),d&&S(s),d&&S(o),d&&S(a),f=!1,u()}}}function BJ(n){let e,t,i;return t=new ze({props:{class:"form-field form-field-toggle m-0",name:"schema."+n[1]+".options.protected",$$slots:{default:[jJ,({uniqueId:s})=>({22:s}),({uniqueId:s})=>s?4194304:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","col-sm-4")},m(s,l){C(s,e,l),q(t,e,null),i=!0},p(s,l){const r={};l&2&&(r.name="schema."+s[1]+".options.protected"),l&20971521&&(r.$$scope={dirty:l,ctx:s}),t.$set(r)},i(s){i||(P(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&S(e),W(t)}}}function VJ(n){let e,t,i;const s=[{key:n[1]},n[5]];function l(o){n[17](o)}let r={$$slots:{afterNonempty:[BJ],options:[FJ],default:[EJ,({interactive:o})=>({23:o}),({interactive:o})=>o?8388608:0]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)r=ft(r,s[o]);return n[0]!==void 0&&(r.field=n[0]),e=new Mr({props:r}),de.push(()=>Ne(e,"field",l)),e.$on("rename",n[18]),e.$on("remove",n[19]),{c(){U(e.$$.fragment)},m(o,a){q(e,o,a),i=!0},p(o,[a]){const f=a&34?kn(s,[a&2&&{key:o[1]},a&32&&ri(o[5])]):{};a&25165839&&(f.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,f.field=o[0],Be(()=>t=!1)),e.$set(f)},i(o){i||(P(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){W(e,o)}}}function zJ(n,e,t){var j;const i=["field","key"];let s=Jt(e,i),{field:l}=e,{key:r=""}=e;const o=[{label:"Single",value:!0},{label:"Multiple",value:!1}];let a=AJ.slice(),f=((j=l.options)==null?void 0:j.maxSelect)<=1,u=f;function d(){t(0,l.options={maxSelect:1,maxSize:5242880,thumbs:[],mimeTypes:[]},l),t(2,f=!0),t(6,u=f)}function h(){if(ee.isEmpty(l.options.mimeTypes))return;const L=[];for(const F of l.options.mimeTypes)a.find(B=>B.mimeType===F)||L.push({mimeType:F});L.length&&t(3,a=a.concat(L))}function p(){l.options.protected=this.checked,t(0,l),t(6,u),t(2,f)}function g(L){n.$$.not_equal(l.options.mimeTypes,L)&&(l.options.mimeTypes=L,t(0,l),t(6,u),t(2,f))}const b=()=>{t(0,l.options.mimeTypes=["image/jpeg","image/png","image/svg+xml","image/gif","image/webp"],l)},_=()=>{t(0,l.options.mimeTypes=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],l)},y=()=>{t(0,l.options.mimeTypes=["video/mp4","video/x-ms-wmv","video/quicktime","video/3gpp"],l)},w=()=>{t(0,l.options.mimeTypes=["application/zip","application/x-7z-compressed","application/x-rar-compressed"],l)};function A(L){n.$$.not_equal(l.options.thumbs,L)&&(l.options.thumbs=L,t(0,l),t(6,u),t(2,f))}function M(){l.options.maxSize=jn(this.value),t(0,l),t(6,u),t(2,f)}function T(){l.options.maxSelect=jn(this.value),t(0,l),t(6,u),t(2,f)}function O(L){f=L,t(2,f)}function E(L){l=L,t(0,l),t(6,u),t(2,f)}function R(L){ht.call(this,n,L)}function N(L){ht.call(this,n,L)}return n.$$set=L=>{e=ft(ft({},e),Pi(L)),t(5,s=Jt(e,i)),"field"in L&&t(0,l=L.field),"key"in L&&t(1,r=L.key)},n.$$.update=()=>{var L,F;n.$$.dirty&69&&u!=f&&(t(6,u=f),f?t(0,l.options.maxSelect=1,l):t(0,l.options.maxSelect=((F=(L=l.options)==null?void 0:L.values)==null?void 0:F.length)||99,l)),n.$$.dirty&1&&(ee.isEmpty(l.options)?d():h())},[l,r,f,a,o,s,u,p,g,b,_,y,w,A,M,T,O,E,R,N]}class HJ extends ke{constructor(e){super(),ve(this,e,zJ,VJ,De,{field:0,key:1})}}function qJ(n){let e,t,i,s,l;return{c(){e=k("hr"),t=D(),i=k("button"),i.innerHTML=`<i class="ri-add-line"></i> 
                        <span class="txt">New collection</span>`,m(i,"type","button"),m(i,"class","btn btn-transparent btn-block btn-sm")},m(r,o){C(r,e,o),C(r,t,o),C(r,i,o),s||(l=x(i,"click",n[17]),s=!0)},p:te,d(r){r&&S(e),r&&S(t),r&&S(i),s=!1,l()}}}function WJ(n){let e,t,i;function s(r){n[18](r)}let l={id:n[29],searchable:n[3].length>5,selectPlaceholder:"Select collection *",noOptionsText:"No collections found",selectionKey:"id",items:n[3],readonly:!n[30]||n[0].id,$$slots:{afterOptions:[qJ]},$$scope:{ctx:n}};return n[0].options.collectionId!==void 0&&(l.keyOfSelected=n[0].options.collectionId),e=new Go({props:l}),de.push(()=>Ne(e,"keyOfSelected",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};o[0]&536870912&&(a.id=r[29]),o[0]&8&&(a.searchable=r[3].length>5),o[0]&8&&(a.items=r[3]),o[0]&1073741825&&(a.readonly=!r[30]||r[0].id),o[0]&16|o[1]&1&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.keyOfSelected=r[0].options.collectionId,Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function UJ(n){let e,t,i;function s(r){n[19](r)}let l={id:n[29],items:n[8],readonly:!n[30]};return n[2]!==void 0&&(l.keyOfSelected=n[2]),e=new Go({props:l}),de.push(()=>Ne(e,"keyOfSelected",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};o[0]&536870912&&(a.id=r[29]),o[0]&1073741824&&(a.readonly=!r[30]),!t&&o[0]&4&&(t=!0,a.keyOfSelected=r[2],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function KJ(n){let e,t,i,s,l,r,o,a,f,u;return i=new ze({props:{class:"form-field required "+(n[30]?"":"readonly"),inlineError:!0,name:"schema."+n[1]+".options.collectionId",$$slots:{default:[WJ,({uniqueId:d})=>({29:d}),({uniqueId:d})=>[d?536870912:0]]},$$scope:{ctx:n}}}),o=new ze({props:{class:"form-field form-field-single-multiple-select "+(n[30]?"":"readonly"),inlineError:!0,$$slots:{default:[UJ,({uniqueId:d})=>({29:d}),({uniqueId:d})=>[d?536870912:0]]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=D(),U(i.$$.fragment),s=D(),l=k("div"),r=D(),U(o.$$.fragment),a=D(),f=k("div"),m(e,"class","separator"),m(l,"class","separator"),m(f,"class","separator")},m(d,h){C(d,e,h),C(d,t,h),q(i,d,h),C(d,s,h),C(d,l,h),C(d,r,h),q(o,d,h),C(d,a,h),C(d,f,h),u=!0},p(d,h){const p={};h[0]&1073741824&&(p.class="form-field required "+(d[30]?"":"readonly")),h[0]&2&&(p.name="schema."+d[1]+".options.collectionId"),h[0]&1610612761|h[1]&1&&(p.$$scope={dirty:h,ctx:d}),i.$set(p);const g={};h[0]&1073741824&&(g.class="form-field form-field-single-multiple-select "+(d[30]?"":"readonly")),h[0]&1610612740|h[1]&1&&(g.$$scope={dirty:h,ctx:d}),o.$set(g)},i(d){u||(P(i.$$.fragment,d),P(o.$$.fragment,d),u=!0)},o(d){I(i.$$.fragment,d),I(o.$$.fragment,d),u=!1},d(d){d&&S(e),d&&S(t),W(i,d),d&&S(s),d&&S(l),d&&S(r),W(o,d),d&&S(a),d&&S(f)}}}function b3(n){let e,t,i,s,l,r;return t=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.minSelect",$$slots:{default:[JJ,({uniqueId:o})=>({29:o}),({uniqueId:o})=>[o?536870912:0]]},$$scope:{ctx:n}}}),l=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.maxSelect",$$slots:{default:[xJ,({uniqueId:o})=>({29:o}),({uniqueId:o})=>[o?536870912:0]]},$$scope:{ctx:n}}}),{c(){e=k("div"),U(t.$$.fragment),i=D(),s=k("div"),U(l.$$.fragment),m(e,"class","col-sm-6"),m(s,"class","col-sm-6")},m(o,a){C(o,e,a),q(t,e,null),C(o,i,a),C(o,s,a),q(l,s,null),r=!0},p(o,a){const f={};a[0]&2&&(f.name="schema."+o[1]+".options.minSelect"),a[0]&536870913|a[1]&1&&(f.$$scope={dirty:a,ctx:o}),t.$set(f);const u={};a[0]&2&&(u.name="schema."+o[1]+".options.maxSelect"),a[0]&536870913|a[1]&1&&(u.$$scope={dirty:a,ctx:o}),l.$set(u)},i(o){r||(P(t.$$.fragment,o),P(l.$$.fragment,o),r=!0)},o(o){I(t.$$.fragment,o),I(l.$$.fragment,o),r=!1},d(o){o&&S(e),W(t),o&&S(i),o&&S(s),W(l)}}}function JJ(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Min select"),s=D(),l=k("input"),m(e,"for",i=n[29]),m(l,"type","number"),m(l,"id",r=n[29]),m(l,"step","1"),m(l,"min","1"),m(l,"placeholder","No min limit")},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].options.minSelect),o||(a=x(l,"input",n[13]),o=!0)},p(f,u){u[0]&536870912&&i!==(i=f[29])&&m(e,"for",i),u[0]&536870912&&r!==(r=f[29])&&m(l,"id",r),u[0]&1&&jn(l.value)!==f[0].options.minSelect&&Ae(l,f[0].options.minSelect)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function xJ(n){let e,t,i,s,l,r,o,a,f;return{c(){e=k("label"),t=G("Max select"),s=D(),l=k("input"),m(e,"for",i=n[29]),m(l,"type","number"),m(l,"id",r=n[29]),m(l,"step","1"),m(l,"placeholder","No max limit"),m(l,"min",o=n[0].options.minSelect||2)},m(u,d){C(u,e,d),v(e,t),C(u,s,d),C(u,l,d),Ae(l,n[0].options.maxSelect),a||(f=x(l,"input",n[14]),a=!0)},p(u,d){d[0]&536870912&&i!==(i=u[29])&&m(e,"for",i),d[0]&536870912&&r!==(r=u[29])&&m(l,"id",r),d[0]&1&&o!==(o=u[0].options.minSelect||2)&&m(l,"min",o),d[0]&1&&jn(l.value)!==u[0].options.maxSelect&&Ae(l,u[0].options.maxSelect)},d(u){u&&S(e),u&&S(s),u&&S(l),a=!1,f()}}}function YJ(n){let e,t,i,s,l,r,o,a,f,u,d;function h(g){n[15](g)}let p={multiple:!0,searchable:!0,id:n[29],selectPlaceholder:"Auto",items:n[5]};return n[0].options.displayFields!==void 0&&(p.selected=n[0].options.displayFields),o=new C2({props:p}),de.push(()=>Ne(o,"selected",h)),{c(){e=k("label"),t=k("span"),t.textContent="Display fields",i=D(),s=k("i"),r=D(),U(o.$$.fragment),m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[29])},m(g,b){C(g,e,b),v(e,t),v(e,i),v(e,s),C(g,r,b),q(o,g,b),f=!0,u||(d=xe(Mt.call(null,s,{text:"Optionally select the field(s) that will be used in the listings UI. Leave empty for auto.",position:"top"})),u=!0)},p(g,b){(!f||b[0]&536870912&&l!==(l=g[29]))&&m(e,"for",l);const _={};b[0]&536870912&&(_.id=g[29]),b[0]&32&&(_.items=g[5]),!a&&b[0]&1&&(a=!0,_.selected=g[0].options.displayFields,Be(()=>a=!1)),o.$set(_)},i(g){f||(P(o.$$.fragment,g),f=!0)},o(g){I(o.$$.fragment,g),f=!1},d(g){g&&S(e),g&&S(r),W(o,g),u=!1,d()}}}function GJ(n){let e,t,i,s,l,r,o,a,f,u,d,h;function p(b){n[16](b)}let g={id:n[29],items:n[9]};return n[0].options.cascadeDelete!==void 0&&(g.keyOfSelected=n[0].options.cascadeDelete),a=new Go({props:g}),de.push(()=>Ne(a,"keyOfSelected",p)),{c(){e=k("label"),t=k("span"),t.textContent="Cascade delete",i=D(),s=k("i"),o=D(),U(a.$$.fragment),m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",r=n[29])},m(b,_){var y,w;C(b,e,_),v(e,t),v(e,i),v(e,s),C(b,o,_),q(a,b,_),u=!0,d||(h=xe(l=Mt.call(null,s,{text:`Whether on ${((y=n[6])==null?void 0:y.name)||"relation"} record deletion to delete also the ${((w=n[7])==null?void 0:w.name)||"field"} associated records.`,position:"top"})),d=!0)},p(b,_){var w,A;l&&fn(l.update)&&_[0]&192&&l.update.call(null,{text:`Whether on ${((w=b[6])==null?void 0:w.name)||"relation"} record deletion to delete also the ${((A=b[7])==null?void 0:A.name)||"field"} associated records.`,position:"top"}),(!u||_[0]&536870912&&r!==(r=b[29]))&&m(e,"for",r);const y={};_[0]&536870912&&(y.id=b[29]),!f&&_[0]&1&&(f=!0,y.keyOfSelected=b[0].options.cascadeDelete,Be(()=>f=!1)),a.$set(y)},i(b){u||(P(a.$$.fragment,b),u=!0)},o(b){I(a.$$.fragment,b),u=!1},d(b){b&&S(e),b&&S(o),W(a,b),d=!1,h()}}}function XJ(n){let e,t,i,s,l,r,o,a,f=!n[2]&&b3(n);return s=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.displayFields",$$slots:{default:[YJ,({uniqueId:u})=>({29:u}),({uniqueId:u})=>[u?536870912:0]]},$$scope:{ctx:n}}}),o=new ze({props:{class:"form-field",name:"schema."+n[1]+".options.cascadeDelete",$$slots:{default:[GJ,({uniqueId:u})=>({29:u}),({uniqueId:u})=>[u?536870912:0]]},$$scope:{ctx:n}}}),{c(){e=k("div"),f&&f.c(),t=D(),i=k("div"),U(s.$$.fragment),l=D(),r=k("div"),U(o.$$.fragment),m(i,"class","col-sm-6"),m(r,"class","col-sm-6"),m(e,"class","grid grid-sm")},m(u,d){C(u,e,d),f&&f.m(e,null),v(e,t),v(e,i),q(s,i,null),v(e,l),v(e,r),q(o,r,null),a=!0},p(u,d){u[2]?f&&(ue(),I(f,1,1,()=>{f=null}),ce()):f?(f.p(u,d),d[0]&4&&P(f,1)):(f=b3(u),f.c(),P(f,1),f.m(e,t));const h={};d[0]&2&&(h.name="schema."+u[1]+".options.displayFields"),d[0]&536870945|d[1]&1&&(h.$$scope={dirty:d,ctx:u}),s.$set(h);const p={};d[0]&2&&(p.name="schema."+u[1]+".options.cascadeDelete"),d[0]&536871105|d[1]&1&&(p.$$scope={dirty:d,ctx:u}),o.$set(p)},i(u){a||(P(f),P(s.$$.fragment,u),P(o.$$.fragment,u),a=!0)},o(u){I(f),I(s.$$.fragment,u),I(o.$$.fragment,u),a=!1},d(u){u&&S(e),f&&f.d(),W(s),W(o)}}}function ZJ(n){let e,t,i,s,l;const r=[{key:n[1]},n[10]];function o(u){n[20](u)}let a={$$slots:{options:[XJ],default:[KJ,({interactive:u})=>({30:u}),({interactive:u})=>[u?1073741824:0]]},$$scope:{ctx:n}};for(let u=0;u<r.length;u+=1)a=ft(a,r[u]);n[0]!==void 0&&(a.field=n[0]),e=new Mr({props:a}),de.push(()=>Ne(e,"field",o)),e.$on("rename",n[21]),e.$on("remove",n[22]);let f={};return s=new M2({props:f}),n[23](s),s.$on("save",n[24]),{c(){U(e.$$.fragment),i=D(),U(s.$$.fragment)},m(u,d){q(e,u,d),C(u,i,d),q(s,u,d),l=!0},p(u,d){const h=d[0]&1026?kn(r,[d[0]&2&&{key:u[1]},d[0]&1024&&ri(u[10])]):{};d[0]&1073742079|d[1]&1&&(h.$$scope={dirty:d,ctx:u}),!t&&d[0]&1&&(t=!0,h.field=u[0],Be(()=>t=!1)),e.$set(h);const p={};s.$set(p)},i(u){l||(P(e.$$.fragment,u),P(s.$$.fragment,u),l=!0)},o(u){I(e.$$.fragment,u),I(s.$$.fragment,u),l=!1},d(u){W(e,u),u&&S(i),n[23](null),W(s,u)}}}function QJ(n,e,t){var X;let i;const s=["field","key"];let l=Jt(e,s),r,o;Ht(n,Cr,J=>t(3,r=J)),Ht(n,yr,J=>t(7,o=J));let{field:a}=e,{key:f=""}=e;const u=[{label:"Single",value:!0},{label:"Multiple",value:!1}],d=[{label:"False",value:!1},{label:"True",value:!0}],h=["id","created","updated"],p=["username","email","emailVisibility","verified"];let g=null,b=[],_=null,y=((X=a.options)==null?void 0:X.maxSelect)==1,w=y;function A(){t(0,a.options={maxSelect:1,collectionId:null,cascadeDelete:!1,displayFields:[]},a),t(2,y=!0),t(12,w=y)}function M(){var J,z;if(t(5,b=h.slice(0)),!!i){i.isAuth&&t(5,b=b.concat(p));for(const Z of i.schema)b.push(Z.name);if(((z=(J=a.options)==null?void 0:J.displayFields)==null?void 0:z.length)>0)for(let Z=a.options.displayFields.length-1;Z>=0;Z--)b.includes(a.options.displayFields[Z])||a.options.displayFields.splice(Z,1)}}function T(){a.options.minSelect=jn(this.value),t(0,a),t(12,w),t(2,y)}function O(){a.options.maxSelect=jn(this.value),t(0,a),t(12,w),t(2,y)}function E(J){n.$$.not_equal(a.options.displayFields,J)&&(a.options.displayFields=J,t(0,a),t(12,w),t(2,y))}function R(J){n.$$.not_equal(a.options.cascadeDelete,J)&&(a.options.cascadeDelete=J,t(0,a),t(12,w),t(2,y))}const N=()=>g==null?void 0:g.show();function j(J){n.$$.not_equal(a.options.collectionId,J)&&(a.options.collectionId=J,t(0,a),t(12,w),t(2,y))}function L(J){y=J,t(2,y)}function F(J){a=J,t(0,a),t(12,w),t(2,y)}function B(J){ht.call(this,n,J)}function V(J){ht.call(this,n,J)}function H(J){de[J?"unshift":"push"](()=>{g=J,t(4,g)})}const K=J=>{var z,Z;(Z=(z=J==null?void 0:J.detail)==null?void 0:z.collection)!=null&&Z.id&&t(0,a.options.collectionId=J.detail.collection.id,a)};return n.$$set=J=>{e=ft(ft({},e),Pi(J)),t(10,l=Jt(e,s)),"field"in J&&t(0,a=J.field),"key"in J&&t(1,f=J.key)},n.$$.update=()=>{n.$$.dirty[0]&4100&&w!=y&&(t(12,w=y),y?(t(0,a.options.minSelect=null,a),t(0,a.options.maxSelect=1,a)):t(0,a.options.maxSelect=null,a)),n.$$.dirty[0]&1&&ee.isEmpty(a.options)&&A(),n.$$.dirty[0]&9&&t(6,i=r.find(J=>J.id==a.options.collectionId)||null),n.$$.dirty[0]&2049&&_!=a.options.collectionId&&(t(11,_=a.options.collectionId),M())},[a,f,y,r,g,b,i,o,u,d,l,_,w,T,O,E,R,N,j,L,F,B,V,H,K]}class $J extends ke{constructor(e){super(),ve(this,e,QJ,ZJ,De,{field:0,key:1},null,[-1,-1])}}const ex=n=>({dragging:n&4,dragover:n&8}),_3=n=>({dragging:n[2],dragover:n[3]});function tx(n){let e,t,i,s,l;const r=n[10].default,o=It(r,n,n[9],_3);return{c(){e=k("div"),o&&o.c(),m(e,"draggable",t=!n[1]),m(e,"class","draggable svelte-28orm4"),$(e,"dragging",n[2]),$(e,"dragover",n[3])},m(a,f){C(a,e,f),o&&o.m(e,null),i=!0,s||(l=[x(e,"dragover",qt(n[11])),x(e,"dragleave",qt(n[12])),x(e,"dragend",n[13]),x(e,"dragstart",n[14]),x(e,"drop",n[15])],s=!0)},p(a,[f]){o&&o.p&&(!i||f&524)&&Nt(o,r,a,a[9],i?Rt(r,a[9],f,ex):Lt(a[9]),_3),(!i||f&2&&t!==(t=!a[1]))&&m(e,"draggable",t),(!i||f&4)&&$(e,"dragging",a[2]),(!i||f&8)&&$(e,"dragover",a[3])},i(a){i||(P(o,a),i=!0)},o(a){I(o,a),i=!1},d(a){a&&S(e),o&&o.d(a),s=!1,Ke(l)}}}function nx(n,e,t){let{$$slots:i={},$$scope:s}=e;const l=Hn();let{index:r}=e,{list:o=[]}=e,{group:a="default"}=e,{disabled:f=!1}=e,{dragHandleClass:u=""}=e,d=!1,h=!1;function p(M,T){if(!(!M||f)){if(u&&!M.target.classList.contains(u)){t(3,h=!1),t(2,d=!1),M.preventDefault();return}t(2,d=!0),M.dataTransfer.effectAllowed="move",M.dataTransfer.dropEffect="move",M.dataTransfer.setData("text/plain",JSON.stringify({index:T,group:a})),l("drag",M)}}function g(M,T){if(t(3,h=!1),t(2,d=!1),!M||f)return;M.dataTransfer.dropEffect="move";let O={};try{O=JSON.parse(M.dataTransfer.getData("text/plain"))}catch{}if(O.group!=a)return;const E=O.index<<0;E<T?(o.splice(T+1,0,o[E]),o.splice(E,1)):(o.splice(T,0,o[E]),o.splice(E+1,1)),t(6,o),l("sort",{oldIndex:E,newIndex:T,list:o})}const b=()=>{t(3,h=!0)},_=()=>{t(3,h=!1)},y=()=>{t(3,h=!1),t(2,d=!1)},w=M=>p(M,r),A=M=>g(M,r);return n.$$set=M=>{"index"in M&&t(0,r=M.index),"list"in M&&t(6,o=M.list),"group"in M&&t(7,a=M.group),"disabled"in M&&t(1,f=M.disabled),"dragHandleClass"in M&&t(8,u=M.dragHandleClass),"$$scope"in M&&t(9,s=M.$$scope)},[r,f,d,h,p,g,o,a,u,s,i,b,_,y,w,A]}class Ld extends ke{constructor(e){super(),ve(this,e,nx,tx,De,{index:0,list:6,group:7,disabled:1,dragHandleClass:8})}}function y3(n,e,t){const i=n.slice();return i[17]=e[t],i[18]=e,i[19]=t,i}function v3(n){let e,t,i,s,l,r,o,a;return{c(){e=G(`,
            `),t=k("code"),t.textContent="username",i=G(` ,
            `),s=k("code"),s.textContent="email",l=G(` ,
            `),r=k("code"),r.textContent="emailVisibility",o=G(` ,
            `),a=k("code"),a.textContent="verified",m(t,"class","txt-sm"),m(s,"class","txt-sm"),m(r,"class","txt-sm"),m(a,"class","txt-sm")},m(f,u){C(f,e,u),C(f,t,u),C(f,i,u),C(f,s,u),C(f,l,u),C(f,r,u),C(f,o,u),C(f,a,u)},d(f){f&&S(e),f&&S(t),f&&S(i),f&&S(s),f&&S(l),f&&S(r),f&&S(o),f&&S(a)}}}function ix(n){let e,t,i,s;function l(f){n[6](f,n[17],n[18],n[19])}function r(){return n[7](n[19])}var o=n[1][n[17].type];function a(f){let u={key:f[4](f[17])};return f[17]!==void 0&&(u.field=f[17]),{props:u}}return o&&(e=Sn(o,a(n)),de.push(()=>Ne(e,"field",l)),e.$on("remove",r),e.$on("rename",n[8])),{c(){e&&U(e.$$.fragment),i=D()},m(f,u){e&&q(e,f,u),C(f,i,u),s=!0},p(f,u){n=f;const d={};if(u&1&&(d.key=n[4](n[17])),!t&&u&1&&(t=!0,d.field=n[17],Be(()=>t=!1)),u&1&&o!==(o=n[1][n[17].type])){if(e){ue();const h=e;I(h.$$.fragment,1,0,()=>{W(h,1)}),ce()}o?(e=Sn(o,a(n)),de.push(()=>Ne(e,"field",l)),e.$on("remove",r),e.$on("rename",n[8]),U(e.$$.fragment),P(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else o&&e.$set(d)},i(f){s||(e&&P(e.$$.fragment,f),s=!0)},o(f){e&&I(e.$$.fragment,f),s=!1},d(f){e&&W(e,f),f&&S(i)}}}function k3(n,e){let t,i,s,l;function r(a){e[9](a)}let o={index:e[19],disabled:e[17].toDelete||e[17].id&&e[17].system,dragHandleClass:"drag-handle-wrapper",$$slots:{default:[ix]},$$scope:{ctx:e}};return e[0].schema!==void 0&&(o.list=e[0].schema),i=new Ld({props:o}),de.push(()=>Ne(i,"list",r)),i.$on("drag",e[10]),i.$on("sort",e[11]),{key:n,first:null,c(){t=Ee(),U(i.$$.fragment),this.first=t},m(a,f){C(a,t,f),q(i,a,f),l=!0},p(a,f){e=a;const u={};f&1&&(u.index=e[19]),f&1&&(u.disabled=e[17].toDelete||e[17].id&&e[17].system),f&1048577&&(u.$$scope={dirty:f,ctx:e}),!s&&f&1&&(s=!0,u.list=e[0].schema,Be(()=>s=!1)),i.$set(u)},i(a){l||(P(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&S(t),W(i,a)}}}function sx(n){let e,t,i,s,l,r,o,a,f,u,d,h,p=[],g=new Map,b,_,y,w,A,M,T,O,E=n[0].$isAuth&&v3(),R=n[0].schema;const N=F=>F[17];for(let F=0;F<R.length;F+=1){let B=y3(n,R,F),V=N(B);g.set(V,p[F]=k3(V,B))}_=new KU({props:{class:"btn btn-block btn-outline"}}),_.$on("select",n[12]);function j(F){n[13](F)}let L={};return n[0]!==void 0&&(L.collection=n[0]),M=new HU({props:L}),de.push(()=>Ne(M,"collection",j)),{c(){e=k("div"),t=k("p"),i=G(`System fields:
        `),s=k("code"),s.textContent="id",l=G(` ,
        `),r=k("code"),r.textContent="created",o=G(` ,
        `),a=k("code"),a.textContent="updated",f=D(),E&&E.c(),u=G(`
        .`),d=D(),h=k("div");for(let F=0;F<p.length;F+=1)p[F].c();b=D(),U(_.$$.fragment),y=D(),w=k("hr"),A=D(),U(M.$$.fragment),m(s,"class","txt-sm"),m(r,"class","txt-sm"),m(a,"class","txt-sm"),m(t,"class","txt-sm"),m(e,"class","block m-b-25"),m(h,"class","schema-fields")},m(F,B){C(F,e,B),v(e,t),v(t,i),v(t,s),v(t,l),v(t,r),v(t,o),v(t,a),v(t,f),E&&E.m(t,null),v(t,u),C(F,d,B),C(F,h,B);for(let V=0;V<p.length;V+=1)p[V]&&p[V].m(h,null);C(F,b,B),q(_,F,B),C(F,y,B),C(F,w,B),C(F,A,B),q(M,F,B),O=!0},p(F,[B]){F[0].$isAuth?E||(E=v3(),E.c(),E.m(t,u)):E&&(E.d(1),E=null),B&55&&(R=F[0].schema,ue(),p=Cn(p,B,N,1,F,R,g,h,ii,k3,null,y3),ce());const V={};!T&&B&1&&(T=!0,V.collection=F[0],Be(()=>T=!1)),M.$set(V)},i(F){if(!O){for(let B=0;B<R.length;B+=1)P(p[B]);P(_.$$.fragment,F),P(M.$$.fragment,F),O=!0}},o(F){for(let B=0;B<p.length;B+=1)I(p[B]);I(_.$$.fragment,F),I(M.$$.fragment,F),O=!1},d(F){F&&S(e),E&&E.d(),F&&S(d),F&&S(h);for(let B=0;B<p.length;B+=1)p[B].d();F&&S(b),W(_,F),F&&S(y),F&&S(w),F&&S(A),W(M,F)}}}function lx(n,e,t){let i,{collection:s=new Is}=e;const l={text:uK,number:gK,bool:yK,email:HD,url:EK,editor:IK,date:YK,select:_J,json:CJ,file:HJ,relation:$J};function r(M){s.schema[M]&&(s.schema.splice(M,1),t(0,s))}function o(M="text"){const T=new Ns({name:a(),type:M});T.onMountSelect=!0,s.schema.push(T),t(0,s)}function a(M="field"){let T="";for(;f(M+T);)++T;return M+T}function f(M){return!!s.schema.find(T=>T.name===M)}function u(M){return i.findIndex(T=>T===M)}function d(M,T){var O;!((O=s==null?void 0:s.schema)!=null&&O.length)||M===T||!T||t(0,s.indexes=s.indexes.map(E=>ee.replaceIndexColumn(E,M,T)),s)}function h(M,T,O,E){O[E]=M,t(0,s)}const p=M=>r(M),g=M=>d(M.detail.oldName,M.detail.newName);function b(M){n.$$.not_equal(s.schema,M)&&(s.schema=M,t(0,s))}const _=M=>{if(!M.detail)return;const T=M.detail.target;T.style.opacity=0,setTimeout(()=>{var O;(O=T==null?void 0:T.style)==null||O.removeProperty("opacity")},0),M.detail.dataTransfer.setDragImage(T,0,0)},y=()=>{Ki({})},w=M=>o(M.detail);function A(M){s=M,t(0,s)}return n.$$set=M=>{"collection"in M&&t(0,s=M.collection)},n.$$.update=()=>{n.$$.dirty&1&&typeof s.schema>"u"&&(t(0,s=s||new Is),t(0,s.schema=[],s)),n.$$.dirty&1&&(i=s.schema.filter(M=>!M.toDelete)||[])},[s,l,r,o,u,d,h,p,g,b,_,y,w,A]}class rx extends ke{constructor(e){super(),ve(this,e,lx,sx,De,{collection:0})}}const ox=n=>({isAdminOnly:n&512}),w3=n=>({isAdminOnly:n[9]}),ax=n=>({isAdminOnly:n&512}),S3=n=>({isAdminOnly:n[9]}),fx=n=>({isAdminOnly:n&512}),C3=n=>({isAdminOnly:n[9]});function ux(n){let e,t;return e=new ze({props:{class:"form-field rule-field "+(n[4]?"requied":"")+" "+(n[9]?"disabled":""),name:n[3],$$slots:{default:[dx,({uniqueId:i})=>({18:i}),({uniqueId:i})=>i?262144:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&528&&(l.class="form-field rule-field "+(i[4]?"requied":"")+" "+(i[9]?"disabled":"")),s&8&&(l.name=i[3]),s&295655&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function cx(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="loader"></span>',m(e,"class","txt-center")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function M3(n){let e,t,i;return{c(){e=k("button"),e.innerHTML=`<i class="ri-lock-line"></i> 
                        <span class="txt">Set Admins only</span>`,m(e,"type","button"),m(e,"class","btn btn-sm btn-transparent btn-hint lock-toggle svelte-1akuazq")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[11]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function T3(n){let e,t,i,s,l;return{c(){e=k("button"),e.innerHTML=`<small class="txt svelte-1akuazq">Unlock and set custom rule</small> 
                    <div class="icon svelte-1akuazq"><i class="ri-lock-unlock-line svelte-1akuazq"></i></div>`,m(e,"type","button"),m(e,"class","unlock-overlay svelte-1akuazq"),m(e,"aria-label","Unlock and set custom rule")},m(r,o){C(r,e,o),i=!0,s||(l=x(e,"click",n[10]),s=!0)},p:te,i(r){i||(r&&Yt(()=>{i&&(t||(t=gt(e,ji,{duration:150,start:.98},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=gt(e,ji,{duration:150,start:.98},!1)),t.run(0)),i=!1},d(r){r&&S(e),r&&t&&t.end(),s=!1,l()}}}function dx(n){let e,t,i,s,l,r,o=n[9]?"- Admins only":"",a,f,u,d,h,p,g,b,_,y,w;const A=n[12].beforeLabel,M=It(A,n,n[15],C3),T=n[12].afterLabel,O=It(T,n,n[15],S3);let E=!n[9]&&M3(n);function R(V){n[14](V)}var N=n[7];function j(V){let H={id:V[18],baseCollection:V[1],disabled:V[9],placeholder:V[9]?"":V[5]};return V[0]!==void 0&&(H.value=V[0]),{props:H}}N&&(p=Sn(N,j(n)),n[13](p),de.push(()=>Ne(p,"value",R)));let L=n[9]&&T3(n);const F=n[12].default,B=It(F,n,n[15],w3);return{c(){e=k("div"),t=k("label"),M&&M.c(),i=D(),s=k("span"),l=G(n[2]),r=D(),a=G(o),f=D(),O&&O.c(),u=D(),E&&E.c(),h=D(),p&&U(p.$$.fragment),b=D(),L&&L.c(),_=D(),y=k("div"),B&&B.c(),m(s,"class","txt"),$(s,"txt-hint",n[9]),m(t,"for",d=n[18]),m(e,"class","input-wrapper svelte-1akuazq"),m(y,"class","help-block")},m(V,H){C(V,e,H),v(e,t),M&&M.m(t,null),v(t,i),v(t,s),v(s,l),v(s,r),v(s,a),v(t,f),O&&O.m(t,null),v(t,u),E&&E.m(t,null),v(e,h),p&&q(p,e,null),v(e,b),L&&L.m(e,null),C(V,_,H),C(V,y,H),B&&B.m(y,null),w=!0},p(V,H){M&&M.p&&(!w||H&33280)&&Nt(M,A,V,V[15],w?Rt(A,V[15],H,fx):Lt(V[15]),C3),(!w||H&4)&&pe(l,V[2]),(!w||H&512)&&o!==(o=V[9]?"- Admins only":"")&&pe(a,o),(!w||H&512)&&$(s,"txt-hint",V[9]),O&&O.p&&(!w||H&33280)&&Nt(O,T,V,V[15],w?Rt(T,V[15],H,ax):Lt(V[15]),S3),V[9]?E&&(E.d(1),E=null):E?E.p(V,H):(E=M3(V),E.c(),E.m(t,null)),(!w||H&262144&&d!==(d=V[18]))&&m(t,"for",d);const K={};if(H&262144&&(K.id=V[18]),H&2&&(K.baseCollection=V[1]),H&512&&(K.disabled=V[9]),H&544&&(K.placeholder=V[9]?"":V[5]),!g&&H&1&&(g=!0,K.value=V[0],Be(()=>g=!1)),H&128&&N!==(N=V[7])){if(p){ue();const X=p;I(X.$$.fragment,1,0,()=>{W(X,1)}),ce()}N?(p=Sn(N,j(V)),V[13](p),de.push(()=>Ne(p,"value",R)),U(p.$$.fragment),P(p.$$.fragment,1),q(p,e,b)):p=null}else N&&p.$set(K);V[9]?L?(L.p(V,H),H&512&&P(L,1)):(L=T3(V),L.c(),P(L,1),L.m(e,null)):L&&(ue(),I(L,1,1,()=>{L=null}),ce()),B&&B.p&&(!w||H&33280)&&Nt(B,F,V,V[15],w?Rt(F,V[15],H,ox):Lt(V[15]),w3)},i(V){w||(P(M,V),P(O,V),p&&P(p.$$.fragment,V),P(L),P(B,V),w=!0)},o(V){I(M,V),I(O,V),p&&I(p.$$.fragment,V),I(L),I(B,V),w=!1},d(V){V&&S(e),M&&M.d(V),O&&O.d(V),E&&E.d(),n[13](null),p&&W(p),L&&L.d(),V&&S(_),V&&S(y),B&&B.d(V)}}}function hx(n){let e,t,i,s;const l=[cx,ux],r=[];function o(a,f){return a[8]?0:1}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),i=Ee()},m(a,f){r[e].m(a,f),C(a,i,f),s=!0},p(a,[f]){let u=e;e=o(a),e===u?r[e].p(a,f):(ue(),I(r[u],1,1,()=>{r[u]=null}),ce(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),P(t,1),t.m(i.parentNode,i))},i(a){s||(P(t),s=!0)},o(a){I(t),s=!1},d(a){r[e].d(a),a&&S(i)}}}let A3;function px(n,e,t){let i,{$$slots:s={},$$scope:l}=e,{collection:r=null}=e,{rule:o=null}=e,{label:a="Rule"}=e,{formKey:f="rule"}=e,{required:u=!1}=e,{placeholder:d="Leave empty to grant everyone access..."}=e,h=null,p=null,g=A3,b=!1;_();async function _(){g||b||(t(8,b=!0),t(7,g=(await _n(()=>import("./FilterAutocompleteInput-0f9d60bf.js"),[],import.meta.url)).default),A3=g,t(8,b=!1))}async function y(){t(0,o=p||""),await nn(),h==null||h.focus()}async function w(){p=o,t(0,o=null)}function A(T){de[T?"unshift":"push"](()=>{h=T,t(6,h)})}function M(T){o=T,t(0,o)}return n.$$set=T=>{"collection"in T&&t(1,r=T.collection),"rule"in T&&t(0,o=T.rule),"label"in T&&t(2,a=T.label),"formKey"in T&&t(3,f=T.formKey),"required"in T&&t(4,u=T.required),"placeholder"in T&&t(5,d=T.placeholder),"$$scope"in T&&t(15,l=T.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&t(9,i=o===null)},[o,r,a,f,u,d,h,g,b,i,y,w,s,A,M,l]}class Nf extends ke{constructor(e){super(),ve(this,e,px,hx,De,{collection:1,rule:0,label:2,formKey:3,required:4,placeholder:5})}}function O3(n,e,t){const i=n.slice();return i[11]=e[t],i}function E3(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E,R,N=n[2],j=[];for(let L=0;L<N.length;L+=1)j[L]=P3(O3(n,N,L));return{c(){e=k("div"),t=k("div"),i=k("div"),s=k("p"),s.textContent="The following record fields are available:",l=D(),r=k("div");for(let L=0;L<j.length;L+=1)j[L].c();o=D(),a=k("hr"),f=D(),u=k("p"),u.innerHTML="The request fields could be accessed with the special <em>@request</em> filter:",d=D(),h=k("div"),h.innerHTML=`<code>@request.headers.*</code> 
                        <code>@request.query.*</code> 
                        <code>@request.data.*</code> 
                        <code>@request.auth.*</code>`,p=D(),g=k("hr"),b=D(),_=k("p"),_.innerHTML="You could also add constraints and query other collections using the <em>@collection</em> filter:",y=D(),w=k("div"),w.innerHTML="<code>@collection.ANY_COLLECTION_NAME.*</code>",A=D(),M=k("hr"),T=D(),O=k("p"),O.innerHTML=`Example rule:
                        <br/> 
                        <code>@request.auth.id != &quot;&quot; &amp;&amp; created &gt; &quot;2022-01-01 00:00:00&quot;</code>`,m(s,"class","m-b-0"),m(r,"class","inline-flex flex-gap-5"),m(a,"class","m-t-10 m-b-5"),m(u,"class","m-b-0"),m(h,"class","inline-flex flex-gap-5"),m(g,"class","m-t-10 m-b-5"),m(_,"class","m-b-0"),m(w,"class","inline-flex flex-gap-5"),m(M,"class","m-t-10 m-b-5"),m(i,"class","content"),m(t,"class","alert alert-warning m-0")},m(L,F){C(L,e,F),v(e,t),v(t,i),v(i,s),v(i,l),v(i,r);for(let B=0;B<j.length;B+=1)j[B]&&j[B].m(r,null);v(i,o),v(i,a),v(i,f),v(i,u),v(i,d),v(i,h),v(i,p),v(i,g),v(i,b),v(i,_),v(i,y),v(i,w),v(i,A),v(i,M),v(i,T),v(i,O),R=!0},p(L,F){if(F&4){N=L[2];let B;for(B=0;B<N.length;B+=1){const V=O3(L,N,B);j[B]?j[B].p(V,F):(j[B]=P3(V),j[B].c(),j[B].m(r,null))}for(;B<j.length;B+=1)j[B].d(1);j.length=N.length}},i(L){R||(L&&Yt(()=>{R&&(E||(E=gt(e,gn,{duration:150},!0)),E.run(1))}),R=!0)},o(L){L&&(E||(E=gt(e,gn,{duration:150},!1)),E.run(0)),R=!1},d(L){L&&S(e),Ot(j,L),L&&E&&E.end()}}}function P3(n){let e,t=n[11]+"",i;return{c(){e=k("code"),i=G(t)},m(s,l){C(s,e,l),v(e,i)},p(s,l){l&4&&t!==(t=s[11]+"")&&pe(i,t)},d(s){s&&S(e)}}}function D3(n){let e,t,i,s,l,r,o,a,f;function u(_){n[6](_)}let d={label:"Create rule",formKey:"createRule",collection:n[0],$$slots:{afterLabel:[mx,({isAdminOnly:_})=>({10:_}),({isAdminOnly:_})=>_?1024:0]},$$scope:{ctx:n}};n[0].createRule!==void 0&&(d.rule=n[0].createRule),e=new Nf({props:d}),de.push(()=>Ne(e,"rule",u));function h(_){n[7](_)}let p={label:"Update rule",formKey:"updateRule",collection:n[0]};n[0].updateRule!==void 0&&(p.rule=n[0].updateRule),s=new Nf({props:p}),de.push(()=>Ne(s,"rule",h));function g(_){n[8](_)}let b={label:"Delete rule",formKey:"deleteRule",collection:n[0]};return n[0].deleteRule!==void 0&&(b.rule=n[0].deleteRule),o=new Nf({props:b}),de.push(()=>Ne(o,"rule",g)),{c(){U(e.$$.fragment),i=D(),U(s.$$.fragment),r=D(),U(o.$$.fragment)},m(_,y){q(e,_,y),C(_,i,y),q(s,_,y),C(_,r,y),q(o,_,y),f=!0},p(_,y){const w={};y&1&&(w.collection=_[0]),y&17408&&(w.$$scope={dirty:y,ctx:_}),!t&&y&1&&(t=!0,w.rule=_[0].createRule,Be(()=>t=!1)),e.$set(w);const A={};y&1&&(A.collection=_[0]),!l&&y&1&&(l=!0,A.rule=_[0].updateRule,Be(()=>l=!1)),s.$set(A);const M={};y&1&&(M.collection=_[0]),!a&&y&1&&(a=!0,M.rule=_[0].deleteRule,Be(()=>a=!1)),o.$set(M)},i(_){f||(P(e.$$.fragment,_),P(s.$$.fragment,_),P(o.$$.fragment,_),f=!0)},o(_){I(e.$$.fragment,_),I(s.$$.fragment,_),I(o.$$.fragment,_),f=!1},d(_){W(e,_),_&&S(i),W(s,_),_&&S(r),W(o,_)}}}function I3(n){let e,t,i;return{c(){e=k("i"),m(e,"class","ri-information-line link-hint")},m(s,l){C(s,e,l),t||(i=xe(Mt.call(null,e,{text:'The Create rule is executed after a "dry save" of the submitted data, giving you access to the main record fields as in every other rule.',position:"top"})),t=!0)},d(s){s&&S(e),t=!1,i()}}}function mx(n){let e,t=!n[10]&&I3();return{c(){t&&t.c(),e=Ee()},m(i,s){t&&t.m(i,s),C(i,e,s)},p(i,s){i[10]?t&&(t.d(1),t=null):t||(t=I3(),t.c(),t.m(e.parentNode,e))},d(i){t&&t.d(i),i&&S(e)}}}function R3(n){let e,t,i;function s(r){n[9](r)}let l={label:"Manage rule",formKey:"options.manageRule",placeholder:"",required:n[0].options.manageRule!==null,collection:n[0],$$slots:{default:[gx]},$$scope:{ctx:n}};return n[0].options.manageRule!==void 0&&(l.rule=n[0].options.manageRule),e=new Nf({props:l}),de.push(()=>Ne(e,"rule",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};o&1&&(a.required=r[0].options.manageRule!==null),o&1&&(a.collection=r[0]),o&16384&&(a.$$scope={dirty:o,ctx:r}),!t&&o&1&&(t=!0,a.rule=r[0].options.manageRule,Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function gx(n){let e,t,i;return{c(){e=k("p"),e.textContent=`This API rule gives admin-like permissions to allow fully managing the auth record(s), eg.
                changing the password without requiring to enter the old one, directly updating the verified
                state or email, etc.`,t=D(),i=k("p"),i.innerHTML="This rule is executed in addition to the <code>create</code> and <code>update</code> API rules."},m(s,l){C(s,e,l),C(s,t,l),C(s,i,l)},p:te,d(s){s&&S(e),s&&S(t),s&&S(i)}}}function bx(n){var F,B;let e,t,i,s,l,r=n[1]?"Hide available fields":"Show available fields",o,a,f,u,d,h,p,g,b,_,y,w,A,M,T=n[1]&&E3(n);function O(V){n[4](V)}let E={label:"List/Search rule",formKey:"listRule",collection:n[0]};n[0].listRule!==void 0&&(E.rule=n[0].listRule),u=new Nf({props:E}),de.push(()=>Ne(u,"rule",O));function R(V){n[5](V)}let N={label:"View rule",formKey:"viewRule",collection:n[0]};n[0].viewRule!==void 0&&(N.rule=n[0].viewRule),p=new Nf({props:N}),de.push(()=>Ne(p,"rule",R));let j=!((F=n[0])!=null&&F.$isView)&&D3(n),L=((B=n[0])==null?void 0:B.$isAuth)&&R3(n);return{c(){e=k("div"),t=k("div"),i=k("p"),i.innerHTML=`All rules follow the
            <a href="https://pocketbase.io/docs/api-rules-and-filters/" target="_blank" rel="noopener noreferrer">PocketBase filter syntax and operators
            </a>.`,s=D(),l=k("button"),o=G(r),a=D(),T&&T.c(),f=D(),U(u.$$.fragment),h=D(),U(p.$$.fragment),b=D(),j&&j.c(),_=D(),L&&L.c(),y=Ee(),m(l,"type","button"),m(l,"class","expand-handle txt-sm txt-bold txt-nowrap link-hint"),m(t,"class","flex txt-sm txt-hint m-b-5"),m(e,"class","block m-b-sm handle")},m(V,H){C(V,e,H),v(e,t),v(t,i),v(t,s),v(t,l),v(l,o),v(e,a),T&&T.m(e,null),C(V,f,H),q(u,V,H),C(V,h,H),q(p,V,H),C(V,b,H),j&&j.m(V,H),C(V,_,H),L&&L.m(V,H),C(V,y,H),w=!0,A||(M=x(l,"click",n[3]),A=!0)},p(V,[H]){var J,z;(!w||H&2)&&r!==(r=V[1]?"Hide available fields":"Show available fields")&&pe(o,r),V[1]?T?(T.p(V,H),H&2&&P(T,1)):(T=E3(V),T.c(),P(T,1),T.m(e,null)):T&&(ue(),I(T,1,1,()=>{T=null}),ce());const K={};H&1&&(K.collection=V[0]),!d&&H&1&&(d=!0,K.rule=V[0].listRule,Be(()=>d=!1)),u.$set(K);const X={};H&1&&(X.collection=V[0]),!g&&H&1&&(g=!0,X.rule=V[0].viewRule,Be(()=>g=!1)),p.$set(X),(J=V[0])!=null&&J.$isView?j&&(ue(),I(j,1,1,()=>{j=null}),ce()):j?(j.p(V,H),H&1&&P(j,1)):(j=D3(V),j.c(),P(j,1),j.m(_.parentNode,_)),(z=V[0])!=null&&z.$isAuth?L?(L.p(V,H),H&1&&P(L,1)):(L=R3(V),L.c(),P(L,1),L.m(y.parentNode,y)):L&&(ue(),I(L,1,1,()=>{L=null}),ce())},i(V){w||(P(T),P(u.$$.fragment,V),P(p.$$.fragment,V),P(j),P(L),w=!0)},o(V){I(T),I(u.$$.fragment,V),I(p.$$.fragment,V),I(j),I(L),w=!1},d(V){V&&S(e),T&&T.d(),V&&S(f),W(u,V),V&&S(h),W(p,V),V&&S(b),j&&j.d(V),V&&S(_),L&&L.d(V),V&&S(y),A=!1,M()}}}function _x(n,e,t){let i,{collection:s=new Is}=e,l=!1;const r=()=>t(1,l=!l);function o(p){n.$$.not_equal(s.listRule,p)&&(s.listRule=p,t(0,s))}function a(p){n.$$.not_equal(s.viewRule,p)&&(s.viewRule=p,t(0,s))}function f(p){n.$$.not_equal(s.createRule,p)&&(s.createRule=p,t(0,s))}function u(p){n.$$.not_equal(s.updateRule,p)&&(s.updateRule=p,t(0,s))}function d(p){n.$$.not_equal(s.deleteRule,p)&&(s.deleteRule=p,t(0,s))}function h(p){n.$$.not_equal(s.options.manageRule,p)&&(s.options.manageRule=p,t(0,s))}return n.$$set=p=>{"collection"in p&&t(0,s=p.collection)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=ee.getAllCollectionIdentifiers(s))},[s,l,i,r,o,a,f,u,d,h]}class yx extends ke{constructor(e){super(),ve(this,e,_x,bx,De,{collection:0})}}function N3(n,e,t){const i=n.slice();return i[9]=e[t],i}function vx(n){let e,t,i,s;function l(a){n[5](a)}var r=n[1];function o(a){let f={id:a[8],placeholder:"eg. SELECT id, name from posts",language:"sql-select",minHeight:"150"};return a[0].options.query!==void 0&&(f.value=a[0].options.query),{props:f}}return r&&(e=Sn(r,o(n)),de.push(()=>Ne(e,"value",l)),e.$on("change",n[6])),{c(){e&&U(e.$$.fragment),i=Ee()},m(a,f){e&&q(e,a,f),C(a,i,f),s=!0},p(a,f){const u={};if(f&256&&(u.id=a[8]),!t&&f&1&&(t=!0,u.value=a[0].options.query,Be(()=>t=!1)),f&2&&r!==(r=a[1])){if(e){ue();const d=e;I(d.$$.fragment,1,0,()=>{W(d,1)}),ce()}r?(e=Sn(r,o(a)),de.push(()=>Ne(e,"value",l)),e.$on("change",a[6]),U(e.$$.fragment),P(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else r&&e.$set(u)},i(a){s||(e&&P(e.$$.fragment,a),s=!0)},o(a){e&&I(e.$$.fragment,a),s=!1},d(a){a&&S(i),e&&W(e,a)}}}function kx(n){let e;return{c(){e=k("textarea"),e.disabled=!0,m(e,"rows","7"),m(e,"placeholder","Loading...")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function L3(n){let e,t,i=n[3],s=[];for(let l=0;l<i.length;l+=1)s[l]=F3(N3(n,i,l));return{c(){e=k("div"),t=k("div");for(let l=0;l<s.length;l+=1)s[l].c();m(t,"class","content"),m(e,"class","help-block help-block-error")},m(l,r){C(l,e,r),v(e,t);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(t,null)},p(l,r){if(r&8){i=l[3];let o;for(o=0;o<i.length;o+=1){const a=N3(l,i,o);s[o]?s[o].p(a,r):(s[o]=F3(a),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}},d(l){l&&S(e),Ot(s,l)}}}function F3(n){let e,t=n[9]+"",i;return{c(){e=k("p"),i=G(t)},m(s,l){C(s,e,l),v(e,i)},p(s,l){l&8&&t!==(t=s[9]+"")&&pe(i,t)},d(s){s&&S(e)}}}function wx(n){let e,t,i,s,l,r,o,a,f,u,d;const h=[kx,vx],p=[];function g(_,y){return _[2]?0:1}l=g(n),r=p[l]=h[l](n);let b=n[3].length&&L3(n);return{c(){e=k("label"),t=k("span"),t.textContent="Select query",s=D(),r.c(),o=D(),a=k("div"),a.innerHTML=`<ul><li>Wildcard columns (<code>*</code>) are not supported.</li> 
            <li>The query must have a unique <code>id</code> column.
                <br/>
                If your query doesn&#39;t have a suitable one, you can use the universal
                <code>(ROW_NUMBER() OVER()) as id</code>.</li> 
            <li>Expressions must be aliased with a valid formatted field name (eg.
                <code>MAX(balance) as maxBalance</code>).</li></ul>`,f=D(),b&&b.c(),u=Ee(),m(t,"class","txt"),m(e,"for",i=n[8]),m(a,"class","help-block")},m(_,y){C(_,e,y),v(e,t),C(_,s,y),p[l].m(_,y),C(_,o,y),C(_,a,y),C(_,f,y),b&&b.m(_,y),C(_,u,y),d=!0},p(_,y){(!d||y&256&&i!==(i=_[8]))&&m(e,"for",i);let w=l;l=g(_),l===w?p[l].p(_,y):(ue(),I(p[w],1,1,()=>{p[w]=null}),ce(),r=p[l],r?r.p(_,y):(r=p[l]=h[l](_),r.c()),P(r,1),r.m(o.parentNode,o)),_[3].length?b?b.p(_,y):(b=L3(_),b.c(),b.m(u.parentNode,u)):b&&(b.d(1),b=null)},i(_){d||(P(r),d=!0)},o(_){I(r),d=!1},d(_){_&&S(e),_&&S(s),p[l].d(_),_&&S(o),_&&S(a),_&&S(f),b&&b.d(_),_&&S(u)}}}function Sx(n){let e,t;return e=new ze({props:{class:"form-field required "+(n[3].length?"error":""),name:"options.query",$$slots:{default:[wx,({uniqueId:i})=>({8:i}),({uniqueId:i})=>i?256:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&8&&(l.class="form-field required "+(i[3].length?"error":"")),s&4367&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Cx(n,e,t){let i;Ht(n,to,d=>t(4,i=d));let{collection:s=new Is}=e,l,r=!1,o=[];function a(d){var g;t(3,o=[]);const h=ee.getNestedVal(d,"schema",null);if(ee.isEmpty(h))return;if(h!=null&&h.message){o.push(h==null?void 0:h.message);return}const p=ee.extractColumnsFromQuery((g=s==null?void 0:s.options)==null?void 0:g.query);ee.removeByValue(p,"id"),ee.removeByValue(p,"created"),ee.removeByValue(p,"updated");for(let b in h)for(let _ in h[b]){const y=h[b][_].message,w=p[b]||b;o.push(ee.sentenize(w+": "+y))}}Pn(async()=>{t(2,r=!0);try{t(1,l=(await _n(()=>import("./CodeEditor-af13d208.js"),[],import.meta.url)).default)}catch(d){console.warn(d)}t(2,r=!1)});function f(d){n.$$.not_equal(s.options.query,d)&&(s.options.query=d,t(0,s))}const u=()=>{o.length&&_r("schema")};return n.$$set=d=>{"collection"in d&&t(0,s=d.collection)},n.$$.update=()=>{n.$$.dirty&16&&a(i)},[s,l,r,o,i,f,u]}class Mx extends ke{constructor(e){super(),ve(this,e,Cx,Sx,De,{collection:0})}}const Tx=n=>({active:n&1}),j3=n=>({active:n[0]});function B3(n){let e,t,i;const s=n[15].default,l=It(s,n,n[14],null);return{c(){e=k("div"),l&&l.c(),m(e,"class","accordion-content")},m(r,o){C(r,e,o),l&&l.m(e,null),i=!0},p(r,o){l&&l.p&&(!i||o&16384)&&Nt(l,s,r,r[14],i?Rt(s,r[14],o,null):Lt(r[14]),null)},i(r){i||(P(l,r),r&&Yt(()=>{i&&(t||(t=gt(e,gn,{duration:150},!0)),t.run(1))}),i=!0)},o(r){I(l,r),r&&(t||(t=gt(e,gn,{duration:150},!1)),t.run(0)),i=!1},d(r){r&&S(e),l&&l.d(r),r&&t&&t.end()}}}function Ax(n){let e,t,i,s,l,r,o;const a=n[15].header,f=It(a,n,n[14],j3);let u=n[0]&&B3(n);return{c(){e=k("div"),t=k("button"),f&&f.c(),i=D(),u&&u.c(),m(t,"type","button"),m(t,"class","accordion-header"),m(t,"draggable",n[2]),$(t,"interactive",n[3]),m(e,"class",s="accordion "+(n[7]?"drag-over":"")+" "+n[1]),$(e,"active",n[0])},m(d,h){C(d,e,h),v(e,t),f&&f.m(t,null),v(e,i),u&&u.m(e,null),n[22](e),l=!0,r||(o=[x(t,"click",qt(n[17])),x(t,"drop",qt(n[18])),x(t,"dragstart",n[19]),x(t,"dragenter",n[20]),x(t,"dragleave",n[21]),x(t,"dragover",qt(n[16]))],r=!0)},p(d,[h]){f&&f.p&&(!l||h&16385)&&Nt(f,a,d,d[14],l?Rt(a,d[14],h,Tx):Lt(d[14]),j3),(!l||h&4)&&m(t,"draggable",d[2]),(!l||h&8)&&$(t,"interactive",d[3]),d[0]?u?(u.p(d,h),h&1&&P(u,1)):(u=B3(d),u.c(),P(u,1),u.m(e,null)):u&&(ue(),I(u,1,1,()=>{u=null}),ce()),(!l||h&130&&s!==(s="accordion "+(d[7]?"drag-over":"")+" "+d[1]))&&m(e,"class",s),(!l||h&131)&&$(e,"active",d[0])},i(d){l||(P(f,d),P(u),l=!0)},o(d){I(f,d),I(u),l=!1},d(d){d&&S(e),f&&f.d(d),u&&u.d(),n[22](null),r=!1,Ke(o)}}}function Ox(n,e,t){let{$$slots:i={},$$scope:s}=e;const l=Hn();let r,o,{class:a=""}=e,{draggable:f=!1}=e,{active:u=!1}=e,{interactive:d=!0}=e,{single:h=!1}=e,p=!1;function g(){return!!u}function b(){w(),t(0,u=!0),l("expand")}function _(){t(0,u=!1),clearTimeout(o),l("collapse")}function y(){l("toggle"),u?_():b()}function w(){if(h&&r.closest(".accordions")){const j=r.closest(".accordions").querySelectorAll(".accordion.active .accordion-header.interactive");for(const L of j)L.click()}}Pn(()=>()=>clearTimeout(o));function A(j){ht.call(this,n,j)}const M=()=>d&&y(),T=j=>{f&&(t(7,p=!1),w(),l("drop",j))},O=j=>f&&l("dragstart",j),E=j=>{f&&(t(7,p=!0),l("dragenter",j))},R=j=>{f&&(t(7,p=!1),l("dragleave",j))};function N(j){de[j?"unshift":"push"](()=>{r=j,t(6,r)})}return n.$$set=j=>{"class"in j&&t(1,a=j.class),"draggable"in j&&t(2,f=j.draggable),"active"in j&&t(0,u=j.active),"interactive"in j&&t(3,d=j.interactive),"single"in j&&t(9,h=j.single),"$$scope"in j&&t(14,s=j.$$scope)},n.$$.update=()=>{n.$$.dirty&8257&&u&&(clearTimeout(o),t(13,o=setTimeout(()=>{r!=null&&r.scrollIntoViewIfNeeded?r.scrollIntoViewIfNeeded():r!=null&&r.scrollIntoView&&r.scrollIntoView({behavior:"smooth",block:"nearest"})},200)))},[u,a,f,d,y,w,r,p,l,h,g,b,_,o,s,i,A,M,T,O,E,R,N]}class cp extends ke{constructor(e){super(),ve(this,e,Ox,Ax,De,{class:1,draggable:2,active:0,interactive:3,single:9,isExpanded:10,expand:11,collapse:12,toggle:4,collapseSiblings:5})}get isExpanded(){return this.$$.ctx[10]}get expand(){return this.$$.ctx[11]}get collapse(){return this.$$.ctx[12]}get toggle(){return this.$$.ctx[4]}get collapseSiblings(){return this.$$.ctx[5]}}function Ex(n){let e,t,i,s,l,r,o,a;return{c(){e=k("input"),i=D(),s=k("label"),l=G("Enable"),m(e,"type","checkbox"),m(e,"id",t=n[12]),m(s,"for",r=n[12])},m(f,u){C(f,e,u),e.checked=n[0].options.allowUsernameAuth,C(f,i,u),C(f,s,u),v(s,l),o||(a=x(e,"change",n[5]),o=!0)},p(f,u){u&4096&&t!==(t=f[12])&&m(e,"id",t),u&1&&(e.checked=f[0].options.allowUsernameAuth),u&4096&&r!==(r=f[12])&&m(s,"for",r)},d(f){f&&S(e),f&&S(i),f&&S(s),o=!1,a()}}}function Px(n){let e,t;return e=new ze({props:{class:"form-field form-field-toggle m-b-0",name:"options.allowUsernameAuth",$$slots:{default:[Ex,({uniqueId:i})=>({12:i}),({uniqueId:i})=>i?4096:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&12289&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Dx(n){let e;return{c(){e=k("span"),e.textContent="Disabled",m(e,"class","label")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Ix(n){let e;return{c(){e=k("span"),e.textContent="Enabled",m(e,"class","label label-success")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function V3(n){let e,t,i,s,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(r,o){C(r,e,o),i=!0,s||(l=xe(Mt.call(null,e,{text:"Has errors",position:"left"})),s=!0)},i(r){i||(Yt(()=>{i&&(t||(t=gt(e,ji,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(r){t||(t=gt(e,ji,{duration:150,start:.7},!1)),t.run(0),i=!1},d(r){r&&S(e),r&&t&&t.end(),s=!1,l()}}}function Rx(n){let e,t,i,s,l,r,o;function a(h,p){return h[0].options.allowUsernameAuth?Ix:Dx}let f=a(n),u=f(n),d=n[3]&&V3();return{c(){e=k("div"),e.innerHTML=`<i class="ri-user-star-line"></i> 
                <span class="txt">Username/Password</span>`,t=D(),i=k("div"),s=D(),u.c(),l=D(),d&&d.c(),r=Ee(),m(e,"class","inline-flex"),m(i,"class","flex-fill")},m(h,p){C(h,e,p),C(h,t,p),C(h,i,p),C(h,s,p),u.m(h,p),C(h,l,p),d&&d.m(h,p),C(h,r,p),o=!0},p(h,p){f!==(f=a(h))&&(u.d(1),u=f(h),u&&(u.c(),u.m(l.parentNode,l))),h[3]?d?p&8&&P(d,1):(d=V3(),d.c(),P(d,1),d.m(r.parentNode,r)):d&&(ue(),I(d,1,1,()=>{d=null}),ce())},i(h){o||(P(d),o=!0)},o(h){I(d),o=!1},d(h){h&&S(e),h&&S(t),h&&S(i),h&&S(s),u.d(h),h&&S(l),d&&d.d(h),h&&S(r)}}}function Nx(n){let e,t,i,s,l,r,o,a;return{c(){e=k("input"),i=D(),s=k("label"),l=G("Enable"),m(e,"type","checkbox"),m(e,"id",t=n[12]),m(s,"for",r=n[12])},m(f,u){C(f,e,u),e.checked=n[0].options.allowEmailAuth,C(f,i,u),C(f,s,u),v(s,l),o||(a=x(e,"change",n[6]),o=!0)},p(f,u){u&4096&&t!==(t=f[12])&&m(e,"id",t),u&1&&(e.checked=f[0].options.allowEmailAuth),u&4096&&r!==(r=f[12])&&m(s,"for",r)},d(f){f&&S(e),f&&S(i),f&&S(s),o=!1,a()}}}function z3(n){let e,t,i,s,l,r,o,a;return i=new ze({props:{class:"form-field "+(ee.isEmpty(n[0].options.onlyEmailDomains)?"":"disabled"),name:"options.exceptEmailDomains",$$slots:{default:[Lx,({uniqueId:f})=>({12:f}),({uniqueId:f})=>f?4096:0]},$$scope:{ctx:n}}}),r=new ze({props:{class:"form-field "+(ee.isEmpty(n[0].options.exceptEmailDomains)?"":"disabled"),name:"options.onlyEmailDomains",$$slots:{default:[Fx,({uniqueId:f})=>({12:f}),({uniqueId:f})=>f?4096:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),U(i.$$.fragment),s=D(),l=k("div"),U(r.$$.fragment),m(t,"class","col-lg-6"),m(l,"class","col-lg-6"),m(e,"class","grid grid-sm p-t-sm")},m(f,u){C(f,e,u),v(e,t),q(i,t,null),v(e,s),v(e,l),q(r,l,null),a=!0},p(f,u){const d={};u&1&&(d.class="form-field "+(ee.isEmpty(f[0].options.onlyEmailDomains)?"":"disabled")),u&12289&&(d.$$scope={dirty:u,ctx:f}),i.$set(d);const h={};u&1&&(h.class="form-field "+(ee.isEmpty(f[0].options.exceptEmailDomains)?"":"disabled")),u&12289&&(h.$$scope={dirty:u,ctx:f}),r.$set(h)},i(f){a||(P(i.$$.fragment,f),P(r.$$.fragment,f),f&&Yt(()=>{a&&(o||(o=gt(e,gn,{duration:150},!0)),o.run(1))}),a=!0)},o(f){I(i.$$.fragment,f),I(r.$$.fragment,f),f&&(o||(o=gt(e,gn,{duration:150},!1)),o.run(0)),a=!1},d(f){f&&S(e),W(i),W(r),f&&o&&o.end()}}}function Lx(n){let e,t,i,s,l,r,o,a,f,u,d,h,p;function g(_){n[7](_)}let b={id:n[12],disabled:!ee.isEmpty(n[0].options.onlyEmailDomains)};return n[0].options.exceptEmailDomains!==void 0&&(b.value=n[0].options.exceptEmailDomains),o=new Pu({props:b}),de.push(()=>Ne(o,"value",g)),{c(){e=k("label"),t=k("span"),t.textContent="Except domains",i=D(),s=k("i"),r=D(),U(o.$$.fragment),f=D(),u=k("div"),u.textContent="Use comma as separator.",m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[12]),m(u,"class","help-block")},m(_,y){C(_,e,y),v(e,t),v(e,i),v(e,s),C(_,r,y),q(o,_,y),C(_,f,y),C(_,u,y),d=!0,h||(p=xe(Mt.call(null,s,{text:`Email domains that are NOT allowed to sign up. 
 This field is disabled if "Only domains" is set.`,position:"top"})),h=!0)},p(_,y){(!d||y&4096&&l!==(l=_[12]))&&m(e,"for",l);const w={};y&4096&&(w.id=_[12]),y&1&&(w.disabled=!ee.isEmpty(_[0].options.onlyEmailDomains)),!a&&y&1&&(a=!0,w.value=_[0].options.exceptEmailDomains,Be(()=>a=!1)),o.$set(w)},i(_){d||(P(o.$$.fragment,_),d=!0)},o(_){I(o.$$.fragment,_),d=!1},d(_){_&&S(e),_&&S(r),W(o,_),_&&S(f),_&&S(u),h=!1,p()}}}function Fx(n){let e,t,i,s,l,r,o,a,f,u,d,h,p;function g(_){n[8](_)}let b={id:n[12],disabled:!ee.isEmpty(n[0].options.exceptEmailDomains)};return n[0].options.onlyEmailDomains!==void 0&&(b.value=n[0].options.onlyEmailDomains),o=new Pu({props:b}),de.push(()=>Ne(o,"value",g)),{c(){e=k("label"),t=k("span"),t.textContent="Only domains",i=D(),s=k("i"),r=D(),U(o.$$.fragment),f=D(),u=k("div"),u.textContent="Use comma as separator.",m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[12]),m(u,"class","help-block")},m(_,y){C(_,e,y),v(e,t),v(e,i),v(e,s),C(_,r,y),q(o,_,y),C(_,f,y),C(_,u,y),d=!0,h||(p=xe(Mt.call(null,s,{text:`Email domains that are ONLY allowed to sign up. 
 This field is disabled if "Except domains" is set.`,position:"top"})),h=!0)},p(_,y){(!d||y&4096&&l!==(l=_[12]))&&m(e,"for",l);const w={};y&4096&&(w.id=_[12]),y&1&&(w.disabled=!ee.isEmpty(_[0].options.exceptEmailDomains)),!a&&y&1&&(a=!0,w.value=_[0].options.onlyEmailDomains,Be(()=>a=!1)),o.$set(w)},i(_){d||(P(o.$$.fragment,_),d=!0)},o(_){I(o.$$.fragment,_),d=!1},d(_){_&&S(e),_&&S(r),W(o,_),_&&S(f),_&&S(u),h=!1,p()}}}function jx(n){let e,t,i,s;e=new ze({props:{class:"form-field form-field-toggle m-0",name:"options.allowEmailAuth",$$slots:{default:[Nx,({uniqueId:r})=>({12:r}),({uniqueId:r})=>r?4096:0]},$$scope:{ctx:n}}});let l=n[0].options.allowEmailAuth&&z3(n);return{c(){U(e.$$.fragment),t=D(),l&&l.c(),i=Ee()},m(r,o){q(e,r,o),C(r,t,o),l&&l.m(r,o),C(r,i,o),s=!0},p(r,o){const a={};o&12289&&(a.$$scope={dirty:o,ctx:r}),e.$set(a),r[0].options.allowEmailAuth?l?(l.p(r,o),o&1&&P(l,1)):(l=z3(r),l.c(),P(l,1),l.m(i.parentNode,i)):l&&(ue(),I(l,1,1,()=>{l=null}),ce())},i(r){s||(P(e.$$.fragment,r),P(l),s=!0)},o(r){I(e.$$.fragment,r),I(l),s=!1},d(r){W(e,r),r&&S(t),l&&l.d(r),r&&S(i)}}}function Bx(n){let e;return{c(){e=k("span"),e.textContent="Disabled",m(e,"class","label")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Vx(n){let e;return{c(){e=k("span"),e.textContent="Enabled",m(e,"class","label label-success")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function H3(n){let e,t,i,s,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(r,o){C(r,e,o),i=!0,s||(l=xe(Mt.call(null,e,{text:"Has errors",position:"left"})),s=!0)},i(r){i||(Yt(()=>{i&&(t||(t=gt(e,ji,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(r){t||(t=gt(e,ji,{duration:150,start:.7},!1)),t.run(0),i=!1},d(r){r&&S(e),r&&t&&t.end(),s=!1,l()}}}function zx(n){let e,t,i,s,l,r,o;function a(h,p){return h[0].options.allowEmailAuth?Vx:Bx}let f=a(n),u=f(n),d=n[2]&&H3();return{c(){e=k("div"),e.innerHTML=`<i class="ri-mail-star-line"></i> 
                <span class="txt">Email/Password</span>`,t=D(),i=k("div"),s=D(),u.c(),l=D(),d&&d.c(),r=Ee(),m(e,"class","inline-flex"),m(i,"class","flex-fill")},m(h,p){C(h,e,p),C(h,t,p),C(h,i,p),C(h,s,p),u.m(h,p),C(h,l,p),d&&d.m(h,p),C(h,r,p),o=!0},p(h,p){f!==(f=a(h))&&(u.d(1),u=f(h),u&&(u.c(),u.m(l.parentNode,l))),h[2]?d?p&4&&P(d,1):(d=H3(),d.c(),P(d,1),d.m(r.parentNode,r)):d&&(ue(),I(d,1,1,()=>{d=null}),ce())},i(h){o||(P(d),o=!0)},o(h){I(d),o=!1},d(h){h&&S(e),h&&S(t),h&&S(i),h&&S(s),u.d(h),h&&S(l),d&&d.d(h),h&&S(r)}}}function Hx(n){let e,t,i,s,l,r,o,a;return{c(){e=k("input"),i=D(),s=k("label"),l=G("Enable"),m(e,"type","checkbox"),m(e,"id",t=n[12]),m(s,"for",r=n[12])},m(f,u){C(f,e,u),e.checked=n[0].options.allowOAuth2Auth,C(f,i,u),C(f,s,u),v(s,l),o||(a=x(e,"change",n[9]),o=!0)},p(f,u){u&4096&&t!==(t=f[12])&&m(e,"id",t),u&1&&(e.checked=f[0].options.allowOAuth2Auth),u&4096&&r!==(r=f[12])&&m(s,"for",r)},d(f){f&&S(e),f&&S(i),f&&S(s),o=!1,a()}}}function q3(n){let e,t,i;return{c(){e=k("div"),e.innerHTML='<div class="flex p-t-base"><a href="/_/#/settings/auth-providers" target="_blank" class="btn btn-sm btn-outline"><span class="txt">Manage OAuth2 providers</span></a></div>',m(e,"class","block")},m(s,l){C(s,e,l),i=!0},i(s){i||(s&&Yt(()=>{i&&(t||(t=gt(e,gn,{duration:150},!0)),t.run(1))}),i=!0)},o(s){s&&(t||(t=gt(e,gn,{duration:150},!1)),t.run(0)),i=!1},d(s){s&&S(e),s&&t&&t.end()}}}function qx(n){let e,t,i,s;e=new ze({props:{class:"form-field form-field-toggle m-b-0",name:"options.allowOAuth2Auth",$$slots:{default:[Hx,({uniqueId:r})=>({12:r}),({uniqueId:r})=>r?4096:0]},$$scope:{ctx:n}}});let l=n[0].options.allowOAuth2Auth&&q3();return{c(){U(e.$$.fragment),t=D(),l&&l.c(),i=Ee()},m(r,o){q(e,r,o),C(r,t,o),l&&l.m(r,o),C(r,i,o),s=!0},p(r,o){const a={};o&12289&&(a.$$scope={dirty:o,ctx:r}),e.$set(a),r[0].options.allowOAuth2Auth?l?o&1&&P(l,1):(l=q3(),l.c(),P(l,1),l.m(i.parentNode,i)):l&&(ue(),I(l,1,1,()=>{l=null}),ce())},i(r){s||(P(e.$$.fragment,r),P(l),s=!0)},o(r){I(e.$$.fragment,r),I(l),s=!1},d(r){W(e,r),r&&S(t),l&&l.d(r),r&&S(i)}}}function Wx(n){let e;return{c(){e=k("span"),e.textContent="Disabled",m(e,"class","label")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Ux(n){let e;return{c(){e=k("span"),e.textContent="Enabled",m(e,"class","label label-success")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function W3(n){let e,t,i,s,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(r,o){C(r,e,o),i=!0,s||(l=xe(Mt.call(null,e,{text:"Has errors",position:"left"})),s=!0)},i(r){i||(Yt(()=>{i&&(t||(t=gt(e,ji,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(r){t||(t=gt(e,ji,{duration:150,start:.7},!1)),t.run(0),i=!1},d(r){r&&S(e),r&&t&&t.end(),s=!1,l()}}}function Kx(n){let e,t,i,s,l,r,o;function a(h,p){return h[0].options.allowOAuth2Auth?Ux:Wx}let f=a(n),u=f(n),d=n[1]&&W3();return{c(){e=k("div"),e.innerHTML=`<i class="ri-shield-star-line"></i> 
                <span class="txt">OAuth2</span>`,t=D(),i=k("div"),s=D(),u.c(),l=D(),d&&d.c(),r=Ee(),m(e,"class","inline-flex"),m(i,"class","flex-fill")},m(h,p){C(h,e,p),C(h,t,p),C(h,i,p),C(h,s,p),u.m(h,p),C(h,l,p),d&&d.m(h,p),C(h,r,p),o=!0},p(h,p){f!==(f=a(h))&&(u.d(1),u=f(h),u&&(u.c(),u.m(l.parentNode,l))),h[1]?d?p&2&&P(d,1):(d=W3(),d.c(),P(d,1),d.m(r.parentNode,r)):d&&(ue(),I(d,1,1,()=>{d=null}),ce())},i(h){o||(P(d),o=!0)},o(h){I(d),o=!1},d(h){h&&S(e),h&&S(t),h&&S(i),h&&S(s),u.d(h),h&&S(l),d&&d.d(h),h&&S(r)}}}function Jx(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Minimum password length"),s=D(),l=k("input"),m(e,"for",i=n[12]),m(l,"type","number"),m(l,"id",r=n[12]),l.required=!0,m(l,"min","6"),m(l,"max","72")},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].options.minPasswordLength),o||(a=x(l,"input",n[10]),o=!0)},p(f,u){u&4096&&i!==(i=f[12])&&m(e,"for",i),u&4096&&r!==(r=f[12])&&m(l,"id",r),u&1&&jn(l.value)!==f[0].options.minPasswordLength&&Ae(l,f[0].options.minPasswordLength)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function xx(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("input"),i=D(),s=k("label"),l=k("span"),l.textContent="Always require email",r=D(),o=k("i"),m(e,"type","checkbox"),m(e,"id",t=n[12]),m(l,"class","txt"),m(o,"class","ri-information-line txt-sm link-hint"),m(s,"for",a=n[12])},m(d,h){C(d,e,h),e.checked=n[0].options.requireEmail,C(d,i,h),C(d,s,h),v(s,l),v(s,r),v(s,o),f||(u=[x(e,"change",n[11]),xe(Mt.call(null,o,{text:`The constraint is applied only for new records.
Also note that some OAuth2 providers (like Twitter), don't return an email and the authentication may fail if the email field is required.`,position:"right"}))],f=!0)},p(d,h){h&4096&&t!==(t=d[12])&&m(e,"id",t),h&1&&(e.checked=d[0].options.requireEmail),h&4096&&a!==(a=d[12])&&m(s,"for",a)},d(d){d&&S(e),d&&S(i),d&&S(s),f=!1,Ke(u)}}}function Yx(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y;return s=new cp({props:{single:!0,$$slots:{header:[Rx],default:[Px]},$$scope:{ctx:n}}}),r=new cp({props:{single:!0,$$slots:{header:[zx],default:[jx]},$$scope:{ctx:n}}}),a=new cp({props:{single:!0,$$slots:{header:[Kx],default:[qx]},$$scope:{ctx:n}}}),g=new ze({props:{class:"form-field required",name:"options.minPasswordLength",$$slots:{default:[Jx,({uniqueId:w})=>({12:w}),({uniqueId:w})=>w?4096:0]},$$scope:{ctx:n}}}),_=new ze({props:{class:"form-field form-field-toggle m-b-sm",name:"options.requireEmail",$$slots:{default:[xx,({uniqueId:w})=>({12:w}),({uniqueId:w})=>w?4096:0]},$$scope:{ctx:n}}}),{c(){e=k("h4"),e.textContent="Auth methods",t=D(),i=k("div"),U(s.$$.fragment),l=D(),U(r.$$.fragment),o=D(),U(a.$$.fragment),f=D(),u=k("hr"),d=D(),h=k("h4"),h.textContent="General",p=D(),U(g.$$.fragment),b=D(),U(_.$$.fragment),m(e,"class","section-title"),m(i,"class","accordions"),m(h,"class","section-title")},m(w,A){C(w,e,A),C(w,t,A),C(w,i,A),q(s,i,null),v(i,l),q(r,i,null),v(i,o),q(a,i,null),C(w,f,A),C(w,u,A),C(w,d,A),C(w,h,A),C(w,p,A),q(g,w,A),C(w,b,A),q(_,w,A),y=!0},p(w,[A]){const M={};A&8201&&(M.$$scope={dirty:A,ctx:w}),s.$set(M);const T={};A&8197&&(T.$$scope={dirty:A,ctx:w}),r.$set(T);const O={};A&8195&&(O.$$scope={dirty:A,ctx:w}),a.$set(O);const E={};A&12289&&(E.$$scope={dirty:A,ctx:w}),g.$set(E);const R={};A&12289&&(R.$$scope={dirty:A,ctx:w}),_.$set(R)},i(w){y||(P(s.$$.fragment,w),P(r.$$.fragment,w),P(a.$$.fragment,w),P(g.$$.fragment,w),P(_.$$.fragment,w),y=!0)},o(w){I(s.$$.fragment,w),I(r.$$.fragment,w),I(a.$$.fragment,w),I(g.$$.fragment,w),I(_.$$.fragment,w),y=!1},d(w){w&&S(e),w&&S(t),w&&S(i),W(s),W(r),W(a),w&&S(f),w&&S(u),w&&S(d),w&&S(h),w&&S(p),W(g,w),w&&S(b),W(_,w)}}}function Gx(n,e,t){let i,s,l,r;Ht(n,to,b=>t(4,r=b));let{collection:o=new Is}=e;function a(){o.options.allowUsernameAuth=this.checked,t(0,o)}function f(){o.options.allowEmailAuth=this.checked,t(0,o)}function u(b){n.$$.not_equal(o.options.exceptEmailDomains,b)&&(o.options.exceptEmailDomains=b,t(0,o))}function d(b){n.$$.not_equal(o.options.onlyEmailDomains,b)&&(o.options.onlyEmailDomains=b,t(0,o))}function h(){o.options.allowOAuth2Auth=this.checked,t(0,o)}function p(){o.options.minPasswordLength=jn(this.value),t(0,o)}function g(){o.options.requireEmail=this.checked,t(0,o)}return n.$$set=b=>{"collection"in b&&t(0,o=b.collection)},n.$$.update=()=>{var b,_,y,w;n.$$.dirty&1&&o.$isAuth&&ee.isEmpty(o.options)&&t(0,o.options={allowEmailAuth:!0,allowUsernameAuth:!0,allowOAuth2Auth:!0,minPasswordLength:8},o),n.$$.dirty&16&&t(2,s=!ee.isEmpty((b=r==null?void 0:r.options)==null?void 0:b.allowEmailAuth)||!ee.isEmpty((_=r==null?void 0:r.options)==null?void 0:_.onlyEmailDomains)||!ee.isEmpty((y=r==null?void 0:r.options)==null?void 0:y.exceptEmailDomains)),n.$$.dirty&16&&t(1,l=!ee.isEmpty((w=r==null?void 0:r.options)==null?void 0:w.allowOAuth2Auth))},t(3,i=!1),[o,l,s,i,r,a,f,u,d,h,p,g]}class Xx extends ke{constructor(e){super(),ve(this,e,Gx,Yx,De,{collection:0})}}function U3(n,e,t){const i=n.slice();return i[17]=e[t],i}function K3(n,e,t){const i=n.slice();return i[17]=e[t],i}function J3(n,e,t){const i=n.slice();return i[17]=e[t],i}function x3(n){let e;return{c(){e=k("p"),e.textContent="All data associated with the removed fields will be permanently deleted!"},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Y3(n){var o;let e,t,i,s,l=n[3]&&G3(n),r=!((o=n[2])!=null&&o.$isView)&&X3(n);return{c(){e=k("h6"),e.textContent="Changes:",t=D(),i=k("ul"),l&&l.c(),s=D(),r&&r.c(),m(i,"class","changes-list svelte-xqpcsf")},m(a,f){C(a,e,f),C(a,t,f),C(a,i,f),l&&l.m(i,null),v(i,s),r&&r.m(i,null)},p(a,f){var u;a[3]?l?l.p(a,f):(l=G3(a),l.c(),l.m(i,s)):l&&(l.d(1),l=null),(u=a[2])!=null&&u.$isView?r&&(r.d(1),r=null):r?r.p(a,f):(r=X3(a),r.c(),r.m(i,null))},d(a){a&&S(e),a&&S(t),a&&S(i),l&&l.d(),r&&r.d()}}}function G3(n){var p,g;let e,t,i,s,l=((p=n[1])==null?void 0:p.name)+"",r,o,a,f,u,d=((g=n[2])==null?void 0:g.name)+"",h;return{c(){e=k("li"),t=k("div"),i=G(`Renamed collection
                        `),s=k("strong"),r=G(l),o=D(),a=k("i"),f=D(),u=k("strong"),h=G(d),m(s,"class","txt-strikethrough txt-hint"),m(a,"class","ri-arrow-right-line txt-sm"),m(u,"class","txt"),m(t,"class","inline-flex"),m(e,"class","svelte-xqpcsf")},m(b,_){C(b,e,_),v(e,t),v(t,i),v(t,s),v(s,r),v(t,o),v(t,a),v(t,f),v(t,u),v(u,h)},p(b,_){var y,w;_&2&&l!==(l=((y=b[1])==null?void 0:y.name)+"")&&pe(r,l),_&4&&d!==(d=((w=b[2])==null?void 0:w.name)+"")&&pe(h,d)},d(b){b&&S(e)}}}function X3(n){let e,t,i,s=n[5],l=[];for(let u=0;u<s.length;u+=1)l[u]=Z3(J3(n,s,u));let r=n[7],o=[];for(let u=0;u<r.length;u+=1)o[u]=Q3(K3(n,r,u));let a=n[6],f=[];for(let u=0;u<a.length;u+=1)f[u]=$3(U3(n,a,u));return{c(){for(let u=0;u<l.length;u+=1)l[u].c();e=D();for(let u=0;u<o.length;u+=1)o[u].c();t=D();for(let u=0;u<f.length;u+=1)f[u].c();i=Ee()},m(u,d){for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(u,d);C(u,e,d);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(u,d);C(u,t,d);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(u,d);C(u,i,d)},p(u,d){if(d&32){s=u[5];let h;for(h=0;h<s.length;h+=1){const p=J3(u,s,h);l[h]?l[h].p(p,d):(l[h]=Z3(p),l[h].c(),l[h].m(e.parentNode,e))}for(;h<l.length;h+=1)l[h].d(1);l.length=s.length}if(d&128){r=u[7];let h;for(h=0;h<r.length;h+=1){const p=K3(u,r,h);o[h]?o[h].p(p,d):(o[h]=Q3(p),o[h].c(),o[h].m(t.parentNode,t))}for(;h<o.length;h+=1)o[h].d(1);o.length=r.length}if(d&64){a=u[6];let h;for(h=0;h<a.length;h+=1){const p=U3(u,a,h);f[h]?f[h].p(p,d):(f[h]=$3(p),f[h].c(),f[h].m(i.parentNode,i))}for(;h<f.length;h+=1)f[h].d(1);f.length=a.length}},d(u){Ot(l,u),u&&S(e),Ot(o,u),u&&S(t),Ot(f,u),u&&S(i)}}}function Z3(n){let e,t,i,s=n[17].name+"",l,r,o;return{c(){e=k("li"),t=G(`Multiple to single value conversion of field
                        `),i=k("strong"),l=G(s),r=D(),o=k("em"),o.textContent="(will keep only the last array item)",m(o,"class","txt-sm"),m(e,"class","svelte-xqpcsf")},m(a,f){C(a,e,f),v(e,t),v(e,i),v(i,l),v(e,r),v(e,o)},p(a,f){f&32&&s!==(s=a[17].name+"")&&pe(l,s)},d(a){a&&S(e)}}}function Q3(n){let e,t,i,s,l=n[17].originalName+"",r,o,a,f,u,d=n[17].name+"",h;return{c(){e=k("li"),t=k("div"),i=G(`Renamed field
                            `),s=k("strong"),r=G(l),o=D(),a=k("i"),f=D(),u=k("strong"),h=G(d),m(s,"class","txt-strikethrough txt-hint"),m(a,"class","ri-arrow-right-line txt-sm"),m(u,"class","txt"),m(t,"class","inline-flex"),m(e,"class","svelte-xqpcsf")},m(p,g){C(p,e,g),v(e,t),v(t,i),v(t,s),v(s,r),v(t,o),v(t,a),v(t,f),v(t,u),v(u,h)},p(p,g){g&128&&l!==(l=p[17].originalName+"")&&pe(r,l),g&128&&d!==(d=p[17].name+"")&&pe(h,d)},d(p){p&&S(e)}}}function $3(n){let e,t,i,s=n[17].name+"",l,r;return{c(){e=k("li"),t=G("Removed field "),i=k("span"),l=G(s),r=D(),m(i,"class","txt-bold"),m(e,"class","txt-danger svelte-xqpcsf")},m(o,a){C(o,e,a),v(e,t),v(e,i),v(i,l),v(e,r)},p(o,a){a&64&&s!==(s=o[17].name+"")&&pe(l,s)},d(o){o&&S(e)}}}function Zx(n){let e,t,i,s,l,r,o,a,f=n[6].length&&x3(),u=n[8]&&Y3(n);return{c(){e=k("div"),t=k("div"),t.innerHTML='<i class="ri-error-warning-line"></i>',i=D(),s=k("div"),l=k("p"),l.textContent=`If any of the collection changes is part of another collection rule, filter or view query,
                you'll have to update it manually!`,r=D(),f&&f.c(),o=D(),u&&u.c(),a=Ee(),m(t,"class","icon"),m(s,"class","content txt-bold"),m(e,"class","alert alert-warning")},m(d,h){C(d,e,h),v(e,t),v(e,i),v(e,s),v(s,l),v(s,r),f&&f.m(s,null),C(d,o,h),u&&u.m(d,h),C(d,a,h)},p(d,h){d[6].length?f||(f=x3(),f.c(),f.m(s,null)):f&&(f.d(1),f=null),d[8]?u?u.p(d,h):(u=Y3(d),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null)},d(d){d&&S(e),f&&f.d(),d&&S(o),u&&u.d(d),d&&S(a)}}}function Qx(n){let e;return{c(){e=k("h4"),e.textContent="Confirm collection changes"},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function $x(n){let e,t,i,s,l;return{c(){e=k("button"),e.innerHTML='<span class="txt">Cancel</span>',t=D(),i=k("button"),i.innerHTML='<span class="txt">Confirm</span>',e.autofocus=!0,m(e,"type","button"),m(e,"class","btn btn-transparent"),m(i,"type","button"),m(i,"class","btn btn-expanded")},m(r,o){C(r,e,o),C(r,t,o),C(r,i,o),e.focus(),s||(l=[x(e,"click",n[11]),x(i,"click",n[12])],s=!0)},p:te,d(r){r&&S(e),r&&S(t),r&&S(i),s=!1,Ke(l)}}}function eY(n){let e,t,i={class:"confirm-changes-panel",popup:!0,$$slots:{footer:[$x],header:[Qx],default:[Zx]},$$scope:{ctx:n}};return e=new rs({props:i}),n[13](e),e.$on("hide",n[14]),e.$on("show",n[15]),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,[l]){const r={};l&16777710&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[13](null),W(e,s)}}}function tY(n,e,t){let i,s,l,r,o;const a=Hn();let f,u,d;async function h(M,T){t(1,u=M),t(2,d=T),await nn(),i||s.length||l.length||r.length?f==null||f.show():g()}function p(){f==null||f.hide()}function g(){p(),a("confirm")}const b=()=>p(),_=()=>g();function y(M){de[M?"unshift":"push"](()=>{f=M,t(4,f)})}function w(M){ht.call(this,n,M)}function A(M){ht.call(this,n,M)}return n.$$.update=()=>{var M,T,O;n.$$.dirty&6&&t(3,i=(u==null?void 0:u.name)!=(d==null?void 0:d.name)),n.$$.dirty&4&&t(7,s=((M=d==null?void 0:d.schema)==null?void 0:M.filter(E=>E.id&&!E.toDelete&&E.originalName!=E.name))||[]),n.$$.dirty&4&&t(6,l=((T=d==null?void 0:d.schema)==null?void 0:T.filter(E=>E.id&&E.toDelete))||[]),n.$$.dirty&6&&t(5,r=((O=d==null?void 0:d.schema)==null?void 0:O.filter(E=>{var N,j,L;const R=(N=u==null?void 0:u.schema)==null?void 0:N.find(F=>F.id==E.id);return R?((j=R.options)==null?void 0:j.maxSelect)!=1&&((L=E.options)==null?void 0:L.maxSelect)==1:!1}))||[]),n.$$.dirty&12&&t(8,o=!(d!=null&&d.$isView)||i)},[p,u,d,i,f,r,l,s,o,g,h,b,_,y,w,A]}class nY extends ke{constructor(e){super(),ve(this,e,tY,eY,De,{show:10,hide:0})}get show(){return this.$$.ctx[10]}get hide(){return this.$$.ctx[0]}}function eS(n,e,t){const i=n.slice();return i[49]=e[t][0],i[50]=e[t][1],i}function iY(n){let e,t,i;function s(r){n[33](r)}let l={};return n[2]!==void 0&&(l.collection=n[2]),e=new rx({props:l}),de.push(()=>Ne(e,"collection",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};!t&&o[0]&4&&(t=!0,a.collection=r[2],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function sY(n){let e,t,i;function s(r){n[32](r)}let l={};return n[2]!==void 0&&(l.collection=n[2]),e=new Mx({props:l}),de.push(()=>Ne(e,"collection",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};!t&&o[0]&4&&(t=!0,a.collection=r[2],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function tS(n){let e,t,i,s;function l(o){n[34](o)}let r={};return n[2]!==void 0&&(r.collection=n[2]),t=new yx({props:r}),de.push(()=>Ne(t,"collection",l)),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","tab-item active")},m(o,a){C(o,e,a),q(t,e,null),s=!0},p(o,a){const f={};!i&&a[0]&4&&(i=!0,f.collection=o[2],Be(()=>i=!1)),t.$set(f)},i(o){s||(P(t.$$.fragment,o),s=!0)},o(o){I(t.$$.fragment,o),s=!1},d(o){o&&S(e),W(t)}}}function nS(n){let e,t,i,s;function l(o){n[35](o)}let r={};return n[2]!==void 0&&(r.collection=n[2]),t=new Xx({props:r}),de.push(()=>Ne(t,"collection",l)),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","tab-item"),$(e,"active",n[3]===eu)},m(o,a){C(o,e,a),q(t,e,null),s=!0},p(o,a){const f={};!i&&a[0]&4&&(i=!0,f.collection=o[2],Be(()=>i=!1)),t.$set(f),(!s||a[0]&8)&&$(e,"active",o[3]===eu)},i(o){s||(P(t.$$.fragment,o),s=!0)},o(o){I(t.$$.fragment,o),s=!1},d(o){o&&S(e),W(t)}}}function lY(n){let e,t,i,s,l,r,o;const a=[sY,iY],f=[];function u(p,g){return p[2].$isView?0:1}i=u(n),s=f[i]=a[i](n);let d=n[3]===xc&&tS(n),h=n[2].$isAuth&&nS(n);return{c(){e=k("div"),t=k("div"),s.c(),l=D(),d&&d.c(),r=D(),h&&h.c(),m(t,"class","tab-item"),$(t,"active",n[3]===wo),m(e,"class","tabs-content svelte-12y0yzb")},m(p,g){C(p,e,g),v(e,t),f[i].m(t,null),v(e,l),d&&d.m(e,null),v(e,r),h&&h.m(e,null),o=!0},p(p,g){let b=i;i=u(p),i===b?f[i].p(p,g):(ue(),I(f[b],1,1,()=>{f[b]=null}),ce(),s=f[i],s?s.p(p,g):(s=f[i]=a[i](p),s.c()),P(s,1),s.m(t,null)),(!o||g[0]&8)&&$(t,"active",p[3]===wo),p[3]===xc?d?(d.p(p,g),g[0]&8&&P(d,1)):(d=tS(p),d.c(),P(d,1),d.m(e,r)):d&&(ue(),I(d,1,1,()=>{d=null}),ce()),p[2].$isAuth?h?(h.p(p,g),g[0]&4&&P(h,1)):(h=nS(p),h.c(),P(h,1),h.m(e,null)):h&&(ue(),I(h,1,1,()=>{h=null}),ce())},i(p){o||(P(s),P(d),P(h),o=!0)},o(p){I(s),I(d),I(h),o=!1},d(p){p&&S(e),f[i].d(),d&&d.d(),h&&h.d()}}}function iS(n){let e,t,i,s,l,r,o;return r=new kl({props:{class:"dropdown dropdown-right m-t-5",$$slots:{default:[rY]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=D(),i=k("button"),s=k("i"),l=D(),U(r.$$.fragment),m(e,"class","flex-fill"),m(s,"class","ri-more-line"),m(i,"type","button"),m(i,"aria-label","More"),m(i,"class","btn btn-sm btn-circle btn-transparent flex-gap-0")},m(a,f){C(a,e,f),C(a,t,f),C(a,i,f),v(i,s),v(i,l),q(r,i,null),o=!0},p(a,f){const u={};f[1]&4194304&&(u.$$scope={dirty:f,ctx:a}),r.$set(u)},i(a){o||(P(r.$$.fragment,a),o=!0)},o(a){I(r.$$.fragment,a),o=!1},d(a){a&&S(e),a&&S(t),a&&S(i),W(r)}}}function rY(n){let e,t,i,s,l;return{c(){e=k("button"),e.innerHTML=`<i class="ri-file-copy-line"></i> 
                        <span class="txt">Duplicate</span>`,t=D(),i=k("button"),i.innerHTML=`<i class="ri-delete-bin-7-line"></i> 
                        <span class="txt">Delete</span>`,m(e,"type","button"),m(e,"class","dropdown-item closable"),m(i,"type","button"),m(i,"class","dropdown-item txt-danger closable")},m(r,o){C(r,e,o),C(r,t,o),C(r,i,o),s||(l=[x(e,"click",n[24]),x(i,"click",Ei(qt(n[25])))],s=!0)},p:te,d(r){r&&S(e),r&&S(t),r&&S(i),s=!1,Ke(l)}}}function sS(n){let e,t,i,s;return i=new kl({props:{class:"dropdown dropdown-right dropdown-nowrap m-t-5",$$slots:{default:[oY]},$$scope:{ctx:n}}}),{c(){e=k("i"),t=D(),U(i.$$.fragment),m(e,"class","ri-arrow-down-s-fill")},m(l,r){C(l,e,r),C(l,t,r),q(i,l,r),s=!0},p(l,r){const o={};r[0]&68|r[1]&4194304&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(P(i.$$.fragment,l),s=!0)},o(l){I(i.$$.fragment,l),s=!1},d(l){l&&S(e),l&&S(t),W(i,l)}}}function lS(n){let e,t,i,s,l,r=n[50]+"",o,a,f,u,d;function h(){return n[27](n[49])}return{c(){e=k("button"),t=k("i"),s=D(),l=k("span"),o=G(r),a=G(" collection"),f=D(),m(t,"class",i=vn(ee.getCollectionTypeIcon(n[49]))+" svelte-12y0yzb"),m(l,"class","txt"),m(e,"type","button"),m(e,"class","dropdown-item closable"),$(e,"selected",n[49]==n[2].type)},m(p,g){C(p,e,g),v(e,t),v(e,s),v(e,l),v(l,o),v(l,a),v(e,f),u||(d=x(e,"click",h),u=!0)},p(p,g){n=p,g[0]&64&&i!==(i=vn(ee.getCollectionTypeIcon(n[49]))+" svelte-12y0yzb")&&m(t,"class",i),g[0]&64&&r!==(r=n[50]+"")&&pe(o,r),g[0]&68&&$(e,"selected",n[49]==n[2].type)},d(p){p&&S(e),u=!1,d()}}}function oY(n){let e,t=Object.entries(n[6]),i=[];for(let s=0;s<t.length;s+=1)i[s]=lS(eS(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Ee()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);C(s,e,l)},p(s,l){if(l[0]&131140){t=Object.entries(s[6]);let r;for(r=0;r<t.length;r+=1){const o=eS(s,t,r);i[r]?i[r].p(o,l):(i[r]=lS(o),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(s){Ot(i,s),s&&S(e)}}}function rS(n){let e;return{c(){e=k("div"),e.textContent="System collection",m(e,"class","help-block")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function aY(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y=(n[6][n[2].type]||"N/A")+"",w,A,M,T,O,E,R,N,j,L=n[2].$isNew&&sS(n),F=n[2].system&&rS();return{c(){e=k("label"),t=G("Name"),s=D(),l=k("input"),u=D(),d=k("div"),h=k("button"),p=k("span"),g=D(),b=k("span"),_=G("Type: "),w=G(y),A=D(),L&&L.c(),O=D(),F&&F.c(),E=Ee(),m(e,"for",i=n[48]),m(l,"type","text"),m(l,"id",r=n[48]),l.required=!0,l.disabled=n[13],m(l,"spellcheck","false"),l.autofocus=o=n[2].$isNew,m(l,"placeholder",a=n[2].$isAuth?'eg. "users"':'eg. "posts"'),l.value=f=n[2].name,m(b,"class","txt"),m(h,"type","button"),m(h,"class",M="btn btn-sm p-r-10 p-l-10 "+(n[2].$isNew?"btn-outline":"btn-transparent")),h.disabled=T=!n[2].$isNew,m(d,"class","form-field-addon")},m(B,V){C(B,e,V),v(e,t),C(B,s,V),C(B,l,V),C(B,u,V),C(B,d,V),v(d,h),v(h,p),v(h,g),v(h,b),v(b,_),v(b,w),v(h,A),L&&L.m(h,null),C(B,O,V),F&&F.m(B,V),C(B,E,V),R=!0,n[2].$isNew&&l.focus(),N||(j=x(l,"input",n[26]),N=!0)},p(B,V){(!R||V[1]&131072&&i!==(i=B[48]))&&m(e,"for",i),(!R||V[1]&131072&&r!==(r=B[48]))&&m(l,"id",r),(!R||V[0]&8192)&&(l.disabled=B[13]),(!R||V[0]&4&&o!==(o=B[2].$isNew))&&(l.autofocus=o),(!R||V[0]&4&&a!==(a=B[2].$isAuth?'eg. "users"':'eg. "posts"'))&&m(l,"placeholder",a),(!R||V[0]&4&&f!==(f=B[2].name)&&l.value!==f)&&(l.value=f),(!R||V[0]&68)&&y!==(y=(B[6][B[2].type]||"N/A")+"")&&pe(w,y),B[2].$isNew?L?(L.p(B,V),V[0]&4&&P(L,1)):(L=sS(B),L.c(),P(L,1),L.m(h,null)):L&&(ue(),I(L,1,1,()=>{L=null}),ce()),(!R||V[0]&4&&M!==(M="btn btn-sm p-r-10 p-l-10 "+(B[2].$isNew?"btn-outline":"btn-transparent")))&&m(h,"class",M),(!R||V[0]&4&&T!==(T=!B[2].$isNew))&&(h.disabled=T),B[2].system?F||(F=rS(),F.c(),F.m(E.parentNode,E)):F&&(F.d(1),F=null)},i(B){R||(P(L),R=!0)},o(B){I(L),R=!1},d(B){B&&S(e),B&&S(s),B&&S(l),B&&S(u),B&&S(d),L&&L.d(),B&&S(O),F&&F.d(B),B&&S(E),N=!1,j()}}}function oS(n){let e,t,i,s,l,r;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(o,a){C(o,e,a),s=!0,l||(r=xe(t=Mt.call(null,e,n[11])),l=!0)},p(o,a){t&&fn(t.update)&&a[0]&2048&&t.update.call(null,o[11])},i(o){s||(o&&Yt(()=>{s&&(i||(i=gt(e,ji,{duration:150,start:.7},!0)),i.run(1))}),s=!0)},o(o){o&&(i||(i=gt(e,ji,{duration:150,start:.7},!1)),i.run(0)),s=!1},d(o){o&&S(e),o&&i&&i.end(),l=!1,r()}}}function aS(n){let e,t,i,s,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(r,o){C(r,e,o),i=!0,s||(l=xe(Mt.call(null,e,"Has errors")),s=!0)},i(r){i||(r&&Yt(()=>{i&&(t||(t=gt(e,ji,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=gt(e,ji,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(r){r&&S(e),r&&t&&t.end(),s=!1,l()}}}function fS(n){var a,f,u;let e,t,i,s=!ee.isEmpty((a=n[5])==null?void 0:a.options)&&!((u=(f=n[5])==null?void 0:f.options)!=null&&u.manageRule),l,r,o=s&&uS();return{c(){e=k("button"),t=k("span"),t.textContent="Options",i=D(),o&&o.c(),m(t,"class","txt"),m(e,"type","button"),m(e,"class","tab-item"),$(e,"active",n[3]===eu)},m(d,h){C(d,e,h),v(e,t),v(e,i),o&&o.m(e,null),l||(r=x(e,"click",n[31]),l=!0)},p(d,h){var p,g,b;h[0]&32&&(s=!ee.isEmpty((p=d[5])==null?void 0:p.options)&&!((b=(g=d[5])==null?void 0:g.options)!=null&&b.manageRule)),s?o?h[0]&32&&P(o,1):(o=uS(),o.c(),P(o,1),o.m(e,null)):o&&(ue(),I(o,1,1,()=>{o=null}),ce()),h[0]&8&&$(e,"active",d[3]===eu)},d(d){d&&S(e),o&&o.d(),l=!1,r()}}}function uS(n){let e,t,i,s,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(r,o){C(r,e,o),i=!0,s||(l=xe(Mt.call(null,e,"Has errors")),s=!0)},i(r){i||(r&&Yt(()=>{i&&(t||(t=gt(e,ji,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=gt(e,ji,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(r){r&&S(e),r&&t&&t.end(),s=!1,l()}}}function fY(n){var H,K,X,J,z,Z,Y,oe;let e,t=n[2].$isNew?"New collection":"Edit collection",i,s,l,r,o,a,f,u,d,h,p,g=(H=n[2])!=null&&H.$isView?"Query":"Fields",b,_,y=!ee.isEmpty(n[11]),w,A,M,T,O=!ee.isEmpty((K=n[5])==null?void 0:K.listRule)||!ee.isEmpty((X=n[5])==null?void 0:X.viewRule)||!ee.isEmpty((J=n[5])==null?void 0:J.createRule)||!ee.isEmpty((z=n[5])==null?void 0:z.updateRule)||!ee.isEmpty((Z=n[5])==null?void 0:Z.deleteRule)||!ee.isEmpty((oe=(Y=n[5])==null?void 0:Y.options)==null?void 0:oe.manageRule),E,R,N,j,L=!n[2].$isNew&&!n[2].system&&iS(n);o=new ze({props:{class:"form-field collection-field-name required m-b-0 "+(n[13]?"disabled":""),name:"name",$$slots:{default:[aY,({uniqueId:re})=>({48:re}),({uniqueId:re})=>[0,re?131072:0]]},$$scope:{ctx:n}}});let F=y&&oS(n),B=O&&aS(),V=n[2].$isAuth&&fS(n);return{c(){e=k("h4"),i=G(t),s=D(),L&&L.c(),l=D(),r=k("form"),U(o.$$.fragment),a=D(),f=k("input"),u=D(),d=k("div"),h=k("button"),p=k("span"),b=G(g),_=D(),F&&F.c(),w=D(),A=k("button"),M=k("span"),M.textContent="API Rules",T=D(),B&&B.c(),E=D(),V&&V.c(),m(e,"class","upsert-panel-title svelte-12y0yzb"),m(f,"type","submit"),m(f,"class","hidden"),m(f,"tabindex","-1"),m(r,"class","block"),m(p,"class","txt"),m(h,"type","button"),m(h,"class","tab-item"),$(h,"active",n[3]===wo),m(M,"class","txt"),m(A,"type","button"),m(A,"class","tab-item"),$(A,"active",n[3]===xc),m(d,"class","tabs-header stretched")},m(re,Q){C(re,e,Q),v(e,i),C(re,s,Q),L&&L.m(re,Q),C(re,l,Q),C(re,r,Q),q(o,r,null),v(r,a),v(r,f),C(re,u,Q),C(re,d,Q),v(d,h),v(h,p),v(p,b),v(h,_),F&&F.m(h,null),v(d,w),v(d,A),v(A,M),v(A,T),B&&B.m(A,null),v(d,E),V&&V.m(d,null),R=!0,N||(j=[x(r,"submit",qt(n[28])),x(h,"click",n[29]),x(A,"click",n[30])],N=!0)},p(re,Q){var qe,be,Ie,he,Ve,Qe,it,ye;(!R||Q[0]&4)&&t!==(t=re[2].$isNew?"New collection":"Edit collection")&&pe(i,t),!re[2].$isNew&&!re[2].system?L?(L.p(re,Q),Q[0]&4&&P(L,1)):(L=iS(re),L.c(),P(L,1),L.m(l.parentNode,l)):L&&(ue(),I(L,1,1,()=>{L=null}),ce());const me={};Q[0]&8192&&(me.class="form-field collection-field-name required m-b-0 "+(re[13]?"disabled":"")),Q[0]&8260|Q[1]&4325376&&(me.$$scope={dirty:Q,ctx:re}),o.$set(me),(!R||Q[0]&4)&&g!==(g=(qe=re[2])!=null&&qe.$isView?"Query":"Fields")&&pe(b,g),Q[0]&2048&&(y=!ee.isEmpty(re[11])),y?F?(F.p(re,Q),Q[0]&2048&&P(F,1)):(F=oS(re),F.c(),P(F,1),F.m(h,null)):F&&(ue(),I(F,1,1,()=>{F=null}),ce()),(!R||Q[0]&8)&&$(h,"active",re[3]===wo),Q[0]&32&&(O=!ee.isEmpty((be=re[5])==null?void 0:be.listRule)||!ee.isEmpty((Ie=re[5])==null?void 0:Ie.viewRule)||!ee.isEmpty((he=re[5])==null?void 0:he.createRule)||!ee.isEmpty((Ve=re[5])==null?void 0:Ve.updateRule)||!ee.isEmpty((Qe=re[5])==null?void 0:Qe.deleteRule)||!ee.isEmpty((ye=(it=re[5])==null?void 0:it.options)==null?void 0:ye.manageRule)),O?B?Q[0]&32&&P(B,1):(B=aS(),B.c(),P(B,1),B.m(A,null)):B&&(ue(),I(B,1,1,()=>{B=null}),ce()),(!R||Q[0]&8)&&$(A,"active",re[3]===xc),re[2].$isAuth?V?V.p(re,Q):(V=fS(re),V.c(),V.m(d,null)):V&&(V.d(1),V=null)},i(re){R||(P(L),P(o.$$.fragment,re),P(F),P(B),R=!0)},o(re){I(L),I(o.$$.fragment,re),I(F),I(B),R=!1},d(re){re&&S(e),re&&S(s),L&&L.d(re),re&&S(l),re&&S(r),W(o),re&&S(u),re&&S(d),F&&F.d(),B&&B.d(),V&&V.d(),N=!1,Ke(j)}}}function uY(n){let e,t,i,s,l,r=n[2].$isNew?"Create":"Save changes",o,a,f,u;return{c(){e=k("button"),t=k("span"),t.textContent="Cancel",i=D(),s=k("button"),l=k("span"),o=G(r),m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[9],m(l,"class","txt"),m(s,"type","button"),m(s,"class","btn btn-expanded"),s.disabled=a=!n[12]||n[9],$(s,"btn-loading",n[9])},m(d,h){C(d,e,h),v(e,t),C(d,i,h),C(d,s,h),v(s,l),v(l,o),f||(u=[x(e,"click",n[22]),x(s,"click",n[23])],f=!0)},p(d,h){h[0]&512&&(e.disabled=d[9]),h[0]&4&&r!==(r=d[2].$isNew?"Create":"Save changes")&&pe(o,r),h[0]&4608&&a!==(a=!d[12]||d[9])&&(s.disabled=a),h[0]&512&&$(s,"btn-loading",d[9])},d(d){d&&S(e),d&&S(i),d&&S(s),f=!1,Ke(u)}}}function cY(n){let e,t,i,s,l={class:"overlay-panel-lg colored-header collection-panel",escClose:!1,overlayClose:!n[9],beforeHide:n[36],$$slots:{footer:[uY],header:[fY],default:[lY]},$$scope:{ctx:n}};e=new rs({props:l}),n[37](e),e.$on("hide",n[38]),e.$on("show",n[39]);let r={};return i=new nY({props:r}),n[40](i),i.$on("confirm",n[41]),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment)},m(o,a){q(e,o,a),C(o,t,a),q(i,o,a),s=!0},p(o,a){const f={};a[0]&512&&(f.overlayClose=!o[9]),a[0]&1040&&(f.beforeHide=o[36]),a[0]&14956|a[1]&4194304&&(f.$$scope={dirty:a,ctx:o}),e.$set(f);const u={};i.$set(u)},i(o){s||(P(e.$$.fragment,o),P(i.$$.fragment,o),s=!0)},o(o){I(e.$$.fragment,o),I(i.$$.fragment,o),s=!1},d(o){n[37](null),W(e,o),o&&S(t),n[40](null),W(i,o)}}}const wo="schema",xc="api_rules",eu="options",dY="base",cS="auth",dS="view";function N1(n){return JSON.stringify(n)}function hY(n,e,t){let i,s,l,r;Ht(n,to,we=>t(5,r=we));const o={};o[dY]="Base",o[dS]="View",o[cS]="Auth";const a=Hn();let f,u,d=null,h=new Is,p=!1,g=!1,b=wo,_=N1(h),y="",w=!1,A="";function M(we){t(3,b=we)}function T(we){return E(we),t(10,g=!0),M(wo),f==null?void 0:f.show()}function O(){return f==null?void 0:f.hide()}async function E(we){Ki({}),typeof we<"u"?(t(20,d=we),t(2,h=we.$clone())):(t(20,d=null),t(2,h=new Is)),t(2,h.schema=h.schema||[],h),t(2,h.originalName=h.name||"",h),await nn(),t(21,_=N1(h))}function R(){h.$isNew?N():u==null||u.show(d,h)}function N(){if(p)return;t(9,p=!0);const we=j();let Ue;h.$isNew?Ue=Re.collections.create(we):Ue=Re.collections.update(h.id,we),Ue.then(Oe=>{X_(),CB(Oe),w&&(Ue=Re.collection(A).getList(1,500),Ue.then(_e=>{_e.items.forEach(async Ye=>{await Re.collection(we.name).create(Ye,{$autoCancel:!1})})})),t(10,g=!1),O(),fi(h.$isNew?"Successfully created collection.":"Successfully updated collection."),a("save",{isNew:h.$isNew,collection:Oe})}).catch(Oe=>{Re.error(Oe)}).finally(()=>{t(9,p=!1)})}function j(){const we=h.$export();we.schema=we.schema.slice(0);for(let Ue=we.schema.length-1;Ue>=0;Ue--)we.schema[Ue].toDelete&&we.schema.splice(Ue,1);return we}function L(){d!=null&&d.id&&ds(`Do you really want to delete collection "${d==null?void 0:d.name}" and all its records?`,()=>Re.collections.delete(d==null?void 0:d.id).then(()=>{O(),fi(`Successfully deleted collection "${d==null?void 0:d.name}".`),a("delete",d),MB(d)}).catch(we=>{Re.error(we)}))}function F(we){t(2,h.type=we,h),_r("schema")}function B(){s?ds("You have unsaved changes. Do you really want to discard them?",()=>{V()}):V()}async function V(){const we=d==null?void 0:d.$clone();if(we){if(A=we.name,we.id="",we.created="",we.updated="",we.name+="_duplicate",!ee.isEmpty(we.schema))for(const Ue of we.schema)Ue.id="";if(!ee.isEmpty(we.indexes))for(let Ue=0;Ue<we.indexes.length;Ue++){const Oe=ee.parseIndex(we.indexes[Ue]);Oe.indexName="idx_"+ee.randomString(7),Oe.tableName=we.name,we.indexes[Ue]=ee.buildIndex(Oe)}}w=!0,T(we),await nn(),t(21,_="")}const H=()=>O(),K=()=>R(),X=()=>B(),J=()=>L(),z=we=>{t(2,h.name=ee.slugify(we.target.value),h),we.target.value=h.name},Z=we=>F(we),Y=()=>{l&&R()},oe=()=>M(wo),re=()=>M(xc),Q=()=>M(eu);function me(we){h=we,t(2,h),t(20,d)}function qe(we){h=we,t(2,h),t(20,d)}function be(we){h=we,t(2,h),t(20,d)}function Ie(we){h=we,t(2,h),t(20,d)}const he=()=>s&&g?(ds("You have unsaved changes. Do you really want to close the panel?",()=>{t(10,g=!1),O()}),!1):!0;function Ve(we){de[we?"unshift":"push"](()=>{f=we,t(7,f)})}function Qe(we){ht.call(this,n,we)}function it(we){ht.call(this,n,we)}function ye(we){de[we?"unshift":"push"](()=>{u=we,t(8,u)})}const ie=()=>N();return n.$$.update=()=>{var we,Ue;n.$$.dirty[0]&32&&(r.schema||(we=r.options)!=null&&we.query?t(11,y=ee.getNestedVal(r,"schema.message")||"Has errors"):t(11,y="")),n.$$.dirty[0]&4&&h.type===dS&&(t(2,h.createRule=null,h),t(2,h.updateRule=null,h),t(2,h.deleteRule=null,h),t(2,h.indexes=[],h)),n.$$.dirty[0]&1048580&&h!=null&&h.name&&(d==null?void 0:d.name)!=(h==null?void 0:h.name)&&t(2,h.indexes=(Ue=h.indexes)==null?void 0:Ue.map(Oe=>ee.replaceIndexTableName(Oe,h.name)),h),n.$$.dirty[0]&4&&t(13,i=!h.$isNew&&h.system),n.$$.dirty[0]&2097156&&t(4,s=_!=N1(h)),n.$$.dirty[0]&20&&t(12,l=h.$isNew||s),n.$$.dirty[0]&12&&b===eu&&h.type!==cS&&M(wo)},[M,O,h,b,s,r,o,f,u,p,g,y,l,i,R,N,L,F,B,T,d,_,H,K,X,J,z,Z,Y,oe,re,Q,me,qe,be,Ie,he,Ve,Qe,it,ye,ie]}class M2 extends ke{constructor(e){super(),ve(this,e,hY,cY,De,{changeTab:0,show:19,hide:1},null,[-1,-1])}get changeTab(){return this.$$.ctx[0]}get show(){return this.$$.ctx[19]}get hide(){return this.$$.ctx[1]}}function hS(n,e,t){const i=n.slice();return i[15]=e[t],i}function pS(n){let e,t=n[1].length&&mS();return{c(){t&&t.c(),e=Ee()},m(i,s){t&&t.m(i,s),C(i,e,s)},p(i,s){i[1].length?t||(t=mS(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){t&&t.d(i),i&&S(e)}}}function mS(n){let e;return{c(){e=k("p"),e.textContent="No collections found.",m(e,"class","txt-hint m-t-10 m-b-10 txt-center")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function gS(n,e){let t,i,s,l,r,o=e[15].name+"",a,f,u,d,h,p;return{key:n,first:null,c(){var g;t=k("a"),i=k("i"),l=D(),r=k("span"),a=G(o),f=D(),m(i,"class",s=ee.getCollectionTypeIcon(e[15].type)),m(r,"class","txt"),m(t,"href",u="/collections?collectionId="+e[15].id),m(t,"class","sidebar-list-item"),m(t,"title",d=e[15].name),$(t,"active",((g=e[5])==null?void 0:g.id)===e[15].id),this.first=t},m(g,b){C(g,t,b),v(t,i),v(t,l),v(t,r),v(r,a),v(t,f),h||(p=xe(os.call(null,t)),h=!0)},p(g,b){var _;e=g,b&8&&s!==(s=ee.getCollectionTypeIcon(e[15].type))&&m(i,"class",s),b&8&&o!==(o=e[15].name+"")&&pe(a,o),b&8&&u!==(u="/collections?collectionId="+e[15].id)&&m(t,"href",u),b&8&&d!==(d=e[15].name)&&m(t,"title",d),b&40&&$(t,"active",((_=e[5])==null?void 0:_.id)===e[15].id)},d(g){g&&S(t),h=!1,p()}}}function bS(n){let e,t,i,s;return{c(){e=k("footer"),t=k("button"),t.innerHTML=`<i class="ri-add-line"></i> 
                <span class="txt">New collection</span>`,m(t,"type","button"),m(t,"class","btn btn-block btn-outline"),m(e,"class","sidebar-footer")},m(l,r){C(l,e,r),v(e,t),i||(s=x(t,"click",n[12]),i=!0)},p:te,d(l){l&&S(e),i=!1,s()}}}function pY(n){let e,t,i,s,l,r,o,a,f,u,d,h=[],p=new Map,g,b,_,y,w,A,M=n[3];const T=N=>N[15].id;for(let N=0;N<M.length;N+=1){let j=hS(n,M,N),L=T(j);p.set(L,h[N]=gS(L,j))}let O=null;M.length||(O=pS(n));let E=!n[7]&&bS(n),R={};return _=new M2({props:R}),n[13](_),_.$on("save",n[14]),{c(){e=k("aside"),t=k("header"),i=k("div"),s=k("div"),l=k("button"),l.innerHTML='<i class="ri-close-line"></i>',r=D(),o=k("input"),a=D(),f=k("hr"),u=D(),d=k("div");for(let N=0;N<h.length;N+=1)h[N].c();O&&O.c(),g=D(),E&&E.c(),b=D(),U(_.$$.fragment),m(l,"type","button"),m(l,"class","btn btn-xs btn-transparent btn-circle btn-clear"),$(l,"hidden",!n[4]),m(s,"class","form-field-addon"),m(o,"type","text"),m(o,"placeholder","Search collections..."),m(i,"class","form-field search"),$(i,"active",n[4]),m(t,"class","sidebar-header"),m(f,"class","m-t-5 m-b-xs"),m(d,"class","sidebar-content"),$(d,"fade",n[6]),$(d,"sidebar-content-compact",n[3].length>20),m(e,"class","page-sidebar collection-sidebar")},m(N,j){C(N,e,j),v(e,t),v(t,i),v(i,s),v(s,l),v(i,r),v(i,o),Ae(o,n[0]),v(e,a),v(e,f),v(e,u),v(e,d);for(let L=0;L<h.length;L+=1)h[L]&&h[L].m(d,null);O&&O.m(d,null),v(e,g),E&&E.m(e,null),C(N,b,j),q(_,N,j),y=!0,w||(A=[x(l,"click",n[10]),x(o,"input",n[11])],w=!0)},p(N,[j]){(!y||j&16)&&$(l,"hidden",!N[4]),j&1&&o.value!==N[0]&&Ae(o,N[0]),(!y||j&16)&&$(i,"active",N[4]),j&42&&(M=N[3],h=Cn(h,j,T,1,N,M,p,d,Ko,gS,null,hS),!M.length&&O?O.p(N,j):M.length?O&&(O.d(1),O=null):(O=pS(N),O.c(),O.m(d,null))),(!y||j&64)&&$(d,"fade",N[6]),(!y||j&8)&&$(d,"sidebar-content-compact",N[3].length>20),N[7]?E&&(E.d(1),E=null):E?E.p(N,j):(E=bS(N),E.c(),E.m(e,null));const L={};_.$set(L)},i(N){y||(P(_.$$.fragment,N),y=!0)},o(N){I(_.$$.fragment,N),y=!1},d(N){N&&S(e);for(let j=0;j<h.length;j+=1)h[j].d();O&&O.d(),E&&E.d(),N&&S(b),n[13](null),W(_,N),w=!1,Ke(A)}}}function mY(){setTimeout(()=>{const n=document.querySelector(".collection-sidebar .sidebar-list-item.active");n&&(n==null||n.scrollIntoView({block:"nearest"}))},0)}function gY(n,e,t){let i,s,l,r,o,a,f;Ht(n,yr,w=>t(5,r=w)),Ht(n,Cr,w=>t(9,o=w)),Ht(n,Rp,w=>t(6,a=w)),Ht(n,Xf,w=>t(7,f=w));let u,d="";function h(w){ss(yr,r=w,r)}const p=()=>t(0,d="");function g(){d=this.value,t(0,d)}const b=()=>u==null?void 0:u.show();function _(w){de[w?"unshift":"push"](()=>{u=w,t(2,u)})}const y=w=>{var A;(A=w.detail)!=null&&A.isNew&&w.detail.collection&&h(w.detail.collection)};return n.$$.update=()=>{n.$$.dirty&512&&o&&mY(),n.$$.dirty&1&&t(1,i=d.replace(/\s+/g,"").toLowerCase()),n.$$.dirty&1&&t(4,s=d!==""),n.$$.dirty&515&&t(3,l=o.filter(w=>w.id==d||w.name.replace(/\s+/g,"").toLowerCase().includes(i)))},[d,i,u,l,s,r,a,f,h,o,p,g,b,_,y]}class bY extends ke{constructor(e){super(),ve(this,e,gY,pY,De,{})}}function _S(n,e,t){const i=n.slice();return i[14]=e[t][0],i[15]=e[t][1],i}function yS(n){n[18]=n[19].default}function vS(n,e,t){const i=n.slice();return i[14]=e[t][0],i[15]=e[t][1],i[21]=t,i}function kS(n){let e;return{c(){e=k("hr"),m(e,"class","m-t-sm m-b-sm")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function wS(n,e){let t,i=e[21]===Object.keys(e[6]).length,s,l,r=e[15].label+"",o,a,f,u,d=i&&kS();function h(){return e[9](e[14])}return{key:n,first:null,c(){t=Ee(),d&&d.c(),s=D(),l=k("button"),o=G(r),a=D(),m(l,"type","button"),m(l,"class","sidebar-item"),$(l,"active",e[5]===e[14]),this.first=t},m(p,g){C(p,t,g),d&&d.m(p,g),C(p,s,g),C(p,l,g),v(l,o),v(l,a),f||(u=x(l,"click",h),f=!0)},p(p,g){e=p,g&8&&(i=e[21]===Object.keys(e[6]).length),i?d||(d=kS(),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null),g&8&&r!==(r=e[15].label+"")&&pe(o,r),g&40&&$(l,"active",e[5]===e[14])},d(p){p&&S(t),d&&d.d(p),p&&S(s),p&&S(l),f=!1,u()}}}function SS(n){let e,t,i,s={ctx:n,current:null,token:null,hasCatch:!1,pending:vY,then:yY,catch:_Y,value:19,blocks:[,,,]};return av(t=n[15].component,s),{c(){e=Ee(),s.block.c()},m(l,r){C(l,e,r),s.block.m(l,s.anchor=r),s.mount=()=>e.parentNode,s.anchor=e,i=!0},p(l,r){n=l,s.ctx=n,r&8&&t!==(t=n[15].component)&&av(t,s)||YL(s,n,r)},i(l){i||(P(s.block),i=!0)},o(l){for(let r=0;r<3;r+=1){const o=s.blocks[r];I(o)}i=!1},d(l){l&&S(e),s.block.d(l),s.token=null,s=null}}}function _Y(n){return{c:te,m:te,p:te,i:te,o:te,d:te}}function yY(n){yS(n);let e,t,i;return e=new n[18]({props:{collection:n[2]}}),{c(){U(e.$$.fragment),t=D()},m(s,l){q(e,s,l),C(s,t,l),i=!0},p(s,l){yS(s);const r={};l&4&&(r.collection=s[2]),e.$set(r)},i(s){i||(P(e.$$.fragment,s),i=!0)},o(s){I(e.$$.fragment,s),i=!1},d(s){W(e,s),s&&S(t)}}}function vY(n){return{c:te,m:te,p:te,i:te,o:te,d:te}}function CS(n,e){let t,i,s,l=e[5]===e[14]&&SS(e);return{key:n,first:null,c(){t=Ee(),l&&l.c(),i=Ee(),this.first=t},m(r,o){C(r,t,o),l&&l.m(r,o),C(r,i,o),s=!0},p(r,o){e=r,e[5]===e[14]?l?(l.p(e,o),o&40&&P(l,1)):(l=SS(e),l.c(),P(l,1),l.m(i.parentNode,i)):l&&(ue(),I(l,1,1,()=>{l=null}),ce())},i(r){s||(P(l),s=!0)},o(r){I(l),s=!1},d(r){r&&S(t),l&&l.d(r),r&&S(i)}}}function kY(n){let e,t,i,s=[],l=new Map,r,o,a=[],f=new Map,u,d=Object.entries(n[3]);const h=b=>b[14];for(let b=0;b<d.length;b+=1){let _=vS(n,d,b),y=h(_);l.set(y,s[b]=wS(y,_))}let p=Object.entries(n[3]);const g=b=>b[14];for(let b=0;b<p.length;b+=1){let _=_S(n,p,b),y=g(_);f.set(y,a[b]=CS(y,_))}return{c(){var b;e=k("div"),t=k("aside"),i=k("nav");for(let _=0;_<s.length;_+=1)s[_].c();r=D(),o=k("div");for(let _=0;_<a.length;_+=1)a[_].c();m(i,"class","sidebar-content"),m(t,"class","docs-sidebar"),$(t,"compact",(b=n[2])==null?void 0:b.$isAuth),m(o,"class","docs-content"),m(e,"class","docs-content-wrapper")},m(b,_){C(b,e,_),v(e,t),v(t,i);for(let y=0;y<s.length;y+=1)s[y]&&s[y].m(i,null);v(e,r),v(e,o);for(let y=0;y<a.length;y+=1)a[y]&&a[y].m(o,null);u=!0},p(b,_){var y;_&106&&(d=Object.entries(b[3]),s=Cn(s,_,h,1,b,d,l,i,Ko,wS,null,vS)),(!u||_&4)&&$(t,"compact",(y=b[2])==null?void 0:y.$isAuth),_&44&&(p=Object.entries(b[3]),ue(),a=Cn(a,_,g,1,b,p,f,o,ii,CS,null,_S),ce())},i(b){if(!u){for(let _=0;_<p.length;_+=1)P(a[_]);u=!0}},o(b){for(let _=0;_<a.length;_+=1)I(a[_]);u=!1},d(b){b&&S(e);for(let _=0;_<s.length;_+=1)s[_].d();for(let _=0;_<a.length;_+=1)a[_].d()}}}function wY(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Close</span>',m(e,"type","button"),m(e,"class","btn btn-transparent")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[8]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function SY(n){let e,t,i={class:"docs-panel",$$slots:{footer:[wY],default:[kY]},$$scope:{ctx:n}};return e=new rs({props:i}),n[10](e),e.$on("hide",n[11]),e.$on("show",n[12]),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,[l]){const r={};l&4194348&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[10](null),W(e,s)}}}function CY(n,e,t){const i={list:{label:"List/Search",component:_n(()=>import("./ListApiDocs-f1d3e919.js"),["./ListApiDocs-f1d3e919.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css","./ListApiDocs-68f52edd.css"],import.meta.url)},view:{label:"View",component:_n(()=>import("./ViewApiDocs-493ea809.js"),["./ViewApiDocs-493ea809.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-f0c977d6.js"],import.meta.url)},create:{label:"Create",component:_n(()=>import("./CreateApiDocs-1aab5fc1.js"),["./CreateApiDocs-1aab5fc1.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-f0c977d6.js"],import.meta.url)},update:{label:"Update",component:_n(()=>import("./UpdateApiDocs-5f55cda9.js"),["./UpdateApiDocs-5f55cda9.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-f0c977d6.js"],import.meta.url)},delete:{label:"Delete",component:_n(()=>import("./DeleteApiDocs-d0455bcd.js"),["./DeleteApiDocs-d0455bcd.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},realtime:{label:"Realtime",component:_n(()=>import("./RealtimeApiDocs-949cfc90.js"),["./RealtimeApiDocs-949cfc90.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css"],import.meta.url)}},s={"auth-with-password":{label:"Auth with password",component:_n(()=>import("./AuthWithPasswordDocs-66df9cdf.js"),["./AuthWithPasswordDocs-66df9cdf.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-f0c977d6.js"],import.meta.url)},"auth-with-oauth2":{label:"Auth with OAuth2",component:_n(()=>import("./AuthWithOAuth2Docs-38342ebb.js"),["./AuthWithOAuth2Docs-38342ebb.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-f0c977d6.js"],import.meta.url)},refresh:{label:"Auth refresh",component:_n(()=>import("./AuthRefreshDocs-d69085f9.js"),["./AuthRefreshDocs-d69085f9.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-f0c977d6.js"],import.meta.url)},"request-verification":{label:"Request verification",component:_n(()=>import("./RequestVerificationDocs-da59a7f5.js"),["./RequestVerificationDocs-da59a7f5.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"confirm-verification":{label:"Confirm verification",component:_n(()=>import("./ConfirmVerificationDocs-3e65abdc.js"),["./ConfirmVerificationDocs-3e65abdc.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"request-password-reset":{label:"Request password reset",component:_n(()=>import("./RequestPasswordResetDocs-101b0dea.js"),["./RequestPasswordResetDocs-101b0dea.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"confirm-password-reset":{label:"Confirm password reset",component:_n(()=>import("./ConfirmPasswordResetDocs-7796d411.js"),["./ConfirmPasswordResetDocs-7796d411.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"request-email-change":{label:"Request email change",component:_n(()=>import("./RequestEmailChangeDocs-12d32914.js"),["./RequestEmailChangeDocs-12d32914.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"confirm-email-change":{label:"Confirm email change",component:_n(()=>import("./ConfirmEmailChangeDocs-9bb6ad11.js"),["./ConfirmEmailChangeDocs-9bb6ad11.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"list-auth-methods":{label:"List auth methods",component:_n(()=>import("./AuthMethodsDocs-d0e30ce3.js"),["./AuthMethodsDocs-d0e30ce3.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-f0c977d6.js"],import.meta.url)},"list-linked-accounts":{label:"List OAuth2 accounts",component:_n(()=>import("./ListExternalAuthsDocs-607c0bfb.js"),["./ListExternalAuthsDocs-607c0bfb.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css","./FieldsQueryParam-f0c977d6.js"],import.meta.url)},"unlink-account":{label:"Unlink OAuth2 account",component:_n(()=>import("./UnlinkExternalAuthDocs-96d2f5e4.js"),["./UnlinkExternalAuthDocs-96d2f5e4.js","./SdkTabs-9d65f898.js","./SdkTabs-9b0b7a06.css"],import.meta.url)}};let l,r=new Is,o,a=[];a.length&&(o=Object.keys(a)[0]);function f(y){return t(2,r=y),d(Object.keys(a)[0]),l==null?void 0:l.show()}function u(){return l==null?void 0:l.hide()}function d(y){t(5,o=y)}const h=()=>u(),p=y=>d(y);function g(y){de[y?"unshift":"push"](()=>{l=y,t(4,l)})}function b(y){ht.call(this,n,y)}function _(y){ht.call(this,n,y)}return n.$$.update=()=>{n.$$.dirty&12&&(r.$isAuth?(t(3,a=Object.assign({},i,s)),!(r!=null&&r.options.allowUsernameAuth)&&!(r!=null&&r.options.allowEmailAuth)&&delete a["auth-with-password"],r!=null&&r.options.allowOAuth2Auth||delete a["auth-with-oauth2"]):r.$isView?(t(3,a=Object.assign({},i)),delete a.create,delete a.update,delete a.delete,delete a.realtime):t(3,a=Object.assign({},i)))},[u,d,r,a,l,o,i,f,h,p,g,b,_]}class MY extends ke{constructor(e){super(),ve(this,e,CY,SY,De,{show:7,hide:0,changeTab:1})}get show(){return this.$$.ctx[7]}get hide(){return this.$$.ctx[0]}get changeTab(){return this.$$.ctx[1]}}function TY(n){let e,t,i,s,l,r,o,a,f,u,d,h;return{c(){e=k("label"),t=k("i"),i=D(),s=k("span"),s.textContent="Username",r=D(),o=k("input"),m(t,"class",ee.getFieldTypeIcon("user")),m(s,"class","txt"),m(e,"for",l=n[13]),m(o,"type","text"),m(o,"requried",a=!n[2]),m(o,"placeholder",f=n[2]?"Leave empty to auto generate...":n[4]),m(o,"id",u=n[13])},m(p,g){C(p,e,g),v(e,t),v(e,i),v(e,s),C(p,r,g),C(p,o,g),Ae(o,n[0].username),d||(h=x(o,"input",n[5]),d=!0)},p(p,g){g&8192&&l!==(l=p[13])&&m(e,"for",l),g&4&&a!==(a=!p[2])&&m(o,"requried",a),g&4&&f!==(f=p[2]?"Leave empty to auto generate...":p[4])&&m(o,"placeholder",f),g&8192&&u!==(u=p[13])&&m(o,"id",u),g&1&&o.value!==p[0].username&&Ae(o,p[0].username)},d(p){p&&S(e),p&&S(r),p&&S(o),d=!1,h()}}}function AY(n){let e,t,i,s,l,r,o,a,f,u,d=n[0].emailVisibility?"On":"Off",h,p,g,b,_,y,w,A;return{c(){var M;e=k("label"),t=k("i"),i=D(),s=k("span"),s.textContent="Email",r=D(),o=k("div"),a=k("button"),f=k("span"),u=G("Public: "),h=G(d),g=D(),b=k("input"),m(t,"class",ee.getFieldTypeIcon("email")),m(s,"class","txt"),m(e,"for",l=n[13]),m(f,"class","txt"),m(a,"type","button"),m(a,"class",p="btn btn-sm btn-transparent "+(n[0].emailVisibility?"btn-success":"btn-hint")),m(o,"class","form-field-addon email-visibility-addon svelte-1751a4d"),m(b,"type","email"),b.autofocus=n[2],m(b,"autocomplete","off"),m(b,"id",_=n[13]),b.required=y=(M=n[1].options)==null?void 0:M.requireEmail,m(b,"class","svelte-1751a4d")},m(M,T){C(M,e,T),v(e,t),v(e,i),v(e,s),C(M,r,T),C(M,o,T),v(o,a),v(a,f),v(f,u),v(f,h),C(M,g,T),C(M,b,T),Ae(b,n[0].email),n[2]&&b.focus(),w||(A=[xe(Mt.call(null,a,{text:"Make email public or private",position:"top-right"})),x(a,"click",n[6]),x(b,"input",n[7])],w=!0)},p(M,T){var O;T&8192&&l!==(l=M[13])&&m(e,"for",l),T&1&&d!==(d=M[0].emailVisibility?"On":"Off")&&pe(h,d),T&1&&p!==(p="btn btn-sm btn-transparent "+(M[0].emailVisibility?"btn-success":"btn-hint"))&&m(a,"class",p),T&4&&(b.autofocus=M[2]),T&8192&&_!==(_=M[13])&&m(b,"id",_),T&2&&y!==(y=(O=M[1].options)==null?void 0:O.requireEmail)&&(b.required=y),T&1&&b.value!==M[0].email&&Ae(b,M[0].email)},d(M){M&&S(e),M&&S(r),M&&S(o),M&&S(g),M&&S(b),w=!1,Ke(A)}}}function MS(n){let e,t;return e=new ze({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[OY,({uniqueId:i})=>({13:i}),({uniqueId:i})=>i?8192:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&24584&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function OY(n){let e,t,i,s,l,r,o,a;return{c(){e=k("input"),i=D(),s=k("label"),l=G("Change password"),m(e,"type","checkbox"),m(e,"id",t=n[13]),m(s,"for",r=n[13])},m(f,u){C(f,e,u),e.checked=n[3],C(f,i,u),C(f,s,u),v(s,l),o||(a=x(e,"change",n[8]),o=!0)},p(f,u){u&8192&&t!==(t=f[13])&&m(e,"id",t),u&8&&(e.checked=f[3]),u&8192&&r!==(r=f[13])&&m(s,"for",r)},d(f){f&&S(e),f&&S(i),f&&S(s),o=!1,a()}}}function TS(n){let e,t,i,s,l,r,o,a,f;return s=new ze({props:{class:"form-field required",name:"password",$$slots:{default:[EY,({uniqueId:u})=>({13:u}),({uniqueId:u})=>u?8192:0]},$$scope:{ctx:n}}}),o=new ze({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[PY,({uniqueId:u})=>({13:u}),({uniqueId:u})=>u?8192:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),i=k("div"),U(s.$$.fragment),l=D(),r=k("div"),U(o.$$.fragment),m(i,"class","col-sm-6"),m(r,"class","col-sm-6"),m(t,"class","grid"),$(t,"p-t-xs",n[3]),m(e,"class","block")},m(u,d){C(u,e,d),v(e,t),v(t,i),q(s,i,null),v(t,l),v(t,r),q(o,r,null),f=!0},p(u,d){const h={};d&24577&&(h.$$scope={dirty:d,ctx:u}),s.$set(h);const p={};d&24577&&(p.$$scope={dirty:d,ctx:u}),o.$set(p),(!f||d&8)&&$(t,"p-t-xs",u[3])},i(u){f||(P(s.$$.fragment,u),P(o.$$.fragment,u),u&&Yt(()=>{f&&(a||(a=gt(e,gn,{duration:150},!0)),a.run(1))}),f=!0)},o(u){I(s.$$.fragment,u),I(o.$$.fragment,u),u&&(a||(a=gt(e,gn,{duration:150},!1)),a.run(0)),f=!1},d(u){u&&S(e),W(s),W(o),u&&a&&a.end()}}}function EY(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("label"),t=k("i"),i=D(),s=k("span"),s.textContent="Password",r=D(),o=k("input"),m(t,"class","ri-lock-line"),m(s,"class","txt"),m(e,"for",l=n[13]),m(o,"type","password"),m(o,"autocomplete","new-password"),m(o,"id",a=n[13]),o.required=!0},m(d,h){C(d,e,h),v(e,t),v(e,i),v(e,s),C(d,r,h),C(d,o,h),Ae(o,n[0].password),f||(u=x(o,"input",n[9]),f=!0)},p(d,h){h&8192&&l!==(l=d[13])&&m(e,"for",l),h&8192&&a!==(a=d[13])&&m(o,"id",a),h&1&&o.value!==d[0].password&&Ae(o,d[0].password)},d(d){d&&S(e),d&&S(r),d&&S(o),f=!1,u()}}}function PY(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("label"),t=k("i"),i=D(),s=k("span"),s.textContent="Password confirm",r=D(),o=k("input"),m(t,"class","ri-lock-line"),m(s,"class","txt"),m(e,"for",l=n[13]),m(o,"type","password"),m(o,"autocomplete","new-password"),m(o,"id",a=n[13]),o.required=!0},m(d,h){C(d,e,h),v(e,t),v(e,i),v(e,s),C(d,r,h),C(d,o,h),Ae(o,n[0].passwordConfirm),f||(u=x(o,"input",n[10]),f=!0)},p(d,h){h&8192&&l!==(l=d[13])&&m(e,"for",l),h&8192&&a!==(a=d[13])&&m(o,"id",a),h&1&&o.value!==d[0].passwordConfirm&&Ae(o,d[0].passwordConfirm)},d(d){d&&S(e),d&&S(r),d&&S(o),f=!1,u()}}}function DY(n){let e,t,i,s,l,r,o,a;return{c(){e=k("input"),i=D(),s=k("label"),l=G("Verified"),m(e,"type","checkbox"),m(e,"id",t=n[13]),m(s,"for",r=n[13])},m(f,u){C(f,e,u),e.checked=n[0].verified,C(f,i,u),C(f,s,u),v(s,l),o||(a=[x(e,"change",n[11]),x(e,"change",qt(n[12]))],o=!0)},p(f,u){u&8192&&t!==(t=f[13])&&m(e,"id",t),u&1&&(e.checked=f[0].verified),u&8192&&r!==(r=f[13])&&m(s,"for",r)},d(f){f&&S(e),f&&S(i),f&&S(s),o=!1,Ke(a)}}}function IY(n){var _;let e,t,i,s,l,r,o,a,f,u,d,h,p;i=new ze({props:{class:"form-field "+(n[2]?"":"required"),name:"username",$$slots:{default:[TY,({uniqueId:y})=>({13:y}),({uniqueId:y})=>y?8192:0]},$$scope:{ctx:n}}}),r=new ze({props:{class:"form-field "+((_=n[1].options)!=null&&_.requireEmail?"required":""),name:"email",$$slots:{default:[AY,({uniqueId:y})=>({13:y}),({uniqueId:y})=>y?8192:0]},$$scope:{ctx:n}}});let g=!n[2]&&MS(n),b=(n[2]||n[3])&&TS(n);return h=new ze({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[DY,({uniqueId:y})=>({13:y}),({uniqueId:y})=>y?8192:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),U(i.$$.fragment),s=D(),l=k("div"),U(r.$$.fragment),o=D(),a=k("div"),g&&g.c(),f=D(),b&&b.c(),u=D(),d=k("div"),U(h.$$.fragment),m(t,"class","col-lg-6"),m(l,"class","col-lg-6"),m(a,"class","col-lg-12"),m(d,"class","col-lg-12"),m(e,"class","grid m-b-base")},m(y,w){C(y,e,w),v(e,t),q(i,t,null),v(e,s),v(e,l),q(r,l,null),v(e,o),v(e,a),g&&g.m(a,null),v(a,f),b&&b.m(a,null),v(e,u),v(e,d),q(h,d,null),p=!0},p(y,[w]){var O;const A={};w&4&&(A.class="form-field "+(y[2]?"":"required")),w&24581&&(A.$$scope={dirty:w,ctx:y}),i.$set(A);const M={};w&2&&(M.class="form-field "+((O=y[1].options)!=null&&O.requireEmail?"required":"")),w&24583&&(M.$$scope={dirty:w,ctx:y}),r.$set(M),y[2]?g&&(ue(),I(g,1,1,()=>{g=null}),ce()):g?(g.p(y,w),w&4&&P(g,1)):(g=MS(y),g.c(),P(g,1),g.m(a,f)),y[2]||y[3]?b?(b.p(y,w),w&12&&P(b,1)):(b=TS(y),b.c(),P(b,1),b.m(a,null)):b&&(ue(),I(b,1,1,()=>{b=null}),ce());const T={};w&24581&&(T.$$scope={dirty:w,ctx:y}),h.$set(T)},i(y){p||(P(i.$$.fragment,y),P(r.$$.fragment,y),P(g),P(b),P(h.$$.fragment,y),p=!0)},o(y){I(i.$$.fragment,y),I(r.$$.fragment,y),I(g),I(b),I(h.$$.fragment,y),p=!1},d(y){y&&S(e),W(i),W(r),g&&g.d(),b&&b.d(),W(h)}}}function RY(n,e,t){let{collection:i=new Is}=e,{record:s=new qr}=e,{isNew:l=s.$isNew}=e,r=s.username||null,o=!1;function a(){s.username=this.value,t(0,s),t(3,o)}const f=()=>t(0,s.emailVisibility=!s.emailVisibility,s);function u(){s.email=this.value,t(0,s),t(3,o)}function d(){o=this.checked,t(3,o)}function h(){s.password=this.value,t(0,s),t(3,o)}function p(){s.passwordConfirm=this.value,t(0,s),t(3,o)}function g(){s.verified=this.checked,t(0,s),t(3,o)}const b=_=>{l||ds("Do you really want to manually change the verified account state?",()=>{},()=>{t(0,s.verified=!_.target.checked,s)})};return n.$$set=_=>{"collection"in _&&t(1,i=_.collection),"record"in _&&t(0,s=_.record),"isNew"in _&&t(2,l=_.isNew)},n.$$.update=()=>{n.$$.dirty&1&&!s.username&&s.username!==null&&t(0,s.username=null,s),n.$$.dirty&8&&(o||(t(0,s.password=null,s),t(0,s.passwordConfirm=null,s),_r("password"),_r("passwordConfirm")))},[s,i,l,o,r,a,f,u,d,h,p,g,b]}class NY extends ke{constructor(e){super(),ve(this,e,RY,IY,De,{collection:1,record:0,isNew:2})}}function LY(n){let e,t,i,s=[n[3]],l={};for(let r=0;r<s.length;r+=1)l=ft(l,s[r]);return{c(){e=k("textarea"),bl(e,l),$(e,"svelte-1x1pbts",!0)},m(r,o){C(r,e,o),e.autofocus&&e.focus(),n[5](e),Ae(e,n[0]),t||(i=[x(e,"input",n[6]),x(e,"keydown",n[2])],t=!0)},p(r,[o]){bl(e,l=kn(s,[o&8&&r[3]])),o&1&&Ae(e,r[0]),$(e,"svelte-1x1pbts",!0)},i:te,o:te,d(r){r&&S(e),n[5](null),t=!1,Ke(i)}}}function FY(n,e,t){const i=["value","maxHeight"];let s=Jt(e,i),{value:l=""}=e,{maxHeight:r=200}=e,o,a;function f(){clearTimeout(a),a=setTimeout(()=>{o&&(t(1,o.style.height="",o),t(1,o.style.height=Math.min(o.scrollHeight,r)+"px",o))},0)}function u(p){if((p==null?void 0:p.code)==="Enter"&&!(p!=null&&p.shiftKey)&&!(p!=null&&p.isComposing)){p.preventDefault();const g=o.closest("form");g!=null&&g.requestSubmit&&g.requestSubmit()}}Pn(()=>(f(),()=>clearTimeout(a)));function d(p){de[p?"unshift":"push"](()=>{o=p,t(1,o)})}function h(){l=this.value,t(0,l)}return n.$$set=p=>{e=ft(ft({},e),Pi(p)),t(3,s=Jt(e,i)),"value"in p&&t(0,l=p.value),"maxHeight"in p&&t(4,r=p.maxHeight)},n.$$.update=()=>{n.$$.dirty&1&&typeof l!==void 0&&f()},[l,o,u,s,r,d,h]}class jY extends ke{constructor(e){super(),ve(this,e,FY,LY,De,{value:0,maxHeight:4})}}function BY(n){let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h;function p(b){n[2](b)}let g={id:n[3],required:n[1].required};return n[0]!==void 0&&(g.value=n[0]),u=new jY({props:g}),de.push(()=>Ne(u,"value",p)),{c(){e=k("label"),t=k("i"),s=D(),l=k("span"),o=G(r),f=D(),U(u.$$.fragment),m(t,"class",i=ee.getFieldTypeIcon(n[1].type)),m(l,"class","txt"),m(e,"for",a=n[3])},m(b,_){C(b,e,_),v(e,t),v(e,s),v(e,l),v(l,o),C(b,f,_),q(u,b,_),h=!0},p(b,_){(!h||_&2&&i!==(i=ee.getFieldTypeIcon(b[1].type)))&&m(t,"class",i),(!h||_&2)&&r!==(r=b[1].name+"")&&pe(o,r),(!h||_&8&&a!==(a=b[3]))&&m(e,"for",a);const y={};_&8&&(y.id=b[3]),_&2&&(y.required=b[1].required),!d&&_&1&&(d=!0,y.value=b[0],Be(()=>d=!1)),u.$set(y)},i(b){h||(P(u.$$.fragment,b),h=!0)},o(b){I(u.$$.fragment,b),h=!1},d(b){b&&S(e),b&&S(f),W(u,b)}}}function VY(n){let e,t;return e=new ze({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[BY,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&27&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function zY(n,e,t){let{field:i=new Ns}=e,{value:s=void 0}=e;function l(r){s=r,t(0,s)}return n.$$set=r=>{"field"in r&&t(1,i=r.field),"value"in r&&t(0,s=r.value)},[s,i,l]}class HY extends ke{constructor(e){super(),ve(this,e,zY,VY,De,{field:1,value:0})}}function qY(n){let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h,p,g,b,_;return{c(){var y,w;e=k("label"),t=k("i"),s=D(),l=k("span"),o=G(r),f=D(),u=k("input"),m(t,"class",i=ee.getFieldTypeIcon(n[1].type)),m(l,"class","txt"),m(e,"for",a=n[3]),m(u,"type","number"),m(u,"id",d=n[3]),u.required=h=n[1].required,m(u,"min",p=(y=n[1].options)==null?void 0:y.min),m(u,"max",g=(w=n[1].options)==null?void 0:w.max),m(u,"step","any")},m(y,w){C(y,e,w),v(e,t),v(e,s),v(e,l),v(l,o),C(y,f,w),C(y,u,w),Ae(u,n[0]),b||(_=x(u,"input",n[2]),b=!0)},p(y,w){var A,M;w&2&&i!==(i=ee.getFieldTypeIcon(y[1].type))&&m(t,"class",i),w&2&&r!==(r=y[1].name+"")&&pe(o,r),w&8&&a!==(a=y[3])&&m(e,"for",a),w&8&&d!==(d=y[3])&&m(u,"id",d),w&2&&h!==(h=y[1].required)&&(u.required=h),w&2&&p!==(p=(A=y[1].options)==null?void 0:A.min)&&m(u,"min",p),w&2&&g!==(g=(M=y[1].options)==null?void 0:M.max)&&m(u,"max",g),w&1&&jn(u.value)!==y[0]&&Ae(u,y[0])},d(y){y&&S(e),y&&S(f),y&&S(u),b=!1,_()}}}function WY(n){let e,t;return e=new ze({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[qY,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&27&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function UY(n,e,t){let{field:i=new Ns}=e,{value:s=void 0}=e;function l(){s=jn(this.value),t(0,s)}return n.$$set=r=>{"field"in r&&t(1,i=r.field),"value"in r&&t(0,s=r.value)},[s,i,l]}class KY extends ke{constructor(e){super(),ve(this,e,UY,WY,De,{field:1,value:0})}}function JY(n){let e,t,i,s,l=n[1].name+"",r,o,a,f;return{c(){e=k("input"),i=D(),s=k("label"),r=G(l),m(e,"type","checkbox"),m(e,"id",t=n[3]),m(s,"for",o=n[3])},m(u,d){C(u,e,d),e.checked=n[0],C(u,i,d),C(u,s,d),v(s,r),a||(f=x(e,"change",n[2]),a=!0)},p(u,d){d&8&&t!==(t=u[3])&&m(e,"id",t),d&1&&(e.checked=u[0]),d&2&&l!==(l=u[1].name+"")&&pe(r,l),d&8&&o!==(o=u[3])&&m(s,"for",o)},d(u){u&&S(e),u&&S(i),u&&S(s),a=!1,f()}}}function xY(n){let e,t;return e=new ze({props:{class:"form-field form-field-toggle "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[JY,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field form-field-toggle "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&27&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function YY(n,e,t){let{field:i=new Ns}=e,{value:s=!1}=e;function l(){s=this.checked,t(0,s)}return n.$$set=r=>{"field"in r&&t(1,i=r.field),"value"in r&&t(0,s=r.value)},[s,i,l]}class GY extends ke{constructor(e){super(),ve(this,e,YY,xY,De,{field:1,value:0})}}function XY(n){let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h,p,g;return{c(){e=k("label"),t=k("i"),s=D(),l=k("span"),o=G(r),f=D(),u=k("input"),m(t,"class",i=ee.getFieldTypeIcon(n[1].type)),m(l,"class","txt"),m(e,"for",a=n[3]),m(u,"type","email"),m(u,"id",d=n[3]),u.required=h=n[1].required},m(b,_){C(b,e,_),v(e,t),v(e,s),v(e,l),v(l,o),C(b,f,_),C(b,u,_),Ae(u,n[0]),p||(g=x(u,"input",n[2]),p=!0)},p(b,_){_&2&&i!==(i=ee.getFieldTypeIcon(b[1].type))&&m(t,"class",i),_&2&&r!==(r=b[1].name+"")&&pe(o,r),_&8&&a!==(a=b[3])&&m(e,"for",a),_&8&&d!==(d=b[3])&&m(u,"id",d),_&2&&h!==(h=b[1].required)&&(u.required=h),_&1&&u.value!==b[0]&&Ae(u,b[0])},d(b){b&&S(e),b&&S(f),b&&S(u),p=!1,g()}}}function ZY(n){let e,t;return e=new ze({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[XY,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&27&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function QY(n,e,t){let{field:i=new Ns}=e,{value:s=void 0}=e;function l(){s=this.value,t(0,s)}return n.$$set=r=>{"field"in r&&t(1,i=r.field),"value"in r&&t(0,s=r.value)},[s,i,l]}class $Y extends ke{constructor(e){super(),ve(this,e,QY,ZY,De,{field:1,value:0})}}function eG(n){let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h,p,g;return{c(){e=k("label"),t=k("i"),s=D(),l=k("span"),o=G(r),f=D(),u=k("input"),m(t,"class",i=ee.getFieldTypeIcon(n[1].type)),m(l,"class","txt"),m(e,"for",a=n[3]),m(u,"type","url"),m(u,"id",d=n[3]),u.required=h=n[1].required},m(b,_){C(b,e,_),v(e,t),v(e,s),v(e,l),v(l,o),C(b,f,_),C(b,u,_),Ae(u,n[0]),p||(g=x(u,"input",n[2]),p=!0)},p(b,_){_&2&&i!==(i=ee.getFieldTypeIcon(b[1].type))&&m(t,"class",i),_&2&&r!==(r=b[1].name+"")&&pe(o,r),_&8&&a!==(a=b[3])&&m(e,"for",a),_&8&&d!==(d=b[3])&&m(u,"id",d),_&2&&h!==(h=b[1].required)&&(u.required=h),_&1&&u.value!==b[0]&&Ae(u,b[0])},d(b){b&&S(e),b&&S(f),b&&S(u),p=!1,g()}}}function tG(n){let e,t;return e=new ze({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[eG,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&27&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function nG(n,e,t){let{field:i=new Ns}=e,{value:s=void 0}=e;function l(){s=this.value,t(0,s)}return n.$$set=r=>{"field"in r&&t(1,i=r.field),"value"in r&&t(0,s=r.value)},[s,i,l]}class iG extends ke{constructor(e){super(),ve(this,e,nG,tG,De,{field:1,value:0})}}function AS(n){let e,t,i,s;return{c(){e=k("div"),t=k("button"),t.innerHTML='<i class="ri-close-line"></i>',m(t,"type","button"),m(t,"class","link-hint clear-btn svelte-11df51y"),m(e,"class","form-field-addon")},m(l,r){C(l,e,r),v(e,t),i||(s=[xe(Mt.call(null,t,"Clear")),x(t,"click",n[5])],i=!0)},p:te,d(l){l&&S(e),i=!1,Ke(s)}}}function sG(n){let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h,p,g,b,_=n[0]&&!n[1].required&&AS(n);function y(M){n[6](M)}function w(M){n[7](M)}let A={id:n[8],options:ee.defaultFlatpickrOptions()};return n[2]!==void 0&&(A.value=n[2]),n[0]!==void 0&&(A.formattedValue=n[0]),h=new S2({props:A}),de.push(()=>Ne(h,"value",y)),de.push(()=>Ne(h,"formattedValue",w)),h.$on("close",n[3]),{c(){e=k("label"),t=k("i"),s=D(),l=k("span"),o=G(r),a=G(" (UTC)"),u=D(),_&&_.c(),d=D(),U(h.$$.fragment),m(t,"class",i=vn(ee.getFieldTypeIcon(n[1].type))+" svelte-11df51y"),m(l,"class","txt"),m(e,"for",f=n[8])},m(M,T){C(M,e,T),v(e,t),v(e,s),v(e,l),v(l,o),v(l,a),C(M,u,T),_&&_.m(M,T),C(M,d,T),q(h,M,T),b=!0},p(M,T){(!b||T&2&&i!==(i=vn(ee.getFieldTypeIcon(M[1].type))+" svelte-11df51y"))&&m(t,"class",i),(!b||T&2)&&r!==(r=M[1].name+"")&&pe(o,r),(!b||T&256&&f!==(f=M[8]))&&m(e,"for",f),M[0]&&!M[1].required?_?_.p(M,T):(_=AS(M),_.c(),_.m(d.parentNode,d)):_&&(_.d(1),_=null);const O={};T&256&&(O.id=M[8]),!p&&T&4&&(p=!0,O.value=M[2],Be(()=>p=!1)),!g&&T&1&&(g=!0,O.formattedValue=M[0],Be(()=>g=!1)),h.$set(O)},i(M){b||(P(h.$$.fragment,M),b=!0)},o(M){I(h.$$.fragment,M),b=!1},d(M){M&&S(e),M&&S(u),_&&_.d(M),M&&S(d),W(h,M)}}}function lG(n){let e,t;return e=new ze({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[sG,({uniqueId:i})=>({8:i}),({uniqueId:i})=>i?256:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&775&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function rG(n,e,t){let{field:i=new Ns}=e,{value:s=void 0}=e,l=s;function r(d){d.detail&&d.detail.length==3&&t(0,s=d.detail[1])}function o(){t(0,s="")}const a=()=>o();function f(d){l=d,t(2,l),t(0,s)}function u(d){s=d,t(0,s)}return n.$$set=d=>{"field"in d&&t(1,i=d.field),"value"in d&&t(0,s=d.value)},n.$$.update=()=>{n.$$.dirty&1&&s&&s.length>19&&t(0,s=s.substring(0,19)),n.$$.dirty&5&&l!=s&&t(2,l=s)},[s,i,l,r,o,a,f,u]}class oG extends ke{constructor(e){super(),ve(this,e,rG,lG,De,{field:1,value:0})}}function OS(n){let e,t,i=n[1].options.maxSelect+"",s,l;return{c(){e=k("div"),t=G("Select up to "),s=G(i),l=G(" items."),m(e,"class","help-block")},m(r,o){C(r,e,o),v(e,t),v(e,s),v(e,l)},p(r,o){o&2&&i!==(i=r[1].options.maxSelect+"")&&pe(s,i)},d(r){r&&S(e)}}}function aG(n){var w,A,M,T,O,E;let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h,p,g;function b(R){n[3](R)}let _={id:n[4],toggle:!n[1].required||n[2],multiple:n[2],closable:!n[2]||((w=n[0])==null?void 0:w.length)>=((A=n[1].options)==null?void 0:A.maxSelect),items:(M=n[1].options)==null?void 0:M.values,searchable:((O=(T=n[1].options)==null?void 0:T.values)==null?void 0:O.length)>5};n[0]!==void 0&&(_.selected=n[0]),u=new C2({props:_}),de.push(()=>Ne(u,"selected",b));let y=((E=n[1].options)==null?void 0:E.maxSelect)>1&&OS(n);return{c(){e=k("label"),t=k("i"),s=D(),l=k("span"),o=G(r),f=D(),U(u.$$.fragment),h=D(),y&&y.c(),p=Ee(),m(t,"class",i=ee.getFieldTypeIcon(n[1].type)),m(l,"class","txt"),m(e,"for",a=n[4])},m(R,N){C(R,e,N),v(e,t),v(e,s),v(e,l),v(l,o),C(R,f,N),q(u,R,N),C(R,h,N),y&&y.m(R,N),C(R,p,N),g=!0},p(R,N){var L,F,B,V,H,K;(!g||N&2&&i!==(i=ee.getFieldTypeIcon(R[1].type)))&&m(t,"class",i),(!g||N&2)&&r!==(r=R[1].name+"")&&pe(o,r),(!g||N&16&&a!==(a=R[4]))&&m(e,"for",a);const j={};N&16&&(j.id=R[4]),N&6&&(j.toggle=!R[1].required||R[2]),N&4&&(j.multiple=R[2]),N&7&&(j.closable=!R[2]||((L=R[0])==null?void 0:L.length)>=((F=R[1].options)==null?void 0:F.maxSelect)),N&2&&(j.items=(B=R[1].options)==null?void 0:B.values),N&2&&(j.searchable=((H=(V=R[1].options)==null?void 0:V.values)==null?void 0:H.length)>5),!d&&N&1&&(d=!0,j.selected=R[0],Be(()=>d=!1)),u.$set(j),((K=R[1].options)==null?void 0:K.maxSelect)>1?y?y.p(R,N):(y=OS(R),y.c(),y.m(p.parentNode,p)):y&&(y.d(1),y=null)},i(R){g||(P(u.$$.fragment,R),g=!0)},o(R){I(u.$$.fragment,R),g=!1},d(R){R&&S(e),R&&S(f),W(u,R),R&&S(h),y&&y.d(R),R&&S(p)}}}function fG(n){let e,t;return e=new ze({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[aG,({uniqueId:i})=>({4:i}),({uniqueId:i})=>i?16:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&55&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function uG(n,e,t){let i,{field:s=new Ns}=e,{value:l=void 0}=e;function r(o){l=o,t(0,l),t(2,i),t(1,s)}return n.$$set=o=>{"field"in o&&t(1,s=o.field),"value"in o&&t(0,l=o.value)},n.$$.update=()=>{var o;n.$$.dirty&2&&t(2,i=((o=s.options)==null?void 0:o.maxSelect)>1),n.$$.dirty&5&&typeof l>"u"&&t(0,l=i?[]:""),n.$$.dirty&7&&i&&Array.isArray(l)&&l.length>s.options.maxSelect&&t(0,l=l.slice(l.length-s.options.maxSelect))},[l,s,i,r]}class cG extends ke{constructor(e){super(),ve(this,e,uG,fG,De,{field:1,value:0})}}function Gi(n,e=dG(n)){if(!e)return hG;const t=mG(n);return function(...s){console.log(`%c${n}`,`color:${t}`,...s)}}function dG(n){const e=pG("debug");return e!=null&&e.endsWith("*")?n.startsWith(e.slice(0,-1)):n===e}function hG(){}function pG(n){try{if(typeof window<"u"&&typeof window.localStorage<"u")return window.localStorage[n]}catch{}}function mG(n){let e=0;for(let t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t),e|=0;return ES[Math.abs(e)%ES.length]}const ES=["#0000CC","#0099FF","#009400","#8dd200","#CCCC00","#CC9933","#ae04e7","#ff35d7","#FF3333","#FF6600","#FF9933","#FFCC33"];const{window:gG}=L_;function PS(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A=n[1].closeButton&&DS(n);var M=n[2];function T(O){return{}}return M&&(r=Sn(M,T())),{c(){e=k("div"),t=k("div"),i=k("div"),A&&A.c(),s=D(),l=k("div"),r&&U(r.$$.fragment),m(l,"class",o=vn(n[1].classContent)+" svelte-n7cvum"),m(l,"style",n[9]),$(l,"content",!n[0]),m(i,"class",a=vn(n[1].classWindow)+" svelte-n7cvum"),m(i,"role","dialog"),m(i,"aria-modal","true"),m(i,"aria-label",f=n[1].ariaLabelledBy?null:n[1].ariaLabel||null),m(i,"aria-labelledby",u=n[1].ariaLabelledBy||null),m(i,"style",n[8]),$(i,"window",!n[0]),m(t,"class",h=vn(n[1].classWindowWrap)+" svelte-n7cvum"),m(t,"style",n[7]),$(t,"wrap",!n[0]),m(e,"aria-hidden","true"),m(e,"id",p=n[1].id),m(e,"class",g=vn(n[1].classBg)+" svelte-n7cvum"),m(e,"style",n[6]),$(e,"bg",!n[0])},m(O,E){C(O,e,E),v(e,t),v(t,i),A&&A.m(i,null),v(i,s),v(i,l),r&&q(r,l,null),n[50](i),n[51](t),n[52](e),_=!0,y||(w=[x(i,"introstart",function(){fn(n[13])&&n[13].apply(this,arguments)}),x(i,"outrostart",function(){fn(n[14])&&n[14].apply(this,arguments)}),x(i,"introend",function(){fn(n[15])&&n[15].apply(this,arguments)}),x(i,"outroend",function(){fn(n[16])&&n[16].apply(this,arguments)}),x(e,"mousedown",n[20]),x(e,"mouseup",n[21])],y=!0)},p(O,E){if(n=O,n[1].closeButton?A?(A.p(n,E),E[0]&2&&P(A,1)):(A=DS(n),A.c(),P(A,1),A.m(i,s)):A&&(ue(),I(A,1,1,()=>{A=null}),ce()),E[0]&4&&M!==(M=n[2])){if(r){ue();const R=r;I(R.$$.fragment,1,0,()=>{W(R,1)}),ce()}M?(r=Sn(M,T()),U(r.$$.fragment),P(r.$$.fragment,1),q(r,l,null)):r=null}(!_||E[0]&2&&o!==(o=vn(n[1].classContent)+" svelte-n7cvum"))&&m(l,"class",o),(!_||E[0]&512)&&m(l,"style",n[9]),(!_||E[0]&3)&&$(l,"content",!n[0]),(!_||E[0]&2&&a!==(a=vn(n[1].classWindow)+" svelte-n7cvum"))&&m(i,"class",a),(!_||E[0]&2&&f!==(f=n[1].ariaLabelledBy?null:n[1].ariaLabel||null))&&m(i,"aria-label",f),(!_||E[0]&2&&u!==(u=n[1].ariaLabelledBy||null))&&m(i,"aria-labelledby",u),(!_||E[0]&256)&&m(i,"style",n[8]),(!_||E[0]&3)&&$(i,"window",!n[0]),(!_||E[0]&2&&h!==(h=vn(n[1].classWindowWrap)+" svelte-n7cvum"))&&m(t,"class",h),(!_||E[0]&128)&&m(t,"style",n[7]),(!_||E[0]&3)&&$(t,"wrap",!n[0]),(!_||E[0]&2&&p!==(p=n[1].id))&&m(e,"id",p),(!_||E[0]&2&&g!==(g=vn(n[1].classBg)+" svelte-n7cvum"))&&m(e,"class",g),(!_||E[0]&64)&&m(e,"style",n[6]),(!_||E[0]&3)&&$(e,"bg",!n[0])},i(O){_||(P(A),r&&P(r.$$.fragment,O),Yt(()=>{_&&(d||(d=gt(i,n[12],n[1].transitionWindowProps,!0)),d.run(1))}),Yt(()=>{_&&(b||(b=gt(e,n[11],n[1].transitionBgProps,!0)),b.run(1))}),_=!0)},o(O){I(A),r&&I(r.$$.fragment,O),d||(d=gt(i,n[12],n[1].transitionWindowProps,!1)),d.run(0),b||(b=gt(e,n[11],n[1].transitionBgProps,!1)),b.run(0),_=!1},d(O){O&&S(e),A&&A.d(),r&&W(r),n[50](null),O&&d&&d.end(),n[51](null),n[52](null),O&&b&&b.end(),y=!1,Ke(w)}}}function DS(n){let e,t,i,s,l;const r=[_G,bG],o=[];function a(f,u){return u[0]&2&&(e=null),e==null&&(e=!!f[17](f[1].closeButton)),e?0:1}return t=a(n,[-1,-1,-1]),i=o[t]=r[t](n),{c(){i.c(),s=Ee()},m(f,u){o[t].m(f,u),C(f,s,u),l=!0},p(f,u){let d=t;t=a(f,u),t===d?o[t].p(f,u):(ue(),I(o[d],1,1,()=>{o[d]=null}),ce(),i=o[t],i?i.p(f,u):(i=o[t]=r[t](f),i.c()),P(i,1),i.m(s.parentNode,s))},i(f){l||(P(i),l=!0)},o(f){I(i),l=!1},d(f){o[t].d(f),f&&S(s)}}}function bG(n){let e,t,i,s;return{c(){e=k("button"),m(e,"class",t=vn(n[1].classCloseButton)+" svelte-n7cvum"),m(e,"aria-label","Close modal"),m(e,"style",n[10]),m(e,"type","button"),$(e,"close",!n[0])},m(l,r){C(l,e,r),i||(s=x(e,"click",n[18]),i=!0)},p(l,r){r[0]&2&&t!==(t=vn(l[1].classCloseButton)+" svelte-n7cvum")&&m(e,"class",t),r[0]&1024&&m(e,"style",l[10]),r[0]&3&&$(e,"close",!l[0])},i:te,o:te,d(l){l&&S(e),i=!1,s()}}}function _G(n){let e,t,i;var s=n[1].closeButton;function l(r){return{props:{onClose:r[18]}}}return s&&(e=Sn(s,l(n))),{c(){e&&U(e.$$.fragment),t=Ee()},m(r,o){e&&q(e,r,o),C(r,t,o),i=!0},p(r,o){if(o[0]&2&&s!==(s=r[1].closeButton)){if(e){ue();const a=e;I(a.$$.fragment,1,0,()=>{W(a,1)}),ce()}s?(e=Sn(s,l(r)),U(e.$$.fragment),P(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}},i(r){i||(e&&P(e.$$.fragment,r),i=!0)},o(r){e&&I(e.$$.fragment,r),i=!1},d(r){r&&S(t),e&&W(e,r)}}}function yG(n){let e,t,i,s,l=n[2]&&PS(n);const r=n[49].default,o=It(r,n,n[48],null);return{c(){l&&l.c(),e=D(),o&&o.c()},m(a,f){l&&l.m(a,f),C(a,e,f),o&&o.m(a,f),t=!0,i||(s=x(gG,"keydown",n[19]),i=!0)},p(a,f){a[2]?l?(l.p(a,f),f[0]&4&&P(l,1)):(l=PS(a),l.c(),P(l,1),l.m(e.parentNode,e)):l&&(ue(),I(l,1,1,()=>{l=null}),ce()),o&&o.p&&(!t||f[1]&131072)&&Nt(o,r,a,a[48],t?Rt(r,a[48],f,null):Lt(a[48]),null)},i(a){t||(P(l),P(o,a),t=!0)},o(a){I(l),I(o,a),t=!1},d(a){l&&l.d(a),a&&S(e),o&&o.d(a),i=!1,s()}}}function UD(n,e={}){return function(i){return new n({...i,props:{...e,...i.props}})}}function vG(n,e,t){let{$$slots:i={},$$scope:s}=e;const l=Hn(),r=CE,o=Te=>Te.tabIndex>=0&&!Te.hidden&&!Te.disabled&&Te.style.display!=="none"&&Te.type!=="hidden"&&!!(Te.offsetWidth||Te.offsetHeight||Te.getClientRects().length);let{isTabbable:a=o}=e,{show:f=null}=e,{id:u=null}=e,{key:d="simple-modal"}=e,{ariaLabel:h=null}=e,{ariaLabelledBy:p=null}=e,{closeButton:g=!0}=e,{closeOnEsc:b=!0}=e,{closeOnOuterClick:_=!0}=e,{styleBg:y={}}=e,{styleWindowWrap:w={}}=e,{styleWindow:A={}}=e,{styleContent:M={}}=e,{styleCloseButton:T={}}=e,{classBg:O=null}=e,{classWindowWrap:E=null}=e,{classWindow:R=null}=e,{classContent:N=null}=e,{classCloseButton:j=null}=e,{unstyled:L=!1}=e,{setContext:F=r}=e,{transitionBg:B=Np}=e,{transitionBgProps:V={duration:250}}=e,{transitionWindow:H=B}=e,{transitionWindowProps:K=V}=e,{disableFocusTrap:X=!1}=e;const J={id:u,ariaLabel:h,ariaLabelledBy:p,closeButton:g,closeOnEsc:b,closeOnOuterClick:_,styleBg:y,styleWindowWrap:w,styleWindow:A,styleContent:M,styleCloseButton:T,classBg:O,classWindowWrap:E,classWindow:R,classContent:N,classCloseButton:j,transitionBg:B,transitionBgProps:V,transitionWindow:H,transitionWindowProps:K,disableFocusTrap:X,isTabbable:a,unstyled:L};let z={...J},Z=null,Y,oe,re,Q,me,qe,be,Ie,he,Ve,Qe,it,ye,ie,we;const Ue=Te=>Te.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),Oe=Te=>Te?Object.keys(Te).reduce((qn,Mn)=>`${qn}; ${Ue(Mn)}: ${Te[Mn]}`,""):"",_e=Te=>!!(Te&&Te.constructor&&Te.call&&Te.apply),Ye=()=>{t(6,me=Oe(Object.assign({},{width:window.innerWidth,height:window.innerHeight},z.styleBg))),t(7,qe=Oe(z.styleWindowWrap)),t(8,be=Oe(z.styleWindow)),t(9,Ie=Oe(z.styleContent)),t(10,he=Oe(z.styleCloseButton)),t(11,Ve=z.transitionBg),t(12,Qe=z.transitionWindow)},St=()=>{};let Et=St,Fe=St,Le=St,Pt=St;const tn=(Te,qn={},Mn={},Dn={})=>{t(2,Z=UD(Te,qn)),t(1,z={...J,...Mn}),Ye(),pt(),t(13,Et=Gt=>{Dn.onOpen&&Dn.onOpen(Gt),l("open"),l("opening")}),t(14,Fe=Gt=>{Dn.onClose&&Dn.onClose(Gt),l("close"),l("closing")}),t(15,Le=Gt=>{Dn.onOpened&&Dn.onOpened(Gt),l("opened")}),t(16,Pt=Gt=>{Dn.onClosed&&Dn.onClosed(Gt),l("closed")})},ct=(Te={})=>{Z&&(t(14,Fe=Te.onClose||Fe),t(16,Pt=Te.onClosed||Pt),t(2,Z=null),rn())},Se=Te=>{if(z.closeOnEsc&&Z&&Te.key==="Escape"&&(Te.preventDefault(),ct()),Z&&Te.key==="Tab"&&!z.disableFocusTrap){const qn=re.querySelectorAll("*"),Mn=Array.from(qn).filter(z.isTabbable).sort((Gt,In)=>Gt.tabIndex-In.tabIndex);let Dn=Mn.indexOf(document.activeElement);Dn===-1&&Te.shiftKey&&(Dn=0),Dn+=Mn.length+(Te.shiftKey?-1:1),Dn%=Mn.length,Mn[Dn].focus(),Te.preventDefault()}},Ut=Te=>{z.closeOnOuterClick&&(Te.target===Y||Te.target===oe)&&(we=Te.target)},un=Te=>{z.closeOnOuterClick&&Te.target===we&&(Te.preventDefault(),ct())},pt=()=>{Q=window.scrollY,it=document.body.style.position,ye=document.body.style.overflow,ie=document.body.style.width,document.body.style.position="fixed",document.body.style.top=`-${Q}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},rn=()=>{document.body.style.position=it||"",document.body.style.top="",document.body.style.overflow=ye||"",document.body.style.width=ie||"",window.scrollTo({top:Q,left:0,behavior:"instant"})};F(d,{open:tn,close:ct});let je=!1;ls(()=>{je&&ct()}),Pn(()=>{t(47,je=!0)});function Xe(Te){de[Te?"unshift":"push"](()=>{re=Te,t(5,re)})}function ot(Te){de[Te?"unshift":"push"](()=>{oe=Te,t(4,oe)})}function Dt(Te){de[Te?"unshift":"push"](()=>{Y=Te,t(3,Y)})}return n.$$set=Te=>{"isTabbable"in Te&&t(22,a=Te.isTabbable),"show"in Te&&t(23,f=Te.show),"id"in Te&&t(24,u=Te.id),"key"in Te&&t(25,d=Te.key),"ariaLabel"in Te&&t(26,h=Te.ariaLabel),"ariaLabelledBy"in Te&&t(27,p=Te.ariaLabelledBy),"closeButton"in Te&&t(28,g=Te.closeButton),"closeOnEsc"in Te&&t(29,b=Te.closeOnEsc),"closeOnOuterClick"in Te&&t(30,_=Te.closeOnOuterClick),"styleBg"in Te&&t(31,y=Te.styleBg),"styleWindowWrap"in Te&&t(32,w=Te.styleWindowWrap),"styleWindow"in Te&&t(33,A=Te.styleWindow),"styleContent"in Te&&t(34,M=Te.styleContent),"styleCloseButton"in Te&&t(35,T=Te.styleCloseButton),"classBg"in Te&&t(36,O=Te.classBg),"classWindowWrap"in Te&&t(37,E=Te.classWindowWrap),"classWindow"in Te&&t(38,R=Te.classWindow),"classContent"in Te&&t(39,N=Te.classContent),"classCloseButton"in Te&&t(40,j=Te.classCloseButton),"unstyled"in Te&&t(0,L=Te.unstyled),"setContext"in Te&&t(41,F=Te.setContext),"transitionBg"in Te&&t(42,B=Te.transitionBg),"transitionBgProps"in Te&&t(43,V=Te.transitionBgProps),"transitionWindow"in Te&&t(44,H=Te.transitionWindow),"transitionWindowProps"in Te&&t(45,K=Te.transitionWindowProps),"disableFocusTrap"in Te&&t(46,X=Te.disableFocusTrap),"$$scope"in Te&&t(48,s=Te.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&8388608|n.$$.dirty[1]&65536&&je&&(_e(f)?tn(f):ct())},[L,z,Z,Y,oe,re,me,qe,be,Ie,he,Ve,Qe,Et,Fe,Le,Pt,_e,ct,Se,Ut,un,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E,R,N,j,F,B,V,H,K,X,je,s,i,Xe,ot,Dt]}class KD extends ke{constructor(e){super(),ve(this,e,vG,yG,De,{isTabbable:22,show:23,id:24,key:25,ariaLabel:26,ariaLabelledBy:27,closeButton:28,closeOnEsc:29,closeOnOuterClick:30,styleBg:31,styleWindowWrap:32,styleWindow:33,styleContent:34,styleCloseButton:35,classBg:36,classWindowWrap:37,classWindow:38,classContent:39,classCloseButton:40,unstyled:0,setContext:41,transitionBg:42,transitionBgProps:43,transitionWindow:44,transitionWindowProps:45,disableFocusTrap:46},null,[-1,-1,-1])}}var $i;(function(n){n.text="text",n.tree="tree",n.table="table"})($i||($i={}));var Nn;(function(n){n.after="after",n.inside="inside",n.key="key",n.value="value",n.multi="multi"})(Nn||(Nn={}));var Dl;(function(n){n.after="after",n.key="key",n.value="value",n.inside="inside"})(Dl||(Dl={}));var Yr;(function(n){n.info="info",n.warning="warning",n.error="error"})(Yr||(Yr={}));var Fl;(function(n){n.key="key",n.value="value"})(Fl||(Fl={}));var dl;(function(n){n.asc="asc",n.desc="desc"})(dl||(dl={}));const fb=300,JD=300,IS=300,kG=300,RS=50,wG=200,SG=400,CG=1200,ub=1e3,Yc=100,kf=100,Xp=2e4,NS=50,LS=50,Fa=[{start:0,end:Yc}],MG=100*1024*1024,TG=1024*1024,cb=10*1024*1024,xD=10*1024,ja={closeButton:!1,classBg:"jse-modal-bg",classWindow:"jse-modal-window",classWindowWrap:"jse-modal-window-wrap",classContent:"jse-modal-content"},AG={...ja,classWindow:"jse-modal-window jse-modal-window-sort"},OG={...ja,classWindow:"jse-modal-window jse-modal-window-transform"},FS={...ja,classWindow:"jse-modal-window jse-modal-window-jsoneditor"},T2="Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value",A2="Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)",Gr="hover-insert-inside",Gc="hover-insert-after",db="hover-collection",L1="valid",jS="repairable",EG="invalid",zr=(40+2)*8,Hr=260,Ea={NO:"NO",SELF:"SELF",NEXT_INSIDE:"NEXT_INSIDE"},PG={[dl.asc]:"ascending",[dl.desc]:"descending"};let BS=0;function Ic(){return BS++,BS}function Ro(n){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(n)}function Fn(n){return Array.isArray(n)}function li(n){return n!==null&&Ro(n)==="object"&&n.constructor===Object}function YD(n){return n&&Ro(n)==="object"?n.op==="add":!1}function GD(n){return n&&Ro(n)==="object"?n.op==="remove":!1}function O2(n){return n&&Ro(n)==="object"?n.op==="replace":!1}function hb(n){return n&&Ro(n)==="object"?n.op==="copy":!1}function tu(n){return n&&Ro(n)==="object"?n.op==="move":!1}function pb(n){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pb(n)}function DG(n,e){return JSON.stringify(n)===JSON.stringify(e)}function IG(n,e){return n===e}function XD(n){return n.slice(0,n.length-1)}function RG(n){return n[n.length-1]}function NG(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:IG;if(n.length<e.length)return!1;for(var i=0;i<e.length;i++)if(!t(n[i],e[i]))return!1;return!0}function ZD(n){return pb(n)==="object"&&n!==null}function Xc(n){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(n)}function VS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function LG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VS(Object(t),!0).forEach(function(i){FG(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function FG(n,e,t){return e=jG(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jG(n){var e=BG(n,"string");return Xc(e)==="symbol"?e:String(e)}function BG(n,e){if(Xc(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Xc(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function E2(n){if(Fn(n)){var e=n.slice();return Object.getOwnPropertySymbols(n).forEach(function(i){e[i]=n[i]}),e}else if(li(n)){var t=LG({},n);return Object.getOwnPropertySymbols(n).forEach(function(i){t[i]=n[i]}),t}else return n}function P2(n,e,t){if(n[e]===t)return n;var i=E2(n);return i[e]=t,i}function dt(n,e){for(var t=n,i=0;i<e.length;)li(t)?t=t[e[i]]:Fn(t)?t=t[parseInt(e[i])]:t=void 0,i++;return t}function Pl(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.length===0)return t;var s=e[0],l=Pl(n?n[s]:void 0,e.slice(1),t,i);if(li(n)||Fn(n))return P2(n,s,l);if(i){var r=VG.test(s)?[]:{};return r[s]=l,r}else throw new Error("Path does not exist")}var VG=/^\d+$/;function QD(n,e,t){if(e.length===0)return t(n);if(!ZD(n))throw new Error("Path doesn't exist");var i=e[0],s=QD(n[i],e.slice(1),t);return P2(n,i,s)}function D2(n,e){if(e.length===0)return n;if(!ZD(n))throw new Error("Path does not exist");if(e.length===1){var t=e[0];if(t in n){var i=E2(n);return Fn(i)&&i.splice(parseInt(t),1),li(i)&&delete i[t],i}else return n}var s=e[0],l=D2(n[s],e.slice(1));return P2(n,s,l)}function I2(n,e,t){var i=e.slice(0,e.length-1),s=e[e.length-1];return QD(n,i,function(l){if(!Array.isArray(l))throw new TypeError("Array expected at path "+JSON.stringify(i));var r=E2(l);return r.splice(parseInt(s),0,t),r})}function hl(n,e){return n===void 0?!1:e.length===0?!0:n===null?!1:hl(n[e[0]],e.slice(1))}function zl(n){var e=n.split("/");return e.shift(),e.map(function(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")})}function $e(n){return n.map($D).join("")}function $D(n){return"/"+String(n).replace(/~/g,"~0").replace(/\//g,"~1")}function mb(n,e){return n+$D(e)}function nu(n,e){return n.startsWith(e)&&(n.length===e.length||n[e.length]==="/")}function jl(n,e,t){for(var i=n,s=0;s<e.length;s++){xG(e[s]);var l=e[s];if(t&&t.before){var r=t.before(i,l);if(r!==void 0){if(r.document!==void 0&&(i=r.document),r.json!==void 0)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"');r.operation!==void 0&&(l=r.operation)}}var o=i,a=cr(i,l.path);if(l.op==="add")i=qG(i,a,l.value);else if(l.op==="remove")i=HG(i,a);else if(l.op==="replace")i=zG(i,a,l.value);else if(l.op==="copy")i=WG(i,a,gb(l.from));else if(l.op==="move")i=UG(i,a,gb(l.from));else if(l.op==="test")KG(i,a,l.value);else throw new Error("Unknown JSONPatch operation "+JSON.stringify(l));if(t&&t.after){var f=t.after(i,l,o);f!==void 0&&(i=f)}}return i}function zG(n,e,t){return Pl(n,e,t)}function HG(n,e){return D2(n,e)}function qG(n,e,t){return Fd(n,e)?I2(n,e,t):Pl(n,e,t)}function WG(n,e,t){var i=dt(n,t);if(Fd(n,e))return I2(n,e,i);var s=dt(n,t);return Pl(n,e,s)}function UG(n,e,t){var i=dt(n,t),s=D2(n,t);return Fd(s,e)?I2(s,e,i):Pl(s,e,i)}function KG(n,e,t){if(t===void 0)throw new Error('Test failed: no value provided (path: "'.concat($e(e),'")'));if(!hl(n,e))throw new Error('Test failed: path not found (path: "'.concat($e(e),'")'));var i=dt(n,e);if(!DG(i,t))throw new Error('Test failed, value differs (path: "'.concat($e(e),'")'))}function Fd(n,e){if(e.length===0)return!1;var t=dt(n,XD(e));return Array.isArray(t)}function JG(n,e){if(RG(e)!=="-")return e;var t=XD(e),i=dt(n,t);return t.concat(i.length)}function xG(n){var e=["add","remove","replace","copy","move","test"];if(!e.includes(n.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(n.op));if(typeof n.path!="string")throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(n));if((n.op==="copy"||n.op==="move")&&typeof n.from!="string")throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(n))}function cr(n,e){return JG(n,zl(e))}function gb(n){return zl(n)}function YG(n){return QG(n)||ZG(n)||XG(n)||GG()}function GG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XG(n,e){if(n){if(typeof n=="string")return bb(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bb(n,e)}}function ZG(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function QG(n){if(Array.isArray(n))return bb(n)}function bb(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function eI(n,e,t){var i=[];return jl(n,e,{before:function(l,r){var o,a=cr(l,r.path);if(r.op==="add")o=iI(l,a);else if(r.op==="remove")o=nI(l,a);else if(r.op==="replace")o=tI(l,a);else if(r.op==="copy")o=$G(l,a);else if(r.op==="move")o=eX(l,a,gb(r.from));else if(r.op==="test")o=[];else throw new Error("Unknown JSONPatch operation "+JSON.stringify(r));var f;if(t&&t.before){var u=t.before(l,r,o);if(u&&u.revertOperations&&(o=u.revertOperations),u&&u.document&&(f=u.document),u&&u.json)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"')}if(i=o.concat(i),f!==void 0)return{document:f}}}),i}function tI(n,e){return[{op:"replace",path:$e(e),value:dt(n,e)}]}function nI(n,e){return[{op:"add",path:$e(e),value:dt(n,e)}]}function iI(n,e){return Fd(n,e)||!hl(n,e)?[{op:"remove",path:$e(e)}]:tI(n,e)}function $G(n,e){return iI(n,e)}function eX(n,e,t){if(e.length<t.length&&NG(t,e))return[{op:"replace",path:$e(e),value:n}];var i={op:"move",from:$e(e),path:$e(t)};return!Fd(n,e)&&hl(n,e)?[i].concat(YG(nI(n,e))):[i]}var fg={},zS={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},tX="a".charCodeAt();fg.parse=function(n,e,t){var i={},s=0,l=0,r=0,o=t&&t.bigint&&typeof BigInt<"u";return{data:a("",!0),pointers:i};function a(N,j){f();var L;A(N,"value");var F=b();switch(F){case"t":g("rue"),L=!0;break;case"f":g("alse"),L=!1;break;case"n":g("ull"),L=null;break;case'"':L=u();break;case"[":L=h(N);break;case"{":L=p(N);break;default:_(),"-0123456789".indexOf(F)>=0?L=d():O()}return A(N,"valueEnd"),f(),j&&r<n.length&&O(),L}function f(){e:for(;r<n.length;){switch(n[r]){case" ":l++;break;case"	":l+=4;break;case"\r":l=0;break;case`
`:l=0,s++;break;default:break e}r++}}function u(){for(var N="",j;j=b(),j!='"';)j=="\\"?(j=b(),j in zS?N+=zS[j]:j=="u"?N+=y():E()):N+=j;return N}function d(){var N="",j=!0;n[r]=="-"&&(N+=b()),N+=n[r]=="0"?b():w(),n[r]=="."&&(N+=b()+w(),j=!1),(n[r]=="e"||n[r]=="E")&&(N+=b(),(n[r]=="+"||n[r]=="-")&&(N+=b()),N+=w(),j=!1);var L=+N;return o&&j&&(L>Number.MAX_SAFE_INTEGER||L<Number.MIN_SAFE_INTEGER)?BigInt(N):L}function h(N){f();var j=[],L=0;if(b()=="]")return j;for(_();;){var F=N+"/"+L;j.push(a(F)),f();var B=b();if(B=="]")break;B!=","&&E(),f(),L++}return j}function p(N){f();var j={};if(b()=="}")return j;for(_();;){var L=T();b()!='"'&&E();var F=u(),B=N+"/"+_b(F);M(B,"key",L),A(B,"keyEnd"),f(),b()!=":"&&E(),f(),j[F]=a(B),f();var V=b();if(V=="}")break;V!=","&&E(),f()}return j}function g(N){for(var j=0;j<N.length;j++)b()!==N[j]&&E()}function b(){R();var N=n[r];return r++,l++,N}function _(){r--,l--}function y(){for(var N=4,j=0;N--;){j<<=4;var L=b().toLowerCase();L>="a"&&L<="f"?j+=L.charCodeAt()-tX+10:L>="0"&&L<="9"?j+=+L:E()}return String.fromCharCode(j)}function w(){for(var N="";n[r]>="0"&&n[r]<="9";)N+=b();if(N.length)return N;R(),O()}function A(N,j){M(N,j,T())}function M(N,j,L){i[N]=i[N]||{},i[N][j]=L}function T(){return{line:s,column:l,pos:r}}function O(){throw new SyntaxError("Unexpected token "+n[r]+" in JSON at position "+r)}function E(){_(),O()}function R(){if(r>=n.length)throw new SyntaxError("Unexpected end of JSON input")}};fg.stringify=function(n,e,t){if(!Ch(n))return;var i=0,s,l,r=typeof t=="object"?t.space:t;switch(typeof r){case"number":var o=r>10?10:r<0?0:Math.floor(r);r=o&&M(o," "),s=o,l=o;break;case"string":r=r.slice(0,10),s=0,l=0;for(var a=0;a<r.length;a++){var f=r[a];switch(f){case" ":l++;break;case"	":l+=4;break;case"\r":l=0;break;case`
`:l=0,i++;break;default:throw new Error("whitespace characters not allowed in JSON")}s++}break;default:r=void 0}var u="",d={},h=0,p=0,g=0,b=t&&t.es6&&typeof Map=="function";return _(n,0,""),{json:u,pointers:d};function _(T,O,E){switch(A(E,"value"),typeof T){case"number":case"bigint":case"boolean":y(""+T);break;case"string":y(Mh(T));break;case"object":T===null?y("null"):typeof T.toJSON=="function"?y(Mh(T.toJSON())):Array.isArray(T)?R():b?T.constructor.BYTES_PER_ELEMENT?R():T instanceof Map?j():T instanceof Set?j(!0):N():N()}A(E,"valueEnd");function R(){if(T.length){y("[");for(var L=O+1,F=0;F<T.length;F++){F&&y(","),w(L);var B=Ch(T[F])?T[F]:null,V=E+"/"+F;_(B,L,V)}w(O),y("]")}else y("[]")}function N(){var L=Object.keys(T);if(L.length){y("{");for(var F=O+1,B=0;B<L.length;B++){var V=L[B],H=T[V];if(Ch(H)){B&&y(",");var K=E+"/"+_b(V);w(F),A(K,"key"),y(Mh(V)),A(K,"keyEnd"),y(":"),r&&y(" "),_(H,F,K)}}w(O),y("}")}else y("{}")}function j(L){if(T.size){y("{");for(var F=O+1,B=!0,V=T.entries(),H=V.next();!H.done;){var K=H.value,X=K[0],J=L?!0:K[1];if(Ch(J)){B||y(","),B=!1;var z=E+"/"+_b(X);w(F),A(z,"key"),y(Mh(X)),A(z,"keyEnd"),y(":"),r&&y(" "),_(J,F,z)}H=V.next()}w(O),y("}")}else y("{}")}}function y(T){p+=T.length,g+=T.length,u+=T}function w(T){if(r){for(u+=`
`+M(T,r),h++,p=0;T--;)i?(h+=i,p=l):p+=l,g+=s;g+=1}}function A(T,O){d[T]=d[T]||{},d[T][O]={line:h,column:p,pos:g}}function M(T,O){return Array(T+1).join(O)}};var nX=["number","bigint","boolean","string","object"];function Ch(n){return nX.indexOf(typeof n)>=0}var iX=/"|\\/g,sX=/[\b]/g,lX=/\f/g,rX=/\n/g,oX=/\r/g,aX=/\t/g;function Mh(n){return n=n.replace(iX,"\\$&").replace(lX,"\\f").replace(sX,"\\b").replace(rX,"\\n").replace(oX,"\\r").replace(aX,"\\t"),'"'+n+'"'}var fX=/~/g,uX=/\//g;function _b(n){return n.replace(fX,"~0").replace(uX,"~1")}class aa extends Error{constructor(e,t){super(e+" at position "+t),this.position=t}}const Th=92,F1=47,cX=42,HS=123,j1=125,qS=91,B1=93,dX=40,hX=41,pX=32,R2=10,sI=9,lI=13,mX=8,gX=12,Zp=34,WS=43,US=45,bX=39,N2=48,_X=49,L2=57,Ah=44,yX=46,vX=58,kX=59,wX=65,SX=97,CX=69,MX=101,TX=70,AX=102,OX=160,EX=8192,PX=8202,DX=8239,IX=8287,RX=12288,NX=8220,LX=8221,FX=8216,jX=8217,BX=96,VX=180;function Oh(n){return n>=N2&&n<=L2||n>=wX&&n<=TX||n>=SX&&n<=AX}function Eh(n){return n>=N2&&n<=L2}function zX(n){return n>=_X&&n<=L2}function HX(n){return n>=32&&n<=1114111}function qX(n){return WX.test(n)||n&&$p(n.charCodeAt(0))}const WX=/^[,:[\]{}()\n]$/;function KS(n){return UX.test(n)||n&&$p(n.charCodeAt(0))}const UX=/^[[{\w-]$/;function KX(n){return n===R2||n===lI||n===sI||n===mX||n===gX}function Qp(n){return n===pX||n===R2||n===sI||n===lI}function JX(n){return n===OX||n>=EX&&n<=PX||n===DX||n===IX||n===RX}function $p(n){return rI(n)||yb(n)}function rI(n){return n===Zp||n===NX||n===LX}function JS(n){return n===Zp}function yb(n){return n===bX||n===FX||n===jX||n===BX||n===VX}function rc(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=n.lastIndexOf(e);return i!==-1?n.substring(0,i)+(t?"":n.substring(i+1)):n}function fa(n,e){let t=n.length;if(!Qp(n.charCodeAt(t-1)))return n+e;for(;Qp(n.charCodeAt(t-1));)t--;return n.substring(0,t)+e+n.substring(t)}function xX(n,e,t){return n.substring(0,e)+n.substring(e+t)}function YX(n){return/[,\n][ \t\r]*$/.test(n)}const GX={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},XX={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function dr(n){let e=0,t="";l()||N();const s=f(Ah);if(s&&r(),KS(n[e])&&YX(t)?(s||(t=fa(t,",")),g()):s&&(t=rc(t,",")),e>=n.length)return t;R();function l(){r();const V=h()||p()||b()||y()||w()||M();return r(),V}function r(){const V=e;let H=o();do H=a(),H&&(H=o());while(H);return e>V}function o(){let V="",H;for(;(H=Qp(n.charCodeAt(e)))||JX(n.charCodeAt(e));)H?V+=n[e]:V+=" ",e++;return V.length>0?(t+=V,!0):!1}function a(){if(n.charCodeAt(e)===F1&&n.charCodeAt(e+1)===cX){for(;e<n.length&&!ZX(n,e);)e++;return e+=2,!0}if(n.charCodeAt(e)===F1&&n.charCodeAt(e+1)===F1){for(;e<n.length&&n.charCodeAt(e)!==R2;)e++;return!0}return!1}function f(V){return n.charCodeAt(e)===V?(t+=n[e],e++,!0):!1}function u(V){return n.charCodeAt(e)===V?(e++,!0):!1}function d(){return u(Th)}function h(){if(n.charCodeAt(e)===HS){t+="{",e++,r();let V=!0;for(;e<n.length&&n.charCodeAt(e)!==j1;){let H;if(V?(H=!0,V=!1):(H=f(Ah),H||(t=fa(t,",")),r()),!(b()||M())){n.charCodeAt(e)===j1||n.charCodeAt(e)===HS||n.charCodeAt(e)===B1||n.charCodeAt(e)===qS||n[e]===void 0?t=rc(t,","):j();break}r();const X=f(vX);X||(KS(n[e])?t=fa(t,":"):L()),l()||(X?t+="null":L())}return n.charCodeAt(e)===j1?(t+="}",e++):t=fa(t,"}"),!0}return!1}function p(){if(n.charCodeAt(e)===qS){t+="[",e++,r();let V=!0;for(;e<n.length&&n.charCodeAt(e)!==B1;)if(V?V=!1:f(Ah)||(t=fa(t,",")),!l()){t=rc(t,",");break}return n.charCodeAt(e)===B1?(t+="]",e++):t=fa(t,"]"),!0}return!1}function g(){let V=!0,H=!0;for(;H;)V?V=!1:f(Ah)||(t=fa(t,",")),H=l();H||(t=rc(t,",")),t=`[
`.concat(t,`
]`)}function b(){let V=n.charCodeAt(e)===Th;if(V&&(e++,V=!0),$p(n.charCodeAt(e))){const H=yb(n.charCodeAt(e))?yb:JS(n.charCodeAt(e))?JS:rI;for(t+='"',e++;e<n.length&&!H(n.charCodeAt(e));){if(n.charCodeAt(e)===Th){const K=n[e+1];XX[K]!==void 0?(t+=n.slice(e,e+2),e+=2):K==="u"?Oh(n.charCodeAt(e+2))&&Oh(n.charCodeAt(e+3))&&Oh(n.charCodeAt(e+4))&&Oh(n.charCodeAt(e+5))?(t+=n.slice(e,e+6),e+=6):F(e):(t+=K,e+=2)}else{const K=n[e],X=n.charCodeAt(e);X===Zp&&n.charCodeAt(e-1)!==Th?(t+="\\"+K,e++):KX(X)?(t+=GX[K],e++):(HX(X)||E(K),t+=K,e++)}V&&d()}return $p(n.charCodeAt(e))?(n.charCodeAt(e),t+='"',e++):t+='"',_(),!0}return!1}function _(){let V=!1;for(r();n.charCodeAt(e)===WS;){V=!0,e++,r(),t=rc(t,'"',!0);const H=t.length;b(),t=xX(t,H,1)}return V}function y(){const V=e;if(n.charCodeAt(e)===US&&(e++,O(V)))return!0;if(n.charCodeAt(e)===N2)e++;else if(zX(n.charCodeAt(e)))for(e++;Eh(n.charCodeAt(e));)e++;if(n.charCodeAt(e)===yX){if(e++,O(V))return!0;for(;Eh(n.charCodeAt(e));)e++}if(n.charCodeAt(e)===MX||n.charCodeAt(e)===CX){if(e++,(n.charCodeAt(e)===US||n.charCodeAt(e)===WS)&&e++,O(V))return!0;for(;Eh(n.charCodeAt(e));)e++}return e>V?(t+=n.slice(V,e),!0):!1}function w(){return A("true","true")||A("false","false")||A("null","null")||A("True","true")||A("False","false")||A("None","null")}function A(V,H){return n.slice(e,e+V.length)===V?(t+=H,e+=V.length,!0):!1}function M(){const V=e;for(;e<n.length&&!qX(n[e]);)e++;if(e>V){if(n.charCodeAt(e)===dX)return e++,l(),n.charCodeAt(e)===hX&&(e++,n.charCodeAt(e)===kX&&e++),!0;{for(;Qp(n.charCodeAt(e-1))&&e>0;)e--;const H=n.slice(V,e);return t+=H==="undefined"?"null":JSON.stringify(H),!0}}}function T(V){if(!Eh(n.charCodeAt(e))){const H=n.slice(V,e);throw new aa("Invalid number '".concat(H,"', expecting a digit ").concat(B()),2)}}function O(V){return e>=n.length?(t+=n.slice(V,e)+"0",!0):(T(V),!1)}function E(V){throw new aa("Invalid character "+JSON.stringify(V),e)}function R(){throw new aa("Unexpected character "+JSON.stringify(n[e]),e)}function N(){throw new aa("Unexpected end of json string",n.length)}function j(){throw new aa("Object key expected",e)}function L(){throw new aa("Colon expected",e)}function F(V){let H=V+2;for(;/\w/.test(n[H]);)H++;const K=n.slice(V,H);throw new aa('Invalid unicode character "'.concat(K,'"'),e)}function B(){return n[e]?"but got '".concat(n[e],"'"):"but reached end of input"}}function ZX(n,e){return n[e]==="*"&&n[e+1]==="/"}function Ni(n){return parseInt(n,10)}function F2(n){return QX.test(n)}const QX=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function Un(n){return typeof n=="object"&&n!==null&&n.constructor===Object}function $n(n){return typeof n=="object"&&n!==null&&(n.constructor===Object||n.constructor===Array)}function $X(n){return n===!0||n===!1}function vb(n){if(typeof n=="number")return n>9466848e5&&isFinite(n)&&Math.floor(n)===n&&!isNaN(new Date(n).valueOf());if(typeof n=="bigint")return vb(Number(n));try{const t=n&&n.valueOf();if(t!==n)return vb(t)}catch{return!1}return!1}function oI(n){const e=window.document.createElement("div");e.style.color=n;const t=e.style.color;return t!==""?t.replace(/\s+/g,"").toLowerCase():null}function eZ(n){return typeof n=="string"&&!!oI(n)}function j2(n,e){if(typeof n=="number"||typeof n=="string"||typeof n=="boolean"||typeof n>"u")return typeof n;if(typeof n=="bigint")return"number";if(n===null)return"null";if(Array.isArray(n))return"array";if(Un(n))return"object";const t=e.stringify(n);return t&&F2(t)?"number":t==="true"||t==="false"?"boolean":t==="null"?"null":"unknown"}const tZ=/^https?:\/\/\S+$/;function ug(n){return typeof n=="string"&&tZ.test(n)}function Du(n,e){if(n==="")return"";const t=n.trim();return t==="null"?null:t==="true"?!0:t==="false"?!1:F2(t)?e.parse(t):n}function nZ(n,e){return typeof n=="string"&&typeof Du(n,e)!="string"}function iZ(n){return sZ.test(n)}const sZ=/^-?[0-9]+$/;var lZ=typeof global=="object"&&global&&global.Object===Object&&global;const aI=lZ;var rZ=typeof self=="object"&&self&&self.Object===Object&&self,oZ=aI||rZ||Function("return this")();const Ul=oZ;var aZ=Ul.Symbol;const vl=aZ;var fI=Object.prototype,fZ=fI.hasOwnProperty,uZ=fI.toString,oc=vl?vl.toStringTag:void 0;function cZ(n){var e=fZ.call(n,oc),t=n[oc];try{n[oc]=void 0;var i=!0}catch{}var s=uZ.call(n);return i&&(e?n[oc]=t:delete n[oc]),s}var dZ=Object.prototype,hZ=dZ.toString;function pZ(n){return hZ.call(n)}var mZ="[object Null]",gZ="[object Undefined]",xS=vl?vl.toStringTag:void 0;function Iu(n){return n==null?n===void 0?gZ:mZ:xS&&xS in Object(n)?cZ(n):pZ(n)}function No(n){return n!=null&&typeof n=="object"}var bZ="[object Symbol]";function Ba(n){return typeof n=="symbol"||No(n)&&Iu(n)==bZ}function Rc(n,e){for(var t=-1,i=n==null?0:n.length,s=Array(i);++t<i;)s[t]=e(n[t],t,n);return s}var _Z=Array.isArray;const ms=_Z;var yZ=1/0,YS=vl?vl.prototype:void 0,GS=YS?YS.toString:void 0;function uI(n){if(typeof n=="string")return n;if(ms(n))return Rc(n,uI)+"";if(Ba(n))return GS?GS.call(n):"";var e=n+"";return e=="0"&&1/n==-yZ?"-0":e}var vZ=/\s/;function kZ(n){for(var e=n.length;e--&&vZ.test(n.charAt(e)););return e}var wZ=/^\s+/;function SZ(n){return n&&n.slice(0,kZ(n)+1).replace(wZ,"")}function Hl(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var XS=0/0,CZ=/^[-+]0x[0-9a-f]+$/i,MZ=/^0b[01]+$/i,TZ=/^0o[0-7]+$/i,AZ=parseInt;function kb(n){if(typeof n=="number")return n;if(Ba(n))return XS;if(Hl(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Hl(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=SZ(n);var t=MZ.test(n);return t||TZ.test(n)?AZ(n.slice(2),t?2:8):CZ.test(n)?XS:+n}var ZS=1/0,OZ=17976931348623157e292;function dp(n){if(!n)return n===0?n:0;if(n=kb(n),n===ZS||n===-ZS){var e=n<0?-1:1;return e*OZ}return n===n?n:0}function EZ(n){var e=dp(n),t=e%1;return e===e?t?e-t:e:0}function jd(n){return n}var PZ="[object AsyncFunction]",DZ="[object Function]",IZ="[object GeneratorFunction]",RZ="[object Proxy]";function cI(n){if(!Hl(n))return!1;var e=Iu(n);return e==DZ||e==IZ||e==PZ||e==RZ}var NZ=Ul["__core-js_shared__"];const V1=NZ;var QS=function(){var n=/[^.]+$/.exec(V1&&V1.keys&&V1.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function LZ(n){return!!QS&&QS in n}var FZ=Function.prototype,jZ=FZ.toString;function Xa(n){if(n!=null){try{return jZ.call(n)}catch{}try{return n+""}catch{}}return""}var BZ=/[\\^$.*+?()[\]{}|]/g,VZ=/^\[object .+?Constructor\]$/,zZ=Function.prototype,HZ=Object.prototype,qZ=zZ.toString,WZ=HZ.hasOwnProperty,UZ=RegExp("^"+qZ.call(WZ).replace(BZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KZ(n){if(!Hl(n)||LZ(n))return!1;var e=cI(n)?UZ:VZ;return e.test(Xa(n))}function JZ(n,e){return n==null?void 0:n[e]}function Za(n,e){var t=JZ(n,e);return KZ(t)?t:void 0}var xZ=Za(Ul,"WeakMap");const wb=xZ;var $S=Object.create,YZ=function(){function n(){}return function(e){if(!Hl(e))return{};if($S)return $S(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const GZ=YZ;function XZ(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function ei(){}function ZZ(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var QZ=800,$Z=16,eQ=Date.now;function tQ(n){var e=0,t=0;return function(){var i=eQ(),s=$Z-(i-t);if(t=i,s>0){if(++e>=QZ)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function nQ(n){return function(){return n}}var iQ=function(){try{var n=Za(Object,"defineProperty");return n({},"",{}),n}catch{}}();const em=iQ;var sQ=em?function(n,e){return em(n,"toString",{configurable:!0,enumerable:!1,value:nQ(e),writable:!0})}:jd;const lQ=sQ;var rQ=tQ(lQ);const oQ=rQ;function aQ(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var fQ=9007199254740991,uQ=/^(?:0|[1-9]\d*)$/;function B2(n,e){var t=typeof n;return e=e??fQ,!!e&&(t=="number"||t!="symbol"&&uQ.test(n))&&n>-1&&n%1==0&&n<e}function cg(n,e,t){e=="__proto__"&&em?em(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function dg(n,e){return n===e||n!==n&&e!==e}var cQ=Object.prototype,dQ=cQ.hasOwnProperty;function dI(n,e,t){var i=n[e];(!(dQ.call(n,e)&&dg(i,t))||t===void 0&&!(e in n))&&cg(n,e,t)}function hg(n,e,t,i){var s=!t;t||(t={});for(var l=-1,r=e.length;++l<r;){var o=e[l],a=i?i(t[o],n[o],o,t,n):void 0;a===void 0&&(a=n[o]),s?cg(t,o,a):dI(t,o,a)}return t}var eC=Math.max;function hQ(n,e,t){return e=eC(e===void 0?n.length-1:e,0),function(){for(var i=arguments,s=-1,l=eC(i.length-e,0),r=Array(l);++s<l;)r[s]=i[e+s];s=-1;for(var o=Array(e+1);++s<e;)o[s]=i[s];return o[e]=t(r),XZ(n,this,o)}}function pQ(n,e){return oQ(hQ(n,e,jd),n+"")}var mQ=9007199254740991;function V2(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=mQ}function Ru(n){return n!=null&&V2(n.length)&&!cI(n)}function Sb(n,e,t){if(!Hl(t))return!1;var i=typeof e;return(i=="number"?Ru(t)&&B2(e,t.length):i=="string"&&e in t)?dg(t[e],n):!1}var gQ=Object.prototype;function pg(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||gQ;return n===t}function hI(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var bQ="[object Arguments]";function tC(n){return No(n)&&Iu(n)==bQ}var pI=Object.prototype,_Q=pI.hasOwnProperty,yQ=pI.propertyIsEnumerable,vQ=tC(function(){return arguments}())?tC:function(n){return No(n)&&_Q.call(n,"callee")&&!yQ.call(n,"callee")};const mg=vQ;function kQ(){return!1}var mI=typeof exports=="object"&&exports&&!exports.nodeType&&exports,nC=mI&&typeof module=="object"&&module&&!module.nodeType&&module,wQ=nC&&nC.exports===mI,iC=wQ?Ul.Buffer:void 0,SQ=iC?iC.isBuffer:void 0,CQ=SQ||kQ;const Zc=CQ;var MQ="[object Arguments]",TQ="[object Array]",AQ="[object Boolean]",OQ="[object Date]",EQ="[object Error]",PQ="[object Function]",DQ="[object Map]",IQ="[object Number]",RQ="[object Object]",NQ="[object RegExp]",LQ="[object Set]",FQ="[object String]",jQ="[object WeakMap]",BQ="[object ArrayBuffer]",VQ="[object DataView]",zQ="[object Float32Array]",HQ="[object Float64Array]",qQ="[object Int8Array]",WQ="[object Int16Array]",UQ="[object Int32Array]",KQ="[object Uint8Array]",JQ="[object Uint8ClampedArray]",xQ="[object Uint16Array]",YQ="[object Uint32Array]",Xn={};Xn[zQ]=Xn[HQ]=Xn[qQ]=Xn[WQ]=Xn[UQ]=Xn[KQ]=Xn[JQ]=Xn[xQ]=Xn[YQ]=!0;Xn[MQ]=Xn[TQ]=Xn[BQ]=Xn[AQ]=Xn[VQ]=Xn[OQ]=Xn[EQ]=Xn[PQ]=Xn[DQ]=Xn[IQ]=Xn[RQ]=Xn[NQ]=Xn[LQ]=Xn[FQ]=Xn[jQ]=!1;function GQ(n){return No(n)&&V2(n.length)&&!!Xn[Iu(n)]}function gg(n){return function(e){return n(e)}}var gI=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Nc=gI&&typeof module=="object"&&module&&!module.nodeType&&module,XQ=Nc&&Nc.exports===gI,z1=XQ&&aI.process,ZQ=function(){try{var n=Nc&&Nc.require&&Nc.require("util").types;return n||z1&&z1.binding&&z1.binding("util")}catch{}}();const iu=ZQ;var sC=iu&&iu.isTypedArray,QQ=sC?gg(sC):GQ;const z2=QQ;var $Q=Object.prototype,e$=$Q.hasOwnProperty;function bI(n,e){var t=ms(n),i=!t&&mg(n),s=!t&&!i&&Zc(n),l=!t&&!i&&!s&&z2(n),r=t||i||s||l,o=r?hI(n.length,String):[],a=o.length;for(var f in n)(e||e$.call(n,f))&&!(r&&(f=="length"||s&&(f=="offset"||f=="parent")||l&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||B2(f,a)))&&o.push(f);return o}function _I(n,e){return function(t){return n(e(t))}}var t$=_I(Object.keys,Object);const n$=t$;var i$=Object.prototype,s$=i$.hasOwnProperty;function yI(n){if(!pg(n))return n$(n);var e=[];for(var t in Object(n))s$.call(n,t)&&t!="constructor"&&e.push(t);return e}function Nu(n){return Ru(n)?bI(n):yI(n)}function l$(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var r$=Object.prototype,o$=r$.hasOwnProperty;function a$(n){if(!Hl(n))return l$(n);var e=pg(n),t=[];for(var i in n)i=="constructor"&&(e||!o$.call(n,i))||t.push(i);return t}function H2(n){return Ru(n)?bI(n,!0):a$(n)}var f$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u$=/^\w*$/;function q2(n,e){if(ms(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Ba(n)?!0:u$.test(n)||!f$.test(n)||e!=null&&n in Object(e)}var c$=Za(Object,"create");const Qc=c$;function d$(){this.__data__=Qc?Qc(null):{},this.size=0}function h$(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var p$="__lodash_hash_undefined__",m$=Object.prototype,g$=m$.hasOwnProperty;function b$(n){var e=this.__data__;if(Qc){var t=e[n];return t===p$?void 0:t}return g$.call(e,n)?e[n]:void 0}var _$=Object.prototype,y$=_$.hasOwnProperty;function v$(n){var e=this.__data__;return Qc?e[n]!==void 0:y$.call(e,n)}var k$="__lodash_hash_undefined__";function w$(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Qc&&e===void 0?k$:e,this}function Va(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Va.prototype.clear=d$;Va.prototype.delete=h$;Va.prototype.get=b$;Va.prototype.has=v$;Va.prototype.set=w$;function S$(){this.__data__=[],this.size=0}function bg(n,e){for(var t=n.length;t--;)if(dg(n[t][0],e))return t;return-1}var C$=Array.prototype,M$=C$.splice;function T$(n){var e=this.__data__,t=bg(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():M$.call(e,t,1),--this.size,!0}function A$(n){var e=this.__data__,t=bg(e,n);return t<0?void 0:e[t][1]}function O$(n){return bg(this.__data__,n)>-1}function E$(n,e){var t=this.__data__,i=bg(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function io(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}io.prototype.clear=S$;io.prototype.delete=T$;io.prototype.get=A$;io.prototype.has=O$;io.prototype.set=E$;var P$=Za(Ul,"Map");const $c=P$;function D$(){this.size=0,this.__data__={hash:new Va,map:new($c||io),string:new Va}}function I$(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function _g(n,e){var t=n.__data__;return I$(e)?t[typeof e=="string"?"string":"hash"]:t.map}function R$(n){var e=_g(this,n).delete(n);return this.size-=e?1:0,e}function N$(n){return _g(this,n).get(n)}function L$(n){return _g(this,n).has(n)}function F$(n,e){var t=_g(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function so(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}so.prototype.clear=D$;so.prototype.delete=R$;so.prototype.get=N$;so.prototype.has=L$;so.prototype.set=F$;var j$="Expected a function";function yg(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(j$);var t=function(){var i=arguments,s=e?e.apply(this,i):i[0],l=t.cache;if(l.has(s))return l.get(s);var r=n.apply(this,i);return t.cache=l.set(s,r)||l,r};return t.cache=new(yg.Cache||so),t}yg.Cache=so;var B$=500;function V$(n){var e=yg(n,function(i){return t.size===B$&&t.clear(),i}),t=e.cache;return e}var z$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H$=/\\(\\)?/g,q$=V$(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(z$,function(t,i,s,l){e.push(s?l.replace(H$,"$1"):i||t)}),e});const W$=q$;function vI(n){return n==null?"":uI(n)}function kI(n,e){return ms(n)?n:q2(n,e)?[n]:W$(vI(n))}var U$=1/0;function vg(n){if(typeof n=="string"||Ba(n))return n;var e=n+"";return e=="0"&&1/n==-U$?"-0":e}function W2(n,e){e=kI(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[vg(e[t++])];return t&&t==i?n:void 0}function K$(n,e,t){var i=n==null?void 0:W2(n,e);return i===void 0?t:i}function U2(n,e){for(var t=-1,i=e.length,s=n.length;++t<i;)n[s+t]=e[t];return n}var lC=vl?vl.isConcatSpreadable:void 0;function J$(n){return ms(n)||mg(n)||!!(lC&&n&&n[lC])}function wI(n,e,t,i,s){var l=-1,r=n.length;for(t||(t=J$),s||(s=[]);++l<r;){var o=n[l];e>0&&t(o)?e>1?wI(o,e-1,t,i,s):U2(s,o):i||(s[s.length]=o)}return s}var x$=_I(Object.getPrototypeOf,Object);const SI=x$;function Y$(n,e,t){var i=-1,s=n.length;e<0&&(e=-e>s?0:s+e),t=t>s?s:t,t<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var l=Array(s);++i<s;)l[i]=n[i+e];return l}function G$(){this.__data__=new io,this.size=0}function X$(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Z$(n){return this.__data__.get(n)}function Q$(n){return this.__data__.has(n)}var $$=200;function eee(n,e){var t=this.__data__;if(t instanceof io){var i=t.__data__;if(!$c||i.length<$$-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new so(i)}return t.set(n,e),this.size=t.size,this}function hr(n){var e=this.__data__=new io(n);this.size=e.size}hr.prototype.clear=G$;hr.prototype.delete=X$;hr.prototype.get=Z$;hr.prototype.has=Q$;hr.prototype.set=eee;function tee(n,e){return n&&hg(e,Nu(e),n)}function nee(n,e){return n&&hg(e,H2(e),n)}var CI=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rC=CI&&typeof module=="object"&&module&&!module.nodeType&&module,iee=rC&&rC.exports===CI,oC=iee?Ul.Buffer:void 0,aC=oC?oC.allocUnsafe:void 0;function see(n,e){if(e)return n.slice();var t=n.length,i=aC?aC(t):new n.constructor(t);return n.copy(i),i}function lee(n,e){for(var t=-1,i=n==null?0:n.length,s=0,l=[];++t<i;){var r=n[t];e(r,t,n)&&(l[s++]=r)}return l}function MI(){return[]}var ree=Object.prototype,oee=ree.propertyIsEnumerable,fC=Object.getOwnPropertySymbols,aee=fC?function(n){return n==null?[]:(n=Object(n),lee(fC(n),function(e){return oee.call(n,e)}))}:MI;const K2=aee;function fee(n,e){return hg(n,K2(n),e)}var uee=Object.getOwnPropertySymbols,cee=uee?function(n){for(var e=[];n;)U2(e,K2(n)),n=SI(n);return e}:MI;const TI=cee;function dee(n,e){return hg(n,TI(n),e)}function AI(n,e,t){var i=e(n);return ms(n)?i:U2(i,t(n))}function Cb(n){return AI(n,Nu,K2)}function hee(n){return AI(n,H2,TI)}var pee=Za(Ul,"DataView");const Mb=pee;var mee=Za(Ul,"Promise");const Tb=mee;var gee=Za(Ul,"Set");const Ab=gee;var uC="[object Map]",bee="[object Object]",cC="[object Promise]",dC="[object Set]",hC="[object WeakMap]",pC="[object DataView]",_ee=Xa(Mb),yee=Xa($c),vee=Xa(Tb),kee=Xa(Ab),wee=Xa(wb),ma=Iu;(Mb&&ma(new Mb(new ArrayBuffer(1)))!=pC||$c&&ma(new $c)!=uC||Tb&&ma(Tb.resolve())!=cC||Ab&&ma(new Ab)!=dC||wb&&ma(new wb)!=hC)&&(ma=function(n){var e=Iu(n),t=e==bee?n.constructor:void 0,i=t?Xa(t):"";if(i)switch(i){case _ee:return pC;case yee:return uC;case vee:return cC;case kee:return dC;case wee:return hC}return e});const su=ma;var See=Object.prototype,Cee=See.hasOwnProperty;function Mee(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&Cee.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Tee=Ul.Uint8Array;const tm=Tee;function J2(n){var e=new n.constructor(n.byteLength);return new tm(e).set(new tm(n)),e}function Aee(n,e){var t=e?J2(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var Oee=/\w*$/;function Eee(n){var e=new n.constructor(n.source,Oee.exec(n));return e.lastIndex=n.lastIndex,e}var mC=vl?vl.prototype:void 0,gC=mC?mC.valueOf:void 0;function Pee(n){return gC?Object(gC.call(n)):{}}function Dee(n,e){var t=e?J2(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var Iee="[object Boolean]",Ree="[object Date]",Nee="[object Map]",Lee="[object Number]",Fee="[object RegExp]",jee="[object Set]",Bee="[object String]",Vee="[object Symbol]",zee="[object ArrayBuffer]",Hee="[object DataView]",qee="[object Float32Array]",Wee="[object Float64Array]",Uee="[object Int8Array]",Kee="[object Int16Array]",Jee="[object Int32Array]",xee="[object Uint8Array]",Yee="[object Uint8ClampedArray]",Gee="[object Uint16Array]",Xee="[object Uint32Array]";function Zee(n,e,t){var i=n.constructor;switch(e){case zee:return J2(n);case Iee:case Ree:return new i(+n);case Hee:return Aee(n,t);case qee:case Wee:case Uee:case Kee:case Jee:case xee:case Yee:case Gee:case Xee:return Dee(n,t);case Nee:return new i;case Lee:case Bee:return new i(n);case Fee:return Eee(n);case jee:return new i;case Vee:return Pee(n)}}function Qee(n){return typeof n.constructor=="function"&&!pg(n)?GZ(SI(n)):{}}var $ee="[object Map]";function ete(n){return No(n)&&su(n)==$ee}var bC=iu&&iu.isMap,tte=bC?gg(bC):ete;const nte=tte;var ite="[object Set]";function ste(n){return No(n)&&su(n)==ite}var _C=iu&&iu.isSet,lte=_C?gg(_C):ste;const rte=lte;var ote=1,ate=2,fte=4,OI="[object Arguments]",ute="[object Array]",cte="[object Boolean]",dte="[object Date]",hte="[object Error]",EI="[object Function]",pte="[object GeneratorFunction]",mte="[object Map]",gte="[object Number]",PI="[object Object]",bte="[object RegExp]",_te="[object Set]",yte="[object String]",vte="[object Symbol]",kte="[object WeakMap]",wte="[object ArrayBuffer]",Ste="[object DataView]",Cte="[object Float32Array]",Mte="[object Float64Array]",Tte="[object Int8Array]",Ate="[object Int16Array]",Ote="[object Int32Array]",Ete="[object Uint8Array]",Pte="[object Uint8ClampedArray]",Dte="[object Uint16Array]",Ite="[object Uint32Array]",Jn={};Jn[OI]=Jn[ute]=Jn[wte]=Jn[Ste]=Jn[cte]=Jn[dte]=Jn[Cte]=Jn[Mte]=Jn[Tte]=Jn[Ate]=Jn[Ote]=Jn[mte]=Jn[gte]=Jn[PI]=Jn[bte]=Jn[_te]=Jn[yte]=Jn[vte]=Jn[Ete]=Jn[Pte]=Jn[Dte]=Jn[Ite]=!0;Jn[hte]=Jn[EI]=Jn[kte]=!1;function hp(n,e,t,i,s,l){var r,o=e&ote,a=e&ate,f=e&fte;if(t&&(r=s?t(n,i,s,l):t(n)),r!==void 0)return r;if(!Hl(n))return n;var u=ms(n);if(u){if(r=Mee(n),!o)return ZZ(n,r)}else{var d=su(n),h=d==EI||d==pte;if(Zc(n))return see(n,o);if(d==PI||d==OI||h&&!s){if(r=a||h?{}:Qee(n),!o)return a?dee(n,nee(r,n)):fee(n,tee(r,n))}else{if(!Jn[d])return s?n:{};r=Zee(n,d,o)}}l||(l=new hr);var p=l.get(n);if(p)return p;l.set(n,r),rte(n)?n.forEach(function(_){r.add(hp(_,e,t,_,n,l))}):nte(n)&&n.forEach(function(_,y){r.set(y,hp(_,e,t,y,n,l))});var g=f?a?hee:Cb:a?H2:Nu,b=u?void 0:g(n);return aQ(b||n,function(_,y){b&&(y=_,_=n[y]),dI(r,y,hp(_,e,t,y,n,l))}),r}var Rte=1,Nte=4;function Lte(n,e){return e=typeof e=="function"?e:void 0,hp(n,Rte|Nte,e)}var Fte="__lodash_hash_undefined__";function jte(n){return this.__data__.set(n,Fte),this}function Bte(n){return this.__data__.has(n)}function nm(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new so;++e<t;)this.add(n[e])}nm.prototype.add=nm.prototype.push=jte;nm.prototype.has=Bte;function Vte(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function zte(n,e){return n.has(e)}var Hte=1,qte=2;function DI(n,e,t,i,s,l){var r=t&Hte,o=n.length,a=e.length;if(o!=a&&!(r&&a>o))return!1;var f=l.get(n),u=l.get(e);if(f&&u)return f==e&&u==n;var d=-1,h=!0,p=t&qte?new nm:void 0;for(l.set(n,e),l.set(e,n);++d<o;){var g=n[d],b=e[d];if(i)var _=r?i(b,g,d,e,n,l):i(g,b,d,n,e,l);if(_!==void 0){if(_)continue;h=!1;break}if(p){if(!Vte(e,function(y,w){if(!zte(p,w)&&(g===y||s(g,y,t,i,l)))return p.push(w)})){h=!1;break}}else if(!(g===b||s(g,b,t,i,l))){h=!1;break}}return l.delete(n),l.delete(e),h}function Wte(n){var e=-1,t=Array(n.size);return n.forEach(function(i,s){t[++e]=[s,i]}),t}function Ute(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var Kte=1,Jte=2,xte="[object Boolean]",Yte="[object Date]",Gte="[object Error]",Xte="[object Map]",Zte="[object Number]",Qte="[object RegExp]",$te="[object Set]",ene="[object String]",tne="[object Symbol]",nne="[object ArrayBuffer]",ine="[object DataView]",yC=vl?vl.prototype:void 0,H1=yC?yC.valueOf:void 0;function sne(n,e,t,i,s,l,r){switch(t){case ine:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case nne:return!(n.byteLength!=e.byteLength||!l(new tm(n),new tm(e)));case xte:case Yte:case Zte:return dg(+n,+e);case Gte:return n.name==e.name&&n.message==e.message;case Qte:case ene:return n==e+"";case Xte:var o=Wte;case $te:var a=i&Kte;if(o||(o=Ute),n.size!=e.size&&!a)return!1;var f=r.get(n);if(f)return f==e;i|=Jte,r.set(n,e);var u=DI(o(n),o(e),i,s,l,r);return r.delete(n),u;case tne:if(H1)return H1.call(n)==H1.call(e)}return!1}var lne=1,rne=Object.prototype,one=rne.hasOwnProperty;function ane(n,e,t,i,s,l){var r=t&lne,o=Cb(n),a=o.length,f=Cb(e),u=f.length;if(a!=u&&!r)return!1;for(var d=a;d--;){var h=o[d];if(!(r?h in e:one.call(e,h)))return!1}var p=l.get(n),g=l.get(e);if(p&&g)return p==e&&g==n;var b=!0;l.set(n,e),l.set(e,n);for(var _=r;++d<a;){h=o[d];var y=n[h],w=e[h];if(i)var A=r?i(w,y,h,e,n,l):i(y,w,h,n,e,l);if(!(A===void 0?y===w||s(y,w,t,i,l):A)){b=!1;break}_||(_=h=="constructor")}if(b&&!_){var M=n.constructor,T=e.constructor;M!=T&&"constructor"in n&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof T=="function"&&T instanceof T)&&(b=!1)}return l.delete(n),l.delete(e),b}var fne=1,vC="[object Arguments]",kC="[object Array]",Ph="[object Object]",une=Object.prototype,wC=une.hasOwnProperty;function cne(n,e,t,i,s,l){var r=ms(n),o=ms(e),a=r?kC:su(n),f=o?kC:su(e);a=a==vC?Ph:a,f=f==vC?Ph:f;var u=a==Ph,d=f==Ph,h=a==f;if(h&&Zc(n)){if(!Zc(e))return!1;r=!0,u=!1}if(h&&!u)return l||(l=new hr),r||z2(n)?DI(n,e,t,i,s,l):sne(n,e,a,t,i,s,l);if(!(t&fne)){var p=u&&wC.call(n,"__wrapped__"),g=d&&wC.call(e,"__wrapped__");if(p||g){var b=p?n.value():n,_=g?e.value():e;return l||(l=new hr),s(b,_,t,i,l)}}return h?(l||(l=new hr),ane(n,e,t,i,s,l)):!1}function kg(n,e,t,i,s){return n===e?!0:n==null||e==null||!No(n)&&!No(e)?n!==n&&e!==e:cne(n,e,t,i,kg,s)}var dne=1,hne=2;function pne(n,e,t,i){var s=t.length,l=s,r=!i;if(n==null)return!l;for(n=Object(n);s--;){var o=t[s];if(r&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++s<l;){o=t[s];var a=o[0],f=n[a],u=o[1];if(r&&o[2]){if(f===void 0&&!(a in n))return!1}else{var d=new hr;if(i)var h=i(f,u,a,n,e,d);if(!(h===void 0?kg(u,f,dne|hne,i,d):h))return!1}}return!0}function II(n){return n===n&&!Hl(n)}function mne(n){for(var e=Nu(n),t=e.length;t--;){var i=e[t],s=n[i];e[t]=[i,s,II(s)]}return e}function RI(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function gne(n){var e=mne(n);return e.length==1&&e[0][2]?RI(e[0][0],e[0][1]):function(t){return t===n||pne(t,n,e)}}function bne(n,e){return n!=null&&e in Object(n)}function _ne(n,e,t){e=kI(e,n);for(var i=-1,s=e.length,l=!1;++i<s;){var r=vg(e[i]);if(!(l=n!=null&&t(n,r)))break;n=n[r]}return l||++i!=s?l:(s=n==null?0:n.length,!!s&&V2(s)&&B2(r,s)&&(ms(n)||mg(n)))}function yne(n,e){return n!=null&&_ne(n,e,bne)}var vne=1,kne=2;function wne(n,e){return q2(n)&&II(e)?RI(vg(n),e):function(t){var i=K$(t,n);return i===void 0&&i===e?yne(t,n):kg(e,i,vne|kne)}}function Sne(n){return function(e){return e==null?void 0:e[n]}}function Cne(n){return function(e){return W2(e,n)}}function Mne(n){return q2(n)?Sne(vg(n)):Cne(n)}function Bd(n){return typeof n=="function"?n:n==null?jd:typeof n=="object"?ms(n)?wne(n[0],n[1]):gne(n):Mne(n)}function Tne(n,e,t,i){for(var s=-1,l=n==null?0:n.length;++s<l;){var r=n[s];e(i,r,t(r),n)}return i}function NI(n){return function(e,t,i){for(var s=-1,l=Object(e),r=i(e),o=r.length;o--;){var a=r[n?o:++s];if(t(l[a],a,l)===!1)break}return e}}var Ane=NI();const One=Ane;function LI(n,e){return n&&One(n,e,Nu)}function FI(n,e){return function(t,i){if(t==null)return t;if(!Ru(t))return n(t,i);for(var s=t.length,l=e?s:-1,r=Object(t);(e?l--:++l<s)&&i(r[l],l,r)!==!1;);return t}}var Ene=FI(LI);const jI=Ene;function Pne(n,e,t,i){return jI(n,function(s,l,r){e(i,s,t(s),r)}),i}function BI(n,e){return function(t,i){var s=ms(t)?Tne:Pne,l=e?e():{};return s(t,n,Bd(i),l)}}var Dne=function(){return Ul.Date.now()};const q1=Dne;var Ine="Expected a function",Rne=Math.max,Nne=Math.min;function wg(n,e,t){var i,s,l,r,o,a,f=0,u=!1,d=!1,h=!0;if(typeof n!="function")throw new TypeError(Ine);e=kb(e)||0,Hl(t)&&(u=!!t.leading,d="maxWait"in t,l=d?Rne(kb(t.maxWait)||0,e):l,h="trailing"in t?!!t.trailing:h);function p(O){var E=i,R=s;return i=s=void 0,f=O,r=n.apply(R,E),r}function g(O){return f=O,o=setTimeout(y,e),u?p(O):r}function b(O){var E=O-a,R=O-f,N=e-E;return d?Nne(N,l-R):N}function _(O){var E=O-a,R=O-f;return a===void 0||E>=e||E<0||d&&R>=l}function y(){var O=q1();if(_(O))return w(O);o=setTimeout(y,b(O))}function w(O){return o=void 0,h&&i?p(O):(i=s=void 0,r)}function A(){o!==void 0&&clearTimeout(o),f=0,i=a=s=o=void 0}function M(){return o===void 0?r:w(q1())}function T(){var O=q1(),E=_(O);if(i=arguments,s=this,a=O,E){if(o===void 0)return g(a);if(d)return clearTimeout(o),o=setTimeout(y,e),p(a)}return o===void 0&&(o=setTimeout(y,e)),r}return T.cancel=A,T.flush=M,T}function Ct(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}function VI(n){return typeof n=="function"?n:jd}function Lne(n,e){for(var t=n==null?0:n.length;t--&&e(n[t],t,n)!==!1;);return n}var Fne=NI(!0);const jne=Fne;function Bne(n,e){return n&&jne(n,e,Nu)}var Vne=FI(Bne,!0);const zne=Vne;function Hne(n,e){var t=ms(n)?Lne:zne;return t(n,VI(e))}function ks(n){return n&&n.length?n[0]:void 0}function zI(n,e){var t=-1,i=Ru(n)?Array(n.length):[];return jI(n,function(s,l,r){i[++t]=e(s,l,r)}),i}function qne(n,e){var t=ms(n)?Rc:zI;return t(n,Bd(e))}var Wne=Object.prototype,Une=Wne.hasOwnProperty,Kne=BI(function(n,e,t){Une.call(n,t)?n[t].push(e):cg(n,t,[e])});const Sg=Kne;function en(n){var e=n==null?0:n.length;return e?Y$(n,0,-1):[]}var Jne="[object Map]",xne="[object Set]",Yne=Object.prototype,Gne=Yne.hasOwnProperty;function Kt(n){if(n==null)return!0;if(Ru(n)&&(ms(n)||typeof n=="string"||typeof n.splice=="function"||Zc(n)||z2(n)||mg(n)))return!n.length;var e=su(n);if(e==Jne||e==xne)return!n.size;if(pg(n))return!yI(n).length;for(var t in n)if(Gne.call(n,t))return!1;return!0}function sn(n,e){return kg(n,e)}function Xne(n,e){return n<e}function Zne(n,e){var t={};return e=Bd(e),LI(n,function(i,s,l){cg(t,s,e(i,s,l))}),t}function Qne(n,e,t){for(var i=-1,s=n.length;++i<s;){var l=n[i],r=e(l);if(r!=null&&(o===void 0?r===r&&!Ba(r):t(r,o)))var o=r,a=l}return a}function Dh(n,e){return n&&n.length?Qne(n,Bd(e),Xne):void 0}function $ne(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}function eie(n,e){if(n!==e){var t=n!==void 0,i=n===null,s=n===n,l=Ba(n),r=e!==void 0,o=e===null,a=e===e,f=Ba(e);if(!o&&!f&&!l&&n>e||l&&r&&a&&!o&&!f||i&&r&&a||!t&&a||!s)return 1;if(!i&&!l&&!f&&n<e||f&&t&&s&&!i&&!l||o&&t&&s||!r&&s||!a)return-1}return 0}function tie(n,e,t){for(var i=-1,s=n.criteria,l=e.criteria,r=s.length,o=t.length;++i<r;){var a=eie(s[i],l[i]);if(a){if(i>=o)return a;var f=t[i];return a*(f=="desc"?-1:1)}}return n.index-e.index}function nie(n,e,t){e.length?e=Rc(e,function(l){return ms(l)?function(r){return W2(r,l.length===1?l[0]:l)}:l}):e=[jd];var i=-1;e=Rc(e,gg(Bd));var s=zI(n,function(l,r,o){var a=Rc(e,function(f){return f(l)});return{criteria:a,index:++i,value:l}});return $ne(s,function(l,r){return tie(l,r,t)})}var iie=BI(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]});const sie=iie;var lie=Math.ceil,rie=Math.max;function oie(n,e,t,i){for(var s=-1,l=rie(lie((e-n)/(t||1)),0),r=Array(l);l--;)r[i?l:++s]=n,n+=t;return r}function aie(n){return function(e,t,i){return i&&typeof i!="number"&&Sb(e,t,i)&&(t=i=void 0),e=dp(e),t===void 0?(t=e,e=0):t=dp(t),i=i===void 0?e<t?1:-1:dp(i),oie(e,t,i,n)}}var fie=aie();const uie=fie;var cie=pQ(function(n,e){if(n==null)return[];var t=e.length;return t>1&&Sb(n,e[0],e[1])?e=[]:t>2&&Sb(e[0],e[1],e[2])&&(e=[e[0]]),nie(n,wI(e,1),[])});const die=cie;var hie="Expected a function";function pie(n,e,t){var i=!0,s=!0;if(typeof n!="function")throw new TypeError(hie);return Hl(t)&&(i="leading"in t?!!t.leading:i,s="trailing"in t?!!t.trailing:s),wg(n,e,{leading:i,maxWait:e,trailing:s})}var mie=9007199254740991,W1=4294967295,gie=Math.min;function SC(n,e){if(n=EZ(n),n<1||n>mie)return[];var t=W1,i=gie(n,W1);e=VI(e),n-=W1;for(var s=hI(i,e);++t<n;)e(t);return s}var bie=0;function lu(n){var e=++bie;return vI(n)+e}const _ie=1e4,yie=[];function Ob(n,e=!1){const t={};if(!Array.isArray(n))throw new TypeError("Array expected");function i(r,o){(!Array.isArray(r)&&!Un(r)||e&&o.length>0)&&(t[$e(o)]=!0),Un(r)&&Object.keys(r).forEach(f=>{i(r[f],o.concat(f))})}const s=Math.min(n.length,_ie);for(let r=0;r<s;r++){const o=n[r];i(o,yie)}return Object.keys(t).sort().map(zl)}function HI(n,e,t){if(!(e<=n))for(let i=n;i<e;i++)t(i)}function im(n,e){return n.length>e?n.slice(0,e):n}function CC(n){return{...n}}function MC(n){return Object.values(n)}function TC(n,e,t,i){const s=n.slice(0),l=s.splice(e,t);return s.splice.apply(s,[e+i,0,...l]),s}function vie(n,e,t){if(n.length<e)n.forEach(t);else{const i=e>1?(n.length-1)/(e-1):n.length;for(let s=0;s<e;s++){const l=Math.floor(s*i);t(n[l],l,n)}}}function x2(n,e){try{return e.parse(n)}catch{return e.parse(dr(n))}}function qI(n,e){try{return x2(n,e)}catch{return}}function Cg(n,e){n=n.replace(UI,"");try{return e(n)}catch{}try{return e("["+n+"]")}catch{}try{return e("{"+n+"}")}catch{}throw new Error("Failed to parse partial JSON")}function WI(n){n=n.replace(UI,"");try{return dr(n)}catch{}try{const e=dr("["+n+"]");return e.substring(1,e.length-1)}catch{}try{const e=dr("{"+n+"}");return e.substring(1,e.length-1)}catch{}throw new Error("Failed to repair partial JSON")}const UI=/,\s*$/;function ru(n,e){const t=OC.exec(e);if(t){const i=Ni(t[2]),s=wie(n,`
`,0,i),l=n.lastIndexOf(`
`,i),r=i-l-1;return{position:i,line:s,column:r,message:e.replace(OC,()=>`line ${s+1} column ${r+1}`)}}else{const i=Aie.exec(e),s=i?Ni(i[1]):null,l=s!==null?s-1:null,r=Oie.exec(e),o=r?Ni(r[1]):null,a=o!==null?o-1:null;return{position:l!==null&&a!==null?kie(n,l,a):null,line:l,column:a,message:e.replace(/^JSON.parse: /,"").replace(/ of the JSON data$/,"")}}}function kie(n,e,t){let i=n.indexOf(`
`),s=1;for(;s<e&&i!==-1;)i=n.indexOf(`
`,i+1),s++;return i!==-1?i+t+1:null}function wie(n,e,t=0,i=n.length){let s=0;for(let l=t;l<i;l++)n.charAt(l)===e&&s++;return s}function Sie(n,e){try{const t=fg.parse(n),i=$e(e),s=t.pointers[i];if(s)return{path:e,line:s.key?s.key.line:s.value?s.value.line:0,column:s.key?s.key.column:s.value?s.value.column:0,from:s.key?s.key.pos:s.value?s.value.pos:0,to:s.keyEnd?s.keyEnd.pos:s.valueEnd?s.valueEnd.pos:0}}catch(t){console.error(t)}return null}function Cie(n,e,t){if(e==="array"){if(Array.isArray(n))return n;if(Un(n))return MC(n);if(typeof n=="string")try{const i=t.parse(n);if(Array.isArray(i))return i;if(Un(i))return MC(i)}catch{return[n]}return[n]}if(e==="object"){if(Array.isArray(n))return CC(n);if(Un(n))return n;if(typeof n=="string")try{const i=t.parse(n);if(Un(i))return i;if(Array.isArray(i))return CC(i)}catch{return{value:n}}return{value:n}}if(e==="value")return $n(n)?t.stringify(n):n;throw new Error(`Cannot convert ${j2(n,t)} to ${e}`)}function U1(n){return Un(n)?n.json!==void 0?n.text!==void 0?'Content must contain either a property "json" or a property "text" but not both':null:n.text===void 0?'Content must contain either a property "json" or a property "text"':typeof n.text!="string"?'Content "text" property must be a string containing a JSON document. Did you mean to use the "json" property instead?':null:"Content must be an object"}function ou(n){return Un(n)&&typeof n.text=="string"}function Y2(n){return Un(n)&&typeof n.json<"u"&&!ou(n)}function Mie(n,e=void 0,t=JSON){return ou(n)?n:{text:t.stringify(n.json,null,e)}}function AC(n,e=JSON){return Y2(n)?n:{json:e.parse(n.text)}}function sm(n,e,t){return Mie(n,e,t).text}function KI(n,e){return Tie(n,e)>e}function Tie(n,e=1/0){if(ou(n))return n.text.length;const t=n.json;let i=0;function s(l){if(Array.isArray(l)){if(i+=2+(l.length-1),i>e)return i;for(let r=0;r<l.length;r++){const o=l[r];if(s(o),i>e)return i}}else if(Un(l)){const r=Object.keys(l);i+=2+r.length+(r.length-1);for(let o=0;o<r.length;o++){const a=r[o],f=l[a];i+=a.length+2,s(f)}}else typeof l=="string"?i+=l.length+2:i+=String(l).length}return s(t),i}const OC=/(position|char) (\d+)/,Aie=/line (\d+)/,Oie=/column (\d+)/;function Eie(n,e){return n.parse===e.parse&&n.stringify===e.stringify}function EC(n){return Pie.test(n)&&n.length>2}const Pie=/^[[{]\S/;function G2({escapeControlCharacters:n,escapeUnicodeCharacters:e}){return n?e?Die:Iie:e?Rie:Nie}const Die={escapeValue:n=>JI(GI(String(n))),unescapeValue:n=>XI(xI(n))},Iie={escapeValue:n=>GI(String(n)),unescapeValue:n=>XI(n)},Rie={escapeValue:n=>JI(String(n)),unescapeValue:n=>xI(n)},Nie={escapeValue:n=>String(n),unescapeValue:n=>n};function JI(n){return n.replace(/[^\x20-\x7F]/g,e=>{var t;return e==="\b"||e==="\f"||e===`
`||e==="\r"||e==="	"?e:"\\u"+("000"+((t=e.codePointAt(0))==null?void 0:t.toString(16))).slice(-4)})}function xI(n){return n.replace(/\\u[a-fA-F0-9]{4}/g,e=>{try{const t=JSON.parse('"'+e+'"');return YI[t]||t}catch{return e}})}const YI={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},Lie={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"};function GI(n){return n.replace(/["\b\f\n\r\t\\]/g,e=>YI[e]||e)}function XI(n){return n.replace(/\\["bfnrt\\]/g,e=>Lie[e]||e)}function za(n){return typeof n!="string"?String(n):n.endsWith(`
`)?n+`
`:n}function Fie(n){return n.replace(/\n$/,"")}function ZI(n,e){return Vd(n,t=>t.nodeName.toUpperCase()===e.toUpperCase())}function ka(n,e,t){return Vd(n,i=>Bie(i,e,t))}function jie(n){return n.nodeName==="DIV"&&n.contentEditable==="true"}function Bie(n,e,t){return typeof n.getAttribute=="function"&&n.getAttribute(e)===t}function Vd(n,e){return!!X2(n,e)}function X2(n,e){let t=n;for(;t&&!e(t);)t=t.parentNode;return t||void 0}function QI(n){if(n.firstChild==null){n.focus();return}const e=document.createRange(),t=window.getSelection();e.setStart(n,1),e.collapse(!0),t==null||t.removeAllRanges(),t==null||t.addRange(e)}function lm(n,e,t){const i=Lu(n);if(!i)return;const s=i.document.activeElement?i.document.activeElement:null;s&&s.isContentEditable&&(s.textContent=t?e:s.textContent+e,QI(s))}function Lu(n){return n&&n.ownerDocument?n.ownerDocument.defaultView:null}function rm(n){const e=Lu(n),t=e==null?void 0:e.document.activeElement;return t?Vd(t,i=>i===n):!1}function $I(n,e){return X2(n,t=>t.nodeName===e)}function K1(n){return ka(n,"data-type","selectable-key")?Nn.key:ka(n,"data-type","selectable-value")?Nn.value:ka(n,"data-type","insert-selection-area-inside")?Nn.inside:ka(n,"data-type","insert-selection-area-after")?Nn.after:Nn.multi}function au(n){return encodeURIComponent($e(n))}function Vie(n){return zl(decodeURIComponent(n))}function e7(n){const e=X2(n,i=>i!=null&&i.hasAttribute?i.hasAttribute("data-path"):!1),t=e==null?void 0:e.getAttribute("data-path");return t?Vie(t):null}function zie({allElements:n,currentElement:e,direction:t,hasPrio:i=()=>!0,margin:s=10}){const l=qne(n.filter(o),a),r=a(e);function o(y){const w=y.getBoundingClientRect();return w.width>0&&w.height>0}function a(y){const w=y.getBoundingClientRect();return{x:w.left+w.width/2,y:w.top+w.height/2,rect:w,element:y}}const f=(y,w)=>Math.abs(y.y-w.y)<s,u=(y,w)=>y.rect.left+s<w.rect.left,d=(y,w)=>y.rect.right>w.rect.right+s,h=(y,w)=>y.y+s<w.y,p=(y,w)=>y.y>w.y+s;function g(y,w,A=1){const M=y.x-w.x,T=(y.y-w.y)*A;return Math.sqrt(M*M+T*T)}const b=y=>g(y,r),_=y=>g(y,r,10);if(t==="Left"||t==="Right"){const y=t==="Left"?l.filter(M=>u(M,r)):l.filter(M=>d(M,r)),w=y.filter(M=>f(M,r)),A=Dh(w,b)||Dh(y,_);return A==null?void 0:A.element}if(t==="Up"||t==="Down"){const y=t==="Up"?l.filter(M=>h(M,r)):l.filter(M=>p(M,r)),w=y.filter(M=>i(M.element)),A=Dh(w,b)||Dh(y,b);return A==null?void 0:A.element}}function Xo(n,e="+"){const t=[];n.ctrlKey&&t.push("Ctrl"),n.metaKey&&t.push("Ctrl"),n.altKey&&t.push("Alt"),n.shiftKey&&t.push("Shift");const i=n.key.length===1?n.key.toUpperCase():n.key;return i in Hie||t.push(i),t.join(e)}const Hie={Ctrl:!0,Command:!0,Control:!0,Alt:!0,Option:!0,Shift:!0};const{window:J1}=L_;function PC(n){let e,t,i,s,l,r;const o=[n[0].props];var a=n[0].component;function f(u){let d={};for(let h=0;h<o.length;h+=1)d=ft(d,o[h]);return{props:d}}return a&&(s=Sn(a,f())),{c(){e=k("div"),t=k("input"),i=D(),s&&U(s.$$.fragment),m(t,"type","text"),t.readOnly=!0,m(t,"tabindex","-1"),m(t,"class","jse-hidden-input svelte-1r8q3m8"),m(e,"class","jse-absolute-popup-content svelte-1r8q3m8"),m(e,"style",l=DC(n[1],n[0].options))},m(u,d){C(u,e,d),v(e,t),n[7](t),v(e,i),s&&q(s,e,null),r=!0},p(u,d){const h=d&1?kn(o,[ri(u[0].props)]):{};if(d&1&&a!==(a=u[0].component)){if(s){ue();const p=s;I(p.$$.fragment,1,0,()=>{W(p,1)}),ce()}a?(s=Sn(a,f()),U(s.$$.fragment),P(s.$$.fragment,1),q(s,e,null)):s=null}else a&&s.$set(h);(!r||d&3&&l!==(l=DC(u[1],u[0].options)))&&m(e,"style",l)},i(u){r||(s&&P(s.$$.fragment,u),r=!0)},o(u){s&&I(s.$$.fragment,u),r=!1},d(u){u&&S(e),n[7](null),s&&W(s)}}}function qie(n){let e,t,i,s,l=n[1]&&PC(n);return{c(){e=k("div"),l&&l.c(),m(e,"class","jse-absolute-popup svelte-1r8q3m8")},m(r,o){C(r,e,o),l&&l.m(e,null),n[8](e),t=!0,i||(s=[x(J1,"mousedown",n[3],!0),x(J1,"keydown",n[4],!0),x(J1,"wheel",n[5],!0),x(e,"mousedown",Wie),x(e,"keydown",n[4])],i=!0)},p(r,[o]){r[1]?l?(l.p(r,o),o&2&&P(l,1)):(l=PC(r),l.c(),P(l,1),l.m(e,null)):l&&(ue(),I(l,1,1,()=>{l=null}),ce())},i(r){t||(P(l),t=!0)},o(r){I(l),t=!1},d(r){r&&S(e),l&&l.d(),n[8](null),i=!1,Ke(s)}}}function Wie(n){n.stopPropagation()}function DC(n,e){function t(){if(e.anchor){const{anchor:u,width:d=0,height:h=0,offsetTop:p=0,offsetLeft:g=0,position:b}=e,{left:_,top:y,bottom:w,right:A}=u.getBoundingClientRect(),M=b==="top"||y+h>window.innerHeight&&y>h,T=b==="left"||_+d>window.innerWidth&&_>d;return{left:T?A-g:_+g,top:M?y-p:w+p,positionAbove:M,positionLeft:T}}else if(typeof e.left=="number"&&typeof e.top=="number"){const{left:u,top:d,width:h=0,height:p=0}=e,g=d+p>window.innerHeight&&d>p,b=u+h>window.innerWidth&&u>h;return{left:u,top:d,positionAbove:g,positionLeft:b}}else throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"')}const i=n.getBoundingClientRect(),{left:s,top:l,positionAbove:r,positionLeft:o}=t(),a=r?`bottom: ${i.top-l}px;`:`top: ${l-i.top}px;`,f=o?`right: ${i.left-s}px;`:`left: ${s-i.left}px;`;return a+f}function Uie(n,e,t){let{popup:i}=e,{closeAbsolutePopup:s}=e,l,r;Pn(d);function o(g){i.options&&i.options.closeOnOuterClick&&!Vd(g.target,b=>b===l)&&s(i.id)}function a(g){o(g)}function f(g){Xo(g)==="Escape"&&s(i.id)}function u(g){o(g)}function d(){r&&r.focus()}function h(g){de[g?"unshift":"push"](()=>{r=g,t(2,r)})}function p(g){de[g?"unshift":"push"](()=>{l=g,t(1,l)})}return n.$$set=g=>{"popup"in g&&t(0,i=g.popup),"closeAbsolutePopup"in g&&t(6,s=g.closeAbsolutePopup)},[i,l,r,a,f,u,s,h,p]}class Kie extends ke{constructor(e){super(),ve(this,e,Uie,qie,De,{popup:0,closeAbsolutePopup:6})}}const Jie=Kie;function IC(n,e,t){const i=n.slice();return i[6]=e[t],i}function RC(n){let e,t;return e=new Jie({props:{popup:n[6],closeAbsolutePopup:n[1]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&1&&(l.popup=i[6]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function xie(n){let e,t,i=n[0],s=[];for(let a=0;a<i.length;a+=1)s[a]=RC(IC(n,i,a));const l=a=>I(s[a],1,1,()=>{s[a]=null}),r=n[3].default,o=It(r,n,n[2],null);return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=D(),o&&o.c()},m(a,f){for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(a,f);C(a,e,f),o&&o.m(a,f),t=!0},p(a,[f]){if(f&3){i=a[0];let u;for(u=0;u<i.length;u+=1){const d=IC(a,i,u);s[u]?(s[u].p(d,f),P(s[u],1)):(s[u]=RC(d),s[u].c(),P(s[u],1),s[u].m(e.parentNode,e))}for(ue(),u=i.length;u<s.length;u+=1)l(u);ce()}o&&o.p&&(!t||f&4)&&Nt(o,r,a,a[2],t?Rt(r,a[2],f,null):Lt(a[2]),null)},i(a){if(!t){for(let f=0;f<i.length;f+=1)P(s[f]);P(o,a),t=!0}},o(a){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)I(s[f]);I(o,a),t=!1},d(a){Ot(s,a),a&&S(e),o&&o.d(a)}}}function Yie(n,e,t){let{$$slots:i={},$$scope:s}=e;const l=Gi("jsoneditor:AbsolutePopup");let r=[];function o(f,u,d){l("open...",u,d);const h={id:Ic(),component:f,props:u||{},options:d||{}};return t(0,r=[...r,h]),h.id}function a(f){const u=r.findIndex(d=>d.id===f);if(u!==-1){const d=r[u];d.options.onClose&&d.options.onClose(),t(0,r=r.filter(h=>h.id!==f))}}return CE("absolute-popup",{openAbsolutePopup:o,closeAbsolutePopup:a}),n.$$set=f=>{"$$scope"in f&&t(2,s=f.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&l("popups",r)},[r,a,s,i]}class Gie extends ke{constructor(e){super(),ve(this,e,Yie,xie,jt,{})}}const t7=Gie;function Rs(n){return n.map((e,t)=>n7.test(e)?"["+e+"]":/[.[\]]/.test(e)||e===""?'["'+Xie(e)+'"]':(t>0?".":"")+e).join("")}function Xie(n){return n.replace(/"/g,'\\"')}function Zie(n){const e=[];let t=0;for(;t<n.length;)n[t]==="."&&t++,n[t]==="["?(t++,n[t]==='"'?(t++,e.push(i(l=>l==='"',!0)),s('"')):e.push(i(l=>l==="]")),s("]")):e.push(i(l=>l==="."||l==="["));function i(l,r=!1){let o="";for(;t<n.length&&!l(n[t]);)r&&n[t]==="\\"&&n[t+1]==='"'?(o+='"',t+=2):(o+=n[t],t++);return o}function s(l){if(n[t]!==l)throw new SyntaxError(`Invalid JSON path: ${l} expected at position ${t}`);t++}return e}function bc(n){return{value:n,label:Kt(n)?"(whole item)":Rs(n)}}function ua(n){return n.map(e=>n7.test(e)?`?.[${e}]`:Qie.test(e)?`?.${e}`:`?.[${JSON.stringify(e)}]`).join("")}const Qie=/^[a-zA-Z$_][a-zA-Z$_\d]*$/,n7=/^\d+$/;function $ie(){return yg(n=>n,Rs)}function zd(n,e){const t=new Set(e),i=n.replace(/ \(copy( \d+)?\)$/,"");let s=n,l=1;for(;t.has(s);){const r="copy"+(l>1?" "+l:"");s=`${i} (${r})`,l++}return s}function kr(n,e){const t="...",i=e-t.length;return n.length>e?n.substring(0,i)+t:n}function ese(n){if(n==="")return"";const e=n.toLowerCase();if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;if(e==="undefined")return;const t=Number(n),i=parseFloat(n);return!isNaN(t)&&!isNaN(i)?t:n}const tse=`
<p>
  Enter a JavaScript function to filter, sort, or transform the data.
</p>
`,nse={id:"javascript",name:"JavaScript",description:tse,createQuery:ise,executeQuery:sse};function ise(n,e){const{filter:t,sort:i,projection:s}=e,l=[`  return data
`];if(t&&t.path&&t.relation&&t.value){const r=`item => item${ua(t.path)}`,o=ese(t.value),a=typeof o=="string"?`'${t.value}'`:iZ(t.value)&&!Number.isSafeInteger(o)?`${t.value}n`:t.value;l.push(`    .filter(${r} ${t.relation} ${a})
`)}if(i&&i.path&&i.direction&&(i.direction==="desc"?l.push(`    .slice()
    .sort((a, b) => {
      // sort descending
      const valueA = a${ua(i.path)}
      const valueB = b${ua(i.path)}
      return valueA > valueB ? -1 : valueA < valueB ? 1 : 0
    })
`):l.push(`    .slice()
    .sort((a, b) => {
      // sort ascending
      const valueA = a${ua(i.path)}
      const valueB = b${ua(i.path)}
      return valueA > valueB ? 1 : valueA < valueB ? -1 : 0
    })
`)),s&&s.paths)if(s.paths.length>1){const r=s.paths.map(o=>{const a=o[o.length-1]||"item",f=`item${ua(o)}`;return`      ${JSON.stringify(a)}: ${f}`});l.push(`    .map(item => ({
${r.join(`,
`)}})
    )
`)}else{const r=`item${ua(s.paths[0])}`;l.push(`    .map(item => ${r})
`)}return`function query (data) {
${l.join("")}}`}function sse(n,e){const i=new Function(`"use strict";

`+e+`

if (typeof query !== "function") {
  throw new Error("Cannot execute query: expecting a function named 'query' but is undefined")
}

return query;
`)()(n);return i!==void 0?i:null}var lse={prefix:"far",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M297.2 248.9C311.6 228.3 320 203.2 320 176c0-70.7-57.3-128-128-128S64 105.3 64 176c0 27.2 8.4 52.3 22.8 72.9c3.7 5.3 8.1 11.3 12.8 17.7l0 0c12.9 17.7 28.3 38.9 39.8 59.8c10.4 19 15.7 38.8 18.3 57.5H109c-2.2-12-5.9-23.7-11.8-34.5c-9.9-18-22.2-34.9-34.5-51.8l0 0 0 0c-5.2-7.1-10.4-14.2-15.4-21.4C27.6 247.9 16 213.3 16 176C16 78.8 94.8 0 192 0s176 78.8 176 176c0 37.3-11.6 71.9-31.4 100.3c-5 7.2-10.2 14.3-15.4 21.4l0 0 0 0c-12.3 16.8-24.6 33.7-34.5 51.8c-5.9 10.8-9.6 22.5-11.8 34.5H226.4c2.6-18.7 7.9-38.6 18.3-57.5c11.5-20.9 26.9-42.1 39.8-59.8l0 0 0 0 0 0c4.7-6.4 9-12.4 12.7-17.7zM192 128c-26.5 0-48 21.5-48 48c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-44.2 35.8-80 80-80c8.8 0 16 7.2 16 16s-7.2 16-16 16zm0 384c-44.2 0-80-35.8-80-80V416H272v16c0 44.2-35.8 80-80 80z"]},rse={prefix:"far",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},ed=rse,td={prefix:"far",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M384 80c8.8 0 16 7.2 16 16V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16H384zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"]},ose={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]};function ase(n){let e;return{c(){e=gr("g")},m(t,i){C(t,e,i),e.innerHTML=n[0]},p(t,[i]){i&1&&(e.innerHTML=t[0])},i:te,o:te,d(t){t&&S(e)}}}function fse(n,e,t){let i=870711;function s(){return i+=1,`fa-${i.toString(16)}`}let l="",{data:r}=e;function o(a){if(!a||!a.raw)return"";let f=a.raw;const u={};return f=f.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,(d,h)=>{const p=s();return u[h]=p,` id="${p}"`}),f=f.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(d,h,p,g)=>{const b=h||g;return!b||!u[b]?d:`#${u[b]}`}),f}return n.$$set=a=>{"data"in a&&t(1,r=a.data)},n.$$.update=()=>{n.$$.dirty&2&&t(0,l=o(r))},[l,r]}class use extends ke{constructor(e){super(),ve(this,e,fse,ase,De,{data:1})}}function cse(n){let e,t,i,s;const l=n[12].default,r=It(l,n,n[11],null);let o=[{version:"1.1"},{class:t="fa-icon "+n[0]},{width:n[1]},{height:n[2]},{"aria-label":n[9]},{role:i=n[9]?"img":"presentation"},{viewBox:n[3]},{style:n[8]},n[10]],a={};for(let f=0;f<o.length;f+=1)a=ft(a,o[f]);return{c(){e=gr("svg"),r&&r.c(),Yf(e,a),$(e,"fa-spin",n[4]),$(e,"fa-pulse",n[6]),$(e,"fa-inverse",n[5]),$(e,"fa-flip-horizontal",n[7]==="horizontal"),$(e,"fa-flip-vertical",n[7]==="vertical"),$(e,"svelte-1mc5hvj",!0)},m(f,u){C(f,e,u),r&&r.m(e,null),s=!0},p(f,[u]){r&&r.p&&(!s||u&2048)&&Nt(r,l,f,f[11],s?Rt(l,f[11],u,null):Lt(f[11]),null),Yf(e,a=kn(o,[{version:"1.1"},(!s||u&1&&t!==(t="fa-icon "+f[0]))&&{class:t},(!s||u&2)&&{width:f[1]},(!s||u&4)&&{height:f[2]},(!s||u&512)&&{"aria-label":f[9]},(!s||u&512&&i!==(i=f[9]?"img":"presentation"))&&{role:i},(!s||u&8)&&{viewBox:f[3]},(!s||u&256)&&{style:f[8]},u&1024&&f[10]])),$(e,"fa-spin",f[4]),$(e,"fa-pulse",f[6]),$(e,"fa-inverse",f[5]),$(e,"fa-flip-horizontal",f[7]==="horizontal"),$(e,"fa-flip-vertical",f[7]==="vertical"),$(e,"svelte-1mc5hvj",!0)},i(f){s||(P(r,f),s=!0)},o(f){I(r,f),s=!1},d(f){f&&S(e),r&&r.d(f)}}}function dse(n,e,t){const i=["class","width","height","box","spin","inverse","pulse","flip","style","label"];let s=Jt(e,i),{$$slots:l={},$$scope:r}=e,{class:o=""}=e,{width:a}=e,{height:f}=e,{box:u="0 0 0 0"}=e,{spin:d=!1}=e,{inverse:h=!1}=e,{pulse:p=!1}=e,{flip:g="none"}=e,{style:b=""}=e,{label:_=""}=e;return n.$$set=y=>{e=ft(ft({},e),Pi(y)),t(10,s=Jt(e,i)),"class"in y&&t(0,o=y.class),"width"in y&&t(1,a=y.width),"height"in y&&t(2,f=y.height),"box"in y&&t(3,u=y.box),"spin"in y&&t(4,d=y.spin),"inverse"in y&&t(5,h=y.inverse),"pulse"in y&&t(6,p=y.pulse),"flip"in y&&t(7,g=y.flip),"style"in y&&t(8,b=y.style),"label"in y&&t(9,_=y.label),"$$scope"in y&&t(11,r=y.$$scope)},[o,a,f,u,d,h,p,g,b,_,s,r,l]}class hse extends ke{constructor(e){super(),ve(this,e,dse,cse,De,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,style:8,label:9})}}function NC(n,e,t){const i=n.slice();return i[24]=e[t],i}function LC(n,e,t){const i=n.slice();return i[27]=e[t],i}function FC(n){let e,t,i,s,l=n[6].paths&&jC(n),r=n[6].polygons&&VC(n),o=n[6].raw&&HC(n);return{c(){l&&l.c(),e=D(),r&&r.c(),t=D(),o&&o.c(),i=Ee()},m(a,f){l&&l.m(a,f),C(a,e,f),r&&r.m(a,f),C(a,t,f),o&&o.m(a,f),C(a,i,f),s=!0},p(a,f){a[6].paths?l?l.p(a,f):(l=jC(a),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),a[6].polygons?r?r.p(a,f):(r=VC(a),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),a[6].raw?o?(o.p(a,f),f&64&&P(o,1)):(o=HC(a),o.c(),P(o,1),o.m(i.parentNode,i)):o&&(ue(),I(o,1,1,()=>{o=null}),ce())},i(a){s||(P(o),s=!0)},o(a){I(o),s=!1},d(a){l&&l.d(a),a&&S(e),r&&r.d(a),a&&S(t),o&&o.d(a),a&&S(i)}}}function jC(n){let e,t=n[6].paths,i=[];for(let s=0;s<t.length;s+=1)i[s]=BC(LC(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Ee()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);C(s,e,l)},p(s,l){if(l&64){t=s[6].paths;let r;for(r=0;r<t.length;r+=1){const o=LC(s,t,r);i[r]?i[r].p(o,l):(i[r]=BC(o),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(s){Ot(i,s),s&&S(e)}}}function BC(n){let e,t=[n[27]],i={};for(let s=0;s<t.length;s+=1)i=ft(i,t[s]);return{c(){e=gr("path"),Yf(e,i)},m(s,l){C(s,e,l)},p(s,l){Yf(e,i=kn(t,[l&64&&s[27]]))},d(s){s&&S(e)}}}function VC(n){let e,t=n[6].polygons,i=[];for(let s=0;s<t.length;s+=1)i[s]=zC(NC(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Ee()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);C(s,e,l)},p(s,l){if(l&64){t=s[6].polygons;let r;for(r=0;r<t.length;r+=1){const o=NC(s,t,r);i[r]?i[r].p(o,l):(i[r]=zC(o),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(s){Ot(i,s),s&&S(e)}}}function zC(n){let e,t=[n[24]],i={};for(let s=0;s<t.length;s+=1)i=ft(i,t[s]);return{c(){e=gr("polygon"),Yf(e,i)},m(s,l){C(s,e,l)},p(s,l){Yf(e,i=kn(t,[l&64&&s[24]]))},d(s){s&&S(e)}}}function HC(n){let e,t,i;function s(r){n[16](r)}let l={};return n[6]!==void 0&&(l.data=n[6]),e=new use({props:l}),de.push(()=>Ne(e,"data",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};!t&&o&64&&(t=!0,a.data=r[6],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function pse(n){let e,t,i=n[6]&&FC(n);return{c(){i&&i.c(),e=Ee()},m(s,l){i&&i.m(s,l),C(s,e,l),t=!0},p(s,l){s[6]?i?(i.p(s,l),l&64&&P(i,1)):(i=FC(s),i.c(),P(i,1),i.m(e.parentNode,e)):i&&(ue(),I(i,1,1,()=>{i=null}),ce())},i(s){t||(P(i),t=!0)},o(s){I(i),t=!1},d(s){i&&i.d(s),s&&S(e)}}}function mse(n){let e;const t=n[15].default,i=It(t,n,n[17],null),s=i||pse(n);return{c(){s&&s.c()},m(l,r){s&&s.m(l,r),e=!0},p(l,r){i?i.p&&(!e||r&131072)&&Nt(i,t,l,l[17],e?Rt(t,l[17],r,null):Lt(l[17]),null):s&&s.p&&(!e||r&64)&&s.p(l,e?r:-1)},i(l){e||(P(s,l),e=!0)},o(l){I(s,l),e=!1},d(l){s&&s.d(l)}}}function gse(n){let e,t;const i=[{label:n[5]},{width:n[7]},{height:n[8]},{box:n[10]},{style:n[9]},{spin:n[1]},{flip:n[4]},{inverse:n[2]},{pulse:n[3]},{class:n[0]},n[11]];let s={$$slots:{default:[mse]},$$scope:{ctx:n}};for(let l=0;l<i.length;l+=1)s=ft(s,i[l]);return e=new hse({props:s}),{c(){U(e.$$.fragment)},m(l,r){q(e,l,r),t=!0},p(l,[r]){const o=r&4031?kn(i,[r&32&&{label:l[5]},r&128&&{width:l[7]},r&256&&{height:l[8]},r&1024&&{box:l[10]},r&512&&{style:l[9]},r&2&&{spin:l[1]},r&16&&{flip:l[4]},r&4&&{inverse:l[2]},r&8&&{pulse:l[3]},r&1&&{class:l[0]},r&2048&&ri(l[11])]):{};r&131136&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}let qC=1;function bse(n){let e,t;if(n)if("definition"in n){console.error("`import faIconName from '@fortawesome/package-name/faIconName` not supported - Please use `import { faIconName } from '@fortawesome/package-name/faIconName'` instead");return}else if("iconName"in n&&"icon"in n){e=n.iconName;let i=[];const[s,l,,,r]=n.icon;Array.isArray(r)?i=r:i=[r],t={width:s,height:l,paths:i.map(o=>({d:o}))}}else e=Object.keys(n)[0],t=n[e];else return;return t}function _se(n,e,t){const i=["class","data","scale","spin","inverse","pulse","flip","label","style"];let s=Jt(e,i),{$$slots:l={},$$scope:r}=e,{class:o=""}=e,{data:a}=e,f,{scale:u=1}=e,{spin:d=!1}=e,{inverse:h=!1}=e,{pulse:p=!1}=e,{flip:g=void 0}=e,{label:b=""}=e,{style:_=""}=e,y=10,w=10,A,M;function T(){let F=1;return typeof u<"u"&&(F=Number(u)),isNaN(F)||F<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),qC):F*qC}function O(){return f?`0 0 ${f.width} ${f.height}`:`0 0 ${y} ${w}`}function E(){return f?Math.max(f.width,f.height)/16:1}function R(){return f?f.width/E()*T():0}function N(){return f?f.height/E()*T():0}function j(){let F="";_!==null&&(F+=_);let B=T();return B===1?F.length===0?"":F:(F!==""&&!F.endsWith(";")&&(F+="; "),`${F}font-size: ${B}em`)}function L(F){f=F,t(6,f),t(12,a),t(14,_),t(13,u)}return n.$$set=F=>{e=ft(ft({},e),Pi(F)),t(11,s=Jt(e,i)),"class"in F&&t(0,o=F.class),"data"in F&&t(12,a=F.data),"scale"in F&&t(13,u=F.scale),"spin"in F&&t(1,d=F.spin),"inverse"in F&&t(2,h=F.inverse),"pulse"in F&&t(3,p=F.pulse),"flip"in F&&t(4,g=F.flip),"label"in F&&t(5,b=F.label),"style"in F&&t(14,_=F.style),"$$scope"in F&&t(17,r=F.$$scope)},n.$$.update=()=>{n.$$.dirty&28672&&(t(6,f=bse(a)),t(7,y=R()),t(8,w=N()),t(9,A=j()),t(10,M=O()))},[o,d,h,p,g,b,f,y,w,A,M,s,a,u,_,l,L,r]}class Zt extends ke{constructor(e){super(),ve(this,e,_se,gse,De,{class:0,data:12,scale:13,spin:1,inverse:2,pulse:3,flip:4,label:5,style:14})}}function yse(n){let e,t,i,s,l,r;return t=new Zt({props:{data:n[0]===!0?ed:td}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","jse-boolean-toggle svelte-1vj58yv"),m(e,"title",i=n[1]?`Boolean value ${n[0]}`:"Click to toggle this boolean value"),$(e,"jse-readonly",n[1])},m(o,a){C(o,e,a),q(t,e,null),s=!0,l||(r=x(e,"mousedown",n[2]),l=!0)},p(o,[a]){const f={};a&1&&(f.data=o[0]===!0?ed:td),t.$set(f),(!s||a&3&&i!==(i=o[1]?`Boolean value ${o[0]}`:"Click to toggle this boolean value"))&&m(e,"title",i),(!s||a&2)&&$(e,"jse-readonly",o[1])},i(o){s||(P(t.$$.fragment,o),s=!0)},o(o){I(t.$$.fragment,o),s=!1},d(o){o&&S(e),W(t),l=!1,r()}}}function vse(n,e,t){let{path:i}=e,{value:s}=e,{readOnly:l}=e,{onPatch:r}=e,{focus:o}=e;function a(f){f.stopPropagation(),!l&&(r([{op:"replace",path:$e(i),value:!s}]),setTimeout(o))}return n.$$set=f=>{"path"in f&&t(3,i=f.path),"value"in f&&t(0,s=f.value),"readOnly"in f&&t(1,l=f.readOnly),"onPatch"in f&&t(4,r=f.onPatch),"focus"in f&&t(5,o=f.focus)},[s,l,a,i,r,o]}class kse extends ke{constructor(e){super(),ve(this,e,vse,yse,jt,{path:3,value:0,readOnly:1,onPatch:4,focus:5})}}const wse=kse;function Sse(n){let e;return{c(){e=k("div"),m(e,"class","jse-color-picker-popup svelte-1gn8yt9")},m(t,i){C(t,e,i),n[4](e)},p:te,i:te,o:te,d(t){t&&S(e),n[4](null)}}}function Cse(n,e,t){let{color:i}=e,{onChange:s}=e,{showOnTop:l}=e,r,o;Pn(async()=>{var u;const f=(u=await _n(()=>import("./vanilla-picker-edfc159c.js"),[],import.meta.url))==null?void 0:u.default;o=new f({parent:r,color:i,popup:l?"top":"bottom",onDone(d){const p=d.rgba[3]===1?d.hex.substring(0,7):d.hex;s(p)}}),o.show()}),ls(()=>{o&&o.destroy()});function a(f){de[f?"unshift":"push"](()=>{r=f,t(0,r)})}return n.$$set=f=>{"color"in f&&t(1,i=f.color),"onChange"in f&&t(2,s=f.onChange),"showOnTop"in f&&t(3,l=f.showOnTop)},[r,i,s,l,a]}class Mse extends ke{constructor(e){super(),ve(this,e,Cse,Sse,De,{color:1,onChange:2,showOnTop:3})}}const Tse=Mse;function Ase(n){let e,t,i,s;return{c(){e=k("button"),m(e,"type","button"),m(e,"class","jse-color-picker-button svelte-1nv0s05"),Il(e,"background",n[2]),m(e,"title",t=n[1]?`Color ${n[0]}`:"Click to open a color picker"),$(e,"jse-readonly",n[1])},m(l,r){C(l,e,r),i||(s=x(e,"click",n[3]),i=!0)},p(l,[r]){r&4&&Il(e,"background",l[2]),r&3&&t!==(t=l[1]?`Color ${l[0]}`:"Click to open a color picker")&&m(e,"title",t),r&2&&$(e,"jse-readonly",l[1])},i:te,o:te,d(l){l&&S(e),i=!1,s()}}}function Ose(n,e,t){let i;const{openAbsolutePopup:s}=Ji("absolute-popup");let{path:l}=e,{value:r}=e,{readOnly:o}=e,{onPatch:a}=e,{focus:f}=e;function u(p){a([{op:"replace",path:$e(l),value:p}]),d()}function d(){f()}function h(p){if(o)return;const g=300,b=p.target.getBoundingClientRect().top,y=Lu(p.target).innerHeight-b<g&&b>g;s(Tse,{color:r,onChange:u,showOnTop:y},{anchor:p.target,closeOnOuterClick:!0,onClose:d,offsetTop:18,offsetLeft:-8,height:g})}return n.$$set=p=>{"path"in p&&t(4,l=p.path),"value"in p&&t(0,r=p.value),"readOnly"in p&&t(1,o=p.readOnly),"onPatch"in p&&t(5,a=p.onPatch),"focus"in p&&t(6,f=p.focus)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=oI(r))},[r,o,i,h,l,a,f]}class Ese extends ke{constructor(e){super(),ve(this,e,Ose,Ase,jt,{path:4,value:0,readOnly:1,onPatch:5,focus:6})}}const Pse=Ese;function Dse(n,e){const t={start:n,end:Math.min(Eb(n),e)},i=Math.max(om((n+e)/2),n),s={start:i,end:Math.min(Eb(i),e)},l=om(e),r=l===e?l-Yc:l,o={start:Math.max(r,n),end:e},a=[t],f=s.start>=t.end&&s.end<=o.start;return f&&a.push(s),o.start>=(f?s.end:t.end)&&a.push(o),a}function i7(n){const e=die(n,i=>i.start),t=[e[0]];for(let i=0;i<e.length;i++){const s=t.length-1,l=t[s],r=e[i];r.start<=l.end?t[s]={start:Math.min(l.start,r.start),end:Math.max(l.end,r.end)}:t.push(r)}return t}function Ise(n,e){return n.some(t=>e>=t.start&&e<t.end)}function Eb(n){return om(n)+Yc}function om(n){return Math.floor(n/Yc)*Yc}function am(n){let e={expandedMap:{},enforceStringMap:{},visibleSectionsMap:{},selection:void 0,sortedColumn:void 0};return n!=null&&n.select&&n.json!==void 0&&(e={...e,selection:n.select(n.json,e)}),n!=null&&n.expand&&(e=sl(n.json,e,[],n.expand)),e}function Mg(n,e){return n.visibleSectionsMap[e]||Fa}function Z2(n,e,t){e.forEach(({start:i,end:s})=>{HI(i,Math.min(n.length,s),t)})}function Pb(n,e,t){const i={...e.expandedMap},s={...e.visibleSectionsMap};for(let l=0;l<t.length;l++){const r=t.slice(0,l),o=$e(r),a=dt(n,r);if($n(a)&&(i[o]=!0),Array.isArray(a)&&l<t.length){const f=s[o]||Fa,u=Ni(t[l]);if(!Ise(f,u)){const d=om(u),h=Eb(d),p={start:d,end:h};s[o]=i7(f.concat(p))}}}return{...e,expandedMap:i,visibleSectionsMap:s}}function sl(n,e,t,i){const s={...e.expandedMap};function l(a){const f=r.length;if(Array.isArray(a)){if(i(r)){const u=$e(r);if(s[u]=!0,a.length>0){const d=Mg(e,u);Z2(a,d,h=>{r[f]=String(h),l(a[h])}),r.pop()}}}else if(Un(a)&&i(r)){s[$e(r)]=!0;const u=Object.keys(a);if(u.length>0){for(const d of u)r[f]=d,l(a[d]);r.pop()}}}const r=t.slice(),o=n!==void 0?dt(n,t):n;return o!==void 0&&l(o),{...e,expandedMap:s}}function Rse(n,e){return{...n,expandedMap:{...n.expandedMap,[$e(e)]:!0}}}function s7(n,e){const t=Lf(n.expandedMap,e),i=Lf(n.enforceStringMap,e),s=Lf(n.visibleSectionsMap,e);return{...n,expandedMap:t,enforceStringMap:i,visibleSectionsMap:s}}function l7(n,e,t){if(t){const i={...n.enforceStringMap};return i[e]=t,{...n,enforceStringMap:i}}else if(typeof n.enforceStringMap[e]=="boolean"){const i={...n.enforceStringMap};return delete i[e],{...n,enforceStringMap:i}}else return n}function Nse(n,e,t,i){return{...e,visibleSectionsMap:{...e.visibleSectionsMap,[t]:i7(Mg(e,t).concat(i))}}}function r7(n,e,t){const i=jl(n,t),s=t.reduce((l,r)=>YD(r)?o7(i,l,r):GD(r)?a7(i,l,r):O2(r)?Lse(i,l,r):hb(r)||tu(r)?Fse(i,l,r):l,e);return{json:i,documentState:s}}function o7(n,e,t){const i=cr(n,t.path),s=en(i),l=$e(s),r=dt(n,s);if(Fn(r)){const o=Ni(Ct(i)),a=Ff(e.expandedMap,s,o,1),f=Ff(e.enforceStringMap,s,o,1);let u=Ff(e.visibleSectionsMap,s,o,1);return u=f7(u,l,d=>u7(d,o,1)),{...e,expandedMap:a,enforceStringMap:f,visibleSectionsMap:u}}return e}function a7(n,e,t){const i=cr(n,t.path),s=en(i),l=$e(s),r=dt(n,s);let{expandedMap:o,enforceStringMap:a,visibleSectionsMap:f}=e;if(o=Lf(o,i),a=Lf(a,i),f=Lf(f,i),Fn(r)){const u=Ni(Ct(i));o=Ff(o,s,u,-1),a=Ff(a,s,u,-1),f=Ff(f,s,u,-1),f=f7(f,l,d=>u7(d,u,-1))}return{...e,expandedMap:o,enforceStringMap:a,visibleSectionsMap:f}}function Lse(n,e,t){const i=t.path,s=X1(n,e.expandedMap),l=X1(n,e.enforceStringMap),r=X1(n,e.visibleSectionsMap);return!li(t.value)&&!Fn(t.value)&&delete s[i],Fn(t.value)||delete r[i],(li(t.value)||Fn(t.value))&&delete l[i],{...e,expandedMap:s,enforceStringMap:l,visibleSectionsMap:r}}function Fse(n,e,t){if(tu(t)&&t.from===t.path)return e;const i=d=>t.path+d.substring(t.from.length),s=G1(x1(e.expandedMap,t.from),i),l=G1(x1(e.enforceStringMap,t.from),i),r=G1(x1(e.visibleSectionsMap,t.from),i);let o=e;tu(t)&&(o=a7(n,o,{op:"remove",path:t.from})),o=o7(n,o,{op:"add",path:t.path,value:null});const a=Y1(o.expandedMap,s),f=Y1(o.enforceStringMap,l),u=Y1(o.visibleSectionsMap,r);return{...e,expandedMap:a,enforceStringMap:f,visibleSectionsMap:u}}function Lf(n,e){const t={},i=$e(e);return Object.keys(n).forEach(s=>{nu(s,i)||(t[s]=n[s])}),t}function x1(n,e){const t={};return Object.keys(n).forEach(i=>{nu(i,e)&&(t[i]=n[i])}),t}function Y1(n,e){return{...n,...e}}function G1(n,e){const t={};return Object.keys(n).forEach(i=>{const s=e(i);t[s]=n[i]}),t}function Ff(n,e,t,i){const s=e.length,l=$e(e),r=[];for(const a of Object.keys(n))if(nu(a,l)){const f=zl(a),u=Ni(f[s]);u>=t&&(f[s]=String(u+i),r.push({oldPointer:a,newPointer:$e(f),value:n[a]}))}if(r.length===0)return n;const o={...n};return r.forEach(a=>{delete o[a.oldPointer]}),r.forEach(a=>{o[a.newPointer]=a.value}),o}function X1(n,e){const t={};return Object.keys(e).filter(i=>hl(n,cr(n,i))).forEach(i=>{t[i]=e[i]}),t}function f7(n,e,t){const i=n[e];if(e in n){const s=t(i);if(!sn(i,s)){const l={...n};return s===void 0?delete l[e]:l[e]=s,l}}return n}function u7(n,e,t){return n.map(i=>({start:i.start>e?i.start+t:i.start,end:i.end>=e?i.end+t:i.end}))}function Xr(n,e,t,i){const s=e?e[t]:void 0;return typeof s=="boolean"?s:nZ(n,i)}function Hd(n,e,t=!1){const i=n.indexOf(e);return i!==-1?t?n.slice(i):n.slice(i+1):[]}function Q2(n,e){const t=[];function i(s,l){t.push(l);const r=$e(l);if(s&&e.expandedMap[r]===!0){if(Fn(s)){const o=Mg(e,r);Z2(s,o,a=>{i(s[a],l.concat(String(a)))})}li(s)&&Object.keys(s).forEach(o=>{i(s[o],l.concat(o))})}}return i(n,[]),t}function c7(n,e,t=!0){const i=[];function s(l,r){i.push({path:r,type:Dl.value});const o=$e(r);if(l&&e.expandedMap[o]===!0){if(t&&i.push({path:r,type:Dl.inside}),Fn(l)){const a=Mg(e,o);Z2(l,a,f=>{const u=r.concat(String(f));s(l[f],u),t&&i.push({path:u,type:Dl.after})})}li(l)&&Object.keys(l).forEach(f=>{const u=r.concat(f);i.push({path:u,type:Dl.key}),s(l[f],u),t&&i.push({path:u,type:Dl.after})})}}return s(n,[]),i}function jse(n,e,t){const i=Q2(n,e),s=i.map($e),l=$e(t),r=s.indexOf(l);return r!==-1&&r>0?i[r-1]:null}function Db(n,e,t){const i=Q2(n,e),l=i.map($e).indexOf($e(t));return l!==-1&&l<i.length-1?i[l+1]:null}function _o(n,e,t){const i=dt(n,t);if(i===void 0)return e;const l=!KI({json:i},xD)?nd:rr;return sl(n,e,t,l)}function rr(n){return n.length===0?!0:n.length===1&&n[0]==="0"}function nd(){return!0}function Bse(n){return KI({json:n},xD)?rr:nd}function Ll(n){return n&&n.type===Nn.after||!1}function Li(n){return n&&n.type===Nn.inside||!1}function _i(n){return n&&n.type===Nn.key||!1}function Xt(n){return n&&n.type===Nn.value||!1}function cn(n){return n&&n.type===Nn.multi||!1}function Vse(n,e,t){if(sn(e,t))return[e];{const i=Kse(e,t);if(e.length===i.length||t.length===i.length)return[i];const s=e[i.length],l=t[i.length],r=dt(n,i);if(li(r)){const o=Object.keys(r),a=o.indexOf(s),f=o.indexOf(l);if(a!==-1&&f!==-1){const u=Math.min(a,f),d=Math.max(a,f),h=[];for(let p=u;p<=d;p++)h.push(i.concat(o[p]));return h}}if(Fn(r)){const o=Math.min(Ni(s),Ni(l)),a=Math.max(Ni(s),Ni(l)),f=[];for(let u=o;u<=a;u++)f.push(i.concat(String(u)));return f}}throw new Error("Failed to create selection")}function d7(n){return Li(n)?n.focusPath:en(n.focusPath)}function fu(n){return cn(n)?ks(n.paths):n.focusPath}function Tg(n){return cn(n)?Ct(n.paths):n.focusPath}function zse(n,e){return cu(n.focusPath,e)&&(n.focusPath.length>e.length||Li(n))}function h7(n,e,t){if(!n)return!1;const i=e.slice(0);if(cn(n))for(;i.length>0;){if(n.pointersMap[$e(i)]===!0)return!0;i.pop()}return _i(n)?t===Nn.key&&sn(n.focusPath,e):!!(Xt(n)&&(t===Nn.value&&sn(n.focusPath,e)||cu(e,n.focusPath)&&e.length>n.focusPath.length&&(t===Nn.key||t===Nn.value||t===Nn.multi)))}function WC(n,e,t=!1,i=!1){const s=e.selection;if(!s)return null;const l=!i&&cn(s)?ks(s.paths):s.focusPath,r=jse(n,e,l);if(r===null)return null;const o=r,a=r;if(t)return Ll(s)||Li(s)?gi(n,s.anchorPath,s.anchorPath):gi(n,s.anchorPath,a);if(_i(s)){const f=en(r),u=dt(n,f);return Array.isArray(u)||Kt(r)?$t(r,!1):pl(r,!1)}return Xt(s)?$t(r,!1):Ll(s)||Li(s)?gi(n,l,l):gi(n,o,a)}function Hse(n,e,t=!1,i=!1){const s=e.selection;if(!s)return null;const l=!i&&cn(s)?Ct(s.paths):s.focusPath,r=Db(n,e,l),o=r,a=r;if(r===null||o==null||a==null)return null;if(t){const f=$n(dt(n,l))?s7(e,l):e,u=Db(n,f,l);return u===null?null:Ll(s)?gi(n,u,u):Li(s)?gi(n,o,a):gi(n,s.anchorPath,u)}if(_i(s)){const f=en(r),u=dt(n,f);return Array.isArray(u)?$t(a,!1):pl(a,!1)}return Xt(s)?$t(a,!1):Li(s)?gi(n,o,a):gi(n,r,r)}function qse(n,e,t){const i=en(t),s=[Ct(t)],l=dt(n,i),r=l?Db(l,e,s):void 0;return r?$t(i.concat(r),!1):Zr(t)}function p7(n,e,t){const i=e.selection;if(!i)return{caret:null,previous:null,next:null};const s=c7(n,e,t),l=s.findIndex(r=>sn(r.path,i.focusPath)&&String(r.type)===String(i.type));return{caret:l!==-1?s[l]:null,previous:l!==-1&&l>0?s[l-1]:null,next:l!==-1&&l<s.length-1?s[l+1]:null}}function Wse(n,e,t=!1,i=!0){const s=e.selection;if(!s)return null;const{caret:l,previous:r}=p7(n,e,i);if(t)return cn(s)?null:gi(n,s.anchorPath,s.focusPath);if(l&&r)return $2(r);const o=en(s.focusPath),a=dt(n,o);return Xt(s)&&Array.isArray(a)?gi(n,s.focusPath,s.focusPath):cn(s)&&!Array.isArray(a)?pl(s.focusPath,!1):null}function Use(n,e,t=!1,i=!0){const s=e.selection;if(!s)return null;const{caret:l,next:r}=p7(n,e,i);return t?cn(s)?null:gi(n,s.anchorPath,s.focusPath):l&&r?$2(r):cn(s)?$t(s.focusPath,!1):null}function gf(n,e){const t=Q2(n,e);let i=0;for(;i<t.length-1&&t[i+1].length>t[i].length;)i++;const s=t[i];return s.length===0||Array.isArray(dt(n,en(s)))?$t(s,!1):pl(s,!1)}function uu(n,e){if(e.length===1){const i=ks(e);if(i.op==="replace"||i.op==="move"){const s=cr(n,i.path);return $t(s,!1)}}if(!Kt(e)&&e.every(i=>i.op==="move")){const i=ks(e),s=e.slice(1);if((hb(i)||tu(i))&&i.from!==i.path&&s.every(l=>(hb(l)||tu(l))&&l.from===l.path)){const l=cr(n,i.path);return pl(l,!1)}}const t=e.filter(i=>i.op!=="test"&&i.op!=="remove"&&(i.op!=="move"||i.from!==i.path)&&typeof i.path=="string").map(i=>cr(n,i.path));if(!Kt(t))return{type:Nn.multi,paths:t,anchorPath:ks(t),focusPath:Ct(t),pointersMap:m7(t)}}function m7(n){const e={};return n.forEach(t=>{e[$e(t)]=!0}),e}function Ag(n){return{[$e(n)]:!0}}function Kse(n,e){let t=0;for(;t<n.length&&t<e.length&&n[t]===e[t];)t++;return n.slice(0,t)}function id(n){return n!==void 0&&(_i(n)||Xt(n)||cn(n)&&n.paths.length===1)}function UC(n,e){return id(e)&&$n(dt(n,e.focusPath))?e.focusPath:en(e.focusPath)}function cu(n,e){if(n.length<e.length)return!1;for(let t=0;t<e.length;t++)if(n[t]!==e[t])return!1;return!0}function fs(n){const e=n.selection;return(_i(e)||Xt(e))&&e.edit?{...n,selection:{...e,edit:!1}}:n}function pl(n,e){return{type:Nn.key,anchorPath:n,focusPath:n,pointersMap:Ag(n),edit:e}}function $t(n,e){return{type:Nn.value,anchorPath:n,focusPath:n,pointersMap:Ag(n),edit:e}}function Lo(n){return{type:Nn.inside,anchorPath:n,focusPath:n,pointersMap:Ag(n)}}function Zr(n){return{type:Nn.after,anchorPath:n,focusPath:n,pointersMap:Ag(n)}}function gi(n,e,t){const i=Vse(n,e,t),s=cu(t,Ct(i))||cu(e,ks(i));return{type:Nn.multi,anchorPath:s?ks(i):Ct(i),focusPath:s?Ct(i):ks(i),paths:i,pointersMap:m7(i)}}function g7(n,e,t,i){if(_i(e))return String(Ct(e.focusPath));if(Xt(e)){const s=dt(n,e.focusPath);return typeof s=="string"?s:i.stringify(s,null,t)}if(cn(e)){if(Kt(e.focusPath))return i.stringify(n,null,t);const s=d7(e),l=dt(n,s);if(Array.isArray(l))if(e.paths.length===1){const r=dt(n,ks(e.paths)||[]);return i.stringify(r,null,t)}else return e.paths.map(r=>{const o=dt(n,r);return`${i.stringify(o,null,t)},`}).join(`
`);else return e.paths.map(r=>{const o=Ct(r),a=dt(n,r);return`${i.stringify(o)}: ${i.stringify(a,null,t)},`}).join(`
`)}return null}function b7(n){return cn(n)?n.paths:[n.focusPath]}function Fo(n){return(_i(n)||Xt(n))&&n.edit===!0}function Jse(n,e,t=!0){return e===void 0&&!t?n:{...n,selection:e}}function xse(){return $t([],!1)}function Fu(n){return cn(n)||_i(n)||Xt(n)}function Pa(n){return!!(_i(n)||Xt(n)||cn(n)&&n.paths.length===1)}function $2(n){switch(n.type){case Dl.key:return pl(n.path,!1);case Dl.value:return $t(n.path,!1);case Dl.after:return Zr(n.path);case Dl.inside:return Lo(n.path)}}function KC(n,e,t){switch(e){case Nn.key:return pl(t,!1);case Nn.value:return $t(t,!1);case Nn.after:return Zr(t);case Nn.inside:return Lo(t);case Nn.multi:return gi(n,t,t)}}function JC(n,e){if(n)return Object.keys(n.pointersMap).some(t=>nu(t,e)||nu(e,t))?n:void 0}function wr(...n){const e=[];for(const t of n)if(typeof t=="string"&&e.push(t),t&&typeof t=="object")for(const i in t)Object.hasOwnProperty.call(t,i)&&t[i]&&e.push(i);return e.join(" ")}function Ib(n,e){const t=j2(n,e);return wr("jse-value","jse-"+t,{"jse-url":ug(n),"jse-empty":typeof n=="string"&&n.length===0})}function Yse(n){let e,t,i,s;return{c(){e=k("div"),m(e,"class",t=vn(wr("jse-editable-div",n[2],{"jse-short-text":n[0]}))+" svelte-1iltvlj"),m(e,"contenteditable","true"),m(e,"spellcheck","false")},m(l,r){C(l,e,r),n[13](e),i||(s=[x(e,"input",n[3]),x(e,"keydown",n[4]),x(e,"paste",n[5]),x(e,"blur",n[6])],i=!0)},p(l,[r]){r&5&&t!==(t=vn(wr("jse-editable-div",l[2],{"jse-short-text":l[0]}))+" svelte-1iltvlj")&&m(e,"class",t)},i:te,o:te,d(l){l&&S(e),n[13](null),i=!1,Ke(s)}}}function Gse(n,e,t){const i=Gi("jsoneditor:EditableDiv");let{value:s}=e,{shortText:l=!1}=e,{onChange:r}=e,{onCancel:o}=e,{onFind:a}=e,{onPaste:f=ei}=e,{onValueClass:u=()=>""}=e,d,h=u(s),p=!1;Pn(()=>{i("onMount",{value:s}),b(s),setTimeout(()=>{d&&QI(d)})}),ls(()=>{const T=g();i("onDestroy",{closed:p,value:s,newValue:T}),!p&&T!==s&&r(T,Ea.NO)});function g(){return d?Fie(d.innerText):""}function b(T){d&&t(1,d.innerText=za(T),d)}function _(){const T=g();T===""&&b(""),t(2,h=u(T))}function y(T){T.stopPropagation();const O=Xo(T);if(O==="Escape"&&(p=!0,o()),O==="Enter"||O==="Tab"){p=!0;const E=g();r(E,Ea.NEXT_INSIDE)}O==="Ctrl+F"&&(T.preventDefault(),a(!1)),O==="Ctrl+H"&&(T.preventDefault(),a(!0))}function w(T){if(!f)return;const O=T.clipboardData.getData("text/plain");f(O)}function A(){const T=document.hasFocus(),O=g();i("handleBlur",{hasFocus:T,closed:p,value:s,newValue:O}),document.hasFocus()&&!p&&(p=!0,O!==s?r(O,Ea.SELF):o())}function M(T){de[T?"unshift":"push"](()=>{d=T,t(1,d)})}return n.$$set=T=>{"value"in T&&t(7,s=T.value),"shortText"in T&&t(0,l=T.shortText),"onChange"in T&&t(8,r=T.onChange),"onCancel"in T&&t(9,o=T.onCancel),"onFind"in T&&t(10,a=T.onFind),"onPaste"in T&&t(11,f=T.onPaste),"onValueClass"in T&&t(12,u=T.onValueClass)},[l,d,h,_,y,w,A,s,r,o,a,f,u,M]}class Xse extends ke{constructor(e){super(),ve(this,e,Gse,Yse,jt,{value:7,shortText:0,onChange:8,onCancel:9,onFind:10,onPaste:11,onValueClass:12})}}const _7=Xse;function Zse(n){let e,t;return e=new _7({props:{value:n[1].escapeValue(n[0]),onChange:n[3],onCancel:n[4],onPaste:n[5],onFind:n[2],onValueClass:n[6]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&3&&(l.value=i[1].escapeValue(i[0])),s&4&&(l.onFind=i[2]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Qse(n,e,t){let{path:i}=e,{value:s}=e,{parser:l}=e,{normalization:r}=e,{enforceString:o}=e,{onPatch:a}=e,{onPasteJson:f}=e,{onSelect:u}=e,{onFind:d}=e,{focus:h}=e,{findNextInside:p}=e;function g(A){return o?A:Du(A,l)}function b(A,M){a([{op:"replace",path:$e(i),value:g(r.unescapeValue(A))}],(T,O)=>{if(!sn(i,O.selection.focusPath))return;const E=M===Ea.NEXT_INSIDE?p(i):$t(i,!1);return{state:{...O,selection:E}}}),M!==Ea.SELF&&h()}function _(){u($t(i,!1)),h()}function y(A){try{const M=l.parse(A);$n(M)&&f({path:i,contents:M})}catch{}}function w(A){return Ib(g(r.unescapeValue(A)),l)}return n.$$set=A=>{"path"in A&&t(7,i=A.path),"value"in A&&t(0,s=A.value),"parser"in A&&t(8,l=A.parser),"normalization"in A&&t(1,r=A.normalization),"enforceString"in A&&t(9,o=A.enforceString),"onPatch"in A&&t(10,a=A.onPatch),"onPasteJson"in A&&t(11,f=A.onPasteJson),"onSelect"in A&&t(12,u=A.onSelect),"onFind"in A&&t(2,d=A.onFind),"focus"in A&&t(13,h=A.focus),"findNextInside"in A&&t(14,p=A.findNextInside)},[s,r,d,b,_,y,w,i,l,o,a,f,u,h,p]}class $se extends ke{constructor(e){super(),ve(this,e,Qse,Zse,jt,{path:7,value:0,parser:8,normalization:1,enforceString:9,onPatch:10,onPasteJson:11,onSelect:12,onFind:2,focus:13,findNextInside:14})}}const ele=$se;function wf(n,e,t){const i=en(e),s=dt(n,i);if(Fn(s)){const l=Ni(Ct(e));return t.map((r,o)=>({op:"add",path:$e(i.concat(String(l+o))),value:r.value}))}else if(li(s)){const l=Ct(e),r=Object.keys(s),o=l!==void 0?Hd(r,l,!0):[];return[...t.map(a=>{const f=zd(a.key,r);return{op:"add",path:$e(i.concat(f)),value:a.value}}),...o.map(a=>Ha(i,a))]}else throw new Error("Cannot create insert operations: parent must be an Object or Array")}function Rb(n,e,t){const i=dt(n,e);if(Array.isArray(i)){const s=i.length;return t.map((l,r)=>({op:"add",path:$e(e.concat(String(s+r))),value:l.value}))}else return t.map(s=>{const l=zd(s.key,Object.keys(i));return{op:"add",path:$e(e.concat(l)),value:s.value}})}function qd(n,e,t,i){const s=e.filter(o=>o!==t),l=zd(i,s),r=Hd(e,t,!1);return[{op:"move",from:$e(n.concat(t)),path:$e(n.concat(l))},...r.map(o=>Ha(n,o))]}function tle(n,e,t){const i=ks(e),s=en(i),l=dt(n,s);if(Fn(l)){const r=ks(e),o=r?Ni(Ct(r)):0;return[...fm(e),...t.map((a,f)=>({op:"add",path:$e(s.concat(String(f+o))),value:a.value}))]}else if(li(l)){const r=Ct(e),o=en(r),a=Ct(r),f=Object.keys(l),u=a!==void 0?Hd(f,a,!1):[],d=new Set(e.map(p=>Ct(p))),h=f.filter(p=>!d.has(p));return[...fm(e),...t.map(p=>{const g=zd(p.key,h);return{op:"add",path:$e(o.concat(g)),value:p.value}}),...u.map(p=>Ha(o,p))]}else throw new Error("Cannot create replace operations: parent must be an Object or Array")}function y7(n,e){const t=Ct(e);if(Kt(t))throw new Error("Cannot duplicate root object");const i=en(t),s=Ct(t),l=dt(n,i);if(Fn(l)){const r=Ct(e),o=r?Ni(Ct(r))+1:0;return[...e.map((a,f)=>({op:"copy",from:$e(a),path:$e(i.concat(String(f+o)))}))]}else if(li(l)){const r=Object.keys(l),o=s!==void 0?Hd(r,s,!1):[];return[...e.map(a=>{const f=Ct(a),u=zd(f,r);return{op:"copy",from:$e(a),path:$e(i.concat(u))}}),...o.map(a=>Ha(i,a))]}else throw new Error("Cannot create duplicate operations: parent must be an Object or Array")}function nle(n,e){if(Xt(e))return[{op:"move",from:$e(e.focusPath),path:""}];if(cn(e)){const t=en(e.focusPath),i=dt(n,t);if(Fn(i))return[{op:"replace",path:"",value:e.paths.map(l=>{const r=Ni(Ct(l));return i[r]})}];if(li(i)){const s={};return e.paths.forEach(l=>{const r=String(Ct(l));s[r]=i[r]}),[{op:"replace",path:"",value:s}]}}else throw new Error("Cannot create extract operations: parent must be an Object or Array");throw new Error("Cannot extract: unsupported type of selection "+JSON.stringify(e))}function v7(n,e,t,i){if(_i(e)){const s=qI(t,i),l=en(e.focusPath),r=dt(n,l),o=Object.keys(r),a=Ct(e.focusPath);return qd(l,o,a,typeof s=="string"?s:t)}if(Xt(e)||cn(e)&&Kt(e.focusPath))try{return[{op:"replace",path:$e(e.focusPath),value:Cg(t,s=>x2(s,i))}]}catch{return[{op:"replace",path:$e(e.focusPath),value:t}]}if(cn(e)){const s=Z1(t,i);return tle(n,e.paths,s)}if(Ll(e)){const s=Z1(t,i),l=e.focusPath,r=en(l),o=dt(n,r);if(Fn(o)){const a=Ni(Ct(l)),f=r.concat(String(a+1));return wf(n,f,s)}else if(li(o)){const a=String(Ct(l)),f=Object.keys(o);if(Kt(f)||Ct(f)===a)return Rb(n,r,s);{const u=f.indexOf(a),d=f[u+1],h=r.concat(d);return wf(n,h,s)}}else throw new Error("Cannot create insert operations: parent must be an Object or Array")}if(Li(e)){const s=Z1(t,i),l=e.focusPath,r=dt(n,l);if(Fn(r)){const o=l.concat("0");return wf(n,o,s)}else if(li(r)){const o=Object.keys(r);if(Kt(o))return Rb(n,l,s);{const a=ks(o),f=l.concat(a);return wf(n,f,s)}}else throw new Error("Cannot create insert operations: parent must be an Object or Array")}throw new Error("Cannot insert: unsupported type of selection "+JSON.stringify(e))}function ile(n,e,t){if(!e)return[];const i="beforePath"in t?t.beforePath:void 0,s="append"in t?t.append:void 0,l=en(e.focusPath),r=dt(n,l);if(!s&&!(i&&cu(i,l)&&i.length>l.length))return[];const o=fu(e),a=Tg(e),f=Ct(o),u=Ct(a),d=i?i[l.length]:void 0;if(li(r)){const h=Object.keys(r),p=h.indexOf(f),g=h.indexOf(u),b=s?h.length:d!==void 0?h.indexOf(d):-1;if(p!==-1&&g!==-1&&b!==-1)return b>p?[...h.slice(p,g+1),...h.slice(b,h.length)].map(_=>Ha(l,_)):[...h.slice(b,p),...h.slice(g+1,h.length)].map(_=>Ha(l,_))}else if(Fn(r)){const h=Ni(f),p=Ni(u),g=d!==void 0?Ni(d):r.length,b=p-h+1;return g<h?SC(b,_=>({op:"move",from:$e(l.concat(String(h+_))),path:$e(l.concat(String(g+_)))})):SC(b,()=>({op:"move",from:$e(l.concat(String(h))),path:$e(l.concat(String(g)))}))}else throw new Error("Cannot create move operations: parent must be an Object or Array");return[]}function sle(n,e,t){if(t==="object")return{};if(t==="array")return[];if(t==="structure"&&n!==void 0){const i=e?d7(e):[],s=dt(n,i);if(Array.isArray(s)&&!Kt(s)){const l=ks(s);return $n(l)?Lte(l,r=>Array.isArray(r)?[]:Un(r)?void 0:""):""}}return""}function fm(n){return n.map(e=>({op:"remove",path:$e(e)})).reverse()}function Ha(n,e){return{op:"move",from:$e(n.concat(e)),path:$e(n.concat(e))}}function Z1(n,e){const t=/^\s*{/.test(n),i=/^\s*\[/.test(n),s=qI(n,e),l=s!==void 0?s:Cg(n,r=>x2(r,e));return t&&Un(l)||i&&Array.isArray(l)?[{key:"New item",value:l}]:Array.isArray(l)?l.map((r,o)=>({key:"New item "+o,value:r})):Un(l)?Object.keys(l).map(r=>({key:r,value:l[r]})):[{key:"New item",value:l}]}function k7(n,e){if(_i(e)){const t=en(e.focusPath),i=dt(n,t),s=Object.keys(i),l=Ct(e.focusPath),o=qd(t,s,l,""),a=uu(n,o);return{operations:o,newSelection:a}}if(Xt(e))return{operations:[{op:"replace",path:$e(e.focusPath),value:""}],newSelection:e};if(cn(e)){const t=fm(e.paths),i=Ct(e.paths);if(Kt(i)){const r=[{op:"replace",path:"",value:""}],o=$t([],!1);return{operations:r,newSelection:o}}const s=en(i),l=dt(n,s);if(Fn(l)){const r=ks(e.paths),o=Ni(Ct(r)),a=o===0?Lo(s):Zr(s.concat(String(o-1)));return{operations:t,newSelection:a}}else if(li(l)){const r=Object.keys(l),o=ks(e.paths),a=Ct(o),f=r.indexOf(a),u=r[f-1],d=f===0?Lo(s):Zr(s.concat(u));return{operations:t,newSelection:d}}else throw new Error("Cannot create remove operations: parent must be an Object or Array")}throw new Error("Cannot remove: unsupported type of selection "+JSON.stringify(e))}function w7(n,e){return eI(n,e,{before:(t,i,s)=>{if(GD(i)){const l=zl(i.path);return{revertOperations:[...s,...xC(t,l)]}}if(tu(i)){const l=zl(i.from);return{revertOperations:[...s,...xC(t,l)]}}return{revertOperations:s}}})}function xC(n,e){const t=en(e),i=Ct(e),s=dt(n,t);if(li(s)){const l=Object.keys(s);return Hd(l,i,!1).map(o=>Ha(t,o))}return[]}function lle(n,e){return n.flatMap(t=>{if(O2(t)){const i=zl(t.path);if(i.length>0){const s=[t];let l=en(i);for(;l.length>0&&!hl(e,l);)s.unshift({op:"add",path:$e(l),value:{}}),l=en(l);return s}}return t})}function rle(n,e,t){const i=t!=null&&t.activeItem?XC(t.activeItem):void 0,s=e.findIndex(a=>sn(i,XC(a))),l=s!==-1?s:(t==null?void 0:t.activeIndex)!==void 0&&(t==null?void 0:t.activeIndex)<e.length?t==null?void 0:t.activeIndex:e.length>0?0:-1,r=e.map((a,f)=>({...a,active:f===l})),o=r[l];return{items:r,itemsMap:Sg(r,a=>$e(a.path)),activeItem:o,activeIndex:l}}function ole(n){const e=n.activeIndex<n.items.length-1?n.activeIndex+1:n.items.length>0?0:-1,t=n.items[e],i=n.items.map((s,l)=>({...s,active:l===e}));return{...n,items:i,itemsMap:Sg(i,s=>$e(s.path)),activeItem:t,activeIndex:e}}function ale(n){const e=n.activeIndex>0?n.activeIndex-1:n.items.length-1,t=n.items[e],i=n.items.map((s,l)=>({...s,active:l===e}));return{...n,items:i,itemsMap:Sg(i,s=>$e(s.path)),activeItem:t,activeIndex:e}}function S7(n,e,t=1/0){const i=[],s=[];function l(o){i.length<t&&i.push(o)}function r(o,a){if(Fn(a)){const f=s.length;s.push("0");for(let u=0;u<a.length;u++)if(s[f]=String(u),r(o,a[u]),i.length>=t)return;s.pop()}else if(li(a)){const f=Object.keys(a),u=s.length;s.push("");for(const d of f)if(s[u]=d,YC(d,o,s,Fl.key,l),r(o,a[d]),i.length>=t)return;s.pop()}else YC(String(a),o,s,Fl.value,l)}if(typeof n=="string"&&n!==""){const o=n.toLowerCase();r(o,e)}return i}function YC(n,e,t,i,s){const l=n.toLowerCase();let r=0,o=-1,a=-1;do a=l.indexOf(e,o),a!==-1&&(o=a+e.length,s({path:t.slice(0),field:i,fieldIndex:r,start:a,end:o}),r++);while(a!==-1)}function Nb(n,e,t,i){return n.substring(0,t)+e+n.substring(i)}function GC(n,e,t){let i=n;return Hne(t,s=>{i=Nb(i,e,s.start,s.end)}),i}function fle(n,e,t,i,s){const{field:l,path:r,start:o,end:a}=i;if(l===Fl.key){const f=en(r),u=dt(n,f),d=Ct(r),h=Object.keys(u),p=Nb(d,t,o,a),g=qd(f,h,d,p);return{newSelection:uu(n,g),operations:g}}else if(l===Fl.value){const f=dt(n,r);if(f===void 0)throw new Error(`Cannot replace: path not found ${$e(r)}`);const u=typeof f=="string"?f:String(f),d=$e(r),h=Xr(f,e.enforceStringMap,d,s),p=Nb(u,t,o,a),g=[{op:"replace",path:$e(r),value:h?p:Du(p,s)}];return{newSelection:uu(n,g),operations:g}}else throw new Error(`Cannot replace: unknown type of search result field ${l}`)}function ule(n,e,t,i,s){const l=S7(t,n,1/0),r=[];for(let f=0;f<l.length;f++){const u=l[f-1],d=l[f];f===0||d.field!==u.field||!sn(d.path,u.path)?r.push({path:d.path,field:d.field,items:[d]}):Ct(r).items.push(d)}r.sort((f,u)=>f.field!==u.field?f.field===Fl.key?1:-1:u.path.length-f.path.length);let o=[],a;return r.forEach(f=>{const{field:u,path:d,items:h}=f;if(u===Fl.key){const p=en(d),g=dt(n,p),b=Ct(d),_=Object.keys(g),y=GC(b,i,h),w=qd(p,_,b,y);o=o.concat(w),a=uu(n,w)}else if(u===Fl.value){const p=dt(n,d);if(p===void 0)throw new Error(`Cannot replace: path not found ${$e(d)}`);const g=typeof p=="string"?p:String(p),b=$e(d),_=Xr(p,e.enforceStringMap,b,s),y=GC(g,i,h),w=[{op:"replace",path:$e(d),value:_?y:Du(y,s)}];o=o.concat(w),a=uu(n,w)}else throw new Error(`Cannot replace: unknown type of search result field ${u}`)}),{operations:o,newSelection:a}}function cle(n,e){const t=[];let i=0;for(const l of e){const r=n.slice(i,l.start);r!==""&&t.push({type:"normal",text:r,active:!1});const o=n.slice(l.start,l.end);t.push({type:"highlight",text:o,active:l.active}),i=l.end}const s=Ct(e);return s&&s.end<n.length&&t.push({type:"normal",text:n.slice(s.end),active:!1}),t}function XC(n){return n.path.concat(n.field,String(n.fieldIndex))}function dle(n,e){var i;const t=(i=n==null?void 0:n[e])==null?void 0:i.filter(s=>s.field===Fl.key);if(!(!t||t.length===0))return t}function ZC(n,e){var i;const t=(i=n==null?void 0:n[e])==null?void 0:i.filter(s=>s.field===Fl.value);if(!(!t||t.length===0))return t}function QC(n,e,t){const i=n.slice();return i[3]=e[t],i}function hle(n){let e,t=za(n[3].text)+"",i;return{c(){e=k("span"),i=G(t),m(e,"class","jse-highlight svelte-s6kbew"),$(e,"jse-active",n[3].active)},m(s,l){C(s,e,l),v(e,i)},p(s,l){l&1&&t!==(t=za(s[3].text)+"")&&pe(i,t),l&1&&$(e,"jse-active",s[3].active)},d(s){s&&S(e)}}}function ple(n){let e=n[3].text+"",t;return{c(){t=G(e)},m(i,s){C(i,t,s)},p(i,s){s&1&&e!==(e=i[3].text+"")&&pe(t,e)},d(i){i&&S(t)}}}function $C(n){let e;function t(l,r){return l[3].type==="normal"?ple:hle}let i=t(n),s=i(n);return{c(){s.c(),e=Ee()},m(l,r){s.m(l,r),C(l,e,r)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&S(e)}}}function mle(n){let e,t=n[0],i=[];for(let s=0;s<t.length;s+=1)i[s]=$C(QC(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Ee()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);C(s,e,l)},p(s,[l]){if(l&1){t=s[0];let r;for(r=0;r<t.length;r+=1){const o=QC(s,t,r);i[r]?i[r].p(o,l):(i[r]=$C(o),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},i:te,o:te,d(s){Ot(i,s),s&&S(e)}}}function gle(n,e,t){let i,{text:s}=e,{searchResultItems:l}=e;return n.$$set=r=>{"text"in r&&t(1,s=r.text),"searchResultItems"in r&&t(2,l=r.searchResultItems)},n.$$.update=()=>{n.$$.dirty&6&&t(0,i=cle(String(s),l))},[i,s,l]}class ble extends ke{constructor(e){super(),ve(this,e,gle,mle,De,{text:1,searchResultItems:2})}}const C7=ble;function _le(n){let e=za(n[1].escapeValue(n[0]))+"",t;return{c(){t=G(e)},m(i,s){C(i,t,s)},p(i,s){s&3&&e!==(e=za(i[1].escapeValue(i[0]))+"")&&pe(t,e)},i:te,o:te,d(i){i&&S(t)}}}function yle(n){let e,t;return e=new C7({props:{text:n[1].escapeValue(n[0]),searchResultItems:n[3]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&3&&(l.text=i[1].escapeValue(i[0])),s&8&&(l.searchResultItems=i[3]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function vle(n){let e,t,i,s,l,r,o,a;const f=[yle,_le],u=[];function d(h,p){return h[3]?0:1}return t=d(n),i=u[t]=f[t](n),{c(){e=k("div"),i.c(),m(e,"data-type","selectable-value"),m(e,"class",s=vn(Ib(n[0],n[2]))+" svelte-4unvg2"),m(e,"title",l=n[4]?"Ctrl+Click or Ctrl+Enter to open url in new window":null)},m(h,p){C(h,e,p),u[t].m(e,null),r=!0,o||(a=[x(e,"click",n[5]),x(e,"dblclick",n[6])],o=!0)},p(h,[p]){let g=t;t=d(h),t===g?u[t].p(h,p):(ue(),I(u[g],1,1,()=>{u[g]=null}),ce(),i=u[t],i?i.p(h,p):(i=u[t]=f[t](h),i.c()),P(i,1),i.m(e,null)),(!r||p&5&&s!==(s=vn(Ib(h[0],h[2]))+" svelte-4unvg2"))&&m(e,"class",s),(!r||p&16&&l!==(l=h[4]?"Ctrl+Click or Ctrl+Enter to open url in new window":null))&&m(e,"title",l)},i(h){r||(P(i),r=!0)},o(h){I(i),r=!1},d(h){h&&S(e),u[t].d(),o=!1,Ke(a)}}}function kle(n,e,t){let i,{path:s}=e,{value:l}=e,{readOnly:r}=e,{normalization:o}=e,{parser:a}=e,{onSelect:f}=e,{searchResultItems:u}=e;function d(p){typeof l=="string"&&i&&p.ctrlKey&&(p.preventDefault(),p.stopPropagation(),window.open(l,"_blank"))}function h(p){r||(p.preventDefault(),f($t(s,!0)))}return n.$$set=p=>{"path"in p&&t(7,s=p.path),"value"in p&&t(0,l=p.value),"readOnly"in p&&t(8,r=p.readOnly),"normalization"in p&&t(1,o=p.normalization),"parser"in p&&t(2,a=p.parser),"onSelect"in p&&t(9,f=p.onSelect),"searchResultItems"in p&&t(3,u=p.searchResultItems)},n.$$.update=()=>{n.$$.dirty&1&&t(4,i=ug(l))},[l,o,a,u,i,d,h,s,r,f]}class wle extends ke{constructor(e){super(),ve(this,e,kle,vle,jt,{path:7,value:0,readOnly:8,normalization:1,parser:2,onSelect:9,searchResultItems:3})}}const Sle=wle;function Cle(n){let e,t;return{c(){e=k("div"),t=G(n[0]),m(e,"class","jse-tooltip svelte-r4omvg")},m(i,s){C(i,e,s),v(e,t)},p(i,[s]){s&1&&pe(t,i[0])},i:te,o:te,d(i){i&&S(e)}}}function Mle(n,e,t){let{text:i}=e;return n.$$set=s=>{"text"in s&&t(0,i=s.text)},[i]}class Tle extends ke{constructor(e){super(),ve(this,e,Mle,Cle,De,{text:0})}}const Ale=Tle;function ey(n,{text:e,openAbsolutePopup:t,closeAbsolutePopup:i}){let s;function l(){s=t(Ale,{text:e},{position:"top",width:10*e.length,offsetTop:3,anchor:n,closeOnOuterClick:!0})}function r(){i(s)}return n.addEventListener("mouseenter",l),n.addEventListener("mouseleave",r),{destroy(){n.removeEventListener("mouseenter",l),n.removeEventListener("mouseleave",r)}}}function Ole(n){let e,t,i,s,l,r;return t=new Zt({props:{data:ose}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","jse-timestamp svelte-1w5pf7")},m(o,a){C(o,e,a),q(t,e,null),s=!0,l||(r=xe(i=ey.call(null,e,{text:n[0],...n[1]})),l=!0)},p(o,[a]){i&&fn(i.update)&&a&1&&i.update.call(null,{text:o[0],...o[1]})},i(o){s||(P(t.$$.fragment,o),s=!0)},o(o){I(t.$$.fragment,o),s=!1},d(o){o&&S(e),W(t),l=!1,r()}}}function Ele(n,e,t){let i;const s=Ji("absolute-popup");let{value:l}=e;return n.$$set=r=>{"value"in r&&t(2,l=r.value)},n.$$.update=()=>{n.$$.dirty&4&&t(0,i=`Time: ${new Date(l).toString()}`)},[i,s,l]}class Ple extends ke{constructor(e){super(),ve(this,e,Ele,Ole,jt,{value:2})}}const Dle=Ple;function Ile({path:n,value:e,readOnly:t,enforceString:i,searchResultItems:s,isEditing:l,parser:r,normalization:o,onPatch:a,onPasteJson:f,onSelect:u,onFind:d,findNextInside:h,focus:p}){const g=[];return!l&&$X(e)&&g.push({component:wse,props:{path:n,value:e,readOnly:t,onPatch:a,focus:p}}),!l&&eZ(e)&&g.push({component:Pse,props:{path:n,value:e,readOnly:t,onPatch:a,focus:p}}),l&&g.push({component:ele,props:{path:n,value:e,enforceString:i,parser:r,normalization:o,onPatch:a,onPasteJson:f,onSelect:u,onFind:d,findNextInside:h,focus:p}}),l||g.push({component:Sle,props:{path:n,value:e,readOnly:t,parser:r,normalization:o,searchResultItems:s,onSelect:u}}),!l&&vb(e)&&g.push({component:Dle,props:{value:e}}),g}var Lb={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},So={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},M7={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32H48C21.5 32 0 53.5 0 80V400c0 26.5 21.5 48 48 48H192V176c0-44.2 35.8-80 80-80h48V80c0-26.5-21.5-48-48-48H215.4C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48V448v16c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V243.9c0-12.7-5.1-24.9-14.1-33.9l-67.9-67.9c-9-9-21.2-14.1-33.9-14.1H320 272zM160 40a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},Rle={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},Nle={prefix:"fas",iconName:"scissors",icon:[512,512,[9984,9986,9988,"cut"],"f0c4","M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM64 112a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm48 240a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},jf=Nle,Lle={prefix:"fas",iconName:"square-caret-down",icon:[448,512,["caret-square-down"],"f150","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"]},Fle=Lle,jle={prefix:"fas",iconName:"caret-left",icon:[256,512,[],"f0d9","M9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c9.2-9.2 22.9-11.9 34.9-6.9s19.8 16.6 19.8 29.6l0 256c0 12.9-7.8 24.6-19.8 29.6s-25.7 2.2-34.9-6.9l-128-128z"]},Ble={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},e4=Ble,Vle={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},T7={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},zle={prefix:"fas",iconName:"square-caret-up",icon:[448,512,["caret-square-up"],"f151","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9s-12.5 14.4-22 14.4H120c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z"]},Hle=zle,t4={prefix:"fas",iconName:"caret-up",icon:[320,512,[],"f0d8","M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"]},Og={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},jo={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},Eg={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7H336c-8.8 0-16-7.2-16-16V118.6c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},qle={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},Bf={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},Wle={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},ty=Wle,Ule={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},ny=Ule,Kle={prefix:"fas",iconName:"crop-simple",icon:[512,512,["crop-alt"],"f565","M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32V64H32C14.3 64 0 78.3 0 96s14.3 32 32 32H64V384c0 35.3 28.7 64 64 64H352V384H128V32zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32V448h32c17.7 0 32-14.3 32-32s-14.3-32-32-32H448l0-256c0-35.3-28.7-64-64-64L160 64v64l224 0 0 352z"]},Jle=Kle,xle={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},Yle=xle,al={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},Gle={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"]},A7=Gle,Ih={prefix:"fas",iconName:"arrow-right-arrow-left",icon:[448,512,[8644,"exchange"],"f0ec","M438.6 150.6c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.7 96 32 96C14.3 96 0 110.3 0 128s14.3 32 32 32l306.7 0-41.4 41.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96zm-333.3 352c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 416 416 416c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0 41.4-41.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96z"]},Xle={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},Pg=Xle,Zle={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},Qle={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},$le={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},iy=$le,ere={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},Oo={prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M272 0H396.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128H192v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"]},Sf={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},O7={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},n4=O7,du=O7,tre={prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5c0 0 0 0 0 0H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5c7.7-21.8 20.2-42.3 37.8-59.8zM16 312v7.6 .7V440c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l41.6-41.6c87.6 86.5 228.7 86.2 315.8-1c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.2 62.2-162.7 62.5-225.3 1L185 329c6.9-6.9 8.9-17.2 5.2-26.2s-12.5-14.8-22.2-14.8H48.4h-.7H40c-13.3 0-24 10.7-24 24z"]},E7={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M288 448H64V224h64V160H64c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64zm-64-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"]},sd={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},nre={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},Qa=nre;const Ol={};function Dg(n){return n.split("-")[1]}function P7(n){return n==="y"?"height":"width"}function Da(n){return n.split("-")[0]}function Ig(n){return["top","bottom"].includes(Da(n))?"x":"y"}function i4(n,e,t){let{reference:i,floating:s}=n;const l=i.x+i.width/2-s.width/2,r=i.y+i.height/2-s.height/2,o=Ig(e),a=P7(o),f=i[a]/2-s[a]/2,u=o==="x";let d;switch(Da(e)){case"top":d={x:l,y:i.y-s.height};break;case"bottom":d={x:l,y:i.y+i.height};break;case"right":d={x:i.x+i.width,y:r};break;case"left":d={x:i.x-s.width,y:r};break;default:d={x:i.x,y:i.y}}switch(Dg(e)){case"start":d[o]-=f*(t&&u?-1:1);break;case"end":d[o]+=f*(t&&u?-1:1)}return d}const ire=async(n,e,t)=>{const{placement:i="bottom",strategy:s="absolute",middleware:l=[],platform:r}=t,o=l.filter(Boolean),a=await(r.isRTL==null?void 0:r.isRTL(e));let f=await r.getElementRects({reference:n,floating:e,strategy:s}),{x:u,y:d}=i4(f,i,a),h=i,p={},g=0;for(let b=0;b<o.length;b++){const{name:_,fn:y}=o[b],{x:w,y:A,data:M,reset:T}=await y({x:u,y:d,initialPlacement:i,placement:h,strategy:s,middlewareData:p,rects:f,platform:r,elements:{reference:n,floating:e}});u=w??u,d=A??d,p={...p,[_]:{...p[_],...M}},T&&g<=50&&(g++,typeof T=="object"&&(T.placement&&(h=T.placement),T.rects&&(f=T.rects===!0?await r.getElementRects({reference:n,floating:e,strategy:s}):T.rects),{x:u,y:d}=i4(f,h,a)),b=-1)}return{x:u,y:d,placement:h,strategy:s,middlewareData:p}};function Rg(n,e){return typeof n=="function"?n(e):n}function sre(n){return typeof n!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(n):{top:n,right:n,bottom:n,left:n}}function um(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}async function D7(n,e){var t;e===void 0&&(e={});const{x:i,y:s,platform:l,rects:r,elements:o,strategy:a}=n,{boundary:f="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Rg(e,n),g=sre(p),b=o[h?d==="floating"?"reference":"floating":d],_=um(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(b)))==null||t?b:b.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(o.floating)),boundary:f,rootBoundary:u,strategy:a})),y=d==="floating"?{...r.floating,x:i,y:s}:r.reference,w=await(l.getOffsetParent==null?void 0:l.getOffsetParent(o.floating)),A=await(l.isElement==null?void 0:l.isElement(w))&&await(l.getScale==null?void 0:l.getScale(w))||{x:1,y:1},M=um(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:w,strategy:a}):y);return{top:(_.top-M.top+g.top)/A.y,bottom:(M.bottom-_.bottom+g.bottom)/A.y,left:(_.left-M.left+g.left)/A.x,right:(M.right-_.right+g.right)/A.x}}const lre=Math.min,rre=Math.max;function s4(n,e,t){return rre(n,lre(e,t))}const ore=["top","right","bottom","left"];ore.reduce((n,e)=>n.concat(e,e+"-start",e+"-end"),[]);const are={left:"right",right:"left",bottom:"top",top:"bottom"};function cm(n){return n.replace(/left|right|bottom|top/g,e=>are[e])}function fre(n,e,t){t===void 0&&(t=!1);const i=Dg(n),s=Ig(n),l=P7(s);let r=s==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(r=cm(r)),{main:r,cross:cm(r)}}const ure={start:"end",end:"start"};function Q1(n){return n.replace(/start|end/g,e=>ure[e])}const cre=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t;const{placement:i,middlewareData:s,rects:l,initialPlacement:r,platform:o,elements:a}=e,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...b}=Rg(n,e),_=Da(i),y=Da(r)===r,w=await(o.isRTL==null?void 0:o.isRTL(a.floating)),A=d||(y||!g?[cm(r)]:function(L){const F=cm(L);return[Q1(L),F,Q1(F)]}(r));d||p==="none"||A.push(...function(L,F,B,V){const H=Dg(L);let K=function(X,J,z){const Z=["left","right"],Y=["right","left"],oe=["top","bottom"],re=["bottom","top"];switch(X){case"top":case"bottom":return z?J?Y:Z:J?Z:Y;case"left":case"right":return J?oe:re;default:return[]}}(Da(L),B==="start",V);return H&&(K=K.map(X=>X+"-"+H),F&&(K=K.concat(K.map(Q1)))),K}(r,g,p,w));const M=[r,...A],T=await D7(e,b),O=[];let E=((t=s.flip)==null?void 0:t.overflows)||[];if(f&&O.push(T[_]),u){const{main:L,cross:F}=fre(i,l,w);O.push(T[L],T[F])}if(E=[...E,{placement:i,overflows:O}],!O.every(L=>L<=0)){var R,N;const L=(((R=s.flip)==null?void 0:R.index)||0)+1,F=M[L];if(F)return{data:{index:L,overflows:E},reset:{placement:F}};let B=(N=E.filter(V=>V.overflows[0]<=0).sort((V,H)=>V.overflows[1]-H.overflows[1])[0])==null?void 0:N.placement;if(!B)switch(h){case"bestFit":{var j;const V=(j=E.map(H=>[H.placement,H.overflows.filter(K=>K>0).reduce((K,X)=>K+X,0)]).sort((H,K)=>H[1]-K[1])[0])==null?void 0:j[0];V&&(B=V);break}case"initialPlacement":B=r}if(i!==B)return{reset:{placement:B}}}return{}}}},dre=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:i}=e,s=await async function(l,r){const{placement:o,platform:a,elements:f}=l,u=await(a.isRTL==null?void 0:a.isRTL(f.floating)),d=Da(o),h=Dg(o),p=Ig(o)==="x",g=["left","top"].includes(d)?-1:1,b=u&&p?-1:1,_=Rg(r,l);let{mainAxis:y,crossAxis:w,alignmentAxis:A}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,..._};return h&&typeof A=="number"&&(w=h==="end"?-1*A:A),p?{x:w*b,y:y*g}:{x:y*g,y:w*b}}(e,n);return{x:t+s.x,y:i+s.y,data:s}}}};function hre(n){return n==="x"?"y":"x"}const pre=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:s}=e,{mainAxis:l=!0,crossAxis:r=!1,limiter:o={fn:_=>{let{x:y,y:w}=_;return{x:y,y:w}}},...a}=Rg(n,e),f={x:t,y:i},u=await D7(e,a),d=Ig(Da(s)),h=hre(d);let p=f[d],g=f[h];if(l){const _=d==="y"?"bottom":"right";p=s4(p+u[d==="y"?"top":"left"],p,p-u[_])}if(r){const _=h==="y"?"bottom":"right";g=s4(g+u[h==="y"?"top":"left"],g,g-u[_])}const b=o.fn({...e,[d]:p,[h]:g});return{...b,data:{x:b.x-t,y:b.y-i}}}}};function ml(n){var e;return((e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Bl(n){return ml(n).getComputedStyle(n)}function I7(n){return n instanceof ml(n).Node}function Bo(n){return I7(n)?(n.nodeName||"").toLowerCase():"#document"}function ql(n){return n instanceof ml(n).HTMLElement}function Wr(n){return n instanceof ml(n).Element}function l4(n){return typeof ShadowRoot<"u"&&(n instanceof ml(n).ShadowRoot||n instanceof ShadowRoot)}function ld(n){const{overflow:e,overflowX:t,overflowY:i,display:s}=Bl(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(s)}function mre(n){return["table","td","th"].includes(Bo(n))}function Fb(n){const e=sy(),t=Bl(n);return t.transform!=="none"||t.perspective!=="none"||!e&&!!t.backdropFilter&&t.backdropFilter!=="none"||!e&&!!t.filter&&t.filter!=="none"||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function sy(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Ng(n){return["html","body","#document"].includes(Bo(n))}const jb=Math.min,Vf=Math.max,dm=Math.round,Rh=Math.floor,qa=n=>({x:n,y:n});function R7(n){const e=Bl(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=ql(n),l=s?n.offsetWidth:t,r=s?n.offsetHeight:i,o=dm(t)!==l||dm(i)!==r;return o&&(t=l,i=r),{width:t,height:i,$:o}}function ly(n){return Wr(n)?n:n.contextElement}function zf(n){const e=ly(n);if(!ql(e))return qa(1);const t=e.getBoundingClientRect(),{width:i,height:s,$:l}=R7(e);let r=(l?dm(t.width):t.width)/i,o=(l?dm(t.height):t.height)/s;return r&&Number.isFinite(r)||(r=1),o&&Number.isFinite(o)||(o=1),{x:r,y:o}}const r4=qa(0);function N7(n,e,t){var i,s;if(e===void 0&&(e=!0),!sy())return r4;const l=n?ml(n):window;return!t||e&&t!==l?r4:{x:((i=l.visualViewport)==null?void 0:i.offsetLeft)||0,y:((s=l.visualViewport)==null?void 0:s.offsetTop)||0}}function Wa(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),l=ly(n);let r=qa(1);e&&(i?Wr(i)&&(r=zf(i)):r=zf(n));const o=N7(l,t,i);let a=(s.left+o.x)/r.x,f=(s.top+o.y)/r.y,u=s.width/r.x,d=s.height/r.y;if(l){const h=ml(l),p=i&&Wr(i)?ml(i):i;let g=h.frameElement;for(;g&&i&&p!==h;){const b=zf(g),_=g.getBoundingClientRect(),y=getComputedStyle(g),w=_.left+(g.clientLeft+parseFloat(y.paddingLeft))*b.x,A=_.top+(g.clientTop+parseFloat(y.paddingTop))*b.y;a*=b.x,f*=b.y,u*=b.x,d*=b.y,a+=w,f+=A,g=ml(g).frameElement}}return um({width:u,height:d,x:a,y:f})}function Ur(n){return((I7(n)?n.ownerDocument:n.document)||window.document).documentElement}function Lg(n){return Wr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function L7(n){return Wa(Ur(n)).left+Lg(n).scrollLeft}function hu(n){if(Bo(n)==="html")return n;const e=n.assignedSlot||n.parentNode||l4(n)&&n.host||Ur(n);return l4(e)?e.host:e}function F7(n){const e=hu(n);return Ng(e)?n.ownerDocument?n.ownerDocument.body:n.body:ql(e)&&ld(e)?e:F7(e)}function hm(n,e){var t;e===void 0&&(e=[]);const i=F7(n),s=i===((t=n.ownerDocument)==null?void 0:t.body),l=ml(i);return s?e.concat(l,l.visualViewport||[],ld(i)?i:[]):e.concat(i,hm(i))}function o4(n,e,t){let i;if(e==="viewport")i=function(s,l){const r=ml(s),o=Ur(s),a=r.visualViewport;let f=o.clientWidth,u=o.clientHeight,d=0,h=0;if(a){f=a.width,u=a.height;const p=sy();(!p||p&&l==="fixed")&&(d=a.offsetLeft,h=a.offsetTop)}return{width:f,height:u,x:d,y:h}}(n,t);else if(e==="document")i=function(s){const l=Ur(s),r=Lg(s),o=s.ownerDocument.body,a=Vf(l.scrollWidth,l.clientWidth,o.scrollWidth,o.clientWidth),f=Vf(l.scrollHeight,l.clientHeight,o.scrollHeight,o.clientHeight);let u=-r.scrollLeft+L7(s);const d=-r.scrollTop;return Bl(o).direction==="rtl"&&(u+=Vf(l.clientWidth,o.clientWidth)-a),{width:a,height:f,x:u,y:d}}(Ur(n));else if(Wr(e))i=function(s,l){const r=Wa(s,!0,l==="fixed"),o=r.top+s.clientTop,a=r.left+s.clientLeft,f=ql(s)?zf(s):qa(1);return{width:s.clientWidth*f.x,height:s.clientHeight*f.y,x:a*f.x,y:o*f.y}}(e,t);else{const s=N7(n);i={...e,x:e.x-s.x,y:e.y-s.y}}return um(i)}function j7(n,e){const t=hu(n);return!(t===e||!Wr(t)||Ng(t))&&(Bl(t).position==="fixed"||j7(t,e))}function a4(n,e){return ql(n)&&Bl(n).position!=="fixed"?e?e(n):n.offsetParent:null}function f4(n,e){const t=ml(n);if(!ql(n))return t;let i=a4(n,e);for(;i&&mre(i)&&Bl(i).position==="static";)i=a4(i,e);return i&&(Bo(i)==="html"||Bo(i)==="body"&&Bl(i).position==="static"&&!Fb(i))?t:i||function(s){let l=hu(s);for(;ql(l)&&!Ng(l);){if(Fb(l))return l;l=hu(l)}return null}(n)||t}function gre(n,e,t){const i=ql(e),s=Ur(e),l=t==="fixed",r=Wa(n,!0,l,e);let o={scrollLeft:0,scrollTop:0};const a=qa(0);if(i||!i&&!l)if((Bo(e)!=="body"||ld(s))&&(o=Lg(e)),ql(e)){const f=Wa(e,!0,l,e);a.x=f.x+e.clientLeft,a.y=f.y+e.clientTop}else s&&(a.x=L7(s));return{x:r.left+o.scrollLeft-a.x,y:r.top+o.scrollTop-a.y,width:r.width,height:r.height}}const bre={getClippingRect:function(n){let{element:e,boundary:t,rootBoundary:i,strategy:s}=n;const l=t==="clippingAncestors"?function(f,u){const d=u.get(f);if(d)return d;let h=hm(f).filter(_=>Wr(_)&&Bo(_)!=="body"),p=null;const g=Bl(f).position==="fixed";let b=g?hu(f):f;for(;Wr(b)&&!Ng(b);){const _=Bl(b),y=Fb(b);y||_.position!=="fixed"||(p=null),(g?!y&&!p:!y&&_.position==="static"&&p&&["absolute","fixed"].includes(p.position)||ld(b)&&!y&&j7(f,b))?h=h.filter(w=>w!==b):p=_,b=hu(b)}return u.set(f,h),h}(e,this._c):[].concat(t),r=[...l,i],o=r[0],a=r.reduce((f,u)=>{const d=o4(e,u,s);return f.top=Vf(d.top,f.top),f.right=jb(d.right,f.right),f.bottom=jb(d.bottom,f.bottom),f.left=Vf(d.left,f.left),f},o4(e,o,s));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(n){let{rect:e,offsetParent:t,strategy:i}=n;const s=ql(t),l=Ur(t);if(t===l)return e;let r={scrollLeft:0,scrollTop:0},o=qa(1);const a=qa(0);if((s||!s&&i!=="fixed")&&((Bo(t)!=="body"||ld(l))&&(r=Lg(t)),ql(t))){const f=Wa(t);o=zf(t),a.x=f.x+t.clientLeft,a.y=f.y+t.clientTop}return{width:e.width*o.x,height:e.height*o.y,x:e.x*o.x-r.scrollLeft*o.x+a.x,y:e.y*o.y-r.scrollTop*o.y+a.y}},isElement:Wr,getDimensions:function(n){return R7(n)},getOffsetParent:f4,getDocumentElement:Ur,getScale:zf,async getElementRects(n){let{reference:e,floating:t,strategy:i}=n;const s=this.getOffsetParent||f4,l=this.getDimensions;return{reference:gre(e,await s(t),i),floating:{x:0,y:0,...await l(t)}}},getClientRects:n=>Array.from(n.getClientRects()),isRTL:n=>Bl(n).direction==="rtl"};function _re(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:r=!0,layoutShift:o=typeof IntersectionObserver=="function",animationFrame:a=!1}=i,f=ly(n),u=s||l?[...f?hm(f):[],...hm(e)]:[];u.forEach(b=>{s&&b.addEventListener("scroll",t,{passive:!0}),l&&b.addEventListener("resize",t)});const d=f&&o?function(b,_){let y,w=null;const A=Ur(b);function M(){clearTimeout(y),w&&w.disconnect(),w=null}return function T(O,E){O===void 0&&(O=!1),E===void 0&&(E=1),M();const{left:R,top:N,width:j,height:L}=b.getBoundingClientRect();if(O||_(),!j||!L)return;const F=Rh(N),B=Rh(A.clientWidth-(R+j)),V=Rh(A.clientHeight-(N+L)),H=Rh(R);let K=!0;w=new IntersectionObserver(X=>{const J=X[0].intersectionRatio;if(J!==E){if(!K)return T();J?T(!1,J):y=setTimeout(()=>{T(!1,1e-7)},100)}K=!1},{rootMargin:-F+"px "+-B+"px "+-V+"px "+-H+"px",threshold:Vf(0,jb(1,E))||1}),w.observe(b)}(!0),M}(f,t):null;let h,p=null;r&&(p=new ResizeObserver(t),f&&!a&&p.observe(f),p.observe(e));let g=a?Wa(n):null;return a&&function b(){const _=Wa(n);!g||_.x===g.x&&_.y===g.y&&_.width===g.width&&_.height===g.height||t(),g=_,h=requestAnimationFrame(b)}(),t(),()=>{u.forEach(b=>{s&&b.removeEventListener("scroll",t),l&&b.removeEventListener("resize",t)}),d&&d(),p&&p.disconnect(),p=null,a&&cancelAnimationFrame(h)}}const yre=(n,e,t)=>{const i=new Map,s={platform:bre,...t},l={...s.platform,_c:i};return ire(n,e,{...s,platform:l})};function vre(n){let e,t;const i={autoUpdate:!0};let s=n;const l=u=>({...i,...n||{},...u||{}}),r=u=>{e&&t&&(s=l(u),yre(e,t,s).then(d=>{Object.assign(t.style,{position:d.strategy,left:`${d.x}px`,top:`${d.y}px`}),s!=null&&s.onComputed&&s.onComputed(d)}))},o=u=>{if("subscribe"in u)return f(u),{};e=u,r()},a=(u,d)=>{let h;t=u,s=l(d),setTimeout(()=>r(d),0),r(d);const p=()=>{h&&(h(),h=void 0)},g=({autoUpdate:b}=s||{})=>{if(p(),b!==!1)return _re(e,t,()=>r(s),b===!0?{}:b)};return h=g(),{update(b){r(b),h=g(b)},destroy(){p()}}},f=u=>{const d=u.subscribe(h=>{e===void 0?(e=h,r()):(Object.assign(e,h),r())});ls(d)};return[o,a,r]}function kre({loadOptions:n,filterText:e,items:t,multiple:i,value:s,itemId:l,groupBy:r,filterSelectedItems:o,itemFilter:a,convertStringItemsToObjects:f,filterGroupedItems:u,label:d}){if(t&&n)return t;if(!t)return[];t&&t.length>0&&typeof t[0]!="object"&&(t=f(t));let h=t.filter(p=>{let g=a(p[d],e,p);return g&&i&&(s!=null&&s.length)&&(g=!s.some(b=>o?b[l]===p[l]:!1)),g});return r&&(h=u(h)),h}async function wre({dispatch:n,loadOptions:e,convertStringItemsToObjects:t,filterText:i}){let s=await e(i).catch(l=>{console.warn("svelte-select loadOptions error :>> ",l),n("error",{type:"loadOptions",details:l})});if(s&&!s.cancelled)return s?(s&&s.length>0&&typeof s[0]!="object"&&(s=t(s)),n("loaded",{items:s})):s=[],{filteredItems:s,loading:!1,focused:!0,listOpen:!0}}function Sre(n){let e,t;return{c(){e=gr("svg"),t=gr("path"),m(t,"fill","currentColor"),m(t,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","0 0 20 20"),m(e,"focusable","false"),m(e,"aria-hidden","true"),m(e,"class","svelte-qbd276")},m(i,s){C(i,e,s),v(e,t)},p:te,i:te,o:te,d(i){i&&S(e)}}}class Cre extends ke{constructor(e){super(),ve(this,e,null,Sre,De,{})}}function Mre(n){let e,t;return{c(){e=gr("svg"),t=gr("path"),m(t,"fill","currentColor"),m(t,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),m(e,"width","100%"),m(e,"height","100%"),m(e,"viewBox","-2 -2 50 50"),m(e,"focusable","false"),m(e,"aria-hidden","true"),m(e,"role","presentation"),m(e,"class","svelte-whdbu1")},m(i,s){C(i,e,s),v(e,t)},p:te,i:te,o:te,d(i){i&&S(e)}}}class pm extends ke{constructor(e){super(),ve(this,e,null,Mre,De,{})}}function Tre(n){let e,t;return{c(){e=gr("svg"),t=gr("circle"),m(t,"class","circle_path svelte-1p3nqvd"),m(t,"cx","50"),m(t,"cy","50"),m(t,"r","20"),m(t,"fill","none"),m(t,"stroke","currentColor"),m(t,"stroke-width","5"),m(t,"stroke-miterlimit","10"),m(e,"class","loading svelte-1p3nqvd"),m(e,"viewBox","25 25 50 50")},m(i,s){C(i,e,s),v(e,t)},p:te,i:te,o:te,d(i){i&&S(e)}}}class Are extends ke{constructor(e){super(),ve(this,e,null,Tre,De,{})}}const Ore=n=>({value:n[0]&8}),u4=n=>({value:n[3]}),Ere=n=>({value:n[0]&8}),c4=n=>({value:n[3]}),Pre=n=>({listOpen:n[0]&64}),d4=n=>({listOpen:n[6]}),Dre=n=>({}),h4=n=>({}),Ire=n=>({}),p4=n=>({}),Rre=n=>({selection:n[0]&8}),m4=n=>({selection:n[3]});function g4(n,e,t){const i=n.slice();return i[125]=e[t],i[127]=t,i}const Nre=n=>({}),b4=n=>({}),Lre=n=>({selection:n[0]&8}),_4=n=>({selection:n[125],index:n[127]}),Fre=n=>({}),y4=n=>({}),jre=n=>({}),v4=n=>({}),Bre=n=>({}),k4=n=>({});function w4(n,e,t){const i=n.slice();return i[125]=e[t],i[127]=t,i}const Vre=n=>({item:n[0]&16777216}),S4=n=>({item:n[125],index:n[127]}),zre=n=>({filteredItems:n[0]&16777216}),C4=n=>({filteredItems:n[24]}),Hre=n=>({}),M4=n=>({});function T4(n){let e,t,i,s,l,r,o,a,f=n[50]["list-prepend"]&&A4(n);const u=[Ure,Wre,qre],d=[];function h(g,b){return g[50].list?0:g[24].length>0?1:g[19]?-1:2}~(i=h(n))&&(s=d[i]=u[i](n));let p=n[50]["list-append"]&&E4(n);return{c(){e=k("div"),f&&f.c(),t=D(),s&&s.c(),l=D(),p&&p.c(),m(e,"class","svelte-select-list svelte-apvs86"),$(e,"prefloat",n[28])},m(g,b){C(g,e,b),f&&f.m(e,null),v(e,t),~i&&d[i].m(e,null),v(e,l),p&&p.m(e,null),n[90](e),r=!0,o||(a=[xe(n[49].call(null,e)),x(e,"scroll",n[41]),x(e,"pointerup",Ei(qt(n[85])))],o=!0)},p(g,b){g[50]["list-prepend"]?f?(f.p(g,b),b[1]&524288&&P(f,1)):(f=A4(g),f.c(),P(f,1),f.m(e,t)):f&&(ue(),I(f,1,1,()=>{f=null}),ce());let _=i;i=h(g),i===_?~i&&d[i].p(g,b):(s&&(ue(),I(d[_],1,1,()=>{d[_]=null}),ce()),~i?(s=d[i],s?s.p(g,b):(s=d[i]=u[i](g),s.c()),P(s,1),s.m(e,l)):s=null),g[50]["list-append"]?p?(p.p(g,b),b[1]&524288&&P(p,1)):(p=E4(g),p.c(),P(p,1),p.m(e,null)):p&&(ue(),I(p,1,1,()=>{p=null}),ce()),(!r||b[0]&268435456)&&$(e,"prefloat",g[28])},i(g){r||(P(f),P(s),P(p),r=!0)},o(g){I(f),I(s),I(p),r=!1},d(g){g&&S(e),f&&f.d(),~i&&d[i].d(),p&&p.d(),n[90](null),o=!1,Ke(a)}}}function A4(n){let e;const t=n[82]["list-prepend"],i=It(t,n,n[81],M4);return{c(){i&&i.c()},m(s,l){i&&i.m(s,l),e=!0},p(s,l){i&&i.p&&(!e||l[2]&524288)&&Nt(i,t,s,s[81],e?Rt(t,s[81],l,Hre):Lt(s[81]),M4)},i(s){e||(P(i,s),e=!0)},o(s){I(i,s),e=!1},d(s){i&&i.d(s)}}}function qre(n){let e;const t=n[82].empty,i=It(t,n,n[81],k4),s=i||Kre();return{c(){s&&s.c()},m(l,r){s&&s.m(l,r),e=!0},p(l,r){i&&i.p&&(!e||r[2]&524288)&&Nt(i,t,l,l[81],e?Rt(t,l[81],r,Bre):Lt(l[81]),k4)},i(l){e||(P(s,l),e=!0)},o(l){I(s,l),e=!1},d(l){s&&s.d(l)}}}function Wre(n){let e,t,i=n[24],s=[];for(let r=0;r<i.length;r+=1)s[r]=O4(w4(n,i,r));const l=r=>I(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=Ee()},m(r,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,o);C(r,e,o),t=!0},p(r,o){if(o[0]&1627402376|o[1]&28672|o[2]&524288){i=r[24];let a;for(a=0;a<i.length;a+=1){const f=w4(r,i,a);s[a]?(s[a].p(f,o),P(s[a],1)):(s[a]=O4(f),s[a].c(),P(s[a],1),s[a].m(e.parentNode,e))}for(ue(),a=i.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!t){for(let o=0;o<i.length;o+=1)P(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)I(s[o]);t=!1},d(r){Ot(s,r),r&&S(e)}}}function Ure(n){let e;const t=n[82].list,i=It(t,n,n[81],C4);return{c(){i&&i.c()},m(s,l){i&&i.m(s,l),e=!0},p(s,l){i&&i.p&&(!e||l[0]&16777216|l[2]&524288)&&Nt(i,t,s,s[81],e?Rt(t,s[81],l,zre):Lt(s[81]),C4)},i(s){e||(P(i,s),e=!0)},o(s){I(i,s),e=!1},d(s){i&&i.d(s)}}}function Kre(n){let e;return{c(){e=k("div"),e.textContent="No options",m(e,"class","empty svelte-apvs86")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function Jre(n){var i;let e=((i=n[125])==null?void 0:i[n[12]])+"",t;return{c(){t=G(e)},m(s,l){C(s,t,l)},p(s,l){var r;l[0]&16781312&&e!==(e=((r=s[125])==null?void 0:r[s[12]])+"")&&pe(t,e)},d(s){s&&S(t)}}}function O4(n){let e,t,i,s,l,r,o,a;const f=n[82].item,u=It(f,n,n[81],S4),d=u||Jre(n);function h(){return n[87](n[127])}function p(){return n[88](n[127])}function g(){return n[89](n[125],n[127])}return{c(){var b;e=k("div"),t=k("div"),d&&d.c(),l=D(),m(t,"class","item svelte-apvs86"),$(t,"list-group-title",n[125].groupHeader),$(t,"active",n[45](n[125],n[3],n[13])),$(t,"first",soe(n[127])),$(t,"hover",n[7]===n[127]),$(t,"group-item",n[125].groupItem),$(t,"not-selectable",((b=n[125])==null?void 0:b.selectable)===!1),m(e,"class","list-item svelte-apvs86"),m(e,"tabindex","-1")},m(b,_){C(b,e,_),v(e,t),d&&d.m(t,null),v(e,l),r=!0,o||(a=[xe(i=n[46].call(null,t,{scroll:n[45](n[125],n[3],n[13]),listDom:n[30]})),xe(s=n[47].call(null,t,{scroll:n[29]===n[127],listDom:n[30]})),x(e,"mouseover",h),x(e,"focus",p),x(e,"click",Ei(g)),x(e,"keydown",Ei(qt(n[86])))],o=!0)},p(b,_){var y;n=b,u?u.p&&(!r||_[0]&16777216|_[2]&524288)&&Nt(u,f,n,n[81],r?Rt(f,n[81],_,Vre):Lt(n[81]),S4):d&&d.p&&(!r||_[0]&16781312)&&d.p(n,r?_:[-1,-1,-1,-1,-1]),i&&fn(i.update)&&_[0]&1090527240&&i.update.call(null,{scroll:n[45](n[125],n[3],n[13]),listDom:n[30]}),s&&fn(s.update)&&_[0]&1610612736&&s.update.call(null,{scroll:n[29]===n[127],listDom:n[30]}),(!r||_[0]&16777216)&&$(t,"list-group-title",n[125].groupHeader),(!r||_[0]&16785416|_[1]&16384)&&$(t,"active",n[45](n[125],n[3],n[13])),(!r||_[0]&128)&&$(t,"hover",n[7]===n[127]),(!r||_[0]&16777216)&&$(t,"group-item",n[125].groupItem),(!r||_[0]&16777216)&&$(t,"not-selectable",((y=n[125])==null?void 0:y.selectable)===!1)},i(b){r||(P(d,b),r=!0)},o(b){I(d,b),r=!1},d(b){b&&S(e),d&&d.d(b),o=!1,Ke(a)}}}function E4(n){let e;const t=n[82]["list-append"],i=It(t,n,n[81],v4);return{c(){i&&i.c()},m(s,l){i&&i.m(s,l),e=!0},p(s,l){i&&i.p&&(!e||l[2]&524288)&&Nt(i,t,s,s[81],e?Rt(t,s[81],l,jre):Lt(s[81]),v4)},i(s){e||(P(i,s),e=!0)},o(s){I(i,s),e=!1},d(s){i&&i.d(s)}}}function P4(n){let e,t,i,s,l;return{c(){e=k("span"),t=G(n[32]),i=D(),s=k("span"),l=G(n[31]),m(e,"id","aria-selection"),m(e,"class","svelte-apvs86"),m(s,"id","aria-context"),m(s,"class","svelte-apvs86")},m(r,o){C(r,e,o),v(e,t),C(r,i,o),C(r,s,o),v(s,l)},p(r,o){o[1]&2&&pe(t,r[32]),o[1]&1&&pe(l,r[31])},d(r){r&&S(e),r&&S(i),r&&S(s)}}}function D4(n){let e,t,i,s;const l=[Yre,xre],r=[];function o(a,f){return a[9]?0:1}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),i=Ee()},m(a,f){r[e].m(a,f),C(a,i,f),s=!0},p(a,f){let u=e;e=o(a),e===u?r[e].p(a,f):(ue(),I(r[u],1,1,()=>{r[u]=null}),ce(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),P(t,1),t.m(i.parentNode,i))},i(a){s||(P(t),s=!0)},o(a){I(t),s=!1},d(a){r[e].d(a),a&&S(i)}}}function xre(n){let e,t;const i=n[82].selection,s=It(i,n,n[81],m4),l=s||Gre(n);return{c(){e=k("div"),l&&l.c(),m(e,"class","selected-item svelte-apvs86"),$(e,"hide-selected-item",n[35])},m(r,o){C(r,e,o),l&&l.m(e,null),t=!0},p(r,o){s?s.p&&(!t||o[0]&8|o[2]&524288)&&Nt(s,i,r,r[81],t?Rt(i,r[81],o,Rre):Lt(r[81]),m4):l&&l.p&&(!t||o[0]&4104)&&l.p(r,t?o:[-1,-1,-1,-1,-1]),(!t||o[1]&16)&&$(e,"hide-selected-item",r[35])},i(r){t||(P(l,r),t=!0)},o(r){I(l,r),t=!1},d(r){r&&S(e),l&&l.d(r)}}}function Yre(n){let e,t,i=n[3],s=[];for(let r=0;r<i.length;r+=1)s[r]=R4(g4(n,i,r));const l=r=>I(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=Ee()},m(r,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,o);C(r,e,o),t=!0},p(r,o){if(o[0]&67116040|o[1]&32|o[2]&524288){i=r[3];let a;for(a=0;a<i.length;a+=1){const f=g4(r,i,a);s[a]?(s[a].p(f,o),P(s[a],1)):(s[a]=R4(f),s[a].c(),P(s[a],1),s[a].m(e.parentNode,e))}for(ue(),a=i.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!t){for(let o=0;o<i.length;o+=1)P(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)I(s[o]);t=!1},d(r){Ot(s,r),r&&S(e)}}}function Gre(n){let e=n[3][n[12]]+"",t;return{c(){t=G(e)},m(i,s){C(i,t,s)},p(i,s){s[0]&4104&&e!==(e=i[3][i[12]]+"")&&pe(t,e)},d(i){i&&S(t)}}}function Xre(n){let e=n[125][n[12]]+"",t;return{c(){t=G(e)},m(i,s){C(i,t,s)},p(i,s){s[0]&4104&&e!==(e=i[125][i[12]]+"")&&pe(t,e)},d(i){i&&S(t)}}}function I4(n){let e,t,i,s;const l=n[82]["multi-clear-icon"],r=It(l,n,n[81],b4),o=r||Zre();function a(){return n[91](n[127])}return{c(){e=k("div"),o&&o.c(),m(e,"class","multi-item-clear svelte-apvs86")},m(f,u){C(f,e,u),o&&o.m(e,null),t=!0,i||(s=x(e,"pointerup",Ei(qt(a))),i=!0)},p(f,u){n=f,r&&r.p&&(!t||u[2]&524288)&&Nt(r,l,n,n[81],t?Rt(l,n[81],u,Nre):Lt(n[81]),b4)},i(f){t||(P(o,f),t=!0)},o(f){I(o,f),t=!1},d(f){f&&S(e),o&&o.d(f),i=!1,s()}}}function Zre(n){let e,t;return e=new pm({}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function R4(n){let e,t,i,s,l,r,o;const a=n[82].selection,f=It(a,n,n[81],_4),u=f||Xre(n);let d=!n[11]&&!n[10]&&pm&&I4(n);function h(){return n[92](n[127])}return{c(){e=k("div"),t=k("span"),u&&u.c(),i=D(),d&&d.c(),s=D(),m(t,"class","multi-item-text svelte-apvs86"),m(e,"class","multi-item svelte-apvs86"),$(e,"active",n[26]===n[127]),$(e,"disabled",n[11])},m(p,g){C(p,e,g),v(e,t),u&&u.m(t,null),v(e,i),d&&d.m(e,null),v(e,s),l=!0,r||(o=[x(e,"click",qt(h)),x(e,"keydown",Ei(qt(n[84])))],r=!0)},p(p,g){n=p,f?f.p&&(!l||g[0]&8|g[2]&524288)&&Nt(f,a,n,n[81],l?Rt(a,n[81],g,Lre):Lt(n[81]),_4):u&&u.p&&(!l||g[0]&4104)&&u.p(n,l?g:[-1,-1,-1,-1,-1]),!n[11]&&!n[10]&&pm?d?(d.p(n,g),g[0]&3072&&P(d,1)):(d=I4(n),d.c(),P(d,1),d.m(e,s)):d&&(ue(),I(d,1,1,()=>{d=null}),ce()),(!l||g[0]&67108864)&&$(e,"active",n[26]===n[127]),(!l||g[0]&2048)&&$(e,"disabled",n[11])},i(p){l||(P(u,p),P(d),l=!0)},o(p){I(u,p),I(d),l=!1},d(p){p&&S(e),u&&u.d(p),d&&d.d(),r=!1,Ke(o)}}}function N4(n){let e,t;const i=n[82]["loading-icon"],s=It(i,n,n[81],p4),l=s||Qre();return{c(){e=k("div"),l&&l.c(),m(e,"class","icon loading svelte-apvs86"),m(e,"aria-hidden","true")},m(r,o){C(r,e,o),l&&l.m(e,null),t=!0},p(r,o){s&&s.p&&(!t||o[2]&524288)&&Nt(s,i,r,r[81],t?Rt(i,r[81],o,Ire):Lt(r[81]),p4)},i(r){t||(P(l,r),t=!0)},o(r){I(l,r),t=!1},d(r){r&&S(e),l&&l.d(r)}}}function Qre(n){let e,t;return e=new Are({}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function L4(n){let e,t,i,s;const l=n[82]["clear-icon"],r=It(l,n,n[81],h4),o=r||$re();return{c(){e=k("button"),o&&o.c(),m(e,"type","button"),m(e,"class","icon clear-select svelte-apvs86")},m(a,f){C(a,e,f),o&&o.m(e,null),t=!0,i||(s=x(e,"click",n[22]),i=!0)},p(a,f){r&&r.p&&(!t||f[2]&524288)&&Nt(r,l,a,a[81],t?Rt(l,a[81],f,Dre):Lt(a[81]),h4)},i(a){t||(P(o,a),t=!0)},o(a){I(o,a),t=!1},d(a){a&&S(e),o&&o.d(a),i=!1,s()}}}function $re(n){let e,t;return e=new pm({}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function F4(n){let e,t;const i=n[82]["chevron-icon"],s=It(i,n,n[81],d4),l=s||eoe();return{c(){e=k("div"),l&&l.c(),m(e,"class","icon chevron svelte-apvs86"),m(e,"aria-hidden","true")},m(r,o){C(r,e,o),l&&l.m(e,null),t=!0},p(r,o){s&&s.p&&(!t||o[0]&64|o[2]&524288)&&Nt(s,i,r,r[81],t?Rt(i,r[81],o,Pre):Lt(r[81]),d4)},i(r){t||(P(l,r),t=!0)},o(r){I(l,r),t=!1},d(r){r&&S(e),l&&l.d(r)}}}function eoe(n){let e,t;return e=new Cre({}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function toe(n){let e,t;return{c(){e=k("input"),m(e,"name",n[8]),m(e,"type","hidden"),e.value=t=n[3]?JSON.stringify(n[3]):null,m(e,"class","svelte-apvs86")},m(i,s){C(i,e,s)},p(i,s){s[0]&256&&m(e,"name",i[8]),s[0]&8&&t!==(t=i[3]?JSON.stringify(i[3]):null)&&(e.value=t)},d(i){i&&S(e)}}}function j4(n){let e;const t=n[82].required,i=It(t,n,n[81],u4),s=i||noe();return{c(){s&&s.c()},m(l,r){s&&s.m(l,r),e=!0},p(l,r){i&&i.p&&(!e||r[0]&8|r[2]&524288)&&Nt(i,t,l,l[81],e?Rt(t,l[81],r,Ore):Lt(l[81]),u4)},i(l){e||(P(s,l),e=!0)},o(l){I(s,l),e=!1},d(l){s&&s.d(l)}}}function noe(n){let e;return{c(){e=k("select"),m(e,"class","required svelte-apvs86"),e.required=!0,m(e,"tabindex","-1"),m(e,"aria-hidden","true")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function ioe(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T=n[6]&&T4(n),O=n[2]&&P4(n);const E=n[82].prepend,R=It(E,n,n[81],y4);let N=n[25]&&D4(n),j=[{readOnly:u=!n[17]},n[27],{placeholder:n[33]},{style:n[18]},{disabled:n[11]}],L={};for(let z=0;z<j.length;z+=1)L=ft(L,j[z]);let F=n[5]&&N4(n),B=n[34]&&L4(n),V=n[20]&&F4(n);const H=n[82]["input-hidden"],K=It(H,n,n[81],c4),X=K||toe(n);let J=n[16]&&(!n[3]||n[3].length===0)&&j4(n);return{c(){e=k("div"),T&&T.c(),t=D(),i=k("span"),O&&O.c(),s=D(),l=k("div"),R&&R.c(),r=D(),o=k("div"),N&&N.c(),a=D(),f=k("input"),d=D(),h=k("div"),F&&F.c(),p=D(),B&&B.c(),g=D(),V&&V.c(),b=D(),X&&X.c(),_=D(),J&&J.c(),m(i,"aria-live","polite"),m(i,"aria-atomic","false"),m(i,"aria-relevant","additions text"),m(i,"class","a11y-text svelte-apvs86"),m(l,"class","prepend svelte-apvs86"),bl(f,L),$(f,"svelte-apvs86",!0),m(o,"class","value-container svelte-apvs86"),m(h,"class","indicators svelte-apvs86"),m(e,"class",y="svelte-select "+n[21]+" svelte-apvs86"),m(e,"style",n[14]),$(e,"multi",n[9]),$(e,"disabled",n[11]),$(e,"focused",n[2]),$(e,"list-open",n[6]),$(e,"show-chevron",n[20]),$(e,"error",n[15])},m(z,Z){C(z,e,Z),T&&T.m(e,null),v(e,t),v(e,i),O&&O.m(i,null),v(e,s),v(e,l),R&&R.m(l,null),v(e,r),v(e,o),N&&N.m(o,null),v(o,a),v(o,f),f.autofocus&&f.focus(),n[93](f),Ae(f,n[4]),v(e,d),v(e,h),F&&F.m(h,null),v(h,p),B&&B.m(h,null),v(h,g),V&&V.m(h,null),v(e,b),X&&X.m(e,null),v(e,_),J&&J.m(e,null),n[95](e),w=!0,A||(M=[x(window,"click",n[42]),x(window,"keydown",n[37]),x(f,"keydown",n[37]),x(f,"blur",n[39]),x(f,"focus",n[38]),x(f,"input",n[94]),x(e,"pointerup",qt(n[40])),x(e,"mousedown",qt(n[83])),xe(n[48].call(null,e))],A=!0)},p(z,Z){z[6]?T?(T.p(z,Z),Z[0]&64&&P(T,1)):(T=T4(z),T.c(),P(T,1),T.m(e,t)):T&&(ue(),I(T,1,1,()=>{T=null}),ce()),z[2]?O?O.p(z,Z):(O=P4(z),O.c(),O.m(i,null)):O&&(O.d(1),O=null),R&&R.p&&(!w||Z[2]&524288)&&Nt(R,E,z,z[81],w?Rt(E,z[81],Z,Fre):Lt(z[81]),y4),z[25]?N?(N.p(z,Z),Z[0]&33554432&&P(N,1)):(N=D4(z),N.c(),P(N,1),N.m(o,a)):N&&(ue(),I(N,1,1,()=>{N=null}),ce()),bl(f,L=kn(j,[(!w||Z[0]&131072&&u!==(u=!z[17]))&&{readOnly:u},Z[0]&134217728&&z[27],(!w||Z[1]&4)&&{placeholder:z[33]},(!w||Z[0]&262144)&&{style:z[18]},(!w||Z[0]&2048)&&{disabled:z[11]}])),Z[0]&16&&f.value!==z[4]&&Ae(f,z[4]),$(f,"svelte-apvs86",!0),z[5]?F?(F.p(z,Z),Z[0]&32&&P(F,1)):(F=N4(z),F.c(),P(F,1),F.m(h,p)):F&&(ue(),I(F,1,1,()=>{F=null}),ce()),z[34]?B?(B.p(z,Z),Z[1]&8&&P(B,1)):(B=L4(z),B.c(),P(B,1),B.m(h,g)):B&&(ue(),I(B,1,1,()=>{B=null}),ce()),z[20]?V?(V.p(z,Z),Z[0]&1048576&&P(V,1)):(V=F4(z),V.c(),P(V,1),V.m(h,null)):V&&(ue(),I(V,1,1,()=>{V=null}),ce()),K?K.p&&(!w||Z[0]&8|Z[2]&524288)&&Nt(K,H,z,z[81],w?Rt(H,z[81],Z,Ere):Lt(z[81]),c4):X&&X.p&&(!w||Z[0]&264)&&X.p(z,w?Z:[-1,-1,-1,-1,-1]),z[16]&&(!z[3]||z[3].length===0)?J?(J.p(z,Z),Z[0]&65544&&P(J,1)):(J=j4(z),J.c(),P(J,1),J.m(e,null)):J&&(ue(),I(J,1,1,()=>{J=null}),ce()),(!w||Z[0]&2097152&&y!==(y="svelte-select "+z[21]+" svelte-apvs86"))&&m(e,"class",y),(!w||Z[0]&16384)&&m(e,"style",z[14]),(!w||Z[0]&2097664)&&$(e,"multi",z[9]),(!w||Z[0]&2099200)&&$(e,"disabled",z[11]),(!w||Z[0]&2097156)&&$(e,"focused",z[2]),(!w||Z[0]&2097216)&&$(e,"list-open",z[6]),(!w||Z[0]&3145728)&&$(e,"show-chevron",z[20]),(!w||Z[0]&2129920)&&$(e,"error",z[15])},i(z){w||(P(T),P(R,z),P(N),P(F),P(B),P(V),P(X,z),P(J),w=!0)},o(z){I(T),I(R,z),I(N),I(F),I(B),I(V),I(X,z),I(J),w=!1},d(z){z&&S(e),T&&T.d(),O&&O.d(),R&&R.d(z),N&&N.d(),n[93](null),F&&F.d(),B&&B.d(),V&&V.d(),X&&X.d(z),J&&J.d(),n[95](null),A=!1,Ke(M)}}}function B4(n){return n.map((e,t)=>({index:t,value:e,label:`${e}`}))}function soe(n){return n===0}function loe(n){return n.groupHeader&&n.selectable||n.selectable||!n.hasOwnProperty("selectable")}function roe(n,e,t){let i,s,l,r,o,a,f,u,d,{$$slots:h={},$$scope:p}=e;const g=RL(h),b=Hn();let{justValue:_=null}=e,{filter:y=kre}=e,{getItems:w=wre}=e,{id:A=null}=e,{name:M=null}=e,{container:T=void 0}=e,{input:O=void 0}=e,{multiple:E=!1}=e,{multiFullItemClearable:R=!1}=e,{disabled:N=!1}=e,{focused:j=!1}=e,{value:L=null}=e,{filterText:F=""}=e,{placeholder:B="Please select"}=e,{placeholderAlwaysShow:V=!1}=e,{items:H=null}=e,{label:K="label"}=e,{itemFilter:X=(ae,Ge,zt)=>`${ae}`.toLowerCase().includes(Ge.toLowerCase())}=e,{groupBy:J=void 0}=e,{groupFilter:z=ae=>ae}=e,{groupHeaderSelectable:Z=!1}=e,{itemId:Y="value"}=e,{loadOptions:oe=void 0}=e,{containerStyles:re=""}=e,{hasError:Q=!1}=e,{filterSelectedItems:me=!0}=e,{required:qe=!1}=e,{closeListOnChange:be=!0}=e,{createGroupHeaderItem:Ie=(ae,Ge)=>({value:ae,[K]:ae})}=e;const he=()=>f;let{searchable:Ve=!0}=e,{inputStyles:Qe=""}=e,{clearable:it=!0}=e,{loading:ye=!1}=e,{listOpen:ie=!1}=e,we,{debounce:Ue=(ae,Ge=1)=>{clearTimeout(we),we=setTimeout(ae,Ge)}}=e,{debounceWait:Oe=300}=e,{hideEmptyState:_e=!1}=e,{inputAttributes:Ye={}}=e,{listAutoWidth:St=!0}=e,{showChevron:Et=!1}=e,{listOffset:Fe=5}=e,{hoverItemIndex:Le=0}=e,{floatingConfig:Pt={}}=e,{class:tn=""}=e,ct,Se,Ut,un;function pt(){if(typeof L=="string"){let ae=(H||[]).find(Ge=>Ge[Y]===L);t(3,L=ae||{[Y]:L,label:L})}else E&&Array.isArray(L)&&L.length>0&&t(3,L=L.map(ae=>typeof ae=="string"?{value:ae,label:ae}:ae))}let rn;function bn(){t(27,rn=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Ye)),A&&t(27,rn.id=A,rn),Ve||t(27,rn.readonly=!0,rn)}function je(ae){const Ge=[],zt={};ae.forEach(on=>{const Ci=J(on);Ge.includes(Ci)||(Ge.push(Ci),zt[Ci]=[],Ci&&zt[Ci].push(Object.assign(Ie(Ci,on),{id:Ci,groupHeader:!0,selectable:Z}))),zt[Ci].push(Object.assign({groupItem:!!Ci},on))});const Bt=[];return z(Ge).forEach(on=>{zt[on]&&Bt.push(...zt[on])}),Bt}function Xe(){if(E){JSON.stringify(L)!==JSON.stringify(Se)&&ki()&&b("input",L);return}(!Se||JSON.stringify(L[Y])!==JSON.stringify(Se[Y]))&&b("input",L)}function ot(){L&&(Array.isArray(L)?t(3,L=[...L]):t(3,L=[L]))}function Dt(){L&&t(3,L=null)}function Te(){const ae=f.findIndex(Ge=>Ge[Y]===L[Y]);Mn(ae,!0)}function qn(ae){b("hoverItem",ae)}function Mn(ae=0,Ge){t(7,Le=ae<0?0:ae),!Ge&&J&&f[Le]&&!f[Le].selectable&&js(1)}function Dn(){!oe&&F.length===0||(oe?Ue(async function(){t(5,ye=!0);let ae=await w({dispatch:b,loadOptions:oe,convertStringItemsToObjects:B4,filterText:F});ae?(t(5,ye=ae.loading),t(6,ie=ie?ae.listOpen:F.length>0),t(2,j=ie&&ae.focused),t(51,H=J?je(ae.filteredItems):ae.filteredItems)):(t(5,ye=!1),t(2,j=!0),t(6,ie=!0))},Oe):(t(6,ie=!0),E&&t(26,ct=void 0)))}function Gt(ae){ie&&b("filter",ae)}UL(async()=>{t(77,Se=L),t(78,Ut=F),t(79,un=E)});function In(){return E?L?L.map(ae=>ae[Y]):null:L&&L[Y]}function ki(){let ae=!0;if(L){const Ge=[],zt=[];L.forEach(Bt=>{Ge.includes(Bt[Y])?ae=!1:(Ge.push(Bt[Y]),zt.push(Bt))}),ae||t(3,L=zt)}return ae}function ne(ae){let Ge=ae?ae[Y]:L[Y];return H.find(zt=>zt[Y]===Ge)}function le(ae){!ae||ae.length===0||ae.some(Ge=>typeof Ge!="object")||!L||(E?L.some(Ge=>!Ge||!Ge[Y]):!L[Y])||(Array.isArray(L)?t(3,L=L.map(Ge=>ne(Ge)||Ge)):t(3,L=ne()||L))}async function ge(ae){const Ge=L[ae];L.length===1?t(3,L=void 0):t(3,L=L.filter(zt=>zt!==Ge)),b("clear",Ge)}function Me(ae){if(j)switch(ae.stopPropagation(),ae.key){case"Escape":ae.preventDefault(),st();break;case"Enter":if(ae.preventDefault(),ie){if(f.length===0)break;const Ge=f[Le];if(L&&!E&&L[Y]===Ge[Y]){st();break}else Wn(f[Le])}break;case"ArrowDown":ae.preventDefault(),ie?js(1):(t(6,ie=!0),t(26,ct=void 0));break;case"ArrowUp":ae.preventDefault(),ie?js(-1):(t(6,ie=!0),t(26,ct=void 0));break;case"Tab":if(ie&&j){if(f.length===0||L&&L[Y]===f[Le][Y])return st();ae.preventDefault(),Wn(f[Le]),st()}break;case"Backspace":if(!E||F.length>0)return;if(E&&L&&L.length>0){if(ge(ct!==void 0?ct:L.length-1),ct===0||ct===void 0)break;t(26,ct=L.length>ct?ct-1:void 0)}break;case"ArrowLeft":if(!L||!E||F.length>0)return;ct===void 0?t(26,ct=L.length-1):L.length>ct&&ct!==0&&t(26,ct-=1);break;case"ArrowRight":if(!L||!E||F.length>0||ct===void 0)return;ct===L.length-1?t(26,ct=void 0):ct<L.length-1&&t(26,ct+=1);break}}function Je(ae){j&&O===(document==null?void 0:document.activeElement)||(ae&&b("focus",ae),O.focus(),t(2,j=!0))}async function et(ae){Bn||(ie||j)&&(b("blur",ae),st(),t(2,j=!1),t(26,ct=void 0),O.blur())}function tt(){N||t(6,ie=!ie)}function Ze(){b("clear",L),t(3,L=void 0),st(),Je()}Pn(()=>{ie&&t(2,j=!0),j&&O&&O.focus()});function Tt(ae){if(ae){t(4,F="");const Ge=Object.assign({},ae);if(Ge.groupHeader&&!Ge.selectable)return;t(3,L=E?L?L.concat([Ge]):[Ge]:t(3,L=Ge)),setTimeout(()=>{be&&st(),t(26,ct=void 0),b("change",L),b("select",ae)})}}function st(){t(4,F=""),t(6,ie=!1)}let{ariaValues:yt=ae=>`Option ${ae}, selected.`}=e,{ariaListOpen:Qt=(ae,Ge)=>`You are currently focused on option ${ae}. There are ${Ge} results available.`}=e,{ariaFocused:wi=()=>"Select is focused, type to refine list, press down to open the menu."}=e;function Si(ae){let Ge;return ae&&L.length>0?Ge=L.map(zt=>zt[K]).join(", "):Ge=L[K],yt(Ge)}function Xi(){if(!f||f.length===0)return"";let ae=f[Le];if(ie&&ae){let Ge=f?f.length:0;return Qt(ae[K],Ge)}else return wi()}let Ce=null,Ft;function dn(){clearTimeout(Ft),Ft=setTimeout(()=>{Bn=!1},100)}function Kn(ae){!ie&&!j&&T&&!T.contains(ae.target)&&!(Ce!=null&&Ce.contains(ae.target))&&et()}ls(()=>{Ce==null||Ce.remove()});let Bn=!1;function Wn(ae){!ae||ae.selectable===!1||Tt(ae)}function Di(ae){Bn||t(7,Le=ae)}function Fs(ae){const{item:Ge,i:zt}=ae;if((Ge==null?void 0:Ge.selectable)!==!1){if(L&&!E&&L[Y]===Ge[Y])return st();loe(Ge)&&(t(7,Le=zt),Wn(Ge))}}function js(ae){if(f.filter(Bt=>!Object.hasOwn(Bt,"selectable")||Bt.selectable===!0).length===0)return t(7,Le=0);ae>0&&Le===f.length-1?t(7,Le=0):ae<0&&Le===0?t(7,Le=f.length-1):t(7,Le=Le+ae);const zt=f[Le];if(zt&&zt.selectable===!1){(ae===1||ae===-1)&&js(ae);return}}function xl(ae,Ge,zt){if(!E)return Ge&&Ge[zt]===ae[zt]}const Or=sf,zu=sf;function sf(ae){return{update(Ge){Ge.scroll&&(dn(),ae.scrollIntoView({behavior:"auto",block:"nearest"}))}}}function lf(){const{width:ae}=T.getBoundingClientRect();t(23,Ce.style.width=St?ae+"px":"auto",Ce)}let Zi={strategy:"absolute",placement:"bottom-start",middleware:[dre(Fe),cre(),pre()],autoUpdate:!1};const[oo,ao,Ml]=vre(Zi);let di=!0;function fo(ae,Ge){if(!ae||!Ge)return t(28,di=!0);setTimeout(()=>{t(28,di=!1)},0)}function Hu(ae){ht.call(this,n,ae)}function Er(ae){ht.call(this,n,ae)}function qu(ae){ht.call(this,n,ae)}function Wu(ae){ht.call(this,n,ae)}const $o=ae=>Di(ae),Uu=ae=>Di(ae),Ku=(ae,Ge)=>Fs({item:ae,i:Ge});function Ju(ae){de[ae?"unshift":"push"](()=>{Ce=ae,t(23,Ce)})}const xu=ae=>ge(ae),fe=ae=>R?ge(ae):{};function We(ae){de[ae?"unshift":"push"](()=>{O=ae,t(1,O)})}function bt(){F=this.value,t(4,F)}function vt(ae){de[ae?"unshift":"push"](()=>{T=ae,t(0,T)})}return n.$$set=ae=>{"justValue"in ae&&t(52,_=ae.justValue),"filter"in ae&&t(53,y=ae.filter),"getItems"in ae&&t(54,w=ae.getItems),"id"in ae&&t(55,A=ae.id),"name"in ae&&t(8,M=ae.name),"container"in ae&&t(0,T=ae.container),"input"in ae&&t(1,O=ae.input),"multiple"in ae&&t(9,E=ae.multiple),"multiFullItemClearable"in ae&&t(10,R=ae.multiFullItemClearable),"disabled"in ae&&t(11,N=ae.disabled),"focused"in ae&&t(2,j=ae.focused),"value"in ae&&t(3,L=ae.value),"filterText"in ae&&t(4,F=ae.filterText),"placeholder"in ae&&t(56,B=ae.placeholder),"placeholderAlwaysShow"in ae&&t(57,V=ae.placeholderAlwaysShow),"items"in ae&&t(51,H=ae.items),"label"in ae&&t(12,K=ae.label),"itemFilter"in ae&&t(58,X=ae.itemFilter),"groupBy"in ae&&t(59,J=ae.groupBy),"groupFilter"in ae&&t(60,z=ae.groupFilter),"groupHeaderSelectable"in ae&&t(61,Z=ae.groupHeaderSelectable),"itemId"in ae&&t(13,Y=ae.itemId),"loadOptions"in ae&&t(62,oe=ae.loadOptions),"containerStyles"in ae&&t(14,re=ae.containerStyles),"hasError"in ae&&t(15,Q=ae.hasError),"filterSelectedItems"in ae&&t(63,me=ae.filterSelectedItems),"required"in ae&&t(16,qe=ae.required),"closeListOnChange"in ae&&t(64,be=ae.closeListOnChange),"createGroupHeaderItem"in ae&&t(65,Ie=ae.createGroupHeaderItem),"searchable"in ae&&t(17,Ve=ae.searchable),"inputStyles"in ae&&t(18,Qe=ae.inputStyles),"clearable"in ae&&t(67,it=ae.clearable),"loading"in ae&&t(5,ye=ae.loading),"listOpen"in ae&&t(6,ie=ae.listOpen),"debounce"in ae&&t(68,Ue=ae.debounce),"debounceWait"in ae&&t(69,Oe=ae.debounceWait),"hideEmptyState"in ae&&t(19,_e=ae.hideEmptyState),"inputAttributes"in ae&&t(70,Ye=ae.inputAttributes),"listAutoWidth"in ae&&t(71,St=ae.listAutoWidth),"showChevron"in ae&&t(20,Et=ae.showChevron),"listOffset"in ae&&t(72,Fe=ae.listOffset),"hoverItemIndex"in ae&&t(7,Le=ae.hoverItemIndex),"floatingConfig"in ae&&t(73,Pt=ae.floatingConfig),"class"in ae&&t(21,tn=ae.class),"ariaValues"in ae&&t(74,yt=ae.ariaValues),"ariaListOpen"in ae&&t(75,Qt=ae.ariaListOpen),"ariaFocused"in ae&&t(76,wi=ae.ariaFocused),"$$scope"in ae&&t(81,p=ae.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&8|n.$$.dirty[1]&1048576&&L&&pt(),n.$$.dirty[0]&131072|n.$$.dirty[2]&256&&(Ye||!Ve)&&bn(),n.$$.dirty[0]&512&&E&&ot(),n.$$.dirty[0]&512|n.$$.dirty[2]&131072&&un&&!E&&Dt(),n.$$.dirty[0]&520&&E&&L&&L.length>1&&ki(),n.$$.dirty[0]&8&&L&&Xe(),n.$$.dirty[0]&520|n.$$.dirty[2]&32768&&!L&&E&&Se&&b("input",L),n.$$.dirty[0]&6&&!j&&O&&st(),n.$$.dirty[0]&16|n.$$.dirty[2]&65536&&F!==Ut&&Dn(),n.$$.dirty[0]&12824|n.$$.dirty[1]&407896064|n.$$.dirty[2]&3&&t(24,f=y({loadOptions:oe,filterText:F,items:H,multiple:E,value:L,itemId:Y,groupBy:J,label:K,filterSelectedItems:me,itemFilter:X,convertStringItemsToObjects:B4,filterGroupedItems:je})),n.$$.dirty[0]&16777800&&!E&&ie&&L&&f&&Te(),n.$$.dirty[0]&576&&ie&&E&&t(7,Le=0),n.$$.dirty[0]&16&&F&&t(7,Le=0),n.$$.dirty[0]&128&&qn(Le),n.$$.dirty[0]&520&&t(25,i=E?L&&L.length>0:L),n.$$.dirty[0]&33554448&&t(35,s=i&&F.length>0),n.$$.dirty[0]&33556512|n.$$.dirty[2]&32&&t(34,l=i&&it&&!N&&!ye),n.$$.dirty[0]&520|n.$$.dirty[1]&100663296&&t(33,r=V&&E||E&&(L==null?void 0:L.length)===0?B:L?"":B),n.$$.dirty[0]&520&&t(32,o=L?Si(E):""),n.$$.dirty[0]&16777412&&t(31,a=Xi()),n.$$.dirty[1]&1048576&&le(H),n.$$.dirty[0]&8712&&t(52,_=In()),n.$$.dirty[0]&520|n.$$.dirty[2]&32768&&!E&&Se&&!L&&b("input",L),n.$$.dirty[0]&16777800&&ie&&f&&!E&&!L&&Mn(),n.$$.dirty[0]&16777216&&Gt(f),n.$$.dirty[0]&1|n.$$.dirty[2]&2048&&T&&(Pt==null?void 0:Pt.autoUpdate)===void 0&&t(80,Zi.autoUpdate=!0,Zi),n.$$.dirty[0]&1|n.$$.dirty[2]&264192&&T&&Pt&&Ml(Object.assign(Zi,Pt)),n.$$.dirty[0]&8388608&&t(30,u=!!Ce),n.$$.dirty[0]&8388672&&fo(Ce,ie),n.$$.dirty[0]&8388673&&ie&&T&&Ce&&lf(),n.$$.dirty[0]&128&&t(29,d=Le),n.$$.dirty[0]&70&&O&&ie&&!j&&Je()},[T,O,j,L,F,ye,ie,Le,M,E,R,N,K,Y,re,Q,qe,Ve,Qe,_e,Et,tn,Ze,Ce,f,i,ct,rn,di,d,u,a,o,r,l,s,ge,Me,Je,et,tt,dn,Kn,Di,Fs,xl,Or,zu,oo,ao,g,H,_,y,w,A,B,V,X,J,z,Z,oe,me,be,Ie,he,it,Ue,Oe,Ye,St,Fe,Pt,yt,Qt,wi,Se,Ut,un,Zi,p,h,Hu,Er,qu,Wu,$o,Uu,Ku,Ju,xu,fe,We,bt,vt]}class ba extends ke{constructor(e){super(),ve(this,e,roe,ioe,De,{justValue:52,filter:53,getItems:54,id:55,name:8,container:0,input:1,multiple:9,multiFullItemClearable:10,disabled:11,focused:2,value:3,filterText:4,placeholder:56,placeholderAlwaysShow:57,items:51,label:12,itemFilter:58,groupBy:59,groupFilter:60,groupHeaderSelectable:61,itemId:13,loadOptions:62,containerStyles:14,hasError:15,filterSelectedItems:63,required:16,closeListOnChange:64,createGroupHeaderItem:65,getFilteredItems:66,searchable:17,inputStyles:18,clearable:67,loading:5,listOpen:6,debounce:68,debounceWait:69,hideEmptyState:19,inputAttributes:70,listAutoWidth:71,showChevron:20,listOffset:72,hoverItemIndex:7,floatingConfig:73,class:21,handleClear:22,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[66]}get handleClear(){return this.$$.ctx[22]}}function ooe(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E,R,N,j,L,F,B,V,H,K,X,J,z;function Z(Ve){n[16](Ve)}let Y={class:"jse-filter-path",showChevron:!0,items:n[7]};n[0]!==void 0&&(Y.value=n[0]),o=new ba({props:Y}),de.push(()=>Ne(o,"value",Z));function oe(Ve){n[17](Ve)}let re={class:"jse-filter-relation",showChevron:!0,items:n[8]};n[1]!==void 0&&(re.value=n[1]),u=new ba({props:re}),de.push(()=>Ne(u,"value",oe));function Q(Ve){n[19](Ve)}let me={class:"jse-sort-path",showChevron:!0,items:n[7]};n[3]!==void 0&&(me.value=n[3]),M=new ba({props:me}),de.push(()=>Ne(M,"value",Q));function qe(Ve){n[20](Ve)}let be={class:"jse-sort-direction",showChevron:!0,items:n[9]};n[4]!==void 0&&(be.value=n[4]),E=new ba({props:be}),de.push(()=>Ne(E,"value",qe));function Ie(Ve){n[21](Ve)}let he={class:"jse-projection-paths",multiple:!0,showChevron:!0,items:n[6]};return n[5]!==void 0&&(he.value=n[5]),H=new ba({props:he}),de.push(()=>Ne(H,"value",Ie)),{c(){e=k("table"),t=k("tr"),i=k("th"),i.textContent="Filter",s=D(),l=k("td"),r=k("div"),U(o.$$.fragment),f=D(),U(u.$$.fragment),h=D(),p=k("input"),g=D(),b=k("tr"),_=k("th"),_.textContent="Sort",y=D(),w=k("td"),A=k("div"),U(M.$$.fragment),O=D(),U(E.$$.fragment),N=D(),j=k("tr"),L=k("th"),L.textContent="Pick",F=D(),B=k("td"),V=k("div"),U(H.$$.fragment),m(i,"class","svelte-1kiph99"),m(p,"class","jse-filter-value svelte-1kiph99"),m(r,"class","jse-horizontal svelte-1kiph99"),m(_,"class","svelte-1kiph99"),m(A,"class","jse-horizontal svelte-1kiph99"),m(L,"class","svelte-1kiph99"),m(V,"class","jse-horizontal svelte-1kiph99"),m(e,"class","jse-transform-wizard svelte-1kiph99")},m(Ve,Qe){C(Ve,e,Qe),v(e,t),v(t,i),v(t,s),v(t,l),v(l,r),q(o,r,null),v(r,f),q(u,r,null),v(r,h),v(r,p),Ae(p,n[2]),v(e,g),v(e,b),v(b,_),v(b,y),v(b,w),v(w,A),q(M,A,null),v(A,O),q(E,A,null),v(e,N),v(e,j),v(j,L),v(j,F),v(j,B),v(B,V),q(H,V,null),X=!0,J||(z=x(p,"input",n[18]),J=!0)},p(Ve,[Qe]){const it={};Qe&128&&(it.items=Ve[7]),!a&&Qe&1&&(a=!0,it.value=Ve[0],Be(()=>a=!1)),o.$set(it);const ye={};!d&&Qe&2&&(d=!0,ye.value=Ve[1],Be(()=>d=!1)),u.$set(ye),Qe&4&&p.value!==Ve[2]&&Ae(p,Ve[2]);const ie={};Qe&128&&(ie.items=Ve[7]),!T&&Qe&8&&(T=!0,ie.value=Ve[3],Be(()=>T=!1)),M.$set(ie);const we={};!R&&Qe&16&&(R=!0,we.value=Ve[4],Be(()=>R=!1)),E.$set(we);const Ue={};Qe&64&&(Ue.items=Ve[6]),!K&&Qe&32&&(K=!0,Ue.value=Ve[5],Be(()=>K=!1)),H.$set(Ue)},i(Ve){X||(P(o.$$.fragment,Ve),P(u.$$.fragment,Ve),P(M.$$.fragment,Ve),P(E.$$.fragment,Ve),P(H.$$.fragment,Ve),X=!0)},o(Ve){I(o.$$.fragment,Ve),I(u.$$.fragment,Ve),I(M.$$.fragment,Ve),I(E.$$.fragment,Ve),I(H.$$.fragment,Ve),X=!1},d(Ve){Ve&&S(e),W(o),W(u),W(M),W(E),W(H),J=!1,z()}}}function aoe(n,e,t){var K,X,J,z,Z;let i,s,l,r,o,a;const f=Gi("jsoneditor:TransformWizard");let{json:u}=e,{queryOptions:d={}}=e,{onChange:h}=e;const p=["==","!=","<","<=",">",">="].map(Y=>({value:Y,label:Y})),g=[{value:"asc",label:"ascending"},{value:"desc",label:"descending"}];let b=(K=d==null?void 0:d.filter)!=null&&K.path?bc(d.filter.path):null,_=(X=d==null?void 0:d.filter)!=null&&X.relation?p.find(Y=>{var oe;return Y.value===((oe=d.filter)==null?void 0:oe.relation)}):null,y=((J=d==null?void 0:d.filter)==null?void 0:J.value)||"",w=(z=d==null?void 0:d.sort)!=null&&z.path?bc(d.sort.path):null,A=(Z=d==null?void 0:d.sort)!=null&&Z.direction?g.find(Y=>{var oe;return Y.value===((oe=d.sort)==null?void 0:oe.direction)}):null;function M(Y){var oe;sn((oe=d==null?void 0:d.filter)==null?void 0:oe.path,Y)||(f("changeFilterPath",Y),t(10,d=Pl(d,["filter","path"],Y,!0)),h(d))}function T(Y){var oe;sn((oe=d==null?void 0:d.filter)==null?void 0:oe.relation,Y)||(f("changeFilterRelation",Y),t(10,d=Pl(d,["filter","relation"],Y,!0)),h(d))}function O(Y){var oe;sn((oe=d==null?void 0:d.filter)==null?void 0:oe.value,Y)||(f("changeFilterValue",Y),t(10,d=Pl(d,["filter","value"],Y,!0)),h(d))}function E(Y){var oe;sn((oe=d==null?void 0:d.sort)==null?void 0:oe.path,Y)||(f("changeSortPath",Y),t(10,d=Pl(d,["sort","path"],Y,!0)),h(d))}function R(Y){var oe;sn((oe=d==null?void 0:d.sort)==null?void 0:oe.direction,Y)||(f("changeSortDirection",Y),t(10,d=Pl(d,["sort","direction"],Y,!0)),h(d))}function N(Y){var oe;sn((oe=d==null?void 0:d.projection)==null?void 0:oe.paths,Y)||(f("changeProjectionPaths",Y),t(10,d=Pl(d,["projection","paths"],Y,!0)),h(d))}function j(Y){b=Y,t(0,b)}function L(Y){_=Y,t(1,_)}function F(){y=this.value,t(2,y)}function B(Y){w=Y,t(3,w)}function V(Y){A=Y,t(4,A)}function H(Y){a=Y,t(5,a),t(10,d),t(6,o),t(13,l),t(15,i),t(11,u)}return n.$$set=Y=>{"json"in Y&&t(11,u=Y.json),"queryOptions"in Y&&t(10,d=Y.queryOptions),"onChange"in Y&&t(12,h=Y.onChange)},n.$$.update=()=>{var Y;n.$$.dirty&2048&&t(15,i=Array.isArray(u)),n.$$.dirty&34816&&t(14,s=i?Ob(u):[]),n.$$.dirty&34816&&t(13,l=i?Ob(u,!0):[]),n.$$.dirty&16384&&t(7,r=s.map(bc)),n.$$.dirty&8192&&t(6,o=l?l.map(bc):[]),n.$$.dirty&1088&&t(5,a=(Y=d==null?void 0:d.projection)!=null&&Y.paths&&o?d.projection.paths.map(oe=>o.find(re=>sn(re.value,oe))).filter(oe=>!!oe):null),n.$$.dirty&1&&M((b==null?void 0:b.value)||null),n.$$.dirty&2&&T((_==null?void 0:_.value)||null),n.$$.dirty&4&&O(y||null),n.$$.dirty&8&&E((w==null?void 0:w.value)||null),n.$$.dirty&16&&R((A==null?void 0:A.value)||null),n.$$.dirty&32&&N(a?a.map(oe=>oe.value):null)},[b,_,y,w,A,a,o,r,p,g,d,u,h,l,s,i,j,L,F,B,V,H]}class foe extends ke{constructor(e){super(),ve(this,e,aoe,ooe,jt,{json:11,queryOptions:10,onChange:12})}}const uoe=foe;function V4(n,e,t){const i=n.slice();return i[5]=e[t],i}function coe(n){let e,t;return e=new Zt({props:{data:td}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p:te,i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function doe(n){let e,t;return e=new Zt({props:{data:ed}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p:te,i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function z4(n){let e,t,i,s,l=n[5].name+"",r,o,a,f,u,d;const h=[doe,coe],p=[];function g(_,y){return _[5].id===_[0]?0:1}t=g(n),i=p[t]=h[t](n);function b(){return n[4](n[5])}return{c(){e=k("button"),i.c(),s=D(),r=G(l),o=D(),m(e,"type","button"),m(e,"class","jse-query-language svelte-19cxesy"),m(e,"title",a=`Select ${n[5].name} as query language`),$(e,"selected",n[5].id===n[0])},m(_,y){C(_,e,y),p[t].m(e,null),v(e,s),v(e,r),v(e,o),f=!0,u||(d=x(e,"click",b),u=!0)},p(_,y){n=_;let w=t;t=g(n),t===w?p[t].p(n,y):(ue(),I(p[w],1,1,()=>{p[w]=null}),ce(),i=p[t],i?i.p(n,y):(i=p[t]=h[t](n),i.c()),P(i,1),i.m(e,s)),(!f||y&2)&&l!==(l=n[5].name+"")&&pe(r,l),(!f||y&2&&a!==(a=`Select ${n[5].name} as query language`))&&m(e,"title",a),(!f||y&3)&&$(e,"selected",n[5].id===n[0])},i(_){f||(P(i),f=!0)},o(_){I(i),f=!1},d(_){_&&S(e),p[t].d(),u=!1,d()}}}function hoe(n){let e,t,i,s=n[1],l=[];for(let o=0;o<s.length;o+=1)l[o]=z4(V4(n,s,o));const r=o=>I(l[o],1,1,()=>{l[o]=null});return{c(){e=k("div"),t=k("div");for(let o=0;o<l.length;o+=1)l[o].c();m(t,"class","jse-select-query-language-container svelte-19cxesy"),m(e,"class","jse-select-query-language svelte-19cxesy")},m(o,a){C(o,e,a),v(e,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);i=!0},p(o,[a]){if(a&7){s=o[1];let f;for(f=0;f<s.length;f+=1){const u=V4(o,s,f);l[f]?(l[f].p(u,a),P(l[f],1)):(l[f]=z4(u),l[f].c(),P(l[f],1),l[f].m(t,null))}for(ue(),f=s.length;f<l.length;f+=1)r(f);ce()}},i(o){if(!i){for(let a=0;a<s.length;a+=1)P(l[a]);i=!0}},o(o){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)I(l[a]);i=!1},d(o){o&&S(e),Ot(l,o)}}}function poe(n,e,t){let{queryLanguages:i}=e,{queryLanguageId:s}=e,{onChangeQueryLanguage:l}=e;function r(a){t(0,s=a),l(a)}const o=a=>r(a.id);return n.$$set=a=>{"queryLanguages"in a&&t(1,i=a.queryLanguages),"queryLanguageId"in a&&t(0,s=a.queryLanguageId),"onChangeQueryLanguage"in a&&t(3,l=a.onChangeQueryLanguage)},[s,i,r,l,o]}class moe extends ke{constructor(e){super(),ve(this,e,poe,hoe,De,{queryLanguages:1,queryLanguageId:0,onChangeQueryLanguage:3})}}const goe=moe;function H4(n){let e,t,i,s,l;return t=new Zt({props:{data:Yle}}),{c(){e=k("button"),U(t.$$.fragment),m(e,"type","button"),m(e,"class","jse-config svelte-d01h2s"),m(e,"title","Select a query language")},m(r,o){C(r,e,o),q(t,e,null),n[6](e),i=!0,s||(l=x(e,"click",n[3]),s=!0)},p:te,i(r){i||(P(t.$$.fragment,r),i=!0)},o(r){I(t.$$.fragment,r),i=!1},d(r){r&&S(e),W(t),n[6](null),s=!1,l()}}}function boe(n){let e,t,i,s,l,r,o,a,f,u=n[0].length>1&&H4(n);return r=new Zt({props:{data:du}}),{c(){e=k("div"),t=k("div"),t.textContent="Transform",i=D(),u&&u.c(),s=D(),l=k("button"),U(r.$$.fragment),m(t,"class","jse-title svelte-d01h2s"),m(l,"type","button"),m(l,"class","jse-close svelte-d01h2s"),m(e,"class","jse-header svelte-d01h2s")},m(d,h){C(d,e,h),v(e,t),v(e,i),u&&u.m(e,null),v(e,s),v(e,l),q(r,l,null),o=!0,a||(f=x(l,"click",n[2]),a=!0)},p(d,[h]){d[0].length>1?u?(u.p(d,h),h&1&&P(u,1)):(u=H4(d),u.c(),P(u,1),u.m(e,s)):u&&(ue(),I(u,1,1,()=>{u=null}),ce())},i(d){o||(P(u),P(r.$$.fragment,d),o=!0)},o(d){I(u),I(r.$$.fragment,d),o=!1},d(d){d&&S(e),u&&u.d(),W(r),a=!1,f()}}}function _oe(n,e,t){let{queryLanguages:i}=e,{queryLanguageId:s}=e,{onChangeQueryLanguage:l}=e,r,o;const{close:a}=Ji("simple-modal"),{openAbsolutePopup:f,closeAbsolutePopup:u}=Ji("absolute-popup");function d(){o=f(goe,{queryLanguages:i,queryLanguageId:s,onChangeQueryLanguage:g=>{u(o),l(g)}},{position:"bottom",offsetTop:-2,offsetLeft:0,anchor:r,closeOnOuterClick:!0})}function h(p){de[p?"unshift":"push"](()=>{r=p,t(1,r)})}return n.$$set=p=>{"queryLanguages"in p&&t(0,i=p.queryLanguages),"queryLanguageId"in p&&t(4,s=p.queryLanguageId),"onChangeQueryLanguage"in p&&t(5,l=p.onChangeQueryLanguage)},[i,r,a,d,s,l,h]}class yoe extends ke{constructor(e){super(),ve(this,e,_oe,boe,jt,{queryLanguages:0,queryLanguageId:4,onChangeQueryLanguage:5})}}const voe=yoe,$1=Gi("jsoneditor:AutoScrollHandler");function koe(n){$1("createAutoScrollHandler",n);let e,t;function i(f){return f<20?wG:f<50?SG:CG}function s(){if(n){const f=(e||0)*(RS/1e3);n.scrollTop+=f}}function l(f){(!t||f!==e)&&(r(),$1("startAutoScroll",f),e=f,t=setInterval(s,RS))}function r(){t&&($1("stopAutoScroll"),clearInterval(t),t=void 0,e=void 0)}function o(f){if(n){const u=f.clientY,{top:d,bottom:h}=n.getBoundingClientRect();if(u<d){const p=i(d-u);l(-p)}else if(u>h){const p=i(u-h);l(p)}else r()}}function a(){r()}return{onDrag:o,onDragEnd:a}}const woe=(n,e,t,i)=>(n/=i/2,n<1?t/2*n*n+e:(n--,-t/2*(n*(n-2)-1)+e)),B7=()=>{let n,e,t,i,s,l,r,o,a,f,u,d,h,p;function g(){return n.scrollTop}function b(M){const T=M.getBoundingClientRect().top,O=n.getBoundingClientRect?n.getBoundingClientRect().top:0;return T-O+t}function _(M){n.scrollTo?n.scrollTo(n.scrollLeft,M):n.scrollTop=M}function y(M){f||(f=M),u=M-f,d=l(u,t,o,a),_(d),p=!0,u<a?requestAnimationFrame(y):w()}function w(){_(t+o),e&&r&&(e.setAttribute("tabindex","-1"),e.focus()),typeof h=="function"&&h(),f=0,p=!1}function A(M,T={}){switch(a=1e3,s=T.offset||0,h=T.callback,l=T.easing||woe,r=T.a11y||!1,typeof T.container){case"object":n=T.container;break;case"string":n=document.querySelector(T.container);break;default:n=window.document.documentElement}switch(t=g(),typeof M){case"number":e=void 0,r=!1,i=t+M;break;case"object":e=M,i=b(e);break;case"string":e=document.querySelector(M),i=b(e);break}switch(o=i-t+s,typeof T.duration){case"number":a=T.duration;break;case"function":a=T.duration(o);break}p?f=0:requestAnimationFrame(y)}return A},Soe=1e3,Nh=Gi("jsoneditor:History");function V7(n={}){const e=n.maxItems||Soe;let t=[],i=0;function s(){return i<t.length}function l(){return i>0}function r(){return{canUndo:s(),canRedo:l(),length:t.length}}function o(){n.onChange&&n.onChange(r())}function a(h){Nh("add",h),t=[h].concat(t.slice(i)).slice(0,e),i=0,o()}function f(){Nh("clear"),t=[],i=0,o()}function u(){if(s()){const h=t[i];return i+=1,Nh("undo",h),o(),h}}function d(){if(l())return i-=1,Nh("redo",t[i]),o(),t[i]}return{add:a,clear:f,getState:r,undo:u,redo:d}}function Cf(n,e){const t=Date.now(),i=n(),s=Date.now();return e(s-t),i}const bf=Gi("validation");function Coe(n){const e={};return n.forEach(t=>{e[$e(t.path)]=t}),n.forEach(t=>{let i=t.path;for(;i.length>0;){i=en(i);const s=$e(i);s in e||(e[s]={isChildError:!0,path:i,message:"Contains invalid data",severity:Yr.warning})}}),e}function z7(n,e,t,i){if(bf("validateJSON"),!e)return[];if(t!==i){const s=i.parse(t.stringify(n));return e(s)}else return e(n)}function Moe(n,e,t,i){if(bf("validateText"),n.length>MG)return{validationErrors:[{path:[],message:"Validation turned off: the document is too large",severity:Yr.info}]};if(n.length===0)return null;try{const s=Cf(()=>t.parse(n),o=>bf(`validate: parsed json in ${o} ms`));if(!e)return null;const l=t===i?s:Cf(()=>i.parse(n),o=>bf(`validate: parsed json with the validationParser in ${o} ms`)),r=Cf(()=>e(l),o=>bf(`validate: validated json in ${o} ms`));return Kt(r)?null:{validationErrors:r}}catch(s){const l=Cf(()=>Toe(n,t),o=>bf(`validate: checked whether repairable in ${o} ms`));return{parseError:ru(n,s.message||s.toString()),isRepairable:l}}}function Toe(n,e){if(n.length>TG)return!1;try{return e.parse(dr(n)),!0}catch{return!1}}const Lh=Gi("jsoneditor:FocusTracker");function ry({onMount:n,onDestroy:e,getWindow:t,hasFocus:i,onFocus:s,onBlur:l}){let r,o=!1;function a(){const u=i();u&&(clearTimeout(r),o||(Lh("focus"),s(),o=u))}function f(){o&&(clearTimeout(r),r=setTimeout(()=>{Lh("blur"),o=!1,l()}))}n(()=>{Lh("mount FocusTracker");const u=t();u&&(u.addEventListener("focusin",a,!0),u.addEventListener("focusout",f,!0))}),e(()=>{Lh("destroy FocusTracker");const u=t();u&&(u.removeEventListener("focusin",a,!0),u.removeEventListener("focusout",f,!0))})}function q4(n,e,t){const i=n.slice();return i[9]=e[t],i}function W4(n){let e,t;return e=new Zt({props:{data:n[1]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&2&&(l.data=i[1]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function U4(n){let e,t;return e=new Zt({props:{data:n[9].icon}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&8&&(l.data=i[9].icon),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function K4(n){let e,t,i=n[9].text+"",s,l,r,o,a,f,u,d=n[9].icon&&U4(n);function h(){return n[7](n[9])}function p(){return n[8](n[9])}return{c(){e=k("button"),d&&d.c(),t=D(),s=G(i),l=D(),m(e,"type","button"),m(e,"class","jse-button jse-action jse-primary svelte-fqu1ku"),m(e,"title",r=n[9].title),e.disabled=o=n[9].disabled},m(g,b){C(g,e,b),d&&d.m(e,null),v(e,t),v(e,s),v(e,l),a=!0,f||(u=[x(e,"click",h),x(e,"mousedown",p)],f=!0)},p(g,b){n=g,n[9].icon?d?(d.p(n,b),b&8&&P(d,1)):(d=U4(n),d.c(),P(d,1),d.m(e,t)):d&&(ue(),I(d,1,1,()=>{d=null}),ce()),(!a||b&8)&&i!==(i=n[9].text+"")&&pe(s,i),(!a||b&8&&r!==(r=n[9].title))&&m(e,"title",r),(!a||b&8&&o!==(o=n[9].disabled))&&(e.disabled=o)},i(g){a||(P(d),a=!0)},o(g){I(d),a=!1},d(g){g&&S(e),d&&d.d(),f=!1,Ke(u)}}}function Aoe(n){let e,t,i,s,l,r,o,a,f,u,d,h=n[1]&&W4(n),p=n[3],g=[];for(let _=0;_<p.length;_+=1)g[_]=K4(q4(n,p,_));const b=_=>I(g[_],1,1,()=>{g[_]=null});return{c(){e=k("div"),t=k("div"),i=k("div"),h&&h.c(),s=D(),l=G(n[2]),r=D(),o=k("div");for(let _=0;_<g.length;_+=1)g[_].c();m(i,"class","jse-text-centered"),m(t,"class","jse-text svelte-fqu1ku"),$(t,"jse-clickable",!!n[4]),m(o,"class","jse-actions svelte-fqu1ku"),m(e,"class",a="jse-message jse-"+n[0]+" svelte-fqu1ku")},m(_,y){C(_,e,y),v(e,t),v(t,i),h&&h.m(i,null),v(i,s),v(i,l),v(e,r),v(e,o);for(let w=0;w<g.length;w+=1)g[w]&&g[w].m(o,null);f=!0,u||(d=x(t,"click",n[5]),u=!0)},p(_,[y]){if(_[1]?h?(h.p(_,y),y&2&&P(h,1)):(h=W4(_),h.c(),P(h,1),h.m(i,s)):h&&(ue(),I(h,1,1,()=>{h=null}),ce()),(!f||y&4)&&pe(l,_[2]),(!f||y&16)&&$(t,"jse-clickable",!!_[4]),y&8){p=_[3];let w;for(w=0;w<p.length;w+=1){const A=q4(_,p,w);g[w]?(g[w].p(A,y),P(g[w],1)):(g[w]=K4(A),g[w].c(),P(g[w],1),g[w].m(o,null))}for(ue(),w=p.length;w<g.length;w+=1)b(w);ce()}(!f||y&1&&a!==(a="jse-message jse-"+_[0]+" svelte-fqu1ku"))&&m(e,"class",a)},i(_){if(!f){P(h);for(let y=0;y<p.length;y+=1)P(g[y]);f=!0}},o(_){I(h),g=g.filter(Boolean);for(let y=0;y<g.length;y+=1)I(g[y]);f=!1},d(_){_&&S(e),h&&h.d(),Ot(g,_),u=!1,d()}}}function Ooe(n,e,t){let{type:i="success"}=e,{icon:s=void 0}=e,{message:l=void 0}=e,{actions:r=[]}=e,{onClick:o=void 0}=e,{onClose:a=void 0}=e;a&&ls(a);function f(){o&&o()}const u=h=>{h.onClick&&h.onClick()},d=h=>{h.onMouseDown&&h.onMouseDown()};return n.$$set=h=>{"type"in h&&t(0,i=h.type),"icon"in h&&t(1,s=h.icon),"message"in h&&t(2,l=h.message),"actions"in h&&t(3,r=h.actions),"onClick"in h&&t(4,o=h.onClick),"onClose"in h&&t(6,a=h.onClose)},[i,s,l,r,o,f,a,u,d]}class Eoe extends ke{constructor(e){super(),ve(this,e,Ooe,Aoe,jt,{type:0,icon:1,message:2,actions:3,onClick:4,onClose:6})}}const Kl=Eoe;function J4(n,e,t){const i=n.slice();return i[7]=e[t],i[9]=t,i}function x4(n){let e,t,i,s;const l=[Doe,Poe],r=[];function o(a,f){return a[2]||a[3]===1?0:1}return t=o(n),i=r[t]=l[t](n),{c(){e=k("div"),i.c(),m(e,"class","jse-validation-errors-overview svelte-1oe8e8r")},m(a,f){C(a,e,f),r[t].m(e,null),s=!0},p(a,f){let u=t;t=o(a),t===u?r[t].p(a,f):(ue(),I(r[u],1,1,()=>{r[u]=null}),ce(),i=r[t],i?i.p(a,f):(i=r[t]=l[t](a),i.c()),P(i,1),i.m(e,null))},i(a){s||(P(i),s=!0)},o(a){I(i),s=!1},d(a){a&&S(e),r[t].d()}}}function Poe(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g;return l=new Zt({props:{data:Qa}}),d=new Zt({props:{data:T7}}),{c(){e=k("table"),t=k("tbody"),i=k("tr"),s=k("td"),U(l.$$.fragment),r=D(),o=k("td"),a=G(n[3]),f=G(` validation errors
              `),u=k("div"),U(d.$$.fragment),m(s,"class","jse-validation-error-icon svelte-1oe8e8r"),m(u,"class","jse-validation-errors-expand svelte-1oe8e8r"),m(o,"class","svelte-1oe8e8r"),m(i,"class","jse-validation-error svelte-1oe8e8r"),m(e,"class","svelte-1oe8e8r")},m(b,_){C(b,e,_),v(e,t),v(t,i),v(i,s),q(l,s,null),v(i,r),v(i,o),v(o,a),v(o,f),v(o,u),q(d,u,null),h=!0,p||(g=x(i,"click",n[5]),p=!0)},p(b,_){(!h||_&8)&&pe(a,b[3])},i(b){h||(P(l.$$.fragment,b),P(d.$$.fragment,b),h=!0)},o(b){I(l.$$.fragment,b),I(d.$$.fragment,b),h=!1},d(b){b&&S(e),W(l),W(d),p=!1,g()}}}function Doe(n){let e,t,i,s,l=im(n[0],kf),r=[];for(let f=0;f<l.length;f+=1)r[f]=G4(J4(n,l,f));const o=f=>I(r[f],1,1,()=>{r[f]=null});let a=n[3]>kf&&X4(n);return{c(){e=k("table"),t=k("tbody");for(let f=0;f<r.length;f+=1)r[f].c();i=D(),a&&a.c(),m(e,"class","svelte-1oe8e8r")},m(f,u){C(f,e,u),v(e,t);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(t,null);v(t,i),a&&a.m(t,null),s=!0},p(f,u){if(u&19){l=im(f[0],kf);let d;for(d=0;d<l.length;d+=1){const h=J4(f,l,d);r[d]?(r[d].p(h,u),P(r[d],1)):(r[d]=G4(h),r[d].c(),P(r[d],1),r[d].m(t,i))}for(ue(),d=l.length;d<r.length;d+=1)o(d);ce()}f[3]>kf?a?a.p(f,u):(a=X4(f),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i(f){if(!s){for(let u=0;u<l.length;u+=1)P(r[u]);s=!0}},o(f){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)I(r[u]);s=!1},d(f){f&&S(e),Ot(r,f),a&&a.d()}}}function Y4(n){let e,t,i,s,l;return t=new Zt({props:{data:Zle}}),{c(){e=k("button"),U(t.$$.fragment),m(e,"type","button"),m(e,"class","jse-validation-errors-collapse svelte-1oe8e8r"),m(e,"title","Collapse validation errors")},m(r,o){C(r,e,o),q(t,e,null),i=!0,s||(l=x(e,"click",Ei(n[4])),s=!0)},p:te,i(r){i||(P(t.$$.fragment,r),i=!0)},o(r){I(t.$$.fragment,r),i=!1},d(r){r&&S(e),W(t),s=!1,l()}}}function G4(n){let e,t,i,s,l,r=Rs(n[7].path)+"",o,a,f,u=n[7].message+"",d,h,p,g,b,_;i=new Zt({props:{data:Qa}});let y=n[9]===0&&n[0].length>1&&Y4(n);function w(){return n[6](n[7])}return{c(){e=k("tr"),t=k("td"),U(i.$$.fragment),s=D(),l=k("td"),o=G(r),a=D(),f=k("td"),d=G(u),h=D(),p=k("td"),y&&y.c(),m(t,"class","jse-validation-error-icon svelte-1oe8e8r"),m(l,"class","svelte-1oe8e8r"),m(f,"class","svelte-1oe8e8r"),m(p,"class","jse-validation-error-action svelte-1oe8e8r"),m(e,"class","jse-validation-error svelte-1oe8e8r")},m(A,M){C(A,e,M),v(e,t),q(i,t,null),v(e,s),v(e,l),v(l,o),v(e,a),v(e,f),v(f,d),v(e,h),v(e,p),y&&y.m(p,null),g=!0,b||(_=x(e,"click",w),b=!0)},p(A,M){n=A,(!g||M&1)&&r!==(r=Rs(n[7].path)+"")&&pe(o,r),(!g||M&1)&&u!==(u=n[7].message+"")&&pe(d,u),n[9]===0&&n[0].length>1?y?(y.p(n,M),M&1&&P(y,1)):(y=Y4(n),y.c(),P(y,1),y.m(p,null)):y&&(ue(),I(y,1,1,()=>{y=null}),ce())},i(A){g||(P(i.$$.fragment,A),P(y),g=!0)},o(A){I(i.$$.fragment,A),I(y),g=!1},d(A){A&&S(e),W(i),y&&y.d(),b=!1,_()}}}function X4(n){let e,t,i,s,l,r,o,a=n[3]-kf+"",f,u,d,h;return{c(){e=k("tr"),t=k("td"),i=D(),s=k("td"),l=D(),r=k("td"),o=G("(and "),f=G(a),u=G(" more errors)"),d=D(),h=k("td"),m(t,"class","svelte-1oe8e8r"),m(s,"class","svelte-1oe8e8r"),m(r,"class","svelte-1oe8e8r"),m(h,"class","svelte-1oe8e8r"),m(e,"class","jse-validation-error svelte-1oe8e8r")},m(p,g){C(p,e,g),v(e,t),v(e,i),v(e,s),v(e,l),v(e,r),v(r,o),v(r,f),v(r,u),v(e,d),v(e,h)},p(p,g){g&8&&a!==(a=p[3]-kf+"")&&pe(f,a)},d(p){p&&S(e)}}}function Ioe(n){let e=!Kt(n[0]),t,i,s=e&&x4(n);return{c(){s&&s.c(),t=Ee()},m(l,r){s&&s.m(l,r),C(l,t,r),i=!0},p(l,[r]){r&1&&(e=!Kt(l[0])),e?s?(s.p(l,r),r&1&&P(s,1)):(s=x4(l),s.c(),P(s,1),s.m(t.parentNode,t)):s&&(ue(),I(s,1,1,()=>{s=null}),ce())},i(l){i||(P(s),i=!0)},o(l){I(s),i=!1},d(l){s&&s.d(l),l&&S(t)}}}function Roe(n,e,t){let i,{validationErrors:s}=e,{selectError:l}=e,r=!0;function o(){t(2,r=!1)}function a(){t(2,r=!0)}const f=u=>{setTimeout(()=>l(u))};return n.$$set=u=>{"validationErrors"in u&&t(0,s=u.validationErrors),"selectError"in u&&t(1,l=u.selectError)},n.$$.update=()=>{n.$$.dirty&1&&t(3,i=s.length)},[s,l,r,i,o,a,f]}class Noe extends ke{constructor(e){super(),ve(this,e,Roe,Ioe,jt,{validationErrors:0,selectError:1})}}const oy=Noe,Loe=typeof navigator<"u"?navigator.platform.toUpperCase().indexOf("MAC")>=0:!1;function Foe(n){let e,t,i,s,l,r,o,a,f;return r=new Zt({props:{data:du}}),{c(){e=k("div"),t=k("div"),i=G(n[0]),s=D(),l=k("button"),U(r.$$.fragment),m(t,"class","jse-title svelte-d01h2s"),m(l,"type","button"),m(l,"class","jse-close svelte-d01h2s"),m(e,"class","jse-header svelte-d01h2s")},m(u,d){C(u,e,d),v(e,t),v(t,i),v(e,s),v(e,l),q(r,l,null),o=!0,a||(f=x(l,"click",n[3]),a=!0)},p(u,[d]){(!o||d&1)&&pe(i,u[0])},i(u){o||(P(r.$$.fragment,u),o=!0)},o(u){I(r.$$.fragment,u),o=!1},d(u){u&&S(e),W(r),a=!1,f()}}}function joe(n,e,t){let{title:i="Modal"}=e,{onClose:s=void 0}=e;const{close:l}=Ji("simple-modal"),r=()=>{s?s():l()};return n.$$set=o=>{"title"in o&&t(0,i=o.title),"onClose"in o&&t(1,s=o.onClose)},[i,s,l,r]}class Boe extends ke{constructor(e){super(),ve(this,e,joe,Foe,jt,{title:0,onClose:1})}}const ay=Boe;function Voe(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E,R;return t=new ay({props:{title:"Copying and pasting"}}),{c(){e=k("div"),U(t.$$.fragment),i=D(),s=k("div"),l=k("div"),l.textContent="These actions are unavailable via the menu. Please use:",r=D(),o=k("div"),a=k("div"),f=k("div"),f.textContent=`${n[1]}+C`,u=G(`
        for copy`),d=D(),h=k("div"),p=k("div"),p.textContent=`${n[1]}+X`,g=G(`
        for cut`),b=D(),_=k("div"),y=k("div"),y.textContent=`${n[1]}+V`,w=G(`
        for paste`),A=D(),M=k("div"),T=k("button"),T.textContent="Close",m(f,"class","jse-key svelte-1olothd"),m(a,"class","jse-shortcut"),m(p,"class","jse-key svelte-1olothd"),m(h,"class","jse-shortcut"),m(y,"class","jse-key svelte-1olothd"),m(_,"class","jse-shortcut"),m(o,"class","jse-shortcuts svelte-1olothd"),m(T,"type","button"),m(T,"class","jse-primary svelte-1olothd"),m(M,"class","jse-actions svelte-1olothd"),m(s,"class","jse-modal-contents svelte-1olothd"),m(e,"class","jse-modal jse-copy-paste svelte-1olothd")},m(N,j){C(N,e,j),q(t,e,null),v(e,i),v(e,s),v(s,l),v(s,r),v(s,o),v(o,a),v(a,f),v(a,u),v(o,d),v(o,h),v(h,p),v(h,g),v(o,b),v(o,_),v(_,y),v(_,w),v(s,A),v(s,M),v(M,T),O=!0,E||(R=x(T,"click",n[0]),E=!0)},p:te,i(N){O||(P(t.$$.fragment,N),O=!0)},o(N){I(t.$$.fragment,N),O=!1},d(N){N&&S(e),W(t),E=!1,R()}}}function zoe(n){const{close:e}=Ji("simple-modal");return[e,Loe?"⌘":"Ctrl"]}class Hoe extends ke{constructor(e){super(),ve(this,e,zoe,Voe,jt,{})}}const H7=Hoe;function qoe(n){return q7(n)}function q7(n){return n?n.type==="space"||n.space===!0:!1}function Fg(n){return n?n.type==="separator"||n.separator===!0:!1}function Woe(n){return n?n.type==="label"&&typeof n.text=="string":!1}function Wd(n){return n?typeof n.onClick=="function":!1}function fy(n){return n?n.type==="dropdown-button"&&Wd(n.main)&&Array.isArray(n.items):!1}function Uoe(n){return n?n.type==="row"&&Array.isArray(n.items):!1}function Koe(n){return n?n.type==="column"&&Array.isArray(n.items):!1}function Z4(n){return Un(n)&&Un(n.parseError)}function Joe(n){return Un(n)&&Array.isArray(n.validationErrors)}const xoe=n=>({}),Q4=n=>({});function $4(n,e,t){const i=n.slice();return i[3]=e[t],i}const Yoe=n=>({}),e6=n=>({});function Goe(n){let e=s6(n[3])+"",t;return{c(){t=G(e)},m(i,s){C(i,t,s)},p(i,s){s&1&&e!==(e=s6(i[3])+"")&&pe(t,e)},i:te,o:te,d(i){i&&S(t)}}}function Xoe(n){let e,t,i,s,l,r,o,a,f=n[3].icon&&t6(n),u=n[3].text&&n6(n);return{c(){e=k("button"),f&&f.c(),t=D(),u&&u.c(),m(e,"type","button"),m(e,"class",i="jse-button "+n[3].className+" svelte-497ud4"),m(e,"title",s=n[3].title),e.disabled=l=n[3].disabled||!1},m(d,h){C(d,e,h),f&&f.m(e,null),v(e,t),u&&u.m(e,null),r=!0,o||(a=x(e,"click",function(){fn(n[3].onClick)&&n[3].onClick.apply(this,arguments)}),o=!0)},p(d,h){n=d,n[3].icon?f?(f.p(n,h),h&1&&P(f,1)):(f=t6(n),f.c(),P(f,1),f.m(e,t)):f&&(ue(),I(f,1,1,()=>{f=null}),ce()),n[3].text?u?u.p(n,h):(u=n6(n),u.c(),u.m(e,null)):u&&(u.d(1),u=null),(!r||h&1&&i!==(i="jse-button "+n[3].className+" svelte-497ud4"))&&m(e,"class",i),(!r||h&1&&s!==(s=n[3].title))&&m(e,"title",s),(!r||h&1&&l!==(l=n[3].disabled||!1))&&(e.disabled=l)},i(d){r||(P(f),r=!0)},o(d){I(f),r=!1},d(d){d&&S(e),f&&f.d(),u&&u.d(),o=!1,a()}}}function Zoe(n){let e;return{c(){e=k("div"),m(e,"class","jse-space svelte-497ud4")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function Qoe(n){let e;return{c(){e=k("div"),m(e,"class","jse-separator svelte-497ud4")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function t6(n){let e,t;return e=new Zt({props:{data:n[3].icon}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&1&&(l.data=i[3].icon),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function n6(n){let e=n[3].text+"",t;return{c(){t=G(e)},m(i,s){C(i,t,s)},p(i,s){s&1&&e!==(e=i[3].text+"")&&pe(t,e)},d(i){i&&S(t)}}}function i6(n){let e,t,i,s,l,r,o;const a=[Qoe,Zoe,Xoe,Goe],f=[];function u(d,h){return h&1&&(e=null),h&1&&(t=null),h&1&&(i=null),e==null&&(e=!!Fg(d[3])),e?0:(t==null&&(t=!!q7(d[3])),t?1:(i==null&&(i=!!Wd(d[3])),i?2:3))}return s=u(n,-1),l=f[s]=a[s](n),{c(){l.c(),r=Ee()},m(d,h){f[s].m(d,h),C(d,r,h),o=!0},p(d,h){let p=s;s=u(d,h),s===p?f[s].p(d,h):(ue(),I(f[p],1,1,()=>{f[p]=null}),ce(),l=f[s],l?l.p(d,h):(l=f[s]=a[s](d),l.c()),P(l,1),l.m(r.parentNode,r))},i(d){o||(P(l),o=!0)},o(d){I(l),o=!1},d(d){f[s].d(d),d&&S(r)}}}function $oe(n){let e,t,i,s;const l=n[2].left,r=It(l,n,n[1],e6);let o=n[0],a=[];for(let h=0;h<o.length;h+=1)a[h]=i6($4(n,o,h));const f=h=>I(a[h],1,1,()=>{a[h]=null}),u=n[2].right,d=It(u,n,n[1],Q4);return{c(){e=k("div"),r&&r.c(),t=D();for(let h=0;h<a.length;h+=1)a[h].c();i=D(),d&&d.c(),m(e,"class","jse-menu svelte-497ud4")},m(h,p){C(h,e,p),r&&r.m(e,null),v(e,t);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(e,null);v(e,i),d&&d.m(e,null),s=!0},p(h,[p]){if(r&&r.p&&(!s||p&2)&&Nt(r,l,h,h[1],s?Rt(l,h[1],p,Yoe):Lt(h[1]),e6),p&1){o=h[0];let g;for(g=0;g<o.length;g+=1){const b=$4(h,o,g);a[g]?(a[g].p(b,p),P(a[g],1)):(a[g]=i6(b),a[g].c(),P(a[g],1),a[g].m(e,i))}for(ue(),g=o.length;g<a.length;g+=1)f(g);ce()}d&&d.p&&(!s||p&2)&&Nt(d,u,h,h[1],s?Rt(u,h[1],p,xoe):Lt(h[1]),Q4)},i(h){if(!s){P(r,h);for(let p=0;p<o.length;p+=1)P(a[p]);P(d,h),s=!0}},o(h){I(r,h),a=a.filter(Boolean);for(let p=0;p<a.length;p+=1)I(a[p]);I(d,h),s=!1},d(h){h&&S(e),r&&r.d(h),Ot(a,h),d&&d.d(h)}}}function s6(n){return console.error("Unknown type of menu item",n),"???"}function eae(n,e,t){let{$$slots:i={},$$scope:s}=e,{items:l=[]}=e;return n.$$set=r=>{"items"in r&&t(0,l=r.items),"$$scope"in r&&t(1,s=r.$$scope)},[l,s,i]}class tae extends ke{constructor(e){super(),ve(this,e,eae,$oe,jt,{items:0})}}const jg=tae;function nae(n){let e;return{c(){e=k("div"),e.textContent="Repair invalid JSON, then click apply",m(e,"slot","left"),m(e,"class","jse-info svelte-gz09vf")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function iae(n){let e,t;return e=new Kl({props:{type:"success",message:"JSON is valid now and can be parsed.",actions:n[6]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&64&&(l.actions=i[6]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function sae(n){let e,t;return e=new Kl({props:{type:"error",icon:Qa,message:`Cannot parse JSON: ${n[2].message}`,actions:n[7]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&4&&(l.message=`Cannot parse JSON: ${i[2].message}`),s&128&&(l.actions=i[7]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function lae(n){let e,t,i,s,l,r,o,a,f,u;t=new jg({props:{items:n[5],$$slots:{left:[nae]},$$scope:{ctx:n}}});const d=[sae,iae],h=[];function p(g,b){return g[2]?0:1}return s=p(n),l=h[s]=d[s](n),{c(){e=k("div"),U(t.$$.fragment),i=D(),l.c(),r=D(),o=k("textarea"),o.value=n[0],o.readOnly=n[1],m(o,"class","jse-json-text svelte-gz09vf"),m(o,"autocomplete","off"),m(o,"autocapitalize","off"),m(o,"spellcheck","false"),m(e,"class","jse-json-repair-component svelte-gz09vf")},m(g,b){C(g,e,b),q(t,e,null),v(e,i),h[s].m(e,null),v(e,r),v(e,o),n[17](o),n[18](e),a=!0,f||(u=x(o,"input",n[8]),f=!0)},p(g,[b]){const _={};b&32&&(_.items=g[5]),b&33554432&&(_.$$scope={dirty:b,ctx:g}),t.$set(_);let y=s;s=p(g),s===y?h[s].p(g,b):(ue(),I(h[y],1,1,()=>{h[y]=null}),ce(),l=h[s],l?l.p(g,b):(l=h[s]=d[s](g),l.c()),P(l,1),l.m(e,r)),(!a||b&1)&&(o.value=g[0]),(!a||b&2)&&(o.readOnly=g[1])},i(g){a||(P(t.$$.fragment,g),P(l),a=!0)},o(g){I(t.$$.fragment,g),I(l),a=!1},d(g){g&&S(e),W(t),h[s].d(),n[17](null),n[18](null),f=!1,u()}}}function rae(n,e,t){let i,s,l,r,o,a,{text:f=""}=e,{readOnly:u=!1}=e,{onParse:d}=e,{onRepair:h}=e,{onChange:p=null}=e,{onApply:g}=e,{onCancel:b}=e;const _=Gi("jsoneditor:JSONRepair");let y,w;function A(F){try{return d(F),null}catch(B){return ru(F,B.message)}}function M(F){try{return h(F),!0}catch{return!1}}function T(){w&&i&&i.position!=null&&(w.setSelectionRange(i.position,i.position),setTimeout(()=>{w.focus()}))}function O(F){_("handleChange");const B=F.target.value;f!==B&&(t(0,f=B),p&&p(f))}function E(){g(f)}function R(){try{t(0,f=h(f)),p&&p(f)}catch{}}let N;function j(F){de[F?"unshift":"push"](()=>{w=F,t(4,w)})}function L(F){de[F?"unshift":"push"](()=>{y=F,t(3,y)})}return n.$$set=F=>{"text"in F&&t(0,f=F.text),"readOnly"in F&&t(1,u=F.readOnly),"onParse"in F&&t(9,d=F.onParse),"onRepair"in F&&t(10,h=F.onRepair),"onChange"in F&&t(11,p=F.onChange),"onApply"in F&&t(12,g=F.onApply),"onCancel"in F&&t(13,b=F.onCancel)},n.$$.update=()=>{n.$$.dirty&1&&t(2,i=A(f)),n.$$.dirty&1&&t(16,s=M(f)),n.$$.dirty&4&&_("error",i),n.$$.dirty&8192&&t(5,N=[{type:"space"},{type:"button",icon:du,title:"Cancel repair",className:"jse-cancel",onClick:b}]),n.$$.dirty&114688&&t(7,o=s?[l,r]:[l]),n.$$.dirty&2&&t(6,a=[{icon:sd,text:"Apply",title:"Apply fixed JSON",disabled:u,onClick:E}])},t(14,l={icon:Qle,text:"Show me",title:"Scroll to the error location",onClick:T}),t(15,r={icon:Eg,text:"Auto repair",title:"Automatically repair JSON",onClick:R}),[f,u,i,y,w,N,a,o,O,d,h,p,g,b,l,r,s,j,L]}class oae extends ke{constructor(e){super(),ve(this,e,rae,lae,jt,{text:0,readOnly:1,onParse:9,onRepair:10,onChange:11,onApply:12,onCancel:13})}}const aae=oae;let _f=[];function l6(n){if(n.key==="Escape"){const e=Ct(_f);e&&e()}}function Bg(n,e){return Kt(_f)&&window.addEventListener("keydown",l6),_f.push(e),{destroy:()=>{_f=_f.filter(t=>t!==e),Kt(_f)&&window.removeEventListener("keydown",l6)}}}function fae(n){let e,t,i,s,l,r;function o(f){n[7](f)}let a={onParse:n[1],onRepair:n[2],onApply:n[4],onCancel:n[5]};return n[0]!==void 0&&(a.text=n[0]),t=new aae({props:a}),de.push(()=>Ne(t,"text",o)),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","jse-modal jse-repair svelte-1ffm3pm")},m(f,u){C(f,e,u),q(t,e,null),s=!0,l||(r=xe(Bg.call(null,e,n[3])),l=!0)},p(f,[u]){const d={};u&2&&(d.onParse=f[1]),u&4&&(d.onRepair=f[2]),!i&&u&1&&(i=!0,d.text=f[0],Be(()=>i=!1)),t.$set(d)},i(f){s||(P(t.$$.fragment,f),s=!0)},o(f){I(t.$$.fragment,f),s=!1},d(f){f&&S(e),W(t),l=!1,r()}}}function uae(n,e,t){let{text:i}=e,{onParse:s}=e,{onRepair:l}=e,{onApply:r}=e;const{close:o}=Ji("simple-modal");function a(d){o(),r(d)}function f(){o()}function u(d){i=d,t(0,i)}return n.$$set=d=>{"text"in d&&t(0,i=d.text),"onParse"in d&&t(1,s=d.onParse),"onRepair"in d&&t(2,l=d.onRepair),"onApply"in d&&t(6,r=d.onApply)},[i,s,l,o,a,f,r,u]}class cae extends ke{constructor(e){super(),ve(this,e,uae,fae,jt,{text:0,onParse:1,onRepair:2,onApply:6})}}const W7=cae;function r6(n){let e,t;return e=new Zt({props:{data:n[0].icon}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&1&&(l.data=i[0].icon),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function o6(n){let e=n[0].text+"",t;return{c(){t=G(e)},m(i,s){C(i,t,s)},p(i,s){s&1&&e!==(e=i[0].text+"")&&pe(t,e)},d(i){i&&S(t)}}}function dae(n){let e,t,i,s,l,r,o,a,f=n[0].icon&&r6(n),u=n[0].text&&o6(n);return{c(){e=k("button"),f&&f.c(),t=D(),u&&u.c(),m(e,"type","button"),m(e,"class",i=vn(wr("jse-context-menu-button",n[1],n[0].className))+" svelte-1u2b6j8"),m(e,"title",s=n[0].title),e.disabled=l=n[0].disabled||!1},m(d,h){C(d,e,h),f&&f.m(e,null),v(e,t),u&&u.m(e,null),r=!0,o||(a=x(e,"click",function(){fn(n[0].onClick)&&n[0].onClick.apply(this,arguments)}),o=!0)},p(d,[h]){n=d,n[0].icon?f?(f.p(n,h),h&1&&P(f,1)):(f=r6(n),f.c(),P(f,1),f.m(e,t)):f&&(ue(),I(f,1,1,()=>{f=null}),ce()),n[0].text?u?u.p(n,h):(u=o6(n),u.c(),u.m(e,null)):u&&(u.d(1),u=null),(!r||h&3&&i!==(i=vn(wr("jse-context-menu-button",n[1],n[0].className))+" svelte-1u2b6j8"))&&m(e,"class",i),(!r||h&1&&s!==(s=n[0].title))&&m(e,"title",s),(!r||h&1&&l!==(l=n[0].disabled||!1))&&(e.disabled=l)},i(d){r||(P(f),r=!0)},o(d){I(f),r=!1},d(d){d&&S(e),f&&f.d(),u&&u.d(),o=!1,a()}}}function hae(n,e,t){let{item:i}=e,{className:s=void 0}=e;return n.$$set=l=>{"item"in l&&t(0,i=l.item),"className"in l&&t(1,s=l.className)},[i,s]}class pae extends ke{constructor(e){super(),ve(this,e,hae,dae,De,{item:0,className:1})}}const uy=pae;function a6(n,e,t){const i=n.slice();return i[11]=e[t],i}const mae=n=>({}),f6=n=>({});function u6(n){let e,t;return e=new Zt({props:{data:n[11].icon}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&1&&(l.data=i[11].icon),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function c6(n){let e,t,i,s=n[11].text+"",l,r,o,a,f,u,d,h,p=n[11].icon&&u6(n);function g(){return n[9](n[11])}return{c(){e=k("li"),t=k("button"),p&&p.c(),i=D(),l=G(s),f=D(),m(t,"type","button"),m(t,"title",r=n[11].title),t.disabled=o=n[11].disabled,m(t,"class",a=vn(n[11].className)+" svelte-12ophpi"),m(e,"class","svelte-12ophpi")},m(b,_){C(b,e,_),v(e,t),p&&p.m(t,null),v(t,i),v(t,l),v(e,f),u=!0,d||(h=x(t,"click",g),d=!0)},p(b,_){n=b,n[11].icon?p?(p.p(n,_),_&1&&P(p,1)):(p=u6(n),p.c(),P(p,1),p.m(t,i)):p&&(ue(),I(p,1,1,()=>{p=null}),ce()),(!u||_&1)&&s!==(s=n[11].text+"")&&pe(l,s),(!u||_&1&&r!==(r=n[11].title))&&m(t,"title",r),(!u||_&1&&o!==(o=n[11].disabled))&&(t.disabled=o),(!u||_&1&&a!==(a=vn(n[11].className)+" svelte-12ophpi"))&&m(t,"class",a)},i(b){u||(P(p),u=!0)},o(b){I(p),u=!1},d(b){b&&S(e),p&&p.d(),d=!1,h()}}}function gae(n){let e,t,i,s,l,r,o,a,f,u;const d=n[8].defaultItem,h=It(d,n,n[7],f6);s=new Zt({props:{data:al}});let p=n[0],g=[];for(let _=0;_<p.length;_+=1)g[_]=c6(a6(n,p,_));const b=_=>I(g[_],1,1,()=>{g[_]=null});return{c(){e=k("div"),h&&h.c(),t=D(),i=k("button"),U(s.$$.fragment),l=D(),r=k("div"),o=k("ul");for(let _=0;_<g.length;_+=1)g[_].c();m(i,"type","button"),m(i,"class","jse-open-dropdown svelte-12ophpi"),m(i,"data-type","jse-open-dropdown"),i.disabled=n[4],$(i,"jse-visible",n[3]),m(o,"class","svelte-12ophpi"),m(r,"class","jse-dropdown-items svelte-12ophpi"),Il(r,"width",n[2]),$(r,"jse-visible",n[3]),m(e,"class","jse-dropdown-button svelte-12ophpi"),m(e,"title",n[1])},m(_,y){C(_,e,y),h&&h.m(e,null),v(e,t),v(e,i),q(s,i,null),v(e,l),v(e,r),v(r,o);for(let w=0;w<g.length;w+=1)g[w]&&g[w].m(o,null);a=!0,f||(u=[x(i,"click",n[5]),x(e,"click",n[6])],f=!0)},p(_,[y]){if(h&&h.p&&(!a||y&128)&&Nt(h,d,_,_[7],a?Rt(d,_[7],y,mae):Lt(_[7]),f6),(!a||y&16)&&(i.disabled=_[4]),(!a||y&8)&&$(i,"jse-visible",_[3]),y&1){p=_[0];let w;for(w=0;w<p.length;w+=1){const A=a6(_,p,w);g[w]?(g[w].p(A,y),P(g[w],1)):(g[w]=c6(A),g[w].c(),P(g[w],1),g[w].m(o,null))}for(ue(),w=p.length;w<g.length;w+=1)b(w);ce()}(!a||y&4)&&Il(r,"width",_[2]),(!a||y&8)&&$(r,"jse-visible",_[3]),(!a||y&2)&&m(e,"title",_[1])},i(_){if(!a){P(h,_),P(s.$$.fragment,_);for(let y=0;y<p.length;y+=1)P(g[y]);a=!0}},o(_){I(h,_),I(s.$$.fragment,_),g=g.filter(Boolean);for(let y=0;y<g.length;y+=1)I(g[y]);a=!1},d(_){_&&S(e),h&&h.d(_),W(s),Ot(g,_),f=!1,Ke(u)}}}function bae(n,e,t){let i,{$$slots:s={},$$scope:l}=e,{items:r=[]}=e,{title:o=void 0}=e,{width:a="120px"}=e,f=!1;function u(){const g=f;setTimeout(()=>t(3,f=!g))}function d(){t(3,f=!1)}function h(g){Xo(g)==="Escape"&&(g.preventDefault(),t(3,f=!1))}Pn(()=>{document.addEventListener("click",d),document.addEventListener("keydown",h)}),ls(()=>{document.removeEventListener("click",d),document.removeEventListener("keydown",h)});const p=g=>g.onClick();return n.$$set=g=>{"items"in g&&t(0,r=g.items),"title"in g&&t(1,o=g.title),"width"in g&&t(2,a=g.width),"$$scope"in g&&t(7,l=g.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&t(4,i=r.every(g=>g.disabled===!0))},[r,o,a,f,i,u,d,l,s,p]}class _ae extends ke{constructor(e){super(),ve(this,e,bae,gae,jt,{items:0,title:1,width:2})}}const yae=_ae;function d6(n){let e,t;return e=new Zt({props:{data:n[0].main.icon}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&1&&(l.data=i[0].main.icon),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function vae(n){let e,t,i=n[0].main.text+"",s,l,r,o,a,f,u,d=n[0].main.icon&&d6(n);return{c(){e=k("button"),d&&d.c(),t=D(),s=G(i),m(e,"class",l=vn(wr("jse-context-menu-button",n[1],n[0].main.className))+" svelte-1u2b6j8"),m(e,"type","button"),m(e,"slot","defaultItem"),m(e,"title",r=n[0].main.title),e.disabled=o=n[0].main.disabled||!1},m(h,p){C(h,e,p),d&&d.m(e,null),v(e,t),v(e,s),a=!0,f||(u=x(e,"click",function(){fn(n[0].main.onClick)&&n[0].main.onClick.apply(this,arguments)}),f=!0)},p(h,p){n=h,n[0].main.icon?d?(d.p(n,p),p&1&&P(d,1)):(d=d6(n),d.c(),P(d,1),d.m(e,t)):d&&(ue(),I(d,1,1,()=>{d=null}),ce()),(!a||p&1)&&i!==(i=n[0].main.text+"")&&pe(s,i),(!a||p&3&&l!==(l=vn(wr("jse-context-menu-button",n[1],n[0].main.className))+" svelte-1u2b6j8"))&&m(e,"class",l),(!a||p&1&&r!==(r=n[0].main.title))&&m(e,"title",r),(!a||p&1&&o!==(o=n[0].main.disabled||!1))&&(e.disabled=o)},i(h){a||(P(d),a=!0)},o(h){I(d),a=!1},d(h){h&&S(e),d&&d.d(),f=!1,u()}}}function kae(n){let e,t;return e=new yae({props:{width:n[0].width,items:n[0].items,$$slots:{defaultItem:[vae]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&1&&(l.width=i[0].width),s&1&&(l.items=i[0].items),s&7&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function wae(n,e,t){let{item:i}=e,{className:s=void 0}=e;return n.$$set=l=>{"item"in l&&t(0,i=l.item),"className"in l&&t(1,s=l.className)},[i,s]}class Sae extends ke{constructor(e){super(),ve(this,e,wae,kae,De,{item:0,className:1})}}const cy=Sae;function h6(n,e,t){const i=n.slice();return i[6]=e[t],i}function p6(n,e,t){const i=n.slice();return i[9]=e[t],i}function m6(n,e,t){const i=n.slice();return i[12]=e[t],i}function Cae(n){let e=pu(n[6])+"",t;return{c(){t=G(e)},m(i,s){C(i,t,s)},p(i,s){s&1&&e!==(e=pu(i[6])+"")&&pe(t,e)},i:te,o:te,d(i){i&&S(t)}}}function Mae(n){let e;return{c(){e=k("div"),m(e,"class","jse-separator svelte-1nininf")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function Tae(n){let e,t,i=n[6].items,s=[];for(let r=0;r<i.length;r+=1)s[r]=b6(p6(n,i,r));const l=r=>I(s[r],1,1,()=>{s[r]=null});return{c(){e=k("div");for(let r=0;r<s.length;r+=1)s[r].c();m(e,"class","jse-row svelte-1nininf")},m(r,o){C(r,e,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(r,o){if(o&1){i=r[6].items;let a;for(a=0;a<i.length;a+=1){const f=p6(r,i,a);s[a]?(s[a].p(f,o),P(s[a],1)):(s[a]=b6(f),s[a].c(),P(s[a],1),s[a].m(e,null))}for(ue(),a=i.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!t){for(let o=0;o<i.length;o+=1)P(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)I(s[o]);t=!1},d(r){r&&S(e),Ot(s,r)}}}function Aae(n){let e,t;return e=new cy({props:{item:n[6]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&1&&(l.item=i[6]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Oae(n){let e,t;return e=new uy({props:{item:n[6]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&1&&(l.item=i[6]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Eae(n){let e=pu(n[9])+"",t;return{c(){t=G(e)},m(i,s){C(i,t,s)},p(i,s){s&1&&e!==(e=pu(i[9])+"")&&pe(t,e)},i:te,o:te,d(i){i&&S(t)}}}function Pae(n){let e;return{c(){e=k("div"),m(e,"class","jse-separator svelte-1nininf")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function Dae(n){let e,t,i=n[9].items,s=[];for(let r=0;r<i.length;r+=1)s[r]=g6(m6(n,i,r));const l=r=>I(s[r],1,1,()=>{s[r]=null});return{c(){e=k("div");for(let r=0;r<s.length;r+=1)s[r].c();m(e,"class","jse-column svelte-1nininf")},m(r,o){C(r,e,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(r,o){if(o&1){i=r[9].items;let a;for(a=0;a<i.length;a+=1){const f=m6(r,i,a);s[a]?(s[a].p(f,o),P(s[a],1)):(s[a]=g6(f),s[a].c(),P(s[a],1),s[a].m(e,null))}for(ue(),a=i.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!t){for(let o=0;o<i.length;o+=1)P(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)I(s[o]);t=!1},d(r){r&&S(e),Ot(s,r)}}}function Iae(n){let e,t;return e=new cy({props:{item:n[9]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&1&&(l.item=i[9]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Rae(n){let e,t;return e=new uy({props:{item:n[9]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&1&&(l.item=i[9]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Nae(n){let e=pu(n[12])+"",t;return{c(){t=G(e)},m(i,s){C(i,t,s)},p(i,s){s&1&&e!==(e=pu(i[12])+"")&&pe(t,e)},i:te,o:te,d(i){i&&S(t)}}}function Lae(n){let e,t=n[12].text+"",i;return{c(){e=k("div"),i=G(t),m(e,"class","jse-label svelte-1nininf")},m(s,l){C(s,e,l),v(e,i)},p(s,l){l&1&&t!==(t=s[12].text+"")&&pe(i,t)},i:te,o:te,d(s){s&&S(e)}}}function Fae(n){let e;return{c(){e=k("div"),m(e,"class","jse-separator svelte-1nininf")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function jae(n){let e,t;return e=new cy({props:{className:"left",item:n[12]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&1&&(l.item=i[12]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Bae(n){let e,t;return e=new uy({props:{className:"left",item:n[12]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&1&&(l.item=i[12]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function g6(n){let e,t,i,s,l,r,o,a;const f=[Bae,jae,Fae,Lae,Nae],u=[];function d(h,p){return p&1&&(e=null),p&1&&(t=null),p&1&&(i=null),p&1&&(s=null),e==null&&(e=!!Wd(h[12])),e?0:(t==null&&(t=!!fy(h[12])),t?1:(i==null&&(i=!!Fg(h[12])),i?2:(s==null&&(s=!!Woe(h[12])),s?3:4)))}return l=d(n,-1),r=u[l]=f[l](n),{c(){r.c(),o=Ee()},m(h,p){u[l].m(h,p),C(h,o,p),a=!0},p(h,p){let g=l;l=d(h,p),l===g?u[l].p(h,p):(ue(),I(u[g],1,1,()=>{u[g]=null}),ce(),r=u[l],r?r.p(h,p):(r=u[l]=f[l](h),r.c()),P(r,1),r.m(o.parentNode,o))},i(h){a||(P(r),a=!0)},o(h){I(r),a=!1},d(h){u[l].d(h),h&&S(o)}}}function b6(n){let e,t,i,s,l,r,o,a;const f=[Rae,Iae,Dae,Pae,Eae],u=[];function d(h,p){return p&1&&(e=null),p&1&&(t=null),p&1&&(i=null),p&1&&(s=null),e==null&&(e=!!Wd(h[9])),e?0:(t==null&&(t=!!fy(h[9])),t?1:(i==null&&(i=!!Koe(h[9])),i?2:(s==null&&(s=!!Fg(h[9])),s?3:4)))}return l=d(n,-1),r=u[l]=f[l](n),{c(){r.c(),o=Ee()},m(h,p){u[l].m(h,p),C(h,o,p),a=!0},p(h,p){let g=l;l=d(h,p),l===g?u[l].p(h,p):(ue(),I(u[g],1,1,()=>{u[g]=null}),ce(),r=u[l],r?r.p(h,p):(r=u[l]=f[l](h),r.c()),P(r,1),r.m(o.parentNode,o))},i(h){a||(P(r),a=!0)},o(h){I(r),a=!1},d(h){u[l].d(h),h&&S(o)}}}function _6(n){let e,t,i,s,l,r,o,a;const f=[Oae,Aae,Tae,Mae,Cae],u=[];function d(h,p){return p&1&&(e=null),p&1&&(t=null),p&1&&(i=null),p&1&&(s=null),e==null&&(e=!!Wd(h[6])),e?0:(t==null&&(t=!!fy(h[6])),t?1:(i==null&&(i=!!Uoe(h[6])),i?2:(s==null&&(s=!!Fg(h[6])),s?3:4)))}return l=d(n,-1),r=u[l]=f[l](n),{c(){r.c(),o=Ee()},m(h,p){u[l].m(h,p),C(h,o,p),a=!0},p(h,p){let g=l;l=d(h,p),l===g?u[l].p(h,p):(ue(),I(u[g],1,1,()=>{u[g]=null}),ce(),r=u[l],r?r.p(h,p):(r=u[l]=f[l](h),r.c()),P(r,1),r.m(o.parentNode,o))},i(h){a||(P(r),a=!0)},o(h){I(r),a=!1},d(h){u[l].d(h),h&&S(o)}}}function y6(n){let e,t,i,s,l,r,o,a;return s=new Zt({props:{data:lse}}),{c(){e=k("div"),t=k("div"),i=k("div"),U(s.$$.fragment),l=D(),r=k("div"),o=G(n[1]),m(i,"class","jse-tip-icon svelte-1nininf"),m(r,"class","jse-tip-text"),m(t,"class","jse-tip svelte-1nininf"),m(e,"class","jse-row svelte-1nininf")},m(f,u){C(f,e,u),v(e,t),v(t,i),q(s,i,null),v(t,l),v(t,r),v(r,o),a=!0},p(f,u){(!a||u&2)&&pe(o,f[1])},i(f){a||(P(s.$$.fragment,f),a=!0)},o(f){I(s.$$.fragment,f),a=!1},d(f){f&&S(e),W(s)}}}function Vae(n){let e,t,i,s,l,r=n[0],o=[];for(let u=0;u<r.length;u+=1)o[u]=_6(h6(n,r,u));const a=u=>I(o[u],1,1,()=>{o[u]=null});let f=n[1]&&y6(n);return{c(){e=k("div");for(let u=0;u<o.length;u+=1)o[u].c();t=D(),f&&f.c(),m(e,"class","jse-contextmenu svelte-1nininf")},m(u,d){C(u,e,d);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(e,null);v(e,t),f&&f.m(e,null),n[4](e),i=!0,s||(l=x(e,"keydown",n[3]),s=!0)},p(u,[d]){if(d&1){r=u[0];let h;for(h=0;h<r.length;h+=1){const p=h6(u,r,h);o[h]?(o[h].p(p,d),P(o[h],1)):(o[h]=_6(p),o[h].c(),P(o[h],1),o[h].m(e,t))}for(ue(),h=r.length;h<o.length;h+=1)a(h);ce()}u[1]?f?(f.p(u,d),d&2&&P(f,1)):(f=y6(u),f.c(),P(f,1),f.m(e,null)):f&&(ue(),I(f,1,1,()=>{f=null}),ce())},i(u){if(!i){for(let d=0;d<r.length;d+=1)P(o[d]);P(f),i=!0}},o(u){o=o.filter(Boolean);for(let d=0;d<o.length;d+=1)I(o[d]);I(f),i=!1},d(u){u&&S(e),Ot(o,u),f&&f.d(),n[4](null),s=!1,l()}}}function pu(n){return console.error("Unknown type of context menu item",n),"???"}function zae(n,e,t){let{items:i}=e,{tip:s}=e,l;Pn(()=>{setTimeout(()=>{const f=[...l.querySelectorAll("button")].find(u=>!u.disabled);f&&f.focus()})});const r={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};function o(f){const u=Xo(f),d=r[u];if(typeof d=="string"){f.preventDefault();const h=Array.from(l.querySelectorAll("button:not([disabled])")),p=zie({allElements:h,currentElement:f.target,direction:d,hasPrio:g=>g.getAttribute("data-type")!=="jse-open-dropdown"});p&&p.focus()}}function a(f){de[f?"unshift":"push"](()=>{l=f,t(2,l)})}return n.$$set=f=>{"items"in f&&t(0,i=f.items),"tip"in f&&t(1,s=f.tip)},[i,s,l,o,a]}class Hae extends ke{constructor(e){super(),ve(this,e,zae,Vae,jt,{items:0,tip:1})}}const U7=Hae;function qae(n){let e,t;return e=new U7({props:{items:n[1],tip:n[0]?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&2&&(l.items=i[1]),s[0]&1&&(l.tip=i[0]?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Wae(n,e,t){let i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,{json:O}=e,{documentState:E}=e,{parser:R}=e,{showTip:N}=e,{onCloseContextMenu:j}=e,{onEditKey:L}=e,{onEditValue:F}=e,{onToggleEnforceString:B}=e,{onCut:V}=e,{onCopy:H}=e,{onPaste:K}=e,{onRemove:X}=e,{onDuplicate:J}=e,{onExtract:z}=e,{onInsertBefore:Z}=e,{onInsert:Y}=e,{onConvert:oe}=e,{onInsertAfter:re}=e,{onSort:Q}=e,{onTransform:me}=e;function qe(){j(),L()}function be(){j(),F()}function Ie(){j(),B()}function he(){j(),V(!0)}function Ve(){j(),V(!1)}function Qe(){j(),H(!0)}function it(){j(),H(!1)}function ye(){j(),K()}function ie(){j(),X()}function we(){j(),J()}function Ue(){j(),z()}function Oe(Le){j(),f?oe(Le):Y(Le)}function _e(){j(),Q()}function Ye(){j(),me()}function St(){j(),Z()}function Et(){j(),re()}let Fe;return n.$$set=Le=>{"json"in Le&&t(2,O=Le.json),"documentState"in Le&&t(3,E=Le.documentState),"parser"in Le&&t(4,R=Le.parser),"showTip"in Le&&t(0,N=Le.showTip),"onCloseContextMenu"in Le&&t(5,j=Le.onCloseContextMenu),"onEditKey"in Le&&t(6,L=Le.onEditKey),"onEditValue"in Le&&t(7,F=Le.onEditValue),"onToggleEnforceString"in Le&&t(8,B=Le.onToggleEnforceString),"onCut"in Le&&t(9,V=Le.onCut),"onCopy"in Le&&t(10,H=Le.onCopy),"onPaste"in Le&&t(11,K=Le.onPaste),"onRemove"in Le&&t(12,X=Le.onRemove),"onDuplicate"in Le&&t(13,J=Le.onDuplicate),"onExtract"in Le&&t(14,z=Le.onExtract),"onInsertBefore"in Le&&t(15,Z=Le.onInsertBefore),"onInsert"in Le&&t(16,Y=Le.onInsert),"onConvert"in Le&&t(17,oe=Le.onConvert),"onInsertAfter"in Le&&t(18,re=Le.onInsertAfter),"onSort"in Le&&t(19,Q=Le.onSort),"onTransform"in Le&&t(20,me=Le.onTransform)},n.$$.update=()=>{n.$$.dirty[0]&8&&t(37,i=E.selection),n.$$.dirty[0]&4&&t(39,s=O!==void 0),n.$$.dirty[1]&64&&t(31,l=i!=null),n.$$.dirty[1]&65&&t(21,r=l&&Kt(i.focusPath)),n.$$.dirty[0]&4|n.$$.dirty[1]&65&&t(38,o=l?dt(O,i.focusPath):void 0),n.$$.dirty[1]&128&&t(35,a=Array.isArray(o)?"Edit array":Un(o)?"Edit object":"Edit value"),n.$$.dirty[1]&320&&t(22,f=s&&(cn(i)||_i(i)||Xt(i))),n.$$.dirty[0]&6291456|n.$$.dirty[1]&256&&t(30,u=s&&f&&!r),n.$$.dirty[0]&2097152|n.$$.dirty[1]&320&&t(29,d=s&&i!=null&&(cn(i)||Xt(i))&&!r),n.$$.dirty[0]&2097156|n.$$.dirty[1]&320&&t(36,h=s&&i!=null&&id(i)&&!r&&!Array.isArray(dt(O,en(i.focusPath)))),n.$$.dirty[1]&320&&t(34,p=s&&i!=null&&id(i)),n.$$.dirty[1]&136&&t(32,g=p&&!$n(o)),n.$$.dirty[0]&4194304&&t(25,b=f),n.$$.dirty[0]&33554432&&t(24,_=b?"Convert to:":"Insert:"),n.$$.dirty[0]&33554432|n.$$.dirty[1]&1&&t(28,y=b?!1:l),n.$$.dirty[0]&33554432|n.$$.dirty[1]&193&&t(27,w=b?Pa(i)&&!Un(o):l),n.$$.dirty[0]&33554432|n.$$.dirty[1]&193&&t(26,A=b?Pa(i)&&!Array.isArray(o):l),n.$$.dirty[0]&33554432|n.$$.dirty[1]&193&&t(23,M=b?Pa(i)&&$n(o):l),n.$$.dirty[0]&24|n.$$.dirty[1]&192&&t(33,T=i!=null?Xr(o,E.enforceStringMap,$e(i.focusPath),R):!1),n.$$.dirty[0]&2145386496|n.$$.dirty[1]&63&&t(1,Fe=[{type:"row",items:[{type:"button",onClick:qe,icon:Bf,text:"Edit key",title:"Edit the key (Double-click on the key)",disabled:!h},{type:"dropdown-button",main:{type:"button",onClick:be,icon:Bf,text:a,title:"Edit the value (Double-click on the value)",disabled:!p},width:"11em",items:[{type:"button",icon:Bf,text:a,title:"Edit the value (Double-click on the value)",onClick:be,disabled:!p},{type:"button",icon:T?ed:td,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:Ie,disabled:!g}]}]},{type:"separator"},{type:"row",items:[{type:"dropdown-button",main:{type:"button",onClick:he,icon:jf,text:"Cut",title:"Cut selected contents, formatted with indentation (Ctrl+X)",disabled:!f},width:"10em",items:[{type:"button",icon:jf,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:he,disabled:!f},{type:"button",icon:jf,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:Ve,disabled:!f}]},{type:"dropdown-button",main:{type:"button",onClick:Qe,icon:Oo,text:"Copy",title:"Copy selected contents, formatted with indentation (Ctrl+C)",disabled:!f},width:"12em",items:[{type:"button",icon:Oo,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:Qe,disabled:!f},{type:"button",icon:Oo,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:it,disabled:!f}]},{type:"button",onClick:ye,icon:M7,text:"Paste",title:"Paste clipboard contents (Ctrl+V)",disabled:!l}]},{type:"separator"},{type:"row",items:[{type:"column",items:[{type:"button",onClick:we,icon:E7,text:"Duplicate",title:"Duplicate selected contents (Ctrl+D)",disabled:!u},{type:"button",onClick:Ue,icon:Jle,text:"Extract",title:"Extract selected contents",disabled:!d},{type:"button",onClick:_e,icon:Pg,text:"Sort",title:"Sort array or object contents",disabled:!f},{type:"button",onClick:Ye,icon:Og,text:"Transform",title:"Transform array or object contents (filter, sort, project)",disabled:!f},{type:"button",onClick:ie,icon:Lb,text:"Remove",title:"Remove selected contents (Delete)",disabled:!f}]},{type:"column",items:[{type:"label",text:_},{type:"button",onClick:()=>Oe("structure"),icon:b?Ih:Sf,text:"Structure",title:_+" structure",disabled:!y},{type:"button",onClick:()=>Oe("object"),icon:b?Ih:Sf,text:"Object",title:_+" structure",disabled:!w},{type:"button",onClick:()=>Oe("array"),icon:b?Ih:Sf,text:"Array",title:_+" array",disabled:!A},{type:"button",onClick:()=>Oe("value"),icon:b?Ih:Sf,text:"Value",title:_+" value",disabled:!M}]}]},{type:"separator"},{type:"row",items:[{type:"button",onClick:St,icon:Hle,text:"Insert before",title:"Select area before current entry to insert or paste contents",disabled:!f||r},{type:"button",onClick:Et,icon:Fle,text:"Insert after",title:"Select area after current entry to insert or paste contents",disabled:!f||r}]}])},[N,Fe,O,E,R,j,L,F,B,V,H,K,X,J,z,Z,Y,oe,re,Q,me,r,f,M,_,b,A,w,y,d,u,l,g,T,p,a,h,i,o,s]}class Uae extends ke{constructor(e){super(),ve(this,e,Wae,qae,jt,{json:2,documentState:3,parser:4,showTip:0,onCloseContextMenu:5,onEditKey:6,onEditValue:7,onToggleEnforceString:8,onCut:9,onCopy:10,onPaste:11,onRemove:12,onDuplicate:13,onExtract:14,onInsertBefore:15,onInsert:16,onConvert:17,onInsertAfter:18,onSort:19,onTransform:20},null,[-1,-1])}}const Kae=Uae;function v6(n,e,t){const i=n.slice();return i[13]=e[t],i}function k6(n){let e,t,i=n[13].start+"",s,l,r=n[13].end+"",o,a,f,u;function d(){return n[12](n[13])}return{c(){e=k("button"),t=G("show "),s=G(i),l=G("-"),o=G(r),a=D(),m(e,"type","button"),m(e,"class","jse-expand-items svelte-1kai5ns")},m(h,p){C(h,e,p),v(e,t),v(e,s),v(e,l),v(e,o),v(e,a),f||(u=x(e,"click",d),f=!0)},p(h,p){n=h,p&16&&i!==(i=n[13].start+"")&&pe(s,i),p&16&&r!==(r=n[13].end+"")&&pe(o,r)},d(h){h&&S(e),f=!1,u()}}}function Jae(n){let e,t,i,s,l,r,o,a,f,u,d,h=n[4],p=[];for(let g=0;g<h.length;g+=1)p[g]=k6(v6(n,h,g));return{c(){e=k("div"),t=k("div"),i=k("div"),s=G("Items "),l=G(n[3]),r=G("-"),o=G(n[2]),a=D();for(let g=0;g<p.length;g+=1)p[g].c();m(i,"class","jse-text svelte-1kai5ns"),m(e,"class","jse-collapsed-items svelte-1kai5ns"),m(e,"style",f=w6(n[0].length+2)),$(e,"jse-selected",n[5])},m(g,b){C(g,e,b),v(e,t),v(t,i),v(i,s),v(i,l),v(i,r),v(i,o),v(t,a);for(let _=0;_<p.length;_+=1)p[_]&&p[_].m(t,null);u||(d=x(e,"mousemove",xae),u=!0)},p(g,[b]){if(b&8&&pe(l,g[3]),b&4&&pe(o,g[2]),b&19){h=g[4];let _;for(_=0;_<h.length;_+=1){const y=v6(g,h,_);p[_]?p[_].p(y,b):(p[_]=k6(y),p[_].c(),p[_].m(t,null))}for(;_<p.length;_+=1)p[_].d(1);p.length=h.length}b&1&&f!==(f=w6(g[0].length+2))&&m(e,"style",f),b&32&&$(e,"jse-selected",g[5])},i:te,o:te,d(g){g&&S(e),Ot(p,g),u=!1,d()}}}function w6(n){return`margin-left: calc(${n} * var(--jse-indent-size))`}function xae(n){n.stopPropagation()}function Yae(n,e,t){let i,s,l,r,o,{visibleSections:a}=e,{sectionIndex:f}=e,{total:u}=e,{path:d}=e,{pointer:h}=e,{selection:p}=e,{onExpandSection:g}=e;const b=_=>g(d,_);return n.$$set=_=>{"visibleSections"in _&&t(6,a=_.visibleSections),"sectionIndex"in _&&t(7,f=_.sectionIndex),"total"in _&&t(8,u=_.total),"path"in _&&t(0,d=_.path),"pointer"in _&&t(9,h=_.pointer),"selection"in _&&t(10,p=_.selection),"onExpandSection"in _&&t(1,g=_.onExpandSection)},n.$$.update=()=>{n.$$.dirty&192&&t(11,i=a[f]),n.$$.dirty&2048&&t(3,s=i.end),n.$$.dirty&448&&t(2,l=a[f+1]?a[f+1].start:u),n.$$.dirty&1544&&t(5,r=cn(p)?p.pointersMap[mb(h,s)]===!0:!1),n.$$.dirty&12&&t(4,o=Dse(s,l))},[d,g,l,s,o,r,a,f,u,h,p,i,b]}class Gae extends ke{constructor(e){super(),ve(this,e,Yae,Jae,jt,{visibleSections:6,sectionIndex:7,total:8,path:0,pointer:9,selection:10,onExpandSection:1})}}const Xae=Gae;function Zae(n){let e,t,i,s,l;return t=new Zt({props:{data:al}}),{c(){e=k("button"),U(t.$$.fragment),m(e,"type","button"),m(e,"class","jse-context-menu-pointer svelte-1yzl4st"),m(e,"title",A2),$(e,"jse-selected",n[0])},m(r,o){C(r,e,o),q(t,e,null),i=!0,s||(l=x(e,"click",n[1]),s=!0)},p(r,[o]){(!i||o&1)&&$(e,"jse-selected",r[0])},i(r){i||(P(t.$$.fragment,r),i=!0)},o(r){I(t.$$.fragment,r),i=!1},d(r){r&&S(e),W(t),s=!1,l()}}}function Qae(n,e,t){let{selected:i}=e,{onContextMenu:s}=e;function l(r){let o=r.target;for(;o&&o.nodeName!=="BUTTON";)o=o.parentNode;o&&s({anchor:o,left:0,top:0,width:Hr,height:zr,offsetTop:2,offsetLeft:0,showTip:!0})}return n.$$set=r=>{"selected"in r&&t(0,i=r.selected),"onContextMenu"in r&&t(2,s=r.onContextMenu)},[i,l,s]}class $ae extends ke{constructor(e){super(),ve(this,e,Qae,Zae,jt,{selected:0,onContextMenu:2})}}const Zo=$ae;function efe(n){let e,t,i,s,l,r,o;const a=[ife,nfe],f=[];function u(d,h){return d[1]?0:1}return t=u(n),i=f[t]=a[t](n),{c(){e=k("div"),i.c(),m(e,"data-type","selectable-key"),m(e,"class",s=vn(n[6](n[0]))+" svelte-24a1b2")},m(d,h){C(d,e,h),f[t].m(e,null),l=!0,r||(o=x(e,"dblclick",n[5]),r=!0)},p(d,h){let p=t;t=u(d),t===p?f[t].p(d,h):(ue(),I(f[p],1,1,()=>{f[p]=null}),ce(),i=f[t],i?i.p(d,h):(i=f[t]=a[t](d),i.c()),P(i,1),i.m(e,null)),(!l||h&1&&s!==(s=vn(d[6](d[0]))+" svelte-24a1b2"))&&m(e,"class",s)},i(d){l||(P(i),l=!0)},o(d){I(i),l=!1},d(d){d&&S(e),f[t].d(),r=!1,o()}}}function tfe(n){let e,t;return e=new _7({props:{value:n[2].normalization.escapeValue(n[0]),shortText:!0,onChange:n[7],onCancel:n[8],onFind:n[2].onFind}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&5&&(l.value=i[2].normalization.escapeValue(i[0])),s&4&&(l.onFind=i[2].onFind),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function nfe(n){let e=za(n[2].normalization.escapeValue(n[0]))+"",t;return{c(){t=G(e)},m(i,s){C(i,t,s)},p(i,s){s&5&&e!==(e=za(i[2].normalization.escapeValue(i[0]))+"")&&pe(t,e)},i:te,o:te,d(i){i&&S(t)}}}function ife(n){let e,t;return e=new C7({props:{text:n[2].normalization.escapeValue(n[0]),searchResultItems:n[1]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&5&&(l.text=i[2].normalization.escapeValue(i[0])),s&2&&(l.searchResultItems=i[1]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function S6(n){let e,t;return e=new Zo({props:{selected:!0,onContextMenu:n[2].onContextMenu}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&4&&(l.onContextMenu=i[2].onContextMenu),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function sfe(n){let e,t,i,s,l;const r=[tfe,efe],o=[];function a(u,d){return u[4]?0:1}e=a(n),t=o[e]=r[e](n);let f=!n[2].readOnly&&n[3]&&!n[4]&&S6(n);return{c(){t.c(),i=D(),f&&f.c(),s=Ee()},m(u,d){o[e].m(u,d),C(u,i,d),f&&f.m(u,d),C(u,s,d),l=!0},p(u,[d]){let h=e;e=a(u),e===h?o[e].p(u,d):(ue(),I(o[h],1,1,()=>{o[h]=null}),ce(),t=o[e],t?t.p(u,d):(t=o[e]=r[e](u),t.c()),P(t,1),t.m(i.parentNode,i)),!u[2].readOnly&&u[3]&&!u[4]?f?(f.p(u,d),d&28&&P(f,1)):(f=S6(u),f.c(),P(f,1),f.m(s.parentNode,s)):f&&(ue(),I(f,1,1,()=>{f=null}),ce())},i(u){l||(P(t),P(f),l=!0)},o(u){I(t),I(f),l=!1},d(u){o[e].d(u),u&&S(i),f&&f.d(u),u&&S(s)}}}function lfe(n,e,t){let i,s,{path:l}=e,{pointer:r}=e,{key:o}=e,{selection:a}=e,{searchResultItems:f}=e,{onUpdateKey:u}=e,{context:d}=e;function h(_){!s&&!d.readOnly&&(_.preventDefault(),d.onSelect(pl(l,!0)))}function p(_){return wr("jse-key",{"jse-empty":_===""})}function g(_,y){const w=u(o,d.normalization.unescapeValue(_)),A=en(l).concat(w);d.onSelect(y===Ea.NEXT_INSIDE?$t(A,!1):pl(A,!1)),y!==Ea.SELF&&d.focus()}function b(){d.onSelect(pl(l,!1)),d.focus()}return n.$$set=_=>{"path"in _&&t(9,l=_.path),"pointer"in _&&t(10,r=_.pointer),"key"in _&&t(0,o=_.key),"selection"in _&&t(11,a=_.selection),"searchResultItems"in _&&t(1,f=_.searchResultItems),"onUpdateKey"in _&&t(12,u=_.onUpdateKey),"context"in _&&t(2,d=_.context)},n.$$.update=()=>{n.$$.dirty&3072&&t(3,i=a?a.pointersMap[r]===!0&&_i(a):void 0),n.$$.dirty&2056&&t(4,s=i&&Fo(a))},[o,f,d,i,s,h,p,g,b,l,r,a,u]}class rfe extends ke{constructor(e){super(),ve(this,e,lfe,sfe,jt,{path:9,pointer:10,key:0,selection:11,searchResultItems:1,onUpdateKey:12,context:2})}}const ofe=rfe;function C6(n,e,t){const i=n.slice();return i[8]=e[t],i}function M6(n){let e,t,i;const s=[n[8].props];var l=n[8].component;function r(o){let a={};for(let f=0;f<s.length;f+=1)a=ft(a,s[f]);return{props:a}}return l&&(e=Sn(l,r())),{c(){e&&U(e.$$.fragment),t=Ee()},m(o,a){e&&q(e,o,a),C(o,t,a),i=!0},p(o,a){const f=a&1?kn(s,[ri(o[8].props)]):{};if(a&1&&l!==(l=o[8].component)){if(e){ue();const u=e;I(u.$$.fragment,1,0,()=>{W(u,1)}),ce()}l?(e=Sn(l,r()),U(e.$$.fragment),P(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else l&&e.$set(f)},i(o){i||(e&&P(e.$$.fragment,o),i=!0)},o(o){e&&I(e.$$.fragment,o),i=!1},d(o){o&&S(t),e&&W(e,o)}}}function afe(n){let e,t,i=n[0],s=[];for(let r=0;r<i.length;r+=1)s[r]=M6(C6(n,i,r));const l=r=>I(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=Ee()},m(r,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,o);C(r,e,o),t=!0},p(r,[o]){if(o&1){i=r[0];let a;for(a=0;a<i.length;a+=1){const f=C6(r,i,a);s[a]?(s[a].p(f,o),P(s[a],1)):(s[a]=M6(f),s[a].c(),P(s[a],1),s[a].m(e.parentNode,e))}for(ue(),a=i.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!t){for(let o=0;o<i.length;o+=1)P(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)I(s[o]);t=!1},d(r){Ot(s,r),r&&S(e)}}}function ffe(n,e,t){let i,s,{path:l}=e,{value:r}=e,{context:o}=e,{enforceString:a}=e,{selection:f}=e,{searchResultItems:u}=e;return n.$$set=d=>{"path"in d&&t(1,l=d.path),"value"in d&&t(2,r=d.value),"context"in d&&t(3,o=d.context),"enforceString"in d&&t(4,a=d.enforceString),"selection"in d&&t(5,f=d.selection),"searchResultItems"in d&&t(6,u=d.searchResultItems)},n.$$.update=()=>{n.$$.dirty&40&&t(7,i=!o.readOnly&&Xt(f)&&Fo(f)),n.$$.dirty&254&&t(0,s=o.onRenderValue({path:l,value:r,readOnly:o.readOnly,enforceString:a,isEditing:i,parser:o.parser,normalization:o.normalization,selection:f,searchResultItems:u,onPatch:o.onPatch,onPasteJson:o.onPasteJson,onSelect:o.onSelect,onFind:o.onFind,findNextInside:o.findNextInside,focus:o.focus}))},[s,l,r,o,a,f,u,i]}let ufe=class extends ke{constructor(e){super(),ve(this,e,ffe,afe,jt,{path:1,value:2,context:3,enforceString:4,selection:5,searchResultItems:6})}};const cfe=ufe,Vi={selecting:!1,selectionAnchor:null,selectionAnchorType:null,selectionFocus:null,dragging:!1};function e0({json:n,documentState:e,deltaY:t,items:i}){if(!e.selection)return{operations:void 0,updatedSelection:void 0,offset:0};const s=e.selection,l=t<0?dfe({json:n,selection:s,deltaY:t,items:i}):hfe({json:n,selection:s,deltaY:t,items:i});if(!l||l.offset===0)return{operations:void 0,updatedSelection:void 0,offset:0};const r=ile(n,s,l),o=en(fu(s)),a=dt(n,o);if(Array.isArray(a)){const f=pfe({items:i,json:n,selection:s,offset:l.offset});return{operations:r,updatedSelection:f,offset:l.offset}}else return{operations:r,updatedSelection:void 0,offset:l.offset}}function dfe({items:n,selection:e,deltaY:t}){const i=fu(e),s=n.findIndex(u=>sn(u.path,i)),l=()=>{var u;return(u=n[r-1])==null?void 0:u.height};let r=s,o=0;for(;l()!==void 0&&Math.abs(t)>o+l()/2;)o+=l(),r-=1;const a=n[r].path,f=r-s;return r!==s&&n[r]!==void 0?{beforePath:a,offset:f}:void 0}function hfe({json:n,items:e,selection:t,deltaY:i}){var b;const s=Tg(t),l=e.findIndex(_=>sn(_.path,s));let r=0,o=l;const a=()=>{var _;return(_=e[o+1])==null?void 0:_.height};for(;a()!==void 0&&Math.abs(i)>r+a()/2;)r+=a(),o+=1;const f=en(s),u=dt(n,f),h=Array.isArray(u)?o:o+1,p=(b=e[h])==null?void 0:b.path,g=o-l;return p?{beforePath:p,offset:g}:{append:!0,offset:g}}function pfe({items:n,json:e,selection:t,offset:i}){var u,d;const s=fu(t),l=Tg(t),r=n.findIndex(h=>sn(h.path,s)),o=n.findIndex(h=>sn(h.path,l)),a=(u=n[r+i])==null?void 0:u.path,f=(d=n[o+i])==null?void 0:d.path;return gi(e,a,f)}function mfe(n,e){if(!n)return;const t={};for(const i of Object.keys(n))e(i,n[i])&&(t[i]=n[i]);return Object.keys(t).length>0?t:void 0}function Yl(n,e){return mfe(n,t=>nu(t,e))}function gfe(n){let e,t,i,s,l,r;return t=new Zt({props:{data:Qa}}),{c(){e=k("button"),U(t.$$.fragment),m(e,"type","button"),m(e,"class","jse-validation-error svelte-pz3g1j")},m(o,a){C(o,e,a),q(t,e,null),s=!0,l||(r=[x(e,"click",function(){fn(n[0])&&n[0].apply(this,arguments)}),xe(i=ey.call(null,e,{text:n[1],...n[2]}))],l=!0)},p(o,[a]){n=o,i&&fn(i.update)&&a&2&&i.update.call(null,{text:n[1],...n[2]})},i(o){s||(P(t.$$.fragment,o),s=!0)},o(o){I(t.$$.fragment,o),s=!1},d(o){o&&S(e),W(t),l=!1,Ke(r)}}}function bfe(n,e,t){let i;const s=Ji("absolute-popup");let{validationError:l}=e,{onExpand:r}=e;return n.$$set=o=>{"validationError"in o&&t(3,l=o.validationError),"onExpand"in o&&t(0,r=o.onExpand)},n.$$.update=()=>{n.$$.dirty&8&&t(1,i=l.isChildError?"Contains invalid data":l.message)},[r,i,s,l]}class _fe extends ke{constructor(e){super(),ve(this,e,bfe,gfe,De,{validationError:3,onExpand:0})}}const ju=_fe;const yfe=n=>({}),T6=n=>({});function A6(n,e,t){const i=n.slice();return i[53]=e[t],i}const vfe=n=>({}),O6=n=>({});function E6(n,e,t){const i=n.slice();return i[47]=e[t],i[49]=t,i}function P6(n,e,t){const i=n.slice();return i[50]=e[t],i}const kfe=n=>({}),D6=n=>({});function wfe(n){let e,t,i,s,l,r,o=!n[8].readOnly&&n[16]&&n[7]&&(Xt(n[7])||cn(n[7]))&&!n[7].edit&&sn(n[7].focusPath,n[1]),a,f,u;const d=n[34].identifier,h=It(d,n,n[35],T6);let p=!n[17]&&I6();l=new cfe({props:{path:n[1],value:n[0],enforceString:n[13],selection:n[16]?n[7]:void 0,searchResultItems:ZC(n[6],n[9]),context:n[8]}});let g=o&&R6(n),b=n[15]&&N6(n),_=!n[17]&&L6(n);return{c(){e=k("div"),t=k("div"),h&&h.c(),i=D(),p&&p.c(),s=D(),U(l.$$.fragment),r=D(),g&&g.c(),a=D(),b&&b.c(),f=D(),_&&_.c(),m(t,"class","jse-contents svelte-1wlxti1"),m(e,"class","jse-contents-outer svelte-1wlxti1"),m(e,"style",n[18])},m(y,w){C(y,e,w),v(e,t),h&&h.m(t,null),v(t,i),p&&p.m(t,null),v(t,s),q(l,t,null),v(t,r),g&&g.m(t,null),v(e,a),b&&b.m(e,null),v(e,f),_&&_.m(e,null),u=!0},p(y,w){h&&h.p&&(!u||w[1]&16)&&Nt(h,d,y,y[35],u?Rt(d,y[35],w,yfe):Lt(y[35]),T6),y[17]?p&&(p.d(1),p=null):p||(p=I6(),p.c(),p.m(t,s));const A={};w[0]&2&&(A.path=y[1]),w[0]&1&&(A.value=y[0]),w[0]&8192&&(A.enforceString=y[13]),w[0]&65664&&(A.selection=y[16]?y[7]:void 0),w[0]&576&&(A.searchResultItems=ZC(y[6],y[9])),w[0]&256&&(A.context=y[8]),l.$set(A),w[0]&65922&&(o=!y[8].readOnly&&y[16]&&y[7]&&(Xt(y[7])||cn(y[7]))&&!y[7].edit&&sn(y[7].focusPath,y[1])),o?g?(g.p(y,w),w[0]&65922&&P(g,1)):(g=R6(y),g.c(),P(g,1),g.m(t,null)):g&&(ue(),I(g,1,1,()=>{g=null}),ce()),y[15]?b?(b.p(y,w),w[0]&32768&&P(b,1)):(b=N6(y),b.c(),P(b,1),b.m(e,f)):b&&(ue(),I(b,1,1,()=>{b=null}),ce()),y[17]?_&&(_.d(1),_=null):_?_.p(y,w):(_=L6(y),_.c(),_.m(e,null)),(!u||w[0]&262144)&&m(e,"style",y[18])},i(y){u||(P(h,y),P(l.$$.fragment,y),P(g),P(b),u=!0)},o(y){I(h,y),I(l.$$.fragment,y),I(g),I(b),u=!1},d(y){y&&S(e),h&&h.d(y),p&&p.d(),W(l),g&&g.d(),b&&b.d(),_&&_.d()}}}function Sfe(n){let e,t,i,s,l,r,o,a,f,u,d,h=!n[8].readOnly&&n[16]&&n[7]&&(Xt(n[7])||cn(n[7]))&&!n[7].edit&&sn(n[7].focusPath,n[1]),p,g,b,_,y,w,A;const M=[Tfe,Mfe],T=[];function O(z,Z){return z[12]?0:1}s=O(n),l=T[s]=M[s](n);const E=n[34].identifier,R=It(E,n,n[35],O6);let N=!n[17]&&F6();function j(z,Z){return z[12]?Ofe:Afe}let L=j(n),F=L(n),B=h&&j6(n),V=n[15]&&(!n[12]||!n[15].isChildError)&&B6(n);function H(z,Z){if(z[12])return Pfe;if(!z[17])return Efe}let K=H(n),X=K&&K(n),J=n[12]&&V6(n);return{c(){e=k("div"),t=k("div"),i=k("button"),l.c(),r=D(),R&&R.c(),o=D(),N&&N.c(),a=D(),f=k("div"),u=k("div"),F.c(),d=D(),B&&B.c(),p=D(),V&&V.c(),g=D(),X&&X.c(),b=D(),J&&J.c(),_=Ee(),m(i,"type","button"),m(i,"class","jse-expand svelte-1wlxti1"),m(i,"title","Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"),m(u,"class","jse-meta-inner svelte-1wlxti1"),m(f,"class","jse-meta svelte-1wlxti1"),m(f,"data-type","selectable-value"),m(t,"class","jse-header svelte-1wlxti1"),m(e,"class","jse-header-outer svelte-1wlxti1"),m(e,"style",n[18])},m(z,Z){C(z,e,Z),v(e,t),v(t,i),T[s].m(i,null),v(t,r),R&&R.m(t,null),v(t,o),N&&N.m(t,null),v(t,a),v(t,f),v(f,u),F.m(u,null),v(t,d),B&&B.m(t,null),v(e,p),V&&V.m(e,null),v(e,g),X&&X.m(e,null),C(z,b,Z),J&&J.m(z,Z),C(z,_,Z),y=!0,w||(A=x(i,"click",n[21]),w=!0)},p(z,Z){let Y=s;s=O(z),s===Y?T[s].p(z,Z):(ue(),I(T[Y],1,1,()=>{T[Y]=null}),ce(),l=T[s],l?l.p(z,Z):(l=T[s]=M[s](z),l.c()),P(l,1),l.m(i,null)),R&&R.p&&(!y||Z[1]&16)&&Nt(R,E,z,z[35],y?Rt(E,z[35],Z,vfe):Lt(z[35]),O6),z[17]?N&&(N.d(1),N=null):N||(N=F6(),N.c(),N.m(t,a)),L===(L=j(z))&&F?F.p(z,Z):(F.d(1),F=L(z),F&&(F.c(),F.m(u,null))),Z[0]&65922&&(h=!z[8].readOnly&&z[16]&&z[7]&&(Xt(z[7])||cn(z[7]))&&!z[7].edit&&sn(z[7].focusPath,z[1])),h?B?(B.p(z,Z),Z[0]&65922&&P(B,1)):(B=j6(z),B.c(),P(B,1),B.m(t,null)):B&&(ue(),I(B,1,1,()=>{B=null}),ce()),z[15]&&(!z[12]||!z[15].isChildError)?V?(V.p(z,Z),Z[0]&36864&&P(V,1)):(V=B6(z),V.c(),P(V,1),V.m(e,g)):V&&(ue(),I(V,1,1,()=>{V=null}),ce()),K===(K=H(z))&&X?X.p(z,Z):(X&&X.d(1),X=K&&K(z),X&&(X.c(),X.m(e,null))),(!y||Z[0]&262144)&&m(e,"style",z[18]),z[12]?J?(J.p(z,Z),Z[0]&4096&&P(J,1)):(J=V6(z),J.c(),P(J,1),J.m(_.parentNode,_)):J&&(ue(),I(J,1,1,()=>{J=null}),ce())},i(z){y||(P(l),P(R,z),P(B),P(V),P(J),y=!0)},o(z){I(l),I(R,z),I(B),I(V),I(J),y=!1},d(z){z&&S(e),T[s].d(),R&&R.d(z),N&&N.d(),F.d(),B&&B.d(),V&&V.d(),X&&X.d(),z&&S(b),J&&J.d(z),z&&S(_),w=!1,A()}}}function Cfe(n){let e,t,i,s,l,r,o,a,f,u,d,h=!n[8].readOnly&&n[16]&&n[7]&&(Xt(n[7])||cn(n[7]))&&!n[7].edit&&sn(n[7].focusPath,n[1]),p,g,b,_,y,w,A;const M=[Rfe,Ife],T=[];function O(z,Z){return z[12]?0:1}s=O(n),l=T[s]=M[s](n);const E=n[34].identifier,R=It(E,n,n[35],D6);let N=!n[17]&&W6();function j(z,Z){return z[12]?Lfe:Nfe}let L=j(n),F=L(n),B=h&&U6(n),V=n[15]&&(!n[12]||!n[15].isChildError)&&K6(n);function H(z,Z){return z[12]?jfe:Ffe}let K=H(n),X=K(n),J=n[12]&&J6(n);return{c(){e=k("div"),t=k("div"),i=k("button"),l.c(),r=D(),R&&R.c(),o=D(),N&&N.c(),a=D(),f=k("div"),u=k("div"),F.c(),d=D(),B&&B.c(),p=D(),V&&V.c(),g=D(),X.c(),b=D(),J&&J.c(),_=Ee(),m(i,"type","button"),m(i,"class","jse-expand svelte-1wlxti1"),m(i,"title","Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"),m(u,"class","jse-meta-inner svelte-1wlxti1"),m(u,"data-type","selectable-value"),m(f,"class","jse-meta svelte-1wlxti1"),m(t,"class","jse-header svelte-1wlxti1"),m(e,"class","jse-header-outer svelte-1wlxti1"),m(e,"style",n[18])},m(z,Z){C(z,e,Z),v(e,t),v(t,i),T[s].m(i,null),v(t,r),R&&R.m(t,null),v(t,o),N&&N.m(t,null),v(t,a),v(t,f),v(f,u),F.m(u,null),v(t,d),B&&B.m(t,null),v(e,p),V&&V.m(e,null),v(e,g),X.m(e,null),C(z,b,Z),J&&J.m(z,Z),C(z,_,Z),y=!0,w||(A=x(i,"click",n[21]),w=!0)},p(z,Z){let Y=s;s=O(z),s===Y?T[s].p(z,Z):(ue(),I(T[Y],1,1,()=>{T[Y]=null}),ce(),l=T[s],l?l.p(z,Z):(l=T[s]=M[s](z),l.c()),P(l,1),l.m(i,null)),R&&R.p&&(!y||Z[1]&16)&&Nt(R,E,z,z[35],y?Rt(E,z[35],Z,kfe):Lt(z[35]),D6),z[17]?N&&(N.d(1),N=null):N||(N=W6(),N.c(),N.m(t,a)),L===(L=j(z))&&F?F.p(z,Z):(F.d(1),F=L(z),F&&(F.c(),F.m(u,null))),Z[0]&65922&&(h=!z[8].readOnly&&z[16]&&z[7]&&(Xt(z[7])||cn(z[7]))&&!z[7].edit&&sn(z[7].focusPath,z[1])),h?B?(B.p(z,Z),Z[0]&65922&&P(B,1)):(B=U6(z),B.c(),P(B,1),B.m(t,null)):B&&(ue(),I(B,1,1,()=>{B=null}),ce()),z[15]&&(!z[12]||!z[15].isChildError)?V?(V.p(z,Z),Z[0]&36864&&P(V,1)):(V=K6(z),V.c(),P(V,1),V.m(e,g)):V&&(ue(),I(V,1,1,()=>{V=null}),ce()),K===(K=H(z))&&X?X.p(z,Z):(X.d(1),X=K(z),X&&(X.c(),X.m(e,null))),(!y||Z[0]&262144)&&m(e,"style",z[18]),z[12]?J?(J.p(z,Z),Z[0]&4096&&P(J,1)):(J=J6(z),J.c(),P(J,1),J.m(_.parentNode,_)):J&&(ue(),I(J,1,1,()=>{J=null}),ce())},i(z){y||(P(l),P(R,z),P(B),P(V),P(J),y=!0)},o(z){I(l),I(R,z),I(B),I(V),I(J),y=!1},d(z){z&&S(e),T[s].d(),R&&R.d(z),N&&N.d(),F.d(),B&&B.d(),V&&V.d(),X.d(),z&&S(b),J&&J.d(z),z&&S(_),w=!1,A()}}}function I6(n){let e;return{c(){e=k("div"),e.textContent=":",m(e,"class","jse-separator svelte-1wlxti1")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function R6(n){let e,t,i;return t=new Zo({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","jse-context-menu-pointer-anchor svelte-1wlxti1")},m(s,l){C(s,e,l),q(t,e,null),i=!0},p(s,l){const r={};l[0]&256&&(r.onContextMenu=s[8].onContextMenu),t.$set(r)},i(s){i||(P(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&S(e),W(t)}}}function N6(n){let e,t;return e=new ju({props:{validationError:n[15],onExpand:n[22]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&32768&&(l.validationError=i[15]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function L6(n){let e,t,i;return{c(){e=k("div"),m(e,"class","jse-insert-selection-area jse-after svelte-1wlxti1"),m(e,"data-type","insert-selection-area-after")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[30]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function Mfe(n){let e,t;return e=new Zt({props:{data:So}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p:te,i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Tfe(n){let e,t;return e=new Zt({props:{data:al}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p:te,i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function F6(n){let e;return{c(){e=k("div"),e.textContent=":",m(e,"class","jse-separator svelte-1wlxti1")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Afe(n){let e,t,i,s=Object.keys(n[0]).length+"",l,r,o=Object.keys(n[0]).length===1?"prop":"props",a,f,u,d,h;return{c(){e=k("div"),e.textContent="{",t=D(),i=k("button"),l=G(s),r=D(),a=G(o),f=D(),u=k("div"),u.textContent="}",m(e,"class","jse-bracket svelte-1wlxti1"),m(i,"type","button"),m(i,"class","jse-tag svelte-1wlxti1"),m(u,"class","jse-bracket svelte-1wlxti1")},m(p,g){C(p,e,g),C(p,t,g),C(p,i,g),v(i,l),v(i,r),v(i,a),C(p,f,g),C(p,u,g),d||(h=x(i,"click",n[22]),d=!0)},p(p,g){g[0]&1&&s!==(s=Object.keys(p[0]).length+"")&&pe(l,s),g[0]&1&&o!==(o=Object.keys(p[0]).length===1?"prop":"props")&&pe(a,o)},d(p){p&&S(e),p&&S(t),p&&S(i),p&&S(f),p&&S(u),d=!1,h()}}}function Ofe(n){let e;return{c(){e=k("div"),e.textContent="{",m(e,"class","jse-bracket jse-expanded svelte-1wlxti1")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function j6(n){let e,t,i;return t=new Zo({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","jse-context-menu-pointer-anchor svelte-1wlxti1")},m(s,l){C(s,e,l),q(t,e,null),i=!0},p(s,l){const r={};l[0]&256&&(r.onContextMenu=s[8].onContextMenu),t.$set(r)},i(s){i||(P(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&S(e),W(t)}}}function B6(n){let e,t;return e=new ju({props:{validationError:n[15],onExpand:n[22]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&32768&&(l.validationError=i[15]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Efe(n){let e,t,i;return{c(){e=k("div"),m(e,"class","jse-insert-selection-area jse-after svelte-1wlxti1"),m(e,"data-type","insert-selection-area-after")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[30]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function Pfe(n){let e,t,i;return{c(){e=k("div"),m(e,"class","jse-insert-selection-area jse-inside svelte-1wlxti1"),m(e,"data-type","insert-selection-area-inside")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[29]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function V6(n){let e,t=!n[8].readOnly&&(n[10]===Gr||n[16]&&Li(n[7])),i,s,l,r,o,a,f=t&&z6(n),u=n[19](n[1],n[0],n[2],n[3],n[4],n[5],n[6],n[7],n[11]),d=[];for(let g=0;g<u.length;g+=1)d[g]=H6(A6(n,u,g));const h=g=>I(d[g],1,1,()=>{d[g]=null});let p=!n[17]&&q6(n);return{c(){e=k("div"),f&&f.c(),i=D();for(let g=0;g<d.length;g+=1)d[g].c();s=D(),l=k("div"),r=k("div"),r.innerHTML='<div class="jse-bracket svelte-1wlxti1">}</div>',o=D(),p&&p.c(),m(e,"class","jse-props svelte-1wlxti1"),m(r,"data-type","selectable-value"),m(r,"class","jse-footer svelte-1wlxti1"),m(l,"class","jse-footer-outer svelte-1wlxti1"),m(l,"style",n[18])},m(g,b){C(g,e,b),f&&f.m(e,null),v(e,i);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(e,null);C(g,s,b),C(g,l,b),v(l,r),v(l,o),p&&p.m(l,null),a=!0},p(g,b){if(b[0]&66944&&(t=!g[8].readOnly&&(g[10]===Gr||g[16]&&Li(g[7]))),t?f?(f.p(g,b),b[0]&66944&&P(f,1)):(f=z6(g),f.c(),P(f,1),f.m(e,i)):f&&(ue(),I(f,1,1,()=>{f=null}),ce()),b[0]&76024319){u=g[19](g[1],g[0],g[2],g[3],g[4],g[5],g[6],g[7],g[11]);let _;for(_=0;_<u.length;_+=1){const y=A6(g,u,_);d[_]?(d[_].p(y,b),P(d[_],1)):(d[_]=H6(y),d[_].c(),P(d[_],1),d[_].m(e,null))}for(ue(),_=u.length;_<d.length;_+=1)h(_);ce()}g[17]?p&&(p.d(1),p=null):p?p.p(g,b):(p=q6(g),p.c(),p.m(l,null)),(!a||b[0]&262144)&&m(l,"style",g[18])},i(g){if(!a){P(f);for(let b=0;b<u.length;b+=1)P(d[b]);a=!0}},o(g){I(f),d=d.filter(Boolean);for(let b=0;b<d.length;b+=1)I(d[b]);a=!1},d(g){g&&S(e),f&&f.d(),Ot(d,g),g&&S(s),g&&S(l),p&&p.d()}}}function z6(n){let e,t,i,s;return t=new Zo({props:{selected:n[16]&&Li(n[7]),onContextMenu:n[31]}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","jse-insert-area jse-inside svelte-1wlxti1"),m(e,"data-type","insert-selection-area-inside"),m(e,"style",i=rd(n[1].length+1)),m(e,"title",T2),$(e,"jse-hovered",n[10]===Gr),$(e,"jse-selected",n[16]&&Li(n[7]))},m(l,r){C(l,e,r),q(t,e,null),s=!0},p(l,r){const o={};r[0]&65664&&(o.selected=l[16]&&Li(l[7])),t.$set(o),(!s||r[0]&2&&i!==(i=rd(l[1].length+1)))&&m(e,"style",i),(!s||r[0]&1024)&&$(e,"jse-hovered",l[10]===Gr),(!s||r[0]&65664)&&$(e,"jse-selected",l[16]&&Li(l[7]))},i(l){s||(P(t.$$.fragment,l),s=!0)},o(l){I(t.$$.fragment,l),s=!1},d(l){l&&S(e),W(t)}}}function Dfe(n){let e,t,i,s;return t=new ofe({props:{path:n[53].path,pointer:n[53].pointer,key:n[53].key,selection:n[53].selection,searchResultItems:n[53].keySearchResultItemsMap,context:n[8],onUpdateKey:n[23]}}),{c(){e=k("div"),U(t.$$.fragment),i=D(),m(e,"slot","identifier"),m(e,"class","jse-identifier svelte-1wlxti1")},m(l,r){C(l,e,r),q(t,e,null),v(e,i),s=!0},p(l,r){const o={};r[0]&2303&&(o.path=l[53].path),r[0]&2303&&(o.pointer=l[53].pointer),r[0]&2303&&(o.key=l[53].key),r[0]&2303&&(o.selection=l[53].selection),r[0]&2303&&(o.searchResultItems=l[53].keySearchResultItemsMap),r[0]&256&&(o.context=l[8]),t.$set(o)},i(l){s||(P(t.$$.fragment,l),s=!0)},o(l){I(t.$$.fragment,l),s=!1},d(l){l&&S(e),W(t)}}}function H6(n){let e,t;return e=new dy({props:{value:n[53].value,path:n[53].path,expandedMap:n[53].expandedMap,enforceStringMap:n[53].enforceStringMap,visibleSectionsMap:n[53].visibleSectionsMap,validationErrorsMap:n[53].validationErrorsMap,searchResultItemsMap:n[53].valueSearchResultItemsMap,selection:n[53].selection,context:n[8],onDragSelectionStart:n[26],$$slots:{identifier:[Dfe]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&2303&&(l.value=i[53].value),s[0]&2303&&(l.path=i[53].path),s[0]&2303&&(l.expandedMap=i[53].expandedMap),s[0]&2303&&(l.enforceStringMap=i[53].enforceStringMap),s[0]&2303&&(l.visibleSectionsMap=i[53].visibleSectionsMap),s[0]&2303&&(l.validationErrorsMap=i[53].validationErrorsMap),s[0]&2303&&(l.searchResultItemsMap=i[53].valueSearchResultItemsMap),s[0]&2303&&(l.selection=i[53].selection),s[0]&256&&(l.context=i[8]),s[0]&2559|s[1]&16&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function q6(n){let e,t,i;return{c(){e=k("div"),m(e,"class","jse-insert-selection-area jse-after svelte-1wlxti1"),m(e,"data-type","insert-selection-area-after")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[30]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function Ife(n){let e,t;return e=new Zt({props:{data:So}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p:te,i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Rfe(n){let e,t;return e=new Zt({props:{data:al}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p:te,i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function W6(n){let e;return{c(){e=k("div"),e.textContent=":",m(e,"class","jse-separator svelte-1wlxti1")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Nfe(n){let e,t,i,s=n[0].length+"",l,r,o=n[0].length===1?"item":"items",a,f,u,d,h;return{c(){e=k("div"),e.textContent="[",t=D(),i=k("button"),l=G(s),r=D(),a=G(o),f=D(),u=k("div"),u.textContent="]",m(e,"class","jse-bracket svelte-1wlxti1"),m(i,"type","button"),m(i,"class","jse-tag svelte-1wlxti1"),m(u,"class","jse-bracket svelte-1wlxti1")},m(p,g){C(p,e,g),C(p,t,g),C(p,i,g),v(i,l),v(i,r),v(i,a),C(p,f,g),C(p,u,g),d||(h=x(i,"click",n[22]),d=!0)},p(p,g){g[0]&1&&s!==(s=p[0].length+"")&&pe(l,s),g[0]&1&&o!==(o=p[0].length===1?"item":"items")&&pe(a,o)},d(p){p&&S(e),p&&S(t),p&&S(i),p&&S(f),p&&S(u),d=!1,h()}}}function Lfe(n){let e,t,i,s=n[0].length+"",l,r,o=n[0].length===1?"item":"items",a,f;return{c(){e=k("div"),e.textContent="[",t=D(),i=k("span"),l=G(s),r=D(),a=G(o),f=G(`
               `),m(e,"class","jse-bracket svelte-1wlxti1"),m(i,"class","jse-tag jse-expanded svelte-1wlxti1")},m(u,d){C(u,e,d),C(u,t,d),C(u,i,d),v(i,l),v(i,r),v(i,a),C(u,f,d)},p(u,d){d[0]&1&&s!==(s=u[0].length+"")&&pe(l,s),d[0]&1&&o!==(o=u[0].length===1?"item":"items")&&pe(a,o)},d(u){u&&S(e),u&&S(t),u&&S(i),u&&S(f)}}}function U6(n){let e,t,i;return t=new Zo({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","jse-context-menu-pointer-anchor svelte-1wlxti1")},m(s,l){C(s,e,l),q(t,e,null),i=!0},p(s,l){const r={};l[0]&256&&(r.onContextMenu=s[8].onContextMenu),t.$set(r)},i(s){i||(P(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&S(e),W(t)}}}function K6(n){let e,t;return e=new ju({props:{validationError:n[15],onExpand:n[22]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&32768&&(l.validationError=i[15]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Ffe(n){let e,t,i;return{c(){e=k("div"),m(e,"class","jse-insert-selection-area jse-after svelte-1wlxti1"),m(e,"data-type","insert-selection-area-after")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[30]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function jfe(n){let e,t,i;return{c(){e=k("div"),m(e,"class","jse-insert-selection-area jse-inside svelte-1wlxti1"),m(e,"data-type","insert-selection-area-inside")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[29]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function J6(n){let e,t=!n[8].readOnly&&(n[10]===Gr||n[16]&&Li(n[7])),i,s=[],l=new Map,r,o,a,f,u,d=t&&x6(n),h=n[14]||Fa;const p=b=>b[49];for(let b=0;b<h.length;b+=1){let _=E6(n,h,b),y=p(_);l.set(y,s[b]=X6(y,_))}let g=!n[17]&&Z6(n);return{c(){e=k("div"),d&&d.c(),i=D();for(let b=0;b<s.length;b+=1)s[b].c();r=D(),o=k("div"),a=k("div"),a.innerHTML='<span class="jse-bracket svelte-1wlxti1">]</span>',f=D(),g&&g.c(),m(e,"class","jse-items svelte-1wlxti1"),m(a,"data-type","selectable-value"),m(a,"class","jse-footer svelte-1wlxti1"),m(o,"class","jse-footer-outer svelte-1wlxti1"),m(o,"style",n[18])},m(b,_){C(b,e,_),d&&d.m(e,null),v(e,i);for(let y=0;y<s.length;y+=1)s[y]&&s[y].m(e,null);C(b,r,_),C(b,o,_),v(o,a),v(o,f),g&&g.m(o,null),u=!0},p(b,_){_[0]&66944&&(t=!b[8].readOnly&&(b[10]===Gr||b[16]&&Li(b[7]))),t?d?(d.p(b,_),_[0]&66944&&P(d,1)):(d=x6(b),d.c(),P(d,1),d.m(e,i)):d&&(ue(),I(d,1,1,()=>{d=null}),ce()),_[0]&68176895&&(h=b[14]||Fa,ue(),s=Cn(s,_,p,1,b,h,l,e,ii,X6,null,E6),ce()),b[17]?g&&(g.d(1),g=null):g?g.p(b,_):(g=Z6(b),g.c(),g.m(o,null)),(!u||_[0]&262144)&&m(o,"style",b[18])},i(b){if(!u){P(d);for(let _=0;_<h.length;_+=1)P(s[_]);u=!0}},o(b){I(d);for(let _=0;_<s.length;_+=1)I(s[_]);u=!1},d(b){b&&S(e),d&&d.d();for(let _=0;_<s.length;_+=1)s[_].d();b&&S(r),b&&S(o),g&&g.d()}}}function x6(n){let e,t,i,s;return t=new Zo({props:{selected:n[16]&&Li(n[7]),onContextMenu:n[31]}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","jse-insert-area jse-inside svelte-1wlxti1"),m(e,"data-type","insert-selection-area-inside"),m(e,"style",i=rd(n[1].length+1)),m(e,"title",T2),$(e,"jse-hovered",n[10]===Gr),$(e,"jse-selected",n[16]&&Li(n[7]))},m(l,r){C(l,e,r),q(t,e,null),s=!0},p(l,r){const o={};r[0]&65664&&(o.selected=l[16]&&Li(l[7])),t.$set(o),(!s||r[0]&2&&i!==(i=rd(l[1].length+1)))&&m(e,"style",i),(!s||r[0]&1024)&&$(e,"jse-hovered",l[10]===Gr),(!s||r[0]&65664)&&$(e,"jse-selected",l[16]&&Li(l[7]))},i(l){s||(P(t.$$.fragment,l),s=!0)},o(l){I(t.$$.fragment,l),s=!1},d(l){l&&S(e),W(t)}}}function Bfe(n){let e,t,i=n[50].index+"",s;return{c(){e=k("div"),t=k("div"),s=G(i),m(t,"class","jse-index svelte-1wlxti1"),m(e,"slot","identifier"),m(e,"class","jse-identifier svelte-1wlxti1")},m(l,r){C(l,e,r),v(e,t),v(t,s)},p(l,r){r[0]&18687&&i!==(i=l[50].index+"")&&pe(s,i)},d(l){l&&S(e)}}}function Y6(n,e){let t,i,s;return i=new dy({props:{value:e[50].value,path:e[50].path,expandedMap:e[50].expandedMap,enforceStringMap:e[50].enforceStringMap,visibleSectionsMap:e[50].visibleSectionsMap,validationErrorsMap:e[50].validationErrorsMap,searchResultItemsMap:e[50].searchResultItemsMap,selection:e[50].selection,context:e[8],onDragSelectionStart:e[26],$$slots:{identifier:[Bfe]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=Ee(),U(i.$$.fragment),this.first=t},m(l,r){C(l,t,r),q(i,l,r),s=!0},p(l,r){e=l;const o={};r[0]&18687&&(o.value=e[50].value),r[0]&18687&&(o.path=e[50].path),r[0]&18687&&(o.expandedMap=e[50].expandedMap),r[0]&18687&&(o.enforceStringMap=e[50].enforceStringMap),r[0]&18687&&(o.visibleSectionsMap=e[50].visibleSectionsMap),r[0]&18687&&(o.validationErrorsMap=e[50].validationErrorsMap),r[0]&18687&&(o.searchResultItemsMap=e[50].searchResultItemsMap),r[0]&18687&&(o.selection=e[50].selection),r[0]&256&&(o.context=e[8]),r[0]&18687|r[1]&16&&(o.$$scope={dirty:r,ctx:e}),i.$set(o)},i(l){s||(P(i.$$.fragment,l),s=!0)},o(l){I(i.$$.fragment,l),s=!1},d(l){l&&S(t),W(i,l)}}}function G6(n){let e,t;return e=new Xae({props:{visibleSections:n[14]||Fa,sectionIndex:n[49],total:n[0].length,path:n[1],pointer:n[9],onExpandSection:n[8].onExpandSection,selection:n[7]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&16384&&(l.visibleSections=i[14]||Fa),s[0]&16384&&(l.sectionIndex=i[49]),s[0]&1&&(l.total=i[0].length),s[0]&2&&(l.path=i[1]),s[0]&512&&(l.pointer=i[9]),s[0]&256&&(l.onExpandSection=i[8].onExpandSection),s[0]&128&&(l.selection=i[7]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function X6(n,e){let t,i=[],s=new Map,l,r,o,a=e[20](e[1],e[0],e[47],e[2],e[3],e[4],e[5],e[6],e[7],e[11]);const f=d=>d[50].index;for(let d=0;d<a.length;d+=1){let h=P6(e,a,d),p=f(h);s.set(p,i[d]=Y6(p,h))}let u=e[47].end<e[0].length&&G6(e);return{key:n,first:null,c(){t=Ee();for(let d=0;d<i.length;d+=1)i[d].c();l=D(),u&&u.c(),r=Ee(),this.first=t},m(d,h){C(d,t,h);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(d,h);C(d,l,h),u&&u.m(d,h),C(d,r,h),o=!0},p(d,h){e=d,h[0]&68176383&&(a=e[20](e[1],e[0],e[47],e[2],e[3],e[4],e[5],e[6],e[7],e[11]),ue(),i=Cn(i,h,f,1,e,a,s,l.parentNode,ii,Y6,l,P6),ce()),e[47].end<e[0].length?u?(u.p(e,h),h[0]&16385&&P(u,1)):(u=G6(e),u.c(),P(u,1),u.m(r.parentNode,r)):u&&(ue(),I(u,1,1,()=>{u=null}),ce())},i(d){if(!o){for(let h=0;h<a.length;h+=1)P(i[h]);P(u),o=!0}},o(d){for(let h=0;h<i.length;h+=1)I(i[h]);I(u),o=!1},d(d){d&&S(t);for(let h=0;h<i.length;h+=1)i[h].d(d);d&&S(l),u&&u.d(d),d&&S(r)}}}function Z6(n){let e,t,i;return{c(){e=k("div"),m(e,"class","jse-insert-selection-area jse-after svelte-1wlxti1"),m(e,"data-type","insert-selection-area-after")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[30]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function Q6(n){let e,t,i;return t=new Zo({props:{selected:n[16]&&Ll(n[7]),onContextMenu:n[32]}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","jse-insert-area jse-after svelte-1wlxti1"),m(e,"data-type","insert-selection-area-after"),m(e,"style",n[18]),m(e,"title",T2),$(e,"jse-hovered",n[10]===Gc),$(e,"jse-selected",n[16]&&Ll(n[7]))},m(s,l){C(s,e,l),q(t,e,null),i=!0},p(s,l){const r={};l[0]&65664&&(r.selected=s[16]&&Ll(s[7])),t.$set(r),(!i||l[0]&262144)&&m(e,"style",s[18]),(!i||l[0]&1024)&&$(e,"jse-hovered",s[10]===Gc),(!i||l[0]&65664)&&$(e,"jse-selected",s[16]&&Ll(s[7]))},i(s){i||(P(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&S(e),W(t)}}}function Vfe(n){let e,t,i,s,l,r,o=!n[8].readOnly&&(n[10]===Gc||n[16]&&Ll(n[7])),a,f,u,d,h;const p=[Cfe,Sfe,wfe],g=[];function b(y,w){return w[0]&1&&(t=null),w[0]&1&&(i=null),t==null&&(t=!!Array.isArray(y[0])),t?0:(i==null&&(i=!!Un(y[0])),i?1:2)}s=b(n,[-1,-1]),l=g[s]=p[s](n);let _=o&&Q6(n);return{c(){e=k("div"),l.c(),r=D(),_&&_.c(),m(e,"class",a=vn(wr("jse-json-node",{"jse-expanded":n[12]},n[8].onClassName(n[1],n[0])))+" svelte-1wlxti1"),m(e,"data-path",f=au(n[1])),$(e,"jse-root",n[17]),$(e,"jse-selected",n[16]&&cn(n[7])),$(e,"jse-selected-key",n[16]&&_i(n[7])),$(e,"jse-selected-value",n[16]&&Xt(n[7])),$(e,"jse-readonly",n[8].readOnly),$(e,"jse-hovered",n[10]===db)},m(y,w){C(y,e,w),g[s].m(e,null),v(e,r),_&&_.m(e,null),u=!0,d||(h=[x(e,"mousedown",n[24]),x(e,"mousemove",n[25]),x(e,"mouseover",n[27]),x(e,"mouseout",n[28]),x(e,"focus",void 0),x(e,"blur",void 0)],d=!0)},p(y,w){let A=s;s=b(y,w),s===A?g[s].p(y,w):(ue(),I(g[A],1,1,()=>{g[A]=null}),ce(),l=g[s],l?l.p(y,w):(l=g[s]=p[s](y),l.c()),P(l,1),l.m(e,r)),w[0]&66944&&(o=!y[8].readOnly&&(y[10]===Gc||y[16]&&Ll(y[7]))),o?_?(_.p(y,w),w[0]&66944&&P(_,1)):(_=Q6(y),_.c(),P(_,1),_.m(e,null)):_&&(ue(),I(_,1,1,()=>{_=null}),ce()),(!u||w[0]&4355&&a!==(a=vn(wr("jse-json-node",{"jse-expanded":y[12]},y[8].onClassName(y[1],y[0])))+" svelte-1wlxti1"))&&m(e,"class",a),(!u||w[0]&2&&f!==(f=au(y[1])))&&m(e,"data-path",f),(!u||w[0]&135427)&&$(e,"jse-root",y[17]),(!u||w[0]&70019)&&$(e,"jse-selected",y[16]&&cn(y[7])),(!u||w[0]&70019)&&$(e,"jse-selected-key",y[16]&&_i(y[7])),(!u||w[0]&70019)&&$(e,"jse-selected-value",y[16]&&Xt(y[7])),(!u||w[0]&4355)&&$(e,"jse-readonly",y[8].readOnly),(!u||w[0]&5379)&&$(e,"jse-hovered",y[10]===db)},i(y){u||(P(l),P(_),u=!0)},o(y){I(l),I(_),u=!1},d(y){y&&S(e),g[s].d(),_&&_.d(),d=!1,Ke(h)}}}function rd(n){return`margin-left: calc(${n} * var(--jse-indent-size))`}function zfe(n,e,t){let i,s,{$$slots:l={},$$scope:r}=e,{value:o}=e,{path:a}=e,{expandedMap:f}=e,{enforceStringMap:u}=e,{visibleSectionsMap:d}=e,{validationErrorsMap:h}=e,{searchResultItemsMap:p}=e,{selection:g}=e,{context:b}=e,{onDragSelectionStart:_}=e;const y=Gi("jsoneditor:JSONNode");let w,A,M;const T=$ie();let O,E,R,N,j,L;function F(ye,ie,we,Ue,Oe,_e,Ye,St,Et){let Fe=Object.keys(ie).map(Le=>{const Pt=mb(O,Le);return{key:Le,value:ie[Le],path:T(ye.concat(Le)),pointer:Pt,expandedMap:Yl(we,Pt),enforceStringMap:Yl(Ue,Pt),visibleSectionsMap:Yl(Oe,Pt),validationErrorsMap:Yl(_e,Pt),keySearchResultItemsMap:dle(Ye,Pt),valueSearchResultItemsMap:Yl(Ye,Pt),selection:JC(St,Pt)}});return Et&&Et.offset!==0&&(Fe=TC(Fe,Et.selectionStartIndex,Et.selectionItemsCount,Et.offset)),Fe}function B(ye,ie,we,Ue,Oe,_e,Ye,St,Et,Fe){const Le=we.start,Pt=Math.min(we.end,ie.length);let tn=[];for(let ct=Le;ct<Pt;ct++){const Se=mb(O,ct);tn.push({index:ct,value:ie[ct],path:T(ye.concat(String(ct))),pointer:Se,expandedMap:Yl(Ue,Se),enforceStringMap:Yl(Oe,Se),visibleSectionsMap:Yl(_e,Se),validationErrorsMap:Yl(Ye,Se),searchResultItemsMap:Yl(St,Se),selection:JC(Et,Se)})}if(Fe&&Fe.offset!==0){const ct=tn.map(Se=>Se.index);tn=TC(tn,Fe.selectionStartIndex,Fe.selectionItemsCount,Fe.offset);for(let Se=0;Se<tn.length;Se++)tn[Se].index=ct[Se]}return tn}function V(ye){ye.stopPropagation();const ie=ye.ctrlKey;b.onExpand(a,!E,ie)}function H(ye){ye.stopPropagation(),b.onExpand(a,!0)}function K(ye,ie){const we=qd(a,Object.keys(o),ye,ie);return b.onPatch(we),Ct(zl(we[0].path))}function X(ye){if(jie(ye.target)||ye.which===1&&ZI(ye.target,"BUTTON"))return;ye.stopPropagation(),ye.preventDefault(),b.focus(),document.addEventListener("mousemove",z,!0),document.addEventListener("mouseup",Z);const ie=K1(ye.target),we=b.getJson(),Ue=b.getDocumentState();if(g&&h7(g,a,ie)){ye.button===0&&_(ye);return}if(Vi.selecting=!0,Vi.selectionAnchor=a,Vi.selectionAnchorType=ie,Vi.selectionFocus=a,ye.shiftKey){const Oe=b.getDocumentState().selection;Oe&&b.onSelect(gi(we,Oe.anchorPath,a))}else if(ie===Nn.multi)if(i&&ye.target.hasAttribute("data-path")){const Oe=Ct(c7(o,Ue));b.onSelect($2(Oe))}else b.onSelect(gi(we,a,a));else b.onSelect(KC(we,ie,a))}function J(ye){if(Vi.selecting){ye.preventDefault(),ye.stopPropagation(),Vi.selectionFocus==null&&window.getSelection&&window.getSelection().empty();const ie=K1(ye.target);if(!sn(a,Vi.selectionFocus)||ie!==Vi.selectionAnchorType){Vi.selectionFocus=a,Vi.selectionAnchorType=ie;const we=b.getJson();b.onSelect(gi(we,Vi.selectionAnchor||Vi.selectionFocus,Vi.selectionFocus))}}}function z(ye){b.onDrag(ye)}function Z(ye){Vi.selecting&&(Vi.selecting=!1,ye.stopPropagation()),b.onDragEnd(),document.removeEventListener("mousemove",z,!0),document.removeEventListener("mouseup",Z)}function Y(){var ye,ie;return((ie=(ye=b.findElement([]))==null?void 0:ye.getBoundingClientRect())==null?void 0:ie.top)||0}function oe(ye,ie){const Ue=Y()-ye.initialContentTop;return ie.clientY-ye.initialClientY-Ue}function re(ye){if(b.readOnly||!g)return;const ie=en(g.focusPath);if(!sn(a,ie)){_(ye);return}const we=qe(g,N||Fa);if(y("dragSelectionStart",{selection:g,items:we}),!we){y("Cannot drag the current selection (probably spread over multiple sections)");return}const Ue=fu(g),Oe=we.findIndex(Et=>sn(Et.path,Ue)),_e=b.getJson(),Ye=b.getDocumentState(),{offset:St}=e0({json:_e,documentState:Ye,deltaY:0,items:we});t(11,M={initialTarget:ye.target,initialClientY:ye.clientY,initialContentTop:Y(),selectionStartIndex:Oe,selectionItemsCount:b7(g).length,items:we,offset:St,didMoveItems:!1}),Vi.dragging=!0,document.addEventListener("mousemove",Q,!0),document.addEventListener("mouseup",me)}function Q(ye){if(M){const ie=b.getJson(),we=b.getDocumentState(),Ue=oe(M,ye),{offset:Oe}=e0({json:ie,documentState:we,deltaY:Ue,items:M.items});Oe!==M.offset&&(y("drag selection",Oe,Ue),t(11,M={...M,offset:Oe,didMoveItems:!0}))}}function me(ye){if(M){const ie=b.getJson(),we=b.getDocumentState(),Ue=oe(M,ye),{operations:Oe,updatedSelection:_e}=e0({json:ie,documentState:we,deltaY:Ue,items:M.items});if(Oe)b.onPatch(Oe,(Ye,St)=>({state:{...St,selection:_e||g}}));else if(ye.target===M.initialTarget&&!M.didMoveItems){const Ye=K1(ye.target),St=e7(ye.target);St&&b.onSelect(KC(ie,Ye,St))}t(11,M=void 0),Vi.dragging=!1,document.removeEventListener("mousemove",Q,!0),document.removeEventListener("mouseup",me)}}function qe(ye,ie){const we=[];function Ue(Oe){const _e=a.concat(Oe),Ye=b.findElement(_e);Ye!=null&&we.push({path:_e,height:Ye.clientHeight})}if(Array.isArray(o)){const Oe=fu(ye),_e=Tg(ye),Ye=Ct(Oe),St=Ct(_e),Et=ie.find(Pt=>Ye>=Pt.start&&St<=Pt.end);if(!Et)return null;const{start:Fe,end:Le}=Et;HI(Fe,Math.min(o.length,Le),Pt=>Ue(String(Pt)))}else Object.keys(o).forEach(Ue);return we}function be(ye){Vi.selecting||Vi.dragging||(ye.stopPropagation(),ka(ye.target,"data-type","selectable-value")?t(10,w=db):ka(ye.target,"data-type","insert-selection-area-inside")?t(10,w=Gr):ka(ye.target,"data-type","insert-selection-area-after")&&t(10,w=Gc),clearTimeout(A))}function Ie(ye){ye.stopPropagation(),A=setTimeout(()=>t(10,w=void 0))}function he(ye){ye.shiftKey||(ye.stopPropagation(),ye.preventDefault(),b.onSelect(Lo(a)))}function Ve(ye){ye.shiftKey||(ye.stopPropagation(),ye.preventDefault(),b.onSelect(Zr(a)))}function Qe(ye){b.onSelect(Lo(a)),b.onContextMenu(ye)}function it(ye){b.onSelect(Zr(a)),b.onContextMenu(ye)}return n.$$set=ye=>{"value"in ye&&t(0,o=ye.value),"path"in ye&&t(1,a=ye.path),"expandedMap"in ye&&t(2,f=ye.expandedMap),"enforceStringMap"in ye&&t(3,u=ye.enforceStringMap),"visibleSectionsMap"in ye&&t(4,d=ye.visibleSectionsMap),"validationErrorsMap"in ye&&t(5,h=ye.validationErrorsMap),"searchResultItemsMap"in ye&&t(6,p=ye.searchResultItemsMap),"selection"in ye&&t(7,g=ye.selection),"context"in ye&&t(8,b=ye.context),"onDragSelectionStart"in ye&&t(33,_=ye.onDragSelectionStart),"$$scope"in ye&&t(35,r=ye.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&2&&t(9,O=$e(a)),n.$$.dirty[0]&516&&t(12,E=f?f[O]===!0:!1),n.$$.dirty[0]&777&&t(13,R=Xr(o,u,O,b.parser)),n.$$.dirty[0]&528&&t(14,N=d?d[O]:void 0),n.$$.dirty[0]&544&&t(15,j=h?h[O]:void 0),n.$$.dirty[0]&640&&t(16,L=g?g.pointersMap[O]===!0:!1),n.$$.dirty[0]&2&&t(17,i=a.length===0),n.$$.dirty[0]&2&&t(18,s=rd(a.length))},[o,a,f,u,d,h,p,g,b,O,w,M,E,R,N,j,L,i,s,F,B,V,H,K,X,J,re,be,Ie,he,Ve,Qe,it,_,l,r]}class dy extends ke{constructor(e){super(),ve(this,e,zfe,Vfe,jt,{value:0,path:1,expandedMap:2,enforceStringMap:3,visibleSectionsMap:4,validationErrorsMap:5,searchResultItemsMap:6,selection:7,context:8,onDragSelectionStart:33},null,[-1,-1])}}const Hfe=dy,qfe={prefix:"fas",iconName:"jsoneditor-expand",icon:[512,512,[],"","M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"]},Wfe={prefix:"fas",iconName:"jsoneditor-collapse",icon:[512,512,[],"","m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"]},Bb={prefix:"fas",iconName:"jsoneditor-format",icon:[512,512,[],"","M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"]},Ufe={prefix:"fas",iconName:"jsoneditor-compact",icon:[512,512,[],"","M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"]};function Kfe(n){let e,t;return e=new jg({props:{items:n[0]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&1&&(l.items=i[0]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Jfe(n,e,t){let i,s,l,{json:r}=e,{selection:o}=e,{readOnly:a}=e,{showSearch:f=!1}=e,{historyState:u}=e,{onExpandAll:d}=e,{onCollapseAll:h}=e,{onUndo:p}=e,{onRedo:g}=e,{onSort:b}=e,{onTransform:_}=e,{onContextMenu:y}=e,{onCopy:w}=e,{onRenderMenu:A}=e;function M(){t(1,f=!f)}let T,O,E,R;return n.$$set=N=>{"json"in N&&t(2,r=N.json),"selection"in N&&t(3,o=N.selection),"readOnly"in N&&t(4,a=N.readOnly),"showSearch"in N&&t(1,f=N.showSearch),"historyState"in N&&t(5,u=N.historyState),"onExpandAll"in N&&t(6,d=N.onExpandAll),"onCollapseAll"in N&&t(7,h=N.onCollapseAll),"onUndo"in N&&t(8,p=N.onUndo),"onRedo"in N&&t(9,g=N.onRedo),"onSort"in N&&t(10,b=N.onSort),"onTransform"in N&&t(11,_=N.onTransform),"onContextMenu"in N&&t(12,y=N.onContextMenu),"onCopy"in N&&t(13,w=N.onCopy),"onRenderMenu"in N&&t(14,A=N.onRenderMenu)},n.$$.update=()=>{n.$$.dirty&4&&t(20,i=r!==void 0),n.$$.dirty&8,n.$$.dirty&1048584&&t(19,s=i&&(cn(o)||_i(o)||Xt(o))),n.$$.dirty&68&&t(15,T={type:"button",icon:qfe,title:"Expand all",className:"jse-expand-all",onClick:d,disabled:!$n(r)}),n.$$.dirty&132&&t(16,O={type:"button",icon:Wfe,title:"Collapse all",className:"jse-collapse-all",onClick:h,disabled:!$n(r)}),n.$$.dirty&4&&t(17,E={type:"button",icon:iy,title:"Search (Ctrl+F)",className:"jse-search",onClick:M,disabled:r===void 0}),n.$$.dirty&769844&&t(18,R=a?[T,O,{type:"separator"},{type:"button",icon:Oo,title:"Copy (Ctrl+C)",className:"jse-copy",onClick:w,disabled:!s},{type:"separator"},E,{type:"space"}]:[T,O,{type:"separator"},{type:"button",icon:Pg,title:"Sort",className:"jse-sort",onClick:b,disabled:a||r===void 0},{type:"button",icon:Og,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:_,disabled:a||r===void 0},E,{type:"button",icon:A7,title:A2,className:"jse-contextmenu",onClick:y},{type:"separator"},{type:"button",icon:ny,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:p,disabled:!u.canUndo},{type:"button",icon:ty,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:g,disabled:!u.canRedo},{type:"space"}]),n.$$.dirty&278528&&t(0,l=A(R)||R)},[l,f,r,o,a,u,d,h,p,g,b,_,y,w,A,T,O,E,R,s,i]}class xfe extends ke{constructor(e){super(),ve(this,e,Jfe,Kfe,jt,{json:2,selection:3,readOnly:4,showSearch:1,historyState:5,onExpandAll:6,onCollapseAll:7,onUndo:8,onRedo:9,onSort:10,onTransform:11,onContextMenu:12,onCopy:13,onRenderMenu:14})}}const Yfe=xfe;function $6(n){let e;return{c(){e=k("ul"),e.innerHTML=`<li class="svelte-1q2qkk2">Click inside the editor</li> 
        <li class="svelte-1q2qkk2">Paste clipboard data using <span class="jse-bold svelte-1q2qkk2">Ctrl+V</span></li> 
        <li class="svelte-1q2qkk2">Create a new object by typing <span class="jse-bold svelte-1q2qkk2">{</span></li> 
        <li class="svelte-1q2qkk2">Create a new array by typing <span class="jse-bold svelte-1q2qkk2">[</span></li>`,m(e,"class","svelte-1q2qkk2")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Gfe(n){let e,t,i,s,l,r,o,a=!n[0]&&$6();return{c(){e=k("div"),t=k("div"),i=D(),s=k("div"),l=G(`Empty document
    `),a&&a.c(),r=D(),o=k("div"),m(t,"class","jse-space jse-before svelte-1q2qkk2"),m(s,"class","jse-contents svelte-1q2qkk2"),m(o,"class","jse-space jse-after svelte-1q2qkk2"),m(e,"class","jse-welcome svelte-1q2qkk2")},m(f,u){C(f,e,u),v(e,t),v(e,i),v(e,s),v(s,l),a&&a.m(s,null),v(e,r),v(e,o)},p(f,[u]){f[0]?a&&(a.d(1),a=null):a||(a=$6(),a.c(),a.m(s,null))},i:te,o:te,d(f){f&&S(e),a&&a.d()}}}function Xfe(n,e,t){let{readOnly:i}=e;return n.$$set=s=>{"readOnly"in s&&t(0,i=s.readOnly)},[i]}class Zfe extends ke{constructor(e){super(),ve(this,e,Xfe,Gfe,jt,{readOnly:0})}}const Qfe=Zfe;var K7={exports:{}};/*
 * @version    1.4.0
 * @date       2015-10-26
 * @stability  3 - Stable
 * @author     Lauri Rooden (https://github.com/litejs/natural-compare-lite)
 * @license    MIT License
 */var e5=function(n,e){var t,i,s=1,l=0,r=0,o=String.alphabet;function a(f,u,d){if(d){for(t=u;d=a(f,t),d<76&&d>65;)++t;return+f.slice(u-1,t)}return d=o&&o.indexOf(f.charAt(u)),d>-1?d+76:(d=f.charCodeAt(u)||0,d<45||d>127?d:d<46?65:d<48?d-1:d<58?d+18:d<65?d-11:d<91?d+11:d<97?d-37:d<123?d+5:d-63)}if((n+="")!=(e+="")){for(;s;)if(i=a(n,l++),s=a(e,r++),i<76&&s<76&&i>66&&s>66&&(i=a(n,l,l),s=a(e,r,l=t),r=t),i!=s)return i<s?-1:1}return 0};try{K7.exports=e5}catch{String.naturalCompare=e5}var $fe=K7.exports;const eue=FD($fe);function hy(n,e){const t=typeof n=="string"?n.toLowerCase():n,i=typeof e=="string"?e.toLowerCase():e;return eue(t,i)}function J7(n,e=[],t=[],i=1){if(Fn(dt(n,e))){if(t===void 0)throw new Error("Cannot sort: no property selected by which to sort the array");return nue(n,e,t,i)}if(Un(n))return tue(n,e,i);throw new Error("Cannot sort: no array or object")}function tue(n,e=[],t=1){const i=dt(n,e),l=Object.keys(i).slice();l.sort((o,a)=>t*hy(o,a));const r=[];for(let o=0;o<l.length;o++){const a=l[o],f=$e(e.concat(a));r.push({op:"move",from:f,path:f})}return r}function nue(n,e=[],t=[],i=1){const s=iue(t,i),l=dt(n,e);return[{op:"replace",path:$e(e),value:l.slice(0).sort(s)}]}function iue(n,e){return function(i,s){const l=dt(i,n),r=dt(s,n);return l===void 0?e:r===void 0?-e:typeof l!="string"&&typeof r!="string"?l>r?e:l<r?-e:0:e*hy(l,r)}}function t5(n,e,t){const i=n.slice();return i[4]=e[t],i}function n5(n,e){let t,i=kr(e[4].toString(),s5)+"",s,l,r,o;function a(){return e[3](e[4])}return{key:n,first:null,c(){t=k("button"),s=G(i),m(t,"type","button"),m(t,"class","jse-navigation-bar-dropdown-item svelte-6hb2gf"),m(t,"title",l=e[4].toString()),$(t,"jse-selected",e[4]===e[1]),this.first=t},m(f,u){C(f,t,u),v(t,s),r||(o=x(t,"click",Ei(a)),r=!0)},p(f,u){e=f,u&1&&i!==(i=kr(e[4].toString(),s5)+"")&&pe(s,i),u&1&&l!==(l=e[4].toString())&&m(t,"title",l),u&3&&$(t,"jse-selected",e[4]===e[1])},d(f){f&&S(t),r=!1,o()}}}function i5(n){let e,t;return{c(){e=k("button"),t=G("..."),m(e,"type","button"),m(e,"class","jse-navigation-bar-dropdown-item svelte-6hb2gf"),m(e,"title","Limited to "+_c+" items")},m(i,s){C(i,e,s),v(e,t)},p:te,d(i){i&&S(e)}}}function sue(n){let e,t=[],i=new Map,s,l=im(n[0],_c);const r=a=>a[4];for(let a=0;a<l.length;a+=1){let f=t5(n,l,a),u=r(f);i.set(u,t[a]=n5(u,f))}let o=n[0].length>_c&&i5();return{c(){e=k("div");for(let a=0;a<t.length;a+=1)t[a].c();s=D(),o&&o.c(),m(e,"class","jse-navigation-bar-dropdown svelte-6hb2gf")},m(a,f){C(a,e,f);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);v(e,s),o&&o.m(e,null)},p(a,[f]){f&7&&(l=im(a[0],_c),t=Cn(t,f,r,1,a,l,i,e,Ko,n5,s,t5)),a[0].length>_c?o?o.p(a,f):(o=i5(),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:te,o:te,d(a){a&&S(e);for(let f=0;f<t.length;f+=1)t[f].d();o&&o.d()}}}const _c=100,s5=30;function lue(n,e,t){let{items:i}=e,{selectedItem:s}=e,{onSelect:l}=e;const r=o=>l(o);return n.$$set=o=>{"items"in o&&t(0,i=o.items),"selectedItem"in o&&t(1,s=o.selectedItem),"onSelect"in o&&t(2,l=o.onSelect)},[i,s,l,r]}class rue extends ke{constructor(e){super(),ve(this,e,lue,sue,jt,{items:0,selectedItem:1,onSelect:2})}}const oue=rue;function l5(n){let e,t,i,s;return{c(){e=k("button"),t=G(n[2]),m(e,"type","button"),m(e,"class","jse-navigation-bar-button svelte-1r1k9th")},m(l,r){C(l,e,r),v(e,t),i||(s=x(e,"click",n[9]),i=!0)},p(l,r){r&4&&pe(t,l[2])},d(l){l&&S(e),i=!1,s()}}}function aue(n){let e,t,i,s,l,r,o;i=new Zt({props:{data:T7}});let a=n[2]!==void 0&&l5(n);return{c(){e=k("div"),t=k("button"),U(i.$$.fragment),s=D(),a&&a.c(),m(t,"type","button"),m(t,"class","jse-navigation-bar-button jse-navigation-bar-arrow svelte-1r1k9th"),$(t,"jse-open",n[1]),m(e,"class","jse-navigation-bar-item svelte-1r1k9th")},m(f,u){C(f,e,u),v(e,t),q(i,t,null),v(e,s),a&&a.m(e,null),n[10](e),l=!0,r||(o=x(t,"click",n[4]),r=!0)},p(f,[u]){(!l||u&2)&&$(t,"jse-open",f[1]),f[2]!==void 0?a?a.p(f,u):(a=l5(f),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(f){l||(P(i.$$.fragment,f),l=!0)},o(f){I(i.$$.fragment,f),l=!1},d(f){f&&S(e),W(i),a&&a.d(),n[10](null),r=!1,o()}}}function fue(n,e,t){let i,s;const{openAbsolutePopup:l,closeAbsolutePopup:r}=Ji("absolute-popup");let{path:o}=e,{index:a}=e,{onSelect:f}=e,{getItems:u}=e,d,h=!1,p;function g(w){r(p),f(i.concat(w))}function b(){if(d){t(1,h=!0);const w={items:u(i),selectedItem:s,onSelect:g};p=l(oue,w,{anchor:d,closeOnOuterClick:!0,onClose:()=>{t(1,h=!1)}})}}const _=()=>g(s);function y(w){de[w?"unshift":"push"](()=>{d=w,t(0,d)})}return n.$$set=w=>{"path"in w&&t(5,o=w.path),"index"in w&&t(6,a=w.index),"onSelect"in w&&t(7,f=w.onSelect),"getItems"in w&&t(8,u=w.getItems)},n.$$.update=()=>{n.$$.dirty&96&&(i=o.slice(0,a)),n.$$.dirty&96&&t(2,s=o[a])},[d,h,s,g,b,o,a,f,u,_,y]}class uue extends ke{constructor(e){super(),ve(this,e,fue,aue,jt,{path:5,index:6,onSelect:7,getItems:8})}}const x7=uue;function py(n){var e;if(navigator.clipboard)return navigator.clipboard.writeText(n);if((e=document.queryCommandSupported)!=null&&e.call(document,"copy")){const t=document.createElement("textarea");t.value=n,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(i){console.error(i)}finally{document.body.removeChild(t)}}else console.error("Copy failed.")}function r5(n){let e,t,i,s,l,r;return t=new Zt({props:{data:Qa}}),{c(){e=k("button"),U(t.$$.fragment),m(e,"type","button"),m(e,"class","jse-navigation-bar-validation-error svelte-g0evpe")},m(o,a){C(o,e,a),q(t,e,null),s=!0,l||(r=xe(i=ey.call(null,e,{text:n[3],...n[4]})),l=!0)},p(o,a){i&&fn(i.update)&&a&8&&i.update.call(null,{text:o[3],...o[4]})},i(o){s||(P(t.$$.fragment,o),s=!0)},o(o){I(t.$$.fragment,o),s=!1},d(o){o&&S(e),W(t),l=!1,r()}}}function o5(n){let e;return{c(){e=k("div"),e.textContent="Copied!",m(e,"class","jse-copied-text svelte-g0evpe")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function cue(n){let e,t,i,s,l,r,o,a,f,u,d=n[3]&&r5(n),h=n[2]&&o5();return o=new Zt({props:{data:Oo}}),{c(){e=k("div"),t=k("input"),i=D(),d&&d.c(),s=D(),h&&h.c(),l=D(),r=k("button"),U(o.$$.fragment),m(t,"type","text"),m(t,"class","jse-navigation-bar-text svelte-g0evpe"),t.value=n[0],m(r,"type","button"),m(r,"class","jse-navigation-bar-copy svelte-g0evpe"),m(r,"title","Copy selected path to the clipboard"),$(r,"copied",n[2]),m(e,"class","jse-navigation-bar-path-editor svelte-g0evpe"),$(e,"error",n[3])},m(p,g){C(p,e,g),v(e,t),n[15](t),v(e,i),d&&d.m(e,null),v(e,s),h&&h.m(e,null),v(e,l),v(e,r),q(o,r,null),a=!0,f||(u=[x(t,"keydown",Ei(n[6])),x(t,"input",n[5]),x(r,"click",n[7])],f=!0)},p(p,[g]){(!a||g&1&&t.value!==p[0])&&(t.value=p[0]),p[3]?d?(d.p(p,g),g&8&&P(d,1)):(d=r5(p),d.c(),P(d,1),d.m(e,s)):d&&(ue(),I(d,1,1,()=>{d=null}),ce()),p[2]?h||(h=o5(),h.c(),h.m(e,l)):h&&(h.d(1),h=null),(!a||g&4)&&$(r,"copied",p[2]),(!a||g&8)&&$(e,"error",p[3])},i(p){a||(P(d),P(o.$$.fragment,p),a=!0)},o(p){I(d),I(o.$$.fragment,p),a=!1},d(p){p&&S(e),n[15](null),d&&d.d(),h&&h.d(),W(o),f=!1,Ke(u)}}}const due=1e3;function hue(n,e,t){let i;const s=Ji("absolute-popup");let{path:l}=e,{pathParser:r}=e,{onChange:o}=e,{onClose:a}=e,{onError:f}=e,{pathExists:u}=e,d,h,p=!1,g,b=!1;Pn(()=>{_()}),ls(()=>{clearTimeout(g)});function _(){d.focus()}function y(E){try{const R=r.parse(E);return w(R),{path:R,error:void 0}}catch(R){return{path:void 0,error:R}}}function w(E){if(!u(E))throw new Error("Path does not exist in current document")}function A(E){t(0,h=E.currentTarget.value)}function M(E){const R=Xo(E);if(R==="Escape"&&a(),R==="Enter"){t(14,p=!0);const N=y(h);N.path!==void 0?o(N.path):f(N.error)}}function T(){py(h),t(2,b=!0),g=setTimeout(()=>t(2,b=!1),due),_()}function O(E){de[E?"unshift":"push"](()=>{d=E,t(1,d)})}return n.$$set=E=>{"path"in E&&t(8,l=E.path),"pathParser"in E&&t(9,r=E.pathParser),"onChange"in E&&t(10,o=E.onChange),"onClose"in E&&t(11,a=E.onClose),"onError"in E&&t(12,f=E.onError),"pathExists"in E&&t(13,u=E.pathExists)},n.$$.update=()=>{n.$$.dirty&768&&t(0,h=r.stringify(l)),n.$$.dirty&16385&&t(3,i=p?y(h).error:void 0)},[h,d,b,i,s,A,M,T,l,r,o,a,f,u,p,O]}class pue extends ke{constructor(e){super(),ve(this,e,hue,cue,De,{path:8,pathParser:9,onChange:10,onClose:11,onError:12,pathExists:13})}}const mue=pue;function a5(n,e,t){const i=n.slice();return i[20]=e[t],i[22]=t,i}function gue(n){let e,t;return e=new mue({props:{path:n[3],onClose:n[12],onChange:n[13],onError:n[1],pathExists:n[9],pathParser:n[2]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&8&&(l.path=i[3]),s&2&&(l.onError=i[1]),s&4&&(l.pathParser=i[2]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function bue(n){let e=[],t=new Map,i,s,l,r=n[3];const o=f=>f[22];for(let f=0;f<r.length;f+=1){let u=a5(n,r,f),d=o(u);t.set(d,e[f]=f5(d,u))}let a=n[7]&&u5(n);return{c(){for(let f=0;f<e.length;f+=1)e[f].c();i=D(),a&&a.c(),s=Ee()},m(f,u){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(f,u);C(f,i,u),a&&a.m(f,u),C(f,s,u),l=!0},p(f,u){u&1288&&(r=f[3],ue(),e=Cn(e,u,o,1,f,r,t,i.parentNode,ii,f5,i,a5),ce()),f[7]?a?(a.p(f,u),u&128&&P(a,1)):(a=u5(f),a.c(),P(a,1),a.m(s.parentNode,s)):a&&(ue(),I(a,1,1,()=>{a=null}),ce())},i(f){if(!l){for(let u=0;u<r.length;u+=1)P(e[u]);P(a),l=!0}},o(f){for(let u=0;u<e.length;u+=1)I(e[u]);I(a),l=!1},d(f){for(let u=0;u<e.length;u+=1)e[u].d(f);f&&S(i),a&&a.d(f),f&&S(s)}}}function f5(n,e){let t,i,s;return i=new x7({props:{getItems:e[8],path:e[3],index:e[22],onSelect:e[10]}}),{key:n,first:null,c(){t=Ee(),U(i.$$.fragment),this.first=t},m(l,r){C(l,t,r),q(i,l,r),s=!0},p(l,r){e=l;const o={};r&8&&(o.path=e[3]),r&8&&(o.index=e[22]),i.$set(o)},i(l){s||(P(i.$$.fragment,l),s=!0)},o(l){I(i.$$.fragment,l),s=!1},d(l){l&&S(t),W(i,l)}}}function u5(n){let e,t;return e=new x7({props:{getItems:n[8],path:n[3],index:void 0,onSelect:n[10]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&8&&(l.path=i[3]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function _ue(n){let e,t,i,s,l,r,o=!$n(n[0])&&!n[6]?"Navigation bar":" ",a,f,u,d,h,p,g;const b=[bue,gue],_=[];function y(w,A){return w[6]?1:0}return t=y(n),i=_[t]=b[t](n),u=new Zt({props:{data:n[6]?n4:e4}}),{c(){e=k("div"),i.c(),s=D(),l=k("button"),r=k("span"),a=G(o),f=D(),U(u.$$.fragment),m(r,"class","jse-navigation-bar-space svelte-15r3ahw"),m(l,"type","button"),m(l,"class","jse-navigation-bar-edit svelte-15r3ahw"),m(l,"title",d=n[6]?"Cancel editing the selected path":"Edit the selected path"),$(l,"flex",!n[6]),$(l,"editing",n[6]),m(e,"class","jse-navigation-bar svelte-15r3ahw")},m(w,A){C(w,e,A),_[t].m(e,null),v(e,s),v(e,l),v(l,r),v(r,a),v(l,f),q(u,l,null),n[16](l),n[17](e),h=!0,p||(g=x(l,"click",n[11]),p=!0)},p(w,[A]){let M=t;t=y(w),t===M?_[t].p(w,A):(ue(),I(_[M],1,1,()=>{_[M]=null}),ce(),i=_[t],i?i.p(w,A):(i=_[t]=b[t](w),i.c()),P(i,1),i.m(e,s)),(!h||A&65)&&o!==(o=!$n(w[0])&&!w[6]?"Navigation bar":" ")&&pe(a,o);const T={};A&64&&(T.data=w[6]?n4:e4),u.$set(T),(!h||A&64&&d!==(d=w[6]?"Cancel editing the selected path":"Edit the selected path"))&&m(l,"title",d),(!h||A&64)&&$(l,"flex",!w[6]),(!h||A&64)&&$(l,"editing",w[6])},i(w){h||(P(i),P(u.$$.fragment,w),h=!0)},o(w){I(i),I(u.$$.fragment,w),h=!1},d(w){w&&S(e),_[t].d(),W(u),n[16](null),n[17](null),p=!1,g()}}}function yue(n,e,t){let i,s;const l=Gi("jsoneditor:NavigationBar");let{json:r}=e,{documentState:o}=e,{onSelect:a}=e,{onError:f}=e,{pathParser:u}=e,d,h,p=!1;function g(E){setTimeout(()=>{if(d&&d.scrollTo){const R=d.scrollWidth-d.clientWidth;R>0&&(l("scrollTo ",R),d.scrollTo({left:R,behavior:"smooth"}))}})}function b(E){l("get items for path",E);const R=dt(r,E);if(Array.isArray(R))return uie(0,R.length).map(String);if(Un(R)){const j=Object.keys(R).slice(0);return j.sort(hy),j}else return[]}function _(E){return hl(r,E)}function y(E){l("select path",JSON.stringify(E)),a(gi(r,E,E))}function w(){t(6,p=!p)}function A(){t(6,p=!1)}function M(E){A(),y(E)}function T(E){de[E?"unshift":"push"](()=>{h=E,t(5,h)})}function O(E){de[E?"unshift":"push"](()=>{d=E,t(4,d)})}return n.$$set=E=>{"json"in E&&t(0,r=E.json),"documentState"in E&&t(14,o=E.documentState),"onSelect"in E&&t(15,a=E.onSelect),"onError"in E&&t(1,f=E.onError),"pathParser"in E&&t(2,u=E.pathParser)},n.$$.update=()=>{n.$$.dirty&16384&&t(3,i=o.selection?o.selection.focusPath:[]),n.$$.dirty&9&&t(7,s=$n(dt(r,i))),n.$$.dirty&8&&g()},[r,f,u,i,d,h,p,s,b,_,y,w,A,M,o,a,T,O]}class vue extends ke{constructor(e){super(),ve(this,e,yue,_ue,jt,{json:0,documentState:14,onSelect:15,onError:1,pathParser:2})}}const kue=vue;function c5(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g=n[3]!==-1?`${n[3]+1}/`:"",b,_,y,w,A,M,T,O,E,R,N,j,L,F,B,V=!n[4]&&d5(n);const H=[Sue,wue],K=[];function X(z,Z){return z[2]?0:1}o=X(n),a=K[o]=H[o](n),A=new Zt({props:{data:ere}}),O=new Zt({props:{data:Vle}}),N=new Zt({props:{data:du}});let J=n[0]&&!n[4]&&h5(n);return{c(){e=k("div"),t=k("form"),V&&V.c(),i=D(),s=k("div"),l=k("div"),r=k("div"),a.c(),f=D(),u=k("label"),d=k("input"),h=D(),p=k("div"),b=G(g),_=G(n[10]),y=D(),w=k("button"),U(A.$$.fragment),M=D(),T=k("button"),U(O.$$.fragment),E=D(),R=k("button"),U(N.$$.fragment),j=D(),J&&J.c(),m(r,"class","jse-search-icon svelte-3lbrbf"),m(d,"class","jse-search-input svelte-3lbrbf"),m(d,"title","Enter text to search"),m(d,"type","text"),m(d,"placeholder","Find"),m(u,"class","jse-search-input-label svelte-3lbrbf"),m(u,"about","jse-search input"),m(p,"class","jse-search-count svelte-3lbrbf"),$(p,"jse-visible",n[8]!==""),m(w,"type","button"),m(w,"class","jse-search-next svelte-3lbrbf"),m(w,"title","Go to next search result (Enter)"),m(T,"type","button"),m(T,"class","jse-search-previous svelte-3lbrbf"),m(T,"title","Go to previous search result (Shift+Enter)"),m(R,"type","button"),m(R,"class","jse-search-clear svelte-3lbrbf"),m(R,"title","Close search box (Esc)"),m(l,"class","jse-search-section svelte-3lbrbf"),m(s,"class","jse-search-contents svelte-3lbrbf"),m(t,"class","jse-search-form svelte-3lbrbf"),m(e,"class","jse-search-box svelte-3lbrbf")},m(z,Z){C(z,e,Z),v(e,t),V&&V.m(t,null),v(t,i),v(t,s),v(s,l),v(l,r),K[o].m(r,null),v(l,f),v(l,u),v(u,d),Ae(d,n[8]),v(l,h),v(l,p),v(p,b),v(p,_),v(l,y),v(l,w),q(A,w,null),v(l,M),v(l,T),q(O,T,null),v(l,E),v(l,R),q(N,R,null),v(s,j),J&&J.m(s,null),L=!0,F||(B=[x(d,"input",n[21]),xe(Mue.call(null,d)),x(w,"click",n[22]),x(T,"click",n[23]),x(R,"click",n[24]),x(t,"submit",n[12]),x(t,"keydown",n[13])],F=!0)},p(z,Z){z[4]?V&&(ue(),I(V,1,1,()=>{V=null}),ce()):V?(V.p(z,Z),Z&16&&P(V,1)):(V=d5(z),V.c(),P(V,1),V.m(t,i));let Y=o;o=X(z),o===Y?K[o].p(z,Z):(ue(),I(K[Y],1,1,()=>{K[Y]=null}),ce(),a=K[o],a?a.p(z,Z):(a=K[o]=H[o](z),a.c()),P(a,1),a.m(r,null)),Z&256&&d.value!==z[8]&&Ae(d,z[8]),(!L||Z&8)&&g!==(g=z[3]!==-1?`${z[3]+1}/`:"")&&pe(b,g),(!L||Z&1024)&&pe(_,z[10]),(!L||Z&256)&&$(p,"jse-visible",z[8]!==""),z[0]&&!z[4]?J?J.p(z,Z):(J=h5(z),J.c(),J.m(s,null)):J&&(J.d(1),J=null)},i(z){L||(P(V),P(a),P(A.$$.fragment,z),P(O.$$.fragment,z),P(N.$$.fragment,z),L=!0)},o(z){I(V),I(a),I(A.$$.fragment,z),I(O.$$.fragment,z),I(N.$$.fragment,z),L=!1},d(z){z&&S(e),V&&V.d(),K[o].d(),W(A),W(O),W(N),J&&J.d(),F=!1,Ke(B)}}}function d5(n){let e,t,i,s,l;return t=new Zt({props:{data:n[0]?al:So}}),{c(){e=k("button"),U(t.$$.fragment),m(e,"type","button"),m(e,"class","jse-replace-toggle svelte-3lbrbf"),m(e,"title","Toggle visibility of replace options (Ctrl+H)")},m(r,o){C(r,e,o),q(t,e,null),i=!0,s||(l=x(e,"click",n[11]),s=!0)},p(r,o){const a={};o&1&&(a.data=r[0]?al:So),t.$set(a)},i(r){i||(P(t.$$.fragment,r),i=!0)},o(r){I(t.$$.fragment,r),i=!1},d(r){r&&S(e),W(t),s=!1,l()}}}function wue(n){let e,t;return e=new Zt({props:{data:iy}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p:te,i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Sue(n){let e,t;return e=new Zt({props:{data:Rle,spin:!0}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p:te,i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function h5(n){let e,t,i,s,l,r,o,a;return{c(){e=k("div"),t=k("input"),i=D(),s=k("button"),s.textContent="Replace",l=D(),r=k("button"),r.textContent="All",m(t,"class","jse-replace-input svelte-3lbrbf"),m(t,"title","Enter replacement text"),m(t,"type","text"),m(t,"placeholder","Replace"),m(s,"type","button"),m(s,"title","Replace current occurrence (Ctrl+Enter)"),m(s,"class","svelte-3lbrbf"),m(r,"type","button"),m(r,"title","Replace all occurrences"),m(r,"class","svelte-3lbrbf"),m(e,"class","jse-replace-section svelte-3lbrbf")},m(f,u){C(f,e,u),v(e,t),Ae(t,n[9]),v(e,i),v(e,s),v(e,l),v(e,r),o||(a=[x(t,"input",n[25]),x(s,"click",n[14]),x(r,"click",n[15])],o=!0)},p(f,u){u&512&&t.value!==f[9]&&Ae(t,f[9])},d(f){f&&S(e),o=!1,Ke(a)}}}function Cue(n){let e,t,i=n[1]&&c5(n);return{c(){i&&i.c(),e=Ee()},m(s,l){i&&i.m(s,l),C(s,e,l),t=!0},p(s,[l]){s[1]?i?(i.p(s,l),l&2&&P(i,1)):(i=c5(s),i.c(),P(i,1),i.m(e.parentNode,e)):i&&(ue(),I(i,1,1,()=>{i=null}),ce())},i(s){t||(P(i),t=!0)},o(s){I(i),t=!1},d(s){i&&i.d(s),s&&S(e)}}}function Mue(n){n.select()}function Tue(n,e,t){let i,s,{show:l=!1}=e,{searching:r}=e,{resultCount:o=0}=e,{activeIndex:a=0}=e,{showReplace:f=!1}=e,{readOnly:u=!1}=e,{onChange:d=ei}=e,{onPrevious:h=ei}=e,{onNext:p=ei}=e,{onReplace:g=ei}=e,{onReplaceAll:b=ei}=e,{onClose:_=ei}=e,y="",w="",A="";function M(){y!==""&&d(y)}function T(){t(0,f=!f&&!u)}function O(H){H.preventDefault(),y!==w?(w=y,s.cancel(),d(y)):p()}function E(H){H.stopPropagation();const K=Xo(H);K==="Enter"&&(H.preventDefault(),p()),K==="Shift+Enter"&&(H.preventDefault(),h()),K==="Ctrl+Enter"&&(H.preventDefault(),f?R():p()),K==="Ctrl+H"&&(H.preventDefault(),T()),K==="Escape"&&(H.preventDefault(),_())}function R(){u||g(y,A)}function N(){u||b(y,A)}function j(){y=this.value,t(8,y)}const L=()=>p(),F=()=>h(),B=()=>_();function V(){A=this.value,t(9,A)}return n.$$set=H=>{"show"in H&&t(1,l=H.show),"searching"in H&&t(2,r=H.searching),"resultCount"in H&&t(16,o=H.resultCount),"activeIndex"in H&&t(3,a=H.activeIndex),"showReplace"in H&&t(0,f=H.showReplace),"readOnly"in H&&t(4,u=H.readOnly),"onChange"in H&&t(17,d=H.onChange),"onPrevious"in H&&t(5,h=H.onPrevious),"onNext"in H&&t(6,p=H.onNext),"onReplace"in H&&t(18,g=H.onReplace),"onReplaceAll"in H&&t(19,b=H.onReplaceAll),"onClose"in H&&t(7,_=H.onClose)},n.$$.update=()=>{n.$$.dirty&65536&&t(10,i=o>=ub?`${ub-1}+`:String(o)),n.$$.dirty&131072&&t(20,s=wg(d,JD)),n.$$.dirty&1048832&&s(y),n.$$.dirty&2&&l&&M()},[f,l,r,a,u,h,p,_,y,A,i,T,O,E,R,N,o,d,g,b,s,j,L,F,B,V]}class Aue extends ke{constructor(e){super(),ve(this,e,Tue,Cue,jt,{show:1,searching:2,resultCount:16,activeIndex:3,showReplace:0,readOnly:4,onChange:17,onPrevious:5,onNext:6,onReplace:18,onReplaceAll:19,onClose:7})}}const Oue=Aue;var p5=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Eue(n,e){return!!(n===e||p5(n)&&p5(e))}function Pue(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!Eue(n[t],e[t]))return!1;return!0}function Ud(n,e){e===void 0&&(e=Pue);var t=null;function i(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var r=n.apply(this,s);return t={lastResult:r,lastArgs:s,lastThis:this},r}return i.clear=function(){t=null},i}const od=Symbol("path");function Due(n,e,t=1/0){const i={};Array.isArray(n)&&vie(n,t,l=>{Un(l)?Y7(l,i,e):i[od]=!0});const s=[];return od in i&&s.push([]),G7(i,[],s,e),s}function Y7(n,e,t){for(const i in n){const s=n[i],l=e[i]||(e[i]={});Un(s)&&t?Y7(s,l,t):l[od]===void 0&&(l[od]=!0)}}function G7(n,e,t,i){for(const s in n){const l=e.concat(s),r=n[s];r&&r[od]===!0&&t.push(l),li(r)&&i&&G7(r,l,t,i)}}function Iue(n,e){const t=new Set(e.map($e)),i=new Set(n.map($e));for(const s of t)i.has(s)||t.delete(s);for(const s of i)t.has(s)||t.add(s);return[...t].map(zl)}function Rue(n,e,t,i,s,l=80){const r=Fn(t)?t.length:0,o=Nue(i,s),a=n-l,f=e+2*l,u=y=>i[y]||s;let d=0,h=0;for(;h<a&&d<r;)h+=u(d),d++;d>0&&(d--,h-=u(d));let p=d,g=0;for(;g<f&&p<r;)g+=u(p),p++;let b=0;for(let y=p;y<r;y++)b+=u(y);const _=Fn(t)?t.slice(d,p):[];return{startIndex:d,endIndex:p,startHeight:h,endHeight:b,averageItemHeight:o,visibleHeight:g,visibleItems:_}}function t0(n,e,t,i){const{rowIndex:s}=wl(n,e);let l=0;for(let r=0;r<s;r++)l+=t[r]||i;return l}function Nue(n,e){const t=Object.values(n);if(Kt(t))return e;const i=(l,r)=>l+r;return t.reduce(i)/t.length}function Lue(n,e){const{rowIndex:t,columnIndex:i}=wl(e.focusPath,n);if(t>0){const s={rowIndex:t-1,columnIndex:i},l=$a(s,n);return $t(l,!1)}return e}function Fue(n,e,t){const{rowIndex:i,columnIndex:s}=wl(t.focusPath,e);if(i<n.length-1){const l={rowIndex:i+1,columnIndex:s},r=$a(l,e);return $t(r,!1)}return t}function jue(n,e){const{rowIndex:t,columnIndex:i}=wl(e.focusPath,n);if(i>0){const s={rowIndex:t,columnIndex:i-1},l=$a(s,n);return $t(l,!1)}return e}function Bue(n,e){const{rowIndex:t,columnIndex:i}=wl(e.focusPath,n);if(i<n.length-1){const s={rowIndex:t,columnIndex:i+1},l=$a(s,n);return $t(l,!1)}return e}function wl(n,e){const[t,...i]=n,s=parseInt(t,10);return{rowIndex:isNaN(s)?-1:s,columnIndex:e.findIndex(l=>cu(i,l))}}function $a(n,e){const{rowIndex:t,columnIndex:i}=n;return[String(t),...e[i]]}function Vue(n,e){const[t,i]=sie(n,r=>F2(r.path[0])),s=Sg(t,zue),l=Zne(s,r=>{const o={row:[],columns:{}};return r.forEach(a=>{const f=Hue(a,e);f!==-1?(o.columns[f]===void 0&&(o.columns[f]=[]),o.columns[f].push(a)):o.row.push(a)}),o});return{root:i,rows:l}}function mu(n,e){if(!(!e||e.length===0))return e.length===1?e[0]:{path:n,message:"Multiple validation issues: "+e.map(t=>Rs(t.path)+" "+t.message).join(", "),severity:Yr.warning}}function zue(n){return parseInt(n.path[0],10)}function Hue(n,e){const t=wl(n.path,e);return t.columnIndex!==-1?t.columnIndex:-1}function que(n,e,t){return e.some(s=>Wue(n.sortedColumn,s,t))?{...n,sortedColumn:void 0}:n}function Wue(n,e,t){if(!n)return!1;if(e.op==="replace"){const i=zl(e.path),{rowIndex:s,columnIndex:l}=wl(i,t),r=t.findIndex(o=>sn(o,n.path));if(s!==-1&&l!==-1&&l!==r)return!1}return!0}function Uue(n,e=2){const t=[];function i(s,l){li(s)&&l.length<e&&Object.keys(s).forEach(r=>{i(s[r],l.concat(r))}),Fn(s)&&t.push(l)}return i(n,[]),t}const ps=Gi("jsoneditor:actions");async function X7({json:n,documentState:e,indentation:t,readOnly:i,parser:s,onPatch:l}){if(i||n===void 0||!e.selection||!Fu(e.selection))return;const r=g7(n,e.selection,t,s);if(r==null)return;ps("cut",{selection:e.selection,clipboard:r,indentation:t}),await py(r);const{operations:o,newSelection:a}=k7(n,e.selection);l(o,(f,u)=>({state:{...u,selection:a}}))}async function Z7({json:n,documentState:e,indentation:t,parser:i}){const s=g7(n,e.selection,t,i);s!=null&&(ps("copy",{clipboard:s,indentation:t}),await py(s))}function Q7({clipboardText:n,json:e,documentState:t,readOnly:i,parser:s,onPatch:l,onChangeText:r,openRepairModal:o}){if(i)return;function a(f){if(e!==void 0){const u=t.selection||gi(e||{},[],[]),d=v7(e,u,f,s);ps("paste",{pastedText:f,operations:d,selection:u}),l(d,(h,p)=>{let g=p;return d.filter(b=>(YD(b)||O2(b))&&$n(b.value)).forEach(b=>{const _=cr(e,b.path);g=_o(h,g,_)}),{state:g}})}else ps("paste text",{pastedText:f}),r(n,(u,d)=>{if(u)return{state:_o(u,d,[])}})}try{a(n)}catch{o(n,u=>{ps("repaired pasted text: ",u),a(u)})}}function $7({json:n,text:e,documentState:t,keepSelection:i,readOnly:s,onChange:l,onPatch:r}){if(s||!t.selection)return;const o=n!==void 0&&(_i(t.selection)||Xt(t.selection))?gi(n,t.selection.anchorPath,t.selection.focusPath):t.selection;if(Kt(t.selection.focusPath))ps("remove root",{selection:t.selection}),l&&l({text:"",json:void 0},n!==void 0?{text:void 0,json:n}:{text:e||"",json:n},{contentErrors:null,patchResult:null});else if(n!==void 0){const{operations:a,newSelection:f}=k7(n,o);ps("remove",{operations:a,selection:t.selection,newSelection:f}),r(a,(u,d)=>({state:{...d,selection:i?t.selection:f}}))}}function Kue({json:n,documentState:e,columns:t,readOnly:i,onPatch:s}){if(i||n===void 0||!e.selection||!Fu(e.selection))return;const{rowIndex:l,columnIndex:r}=wl(e.selection.focusPath,t);ps("duplicate row",{rowIndex:l});const o=[String(l)],a=y7(n,[o]);s(a,(f,u)=>{const d=l<n.length?l+1:l,h=$a({rowIndex:d,columnIndex:r},t),p=$t(h,!1);return{state:{...u,selection:p}}})}function Jue({json:n,documentState:e,columns:t,readOnly:i,onPatch:s}){if(i||n===void 0||!e.selection||!Fu(e.selection))return;const{rowIndex:l}=wl(e.selection.focusPath,t);ps("insert before row",{rowIndex:l});const r=[String(l)],a=[{key:"",value:li(n[0])?{}:""}],f=wf(n,r,a);s(f)}function xue({json:n,documentState:e,columns:t,readOnly:i,onPatch:s}){if(i||n===void 0||!e.selection||!Fu(e.selection))return;const{rowIndex:l,columnIndex:r}=wl(e.selection.focusPath,t);ps("insert after row",{rowIndex:l});const o=l+1,a=[String(o)],u=[{key:"",value:li(n[0])?{}:""}],d=o<n.length?wf(n,a,u):Rb(n,[],u);s(d,(h,p)=>{const g=$a({rowIndex:o,columnIndex:r},t),b=$t(g,!1);return{state:{...p,selection:b}}})}function Yue({json:n,documentState:e,columns:t,readOnly:i,onPatch:s}){if(i||n===void 0||!e.selection||!Fu(e.selection))return;const{rowIndex:l,columnIndex:r}=wl(e.selection.focusPath,t);ps("remove row",{rowIndex:l});const o=[String(l)],a=fm([o]);s(a,(f,u)=>{const d=l<f.length?l:l>0?l-1:void 0,h=d!==void 0?$t($a({rowIndex:d,columnIndex:r},t),!1):void 0;return ps("remove row new selection",{rowIndex:l,newRowIndex:d,newSelection:h}),{state:{...u,selection:h}}})}function mm({insertType:n,selectInside:e,refJsonEditor:t,json:i,documentState:s,readOnly:l,parser:r,onPatch:o,onReplaceJson:a}){if(l||!s.selection)return;const f=sle(i,s.selection,n);if(i!==void 0){const u=r.stringify(f),d=v7(i,s.selection,u,r);ps("onInsert",{insertType:n,operations:d,newValue:f,data:u});const h=Ct(d.filter(p=>p.op==="add"||p.op==="replace"));o(d,(p,g)=>{if(h){const b=cr(p,h.path);if($n(f))return{state:{...sl(p,g,b,nd),selection:e?Lo(b):g.selection}};if(f===""){const _=Kt(b)?null:dt(p,en(b));return{state:Pb(p,{...s,selection:Un(_)?pl(b,!0):$t(b,!0)},b)}}return}}),ps("after patch"),h&&f===""&&gm(()=>lm(t,"",!0))}else{ps("onInsert",{insertType:n,newValue:f});const u=[];a(f,(d,h)=>({state:{..._o(d,h,u),selection:$t(u,!0)}}))}}async function eR({char:n,selectInside:e,refJsonEditor:t,json:i,documentState:s,readOnly:l,parser:r,onPatch:o,onReplaceJson:a,onSelect:f}){if(!(l||!s.selection)){if(_i(s.selection)){const u=!s.selection.edit;f({...s.selection,edit:!0}),gm(()=>lm(t,n,u));return}if(n==="{")mm({insertType:"object",selectInside:e,refJsonEditor:t,json:i,documentState:s,readOnly:l,parser:r,onPatch:o,onReplaceJson:a});else if(n==="[")mm({insertType:"array",selectInside:e,refJsonEditor:t,json:i,documentState:s,readOnly:l,parser:r,onPatch:o,onReplaceJson:a});else if(Xt(s.selection)&&i!==void 0){if(!$n(dt(i,s.selection.focusPath))){const u=!s.selection.edit;f({...s.selection,edit:!0}),gm(()=>lm(t,n,u))}}else ps("onInsertValueWithCharacter",{char:n}),await Gue({char:n,refJsonEditor:t,json:i,documentState:s,readOnly:l,parser:r,onPatch:o,onReplaceJson:a})}}async function Gue({char:n,refJsonEditor:e,json:t,documentState:i,readOnly:s,parser:l,onPatch:r,onReplaceJson:o}){if(s||!i.selection)return;mm({insertType:"value",selectInside:!1,refJsonEditor:e,json:t,documentState:i,readOnly:s,parser:l,onPatch:r,onReplaceJson:o});const a=!Fo(i.selection);gm(()=>lm(e,n,a))}function gm(n){setTimeout(()=>setTimeout(n))}function Xue(n){let e,t=kr(sm({text:n[0],json:n[1]},n[2],n[3]),Xp)+"",i;return{c(){e=k("div"),i=G(t),m(e,"class","jse-json-preview svelte-1ch6ow4")},m(s,l){C(s,e,l),v(e,i)},p(s,[l]){l&15&&t!==(t=kr(sm({text:s[0],json:s[1]},s[2],s[3]),Xp)+"")&&pe(i,t)},i:te,o:te,d(s){s&&S(e)}}}function Zue(n,e,t){let{text:i}=e,{json:s}=e,{indentation:l}=e,{parser:r}=e;return n.$$set=o=>{"text"in o&&t(0,i=o.text),"json"in o&&t(1,s=o.json),"indentation"in o&&t(2,l=o.indentation),"parser"in o&&t(3,r=o.parser)},[i,s,l,r]}class Que extends ke{constructor(e){super(),ve(this,e,Zue,Xue,De,{text:0,json:1,indentation:2,parser:3})}}const tR=Que;const{window:$ue}=L_;function m5(n){let e,t,i;function s(r){n[75](r)}let l={json:n[11],selection:n[17].selection,readOnly:n[0],historyState:n[23],onExpandAll:n[40],onCollapseAll:n[41],onUndo:n[36],onRedo:n[37],onSort:n[38],onTransform:n[39],onContextMenu:n[45],onCopy:n[34],onRenderMenu:n[7]};return n[20]!==void 0&&(l.showSearch=n[20]),e=new Yfe({props:l}),de.push(()=>Ne(e,"showSearch",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};o[0]&2048&&(a.json=r[11]),o[0]&131072&&(a.selection=r[17].selection),o[0]&1&&(a.readOnly=r[0]),o[0]&8388608&&(a.historyState=r[23]),o[0]&128&&(a.onRenderMenu=r[7]),!t&&o[0]&1048576&&(t=!0,a.showSearch=r[20],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function g5(n){let e,t;return e=new kue({props:{json:n[11],documentState:n[17],onSelect:n[49],onError:n[6],pathParser:n[4]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&2048&&(l.json=i[11]),s[0]&131072&&(l.documentState=i[17]),s[0]&64&&(l.onError=i[6]),s[0]&16&&(l.pathParser=i[4]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function ece(n){let e;return{c(){e=k("div"),e.innerHTML=`<div class="jse-loading-space svelte-1n5yill"></div> 
      <div class="jse-loading svelte-1n5yill">loading...</div>`,m(e,"class","jse-contents svelte-1n5yill")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function tce(n){let e,t,i,s,l,r,o,a,f;const u=[ice,nce],d=[];function h(p,g){return p[11]===void 0?0:1}return s=h(n),l=d[s]=u[s](n),{c(){e=k("label"),t=k("input"),i=D(),l.c(),r=Ee(),m(t,"type","text"),t.readOnly="readonly",m(t,"tabindex","-1"),m(t,"class","jse-hidden-input svelte-1n5yill"),m(e,"class","jse-hidden-input-label")},m(p,g){C(p,e,g),v(e,t),n[76](t),C(p,i,g),d[s].m(p,g),C(p,r,g),o=!0,a||(f=x(t,"paste",n[35]),a=!0)},p(p,g){let b=s;s=h(p),s===b?d[s].p(p,g):(ue(),I(d[b],1,1,()=>{d[b]=null}),ce(),l=d[s],l?l.p(p,g):(l=d[s]=u[s](p),l.c()),P(l,1),l.m(r.parentNode,r))},i(p){o||(P(l),o=!0)},o(p){I(l),o=!1},d(p){p&&S(e),n[76](null),p&&S(i),d[s].d(p),p&&S(r),a=!1,f()}}}function nce(n){var p,g,b,_;let e,t,i,s,l,r,o,a,f,u;t=new Oue({props:{show:n[20],resultCount:((g=(p=n[18])==null?void 0:p.items)==null?void 0:g.length)||0,activeIndex:((b=n[18])==null?void 0:b.activeIndex)||0,showReplace:n[21],searching:n[22],readOnly:n[0],onChange:n[27],onNext:n[28],onPrevious:n[29],onReplace:n[30],onReplaceAll:n[31],onClose:n[32]}}),l=new Hfe({props:{value:n[11],path:[],expandedMap:n[17].expandedMap,enforceStringMap:n[17].enforceStringMap,visibleSectionsMap:n[17].visibleSectionsMap,validationErrorsMap:n[25],searchResultItemsMap:(_=n[18])==null?void 0:_.itemsMap,selection:n[17].selection,context:n[14],onDragSelectionStart:ei}});let d=n[19]&&b5(n),h=n[24]&&_5(n);return f=new oy({props:{validationErrors:n[13],selectError:n[33]}}),{c(){e=k("div"),U(t.$$.fragment),i=D(),s=k("div"),U(l.$$.fragment),r=D(),d&&d.c(),o=D(),h&&h.c(),a=D(),U(f.$$.fragment),m(e,"class","jse-search-box-container svelte-1n5yill"),m(s,"class","jse-contents svelte-1n5yill"),m(s,"data-jsoneditor-scrollable-contents",!0)},m(y,w){C(y,e,w),q(t,e,null),C(y,i,w),C(y,s,w),q(l,s,null),n[77](s),C(y,r,w),d&&d.m(y,w),C(y,o,w),h&&h.m(y,w),C(y,a,w),q(f,y,w),u=!0},p(y,w){var O,E,R,N;const A={};w[0]&1048576&&(A.show=y[20]),w[0]&262144&&(A.resultCount=((E=(O=y[18])==null?void 0:O.items)==null?void 0:E.length)||0),w[0]&262144&&(A.activeIndex=((R=y[18])==null?void 0:R.activeIndex)||0),w[0]&2097152&&(A.showReplace=y[21]),w[0]&4194304&&(A.searching=y[22]),w[0]&1&&(A.readOnly=y[0]),t.$set(A);const M={};w[0]&2048&&(M.value=y[11]),w[0]&131072&&(M.expandedMap=y[17].expandedMap),w[0]&131072&&(M.enforceStringMap=y[17].enforceStringMap),w[0]&131072&&(M.visibleSectionsMap=y[17].visibleSectionsMap),w[0]&33554432&&(M.validationErrorsMap=y[25]),w[0]&262144&&(M.searchResultItemsMap=(N=y[18])==null?void 0:N.itemsMap),w[0]&131072&&(M.selection=y[17].selection),w[0]&16384&&(M.context=y[14]),l.$set(M),y[19]?d?(d.p(y,w),w[0]&524288&&P(d,1)):(d=b5(y),d.c(),P(d,1),d.m(o.parentNode,o)):d&&(ue(),I(d,1,1,()=>{d=null}),ce()),y[24]?h?(h.p(y,w),w[0]&16777216&&P(h,1)):(h=_5(y),h.c(),P(h,1),h.m(a.parentNode,a)):h&&(ue(),I(h,1,1,()=>{h=null}),ce());const T={};w[0]&8192&&(T.validationErrors=y[13]),f.$set(T)},i(y){u||(P(t.$$.fragment,y),P(l.$$.fragment,y),P(d),P(h),P(f.$$.fragment,y),u=!0)},o(y){I(t.$$.fragment,y),I(l.$$.fragment,y),I(d),I(h),I(f.$$.fragment,y),u=!1},d(y){y&&S(e),W(t),y&&S(i),y&&S(s),W(l),n[77](null),y&&S(r),d&&d.d(y),y&&S(o),h&&h.d(y),y&&S(a),W(f,y)}}}function ice(n){let e,t,i,s;const l=[lce,sce],r=[];function o(a,f){return a[12]===""||a[12]===void 0?0:1}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),i=Ee()},m(a,f){r[e].m(a,f),C(a,i,f),s=!0},p(a,f){let u=e;e=o(a),e===u?r[e].p(a,f):(ue(),I(r[u],1,1,()=>{r[u]=null}),ce(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),P(t,1),t.m(i.parentNode,i))},i(a){s||(P(t),s=!0)},o(a){I(t),s=!1},d(a){r[e].d(a),a&&S(i)}}}function b5(n){let e,t;return e=new Kl({props:{type:"info",message:`You pasted a JSON ${Array.isArray(n[19].contents)?"array":"object"} as text`,actions:[{icon:Eg,text:"Paste as JSON instead",onMouseDown:n[46]},{text:"Leave as is",onClick:n[47]}],onClose:n[78]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&524288&&(l.message=`You pasted a JSON ${Array.isArray(i[19].contents)?"array":"object"} as text`),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function _5(n){let e,t;return e=new Kl({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:n[0]?[]:[{icon:sd,text:"Ok",onClick:n[8]},{icon:jo,text:"Repair manually instead",onClick:n[48]}],onClose:n[9]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&1&&(l.actions=i[0]?[]:[{icon:sd,text:"Ok",onClick:i[8]},{icon:jo,text:"Repair manually instead",onClick:i[48]}]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function sce(n){let e,t,i,s;return e=new Kl({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:n[0]?[]:[{icon:jo,text:"Repair manually",onClick:n[48]}]}}),i=new tR({props:{text:n[12],json:n[11],indentation:n[5],parser:n[3]}}),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment)},m(l,r){q(e,l,r),C(l,t,r),q(i,l,r),s=!0},p(l,r){const o={};r[0]&1&&(o.actions=l[0]?[]:[{icon:jo,text:"Repair manually",onClick:l[48]}]),e.$set(o);const a={};r[0]&4096&&(a.text=l[12]),r[0]&2048&&(a.json=l[11]),r[0]&32&&(a.indentation=l[5]),r[0]&8&&(a.parser=l[3]),i.$set(a)},i(l){s||(P(e.$$.fragment,l),P(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){W(e,l),l&&S(t),W(i,l)}}}function lce(n){let e,t;return e=new Qfe({props:{readOnly:n[0]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&1&&(l.readOnly=i[0]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function rce(n){let e,t,i,s,l,r,o,a,f=n[1]&&m5(n),u=n[2]&&g5(n);const d=[tce,ece],h=[];function p(g,b){return g[26]?1:0}return s=p(n),l=h[s]=d[s](n),{c(){e=k("div"),f&&f.c(),t=D(),u&&u.c(),i=D(),l.c(),m(e,"class","jse-tree-mode svelte-1n5yill"),$(e,"no-main-menu",!n[1])},m(g,b){C(g,e,b),f&&f.m(e,null),v(e,t),u&&u.m(e,null),v(e,i),h[s].m(e,null),n[79](e),r=!0,o||(a=[x($ue,"mousedown",n[50]),x(e,"keydown",n[42]),x(e,"mousedown",n[43]),x(e,"contextmenu",n[44])],o=!0)},p(g,b){g[1]?f?(f.p(g,b),b[0]&2&&P(f,1)):(f=m5(g),f.c(),P(f,1),f.m(e,t)):f&&(ue(),I(f,1,1,()=>{f=null}),ce()),g[2]?u?(u.p(g,b),b[0]&4&&P(u,1)):(u=g5(g),u.c(),P(u,1),u.m(e,i)):u&&(ue(),I(u,1,1,()=>{u=null}),ce()),l.p(g,b),(!r||b[0]&2)&&$(e,"no-main-menu",!g[1])},i(g){r||(P(f),P(u),P(l),r=!0)},o(g){I(f),I(u),I(l),r=!1},d(g){g&&S(e),f&&f.d(),u&&u.d(),h[s].d(),n[79](null),o=!1,Ke(a)}}}function oce(n,e,t){let i;const s=Gi("jsoneditor:TreeMode"),l=typeof window>"u";s("isSSR:",l);const{open:r}=Ji("simple-modal"),o=lu(),a=lu(),{openAbsolutePopup:f,closeAbsolutePopup:u}=Ji("absolute-popup");let d,h,p,g=!1;const b=B7();let{readOnly:_}=e,{externalContent:y}=e,{mainMenuBar:w}=e,{navigationBar:A}=e,{escapeControlCharacters:M}=e,{escapeUnicodeCharacters:T}=e,{parser:O}=e,{parseMemoizeOne:E}=e,{validator:R}=e,{validationParser:N}=e,{pathParser:j}=e,{indentation:L}=e,{onError:F}=e,{onChange:B}=e,{onChangeMode:V}=e,{onRenderValue:H}=e,{onRenderMenu:K}=e,{onClassName:X}=e,{onFocus:J}=e,{onBlur:z}=e,{onSortModal:Z}=e,{onTransformModal:Y}=e,{onJSONEditorModal:oe}=e,re=!1;ry({onMount:Pn,onDestroy:ls,getWindow:()=>Lu(p),hasFocus:()=>re&&document.hasFocus()||rm(p),onFocus:()=>{g=!0,J&&J()},onBlur:()=>{g=!1,z&&z()}});let Q,me,qe;function be(se){s("updateSelection",se);const Pe=typeof se=="function"?se(he.selection):se;sn(Pe,he.selection)||t(17,he={...he,selection:Pe})}let Ie=!1,he=am(),Ve,Qe,it,ye=!1,ie=!1,we=!1,Ue="";async function Oe(se){s("search text updated",se),t(74,Ue=se),await nn(),await Le()}async function _e(){t(18,Ve=Ve?ole(Ve):void 0),await Le()}async function Ye(){t(18,Ve=Ve?ale(Ve):void 0),await Le()}async function St(se,Pe){const lt=Ve==null?void 0:Ve.activeItem;if(s("handleReplace",{replacementText:Pe,activeItem:lt}),!lt)return;const{operations:Vt,newSelection:at}=fle(Q,he,Pe,lt,O);di(Vt,(Tn,Mi)=>({state:{...Mi,selection:at}})),await nn(),await Le()}async function Et(se,Pe){s("handleReplaceAll",{text:se,replacementText:Pe});const{operations:lt,newSelection:Vt}=ule(Q,he,se,Pe,O);di(lt,(at,Tn)=>({state:{...Tn,selection:Vt}})),await nn(),await Le()}function Fe(){t(20,ye=!1),t(21,ie=!1),Oe(""),Bt()}async function Le(){const se=Ve==null?void 0:Ve.activeItem;if(s("focusActiveSearchResult",Ve),se){const Pe=se.path;t(17,he={...Pb(Q,he,Pe),selection:void 0}),await nn(),await Zi(Pe)}}function Pt(se,Pe){if(se===""){s("clearing search result"),Ve!==void 0&&t(18,Ve=void 0);return}t(22,we=!0),setTimeout(()=>{s("searching...",se);const lt=S7(se,Pe,ub);t(18,Ve=rle(Pe,lt,Ve)),t(22,we=!1)})}function tn(se){s("select validation error",se),be($t(se.path,!1)),Zi(se.path)}const ct=V7({onChange:se=>{t(23,Se=se)}});let Se=ct.getState();function Ut(se=nd){s("expand");const Pe={...he,expandedMap:{},visibleSectionsMap:{}};t(17,he=sl(Q,Pe,[],se))}const un=pie(Pt,kG);let pt=!1,rn=[],bn;const je=Ud(z7);function Xe(se,Pe,lt,Vt){Cf(()=>{let at;try{at=je(se,Pe,lt,Vt)}catch(Tn){at=[{path:[],message:"Failed to validate: "+Tn.message,severity:Yr.warning}]}sn(at,rn)||(s("validationErrors changed:",at),t(13,rn=at))},at=>s(`validationErrors updated in ${at} ms`))}function ot(){return s("validate"),qe?{parseError:qe,isRepairable:!1}:(Xe(Q,R,O,N),Kt(rn)?null:{validationErrors:rn})}function Dt(){return Q}function Te(){return he}function qn(se){se.json!==void 0&&Mn(se.json),se.text!==void 0&&Dn(se.text)}function Mn(se){if(se===void 0)return;const Pe=!sn(Q,se);if(s("update external json",{isChanged:Pe,currentlyText:Q===void 0}),!Pe)return;const lt={json:Q,text:me},Vt=he,at=Q,Tn=me,Mi=pt;t(11,Q=se),Gt(Q),t(12,me=void 0),t(24,pt=!1),qe=void 0,In(Q),ki({previousJson:at,previousState:Vt,previousText:Tn,previousTextIsRepaired:Mi}),Ml(lt,null)}function Dn(se){if(se===void 0||y.json!==void 0)return;const Pe=se!==me;if(s("update external text",{isChanged:Pe}),!Pe)return;const lt={json:Q,text:me},Vt=Q,at=he,Tn=me,Mi=pt;try{t(11,Q=E(se)),Gt(Q),t(12,me=se),t(24,pt=!1),qe=void 0}catch(Gn){try{t(11,Q=E(dr(se))),Gt(Q),t(12,me=se),t(24,pt=!0),qe=void 0,In(Q)}catch{t(11,Q=void 0),t(12,me=y.text),t(24,pt=!1),qe=me!==void 0&&me!==""?ru(me,Gn.message||Gn.toString()):void 0}}In(Q),ki({previousJson:Vt,previousState:at,previousText:Tn,previousTextIsRepaired:Mi}),Ml(lt,null)}function Gt(se){Ie||(Ie=!0,t(17,he=sl(se,he,[],Bse(se))))}function In(se){he.selection!==void 0&&(he.selection&&hl(se,he.selection.anchorPath)&&hl(se,he.selection.focusPath)||(s("clearing selection: path does not exist anymore",he.selection),t(17,he={...he,selection:gf(se,he)})))}function ki({previousJson:se,previousState:Pe,previousText:lt,previousTextIsRepaired:Vt}){se===void 0&&lt===void 0||(Q!==void 0?se!==void 0?ct.add({undo:{patch:[{op:"replace",path:"",value:se}],state:fs(Pe),json:void 0,text:lt,textIsRepaired:Vt},redo:{patch:[{op:"replace",path:"",value:Q}],state:fs(he),json:void 0,text:me,textIsRepaired:pt}}):ct.add({undo:{patch:void 0,json:void 0,text:lt,state:fs(Pe),textIsRepaired:Vt},redo:{patch:void 0,json:Q,state:fs(he),text:me,textIsRepaired:pt}}):se!==void 0&&ct.add({undo:{patch:void 0,json:se,state:fs(Pe),text:lt,textIsRepaired:Vt},redo:{patch:void 0,json:void 0,text:me,textIsRepaired:pt,state:fs(he)}}))}function ne(){s("createDefaultSelection"),t(17,he={...he,selection:gi(Q||{},[],[])})}function le(se,Pe){if(s("patch",se,Pe),Q===void 0)throw new Error("Cannot apply patch: no JSON");const lt={json:Q,text:me},Vt=Q,at=he,Tn=me,Mi=pt,Xs=w7(Q,se),Gn=r7(Q,he,se),ta=uu(Q,se),iv=Jse(Gn.documentState,ta,!1);s("patch updatedSelection",ta);const rf=typeof Pe=="function"?Pe(Gn.json,iv):void 0;t(11,Q=rf&&rf.json!==void 0?rf.json:Gn.json);const sv=rf&&rf.state!==void 0?rf.state:iv;t(17,he=sv),t(12,me=void 0),t(24,pt=!1),t(19,it=void 0),qe=void 0,In(Q),ct.add({undo:{patch:Xs,json:void 0,text:Tn,state:fs(at),textIsRepaired:Mi},redo:{patch:se,json:void 0,state:fs(sv),text:me,textIsRepaired:pt}});const lv={json:Q,previousJson:Vt,undo:Xs,redo:se};return Ml(lt,lv),lv}function ge(){_||!he.selection||be(pl(he.selection.focusPath,!0))}function Me(){if(_||!he.selection)return;const se=he.selection.focusPath,Pe=dt(Q,se);$n(Pe)?lf(se,Pe):be($t(se,!0))}function Je(){if(_||!Xt(he.selection))return;const se=he.selection.focusPath,Pe=$e(se),lt=dt(Q,se),Vt=!Xr(lt,he.enforceStringMap,Pe,O),at=Vt?String(lt):Du(String(lt),O);s("handleToggleEnforceString",{enforceString:Vt,value:lt,updatedValue:at}),di([{op:"replace",path:Pe,value:at}],(Tn,Mi)=>({state:l7(Mi,Pe,Vt)}))}function et(){return pt&&Q!==void 0&&fo(Q),{json:Q,text:me}}async function tt(se=!0){await X7({json:Q,documentState:he,indentation:se?L:void 0,readOnly:_,parser:O,onPatch:di})}async function Ze(se=!0){Q!==void 0&&await Z7({json:Q,documentState:he,indentation:se?L:void 0,parser:O})}function Tt(se){se.preventDefault();const Pe=se.clipboardData.getData("text/plain");Q7({clipboardText:Pe,json:Q,documentState:he,readOnly:_,parser:O,onPatch:di,onChangeText:Hu,openRepairModal:yt})}function st(){r(H7,{},{...ja,styleWindow:{width:"450px"}},{onClose:()=>Bt()})}function yt(se,Pe){r(W7,{text:se,onParse:Cg,onRepair:WI,onApply:Pe},{...ja,styleWindow:{width:"600px",height:"500px"},styleContent:{padding:0,height:"100%"}},{onClose:()=>Bt()})}function Qt(){$7({json:Q,text:me,documentState:he,keepSelection:!1,readOnly:_,onChange:B,onPatch:di})}function wi(){if(_||Q===void 0||!he.selection||!Fu(he.selection)||Kt(he.selection.focusPath))return;s("duplicate",{selection:he.selection});const se=y7(Q,b7(he.selection));di(se)}function Si(){if(_||!he.selection||!cn(he.selection)&&!Xt(he.selection)||Kt(he.selection.focusPath))return;s("extract",{selection:he.selection});const se=nle(Q,he.selection);di(se,(Pe,lt)=>{if($n(Pe))return{state:_o(Pe,lt,[])}})}function Xi(se){Q!==void 0&&mm({insertType:se,selectInside:!0,refJsonEditor:p,json:Q,documentState:he,readOnly:_,parser:O,onPatch:di,onReplaceJson:fo})}function Ce(se){_i(he.selection)&&be($t(he.selection.focusPath,!1)),Xi(se)}function Ft(se){if(!(_||!he.selection)){if(!Pa(he.selection)){F(new Error(`Cannot convert current selection to ${se}`));return}try{const Pe=he.selection.anchorPath,lt=dt(Q,Pe),Vt=Cie(lt,se,O);if(Vt===lt)return;const at=[{op:"replace",path:$e(Pe),value:Vt}];s("handleConvert",{selection:he.selection,path:Pe,type:se,operations:at}),di(at,(Tn,Mi)=>({state:_o(Tn,Mi,he.selection.focusPath)}))}catch(Pe){F(Pe)}}}function dn(){const se=WC(Q,he,!1),Pe=en(he.selection.focusPath);!Kt(se.focusPath)&&sn(Pe,en(se.focusPath))?be(Zr(se.focusPath)):be(Lo(Pe)),s("insert before",{selection:he.selection,selectionBefore:se,parentPath:Pe}),nn().then(We)}function Kn(){const se=cn(he.selection)?Ct(he.selection.paths):he.selection.focusPath;s("insert after",se),be(Zr(se)),nn().then(We)}async function Bn(se){await eR({char:se,selectInside:!0,refJsonEditor:p,json:Q,documentState:he,readOnly:_,parser:O,onPatch:di,onReplaceJson:fo,onSelect:be})}function Wn(){if(_||!ct.getState().canUndo)return;const se=ct.undo();if(!se)return;const Pe={json:Q,text:me};t(11,Q=se.undo.patch?jl(Q,se.undo.patch):se.undo.json),t(17,he=se.undo.state),t(12,me=se.undo.text),t(24,pt=se.undo.textIsRepaired),qe=void 0,s("undo",{item:se,json:Q,documentState:he});const lt={json:Q,previousJson:Pe.json,redo:se.undo.patch,undo:se.redo.patch};Ml(Pe,lt),Bt(),he.selection&&Zi(he.selection.focusPath,!1)}function Di(){if(_||!ct.getState().canRedo)return;const se=ct.redo();if(!se)return;const Pe={json:Q,text:me};t(11,Q=se.redo.patch?jl(Q,se.redo.patch):se.redo.json),t(17,he=se.redo.state),t(12,me=se.redo.text),t(24,pt=se.redo.textIsRepaired),qe=void 0,s("redo",{item:se,json:Q,documentState:he});const lt={json:Q,previousJson:Pe.json,redo:se.redo.patch,undo:se.undo.patch};Ml(Pe,lt),Bt(),he.selection&&Zi(he.selection.focusPath,!1)}function Fs(se){_||Q===void 0||(re=!0,Z({id:o,json:Q,rootPath:se,onSort:async({operations:Pe})=>{s("onSort",se,Pe),di(Pe,(lt,Vt)=>({state:{..._o(lt,Vt,se),selection:$t(se,!1)}}))},onClose:()=>{re=!1,Bt()}}))}function js(){if(!he.selection)return;const se=UC(Q,he.selection);Fs(se)}function xl(){Fs([])}function Or(se){if(Q===void 0)return;const{id:Pe,onTransform:lt,onClose:Vt}=se,at=se.rootPath||[];re=!0,Y({id:Pe||a,json:Q,rootPath:at,onTransform:Tn=>{lt?lt({operations:Tn,json:Q,transformedJson:jl(Q,Tn)}):(s("onTransform",at,Tn),di(Tn,(Mi,Xs)=>({state:{..._o(Mi,Xs,at),selection:$t(at,!1)}})))},onClose:()=>{re=!1,Bt(),Vt&&Vt()}})}function zu(){if(!he.selection)return;const se=UC(Q,he.selection);Or({rootPath:se})}function sf(){Or({rootPath:[]})}function lf(se,Pe){s("openJSONEditorModal",{path:se,value:Pe}),re=!0,oe({content:{json:Pe},path:se,onPatch:ea.onPatch,onClose:()=>{re=!1,Bt()}})}async function Zi(se,Pe=!0){t(17,he=Pb(Q,he,se)),await nn();const lt=oo(se);if(lt){s("scrollTo",{path:se,elem:lt,refContents:d});const Vt=d.getBoundingClientRect(),at=lt.getBoundingClientRect();if(!Pe&&at.bottom>Vt.top&&at.top<Vt.bottom)return Promise.resolve();const Tn=-(Vt.height/4);return new Promise(Mi=>{b(lt,{container:d,offset:Tn,duration:fb,callback:()=>Mi()})})}else return Promise.resolve()}function oo(se){return d?d.querySelector(`div[data-path="${au(se)}"]`):null}function ao(se){const Pe=oo(se);if(!Pe||!d)return;const lt=d.getBoundingClientRect(),Vt=Pe.getBoundingClientRect(),at=20,Tn=$n(dt(Q,se))?at:Vt.height;Vt.top<lt.top+at?b(Pe,{container:d,offset:-at,duration:0}):Vt.top+Tn>lt.bottom-at&&b(Pe,{container:d,offset:-(lt.height-Tn-at),duration:0})}function Ml(se,Pe){se.json===void 0&&(se==null?void 0:se.text)===void 0||(me!==void 0?B({text:me,json:void 0},se,{contentErrors:ot(),patchResult:Pe}):Q!==void 0&&B({text:void 0,json:Q},se,{contentErrors:ot(),patchResult:Pe}))}function di(se,Pe){if(!_)return s("handlePatch",se,Pe),le(se,Pe)}function fo(se,Pe){const lt=he,Vt=Q,at=me,Tn={json:Q,text:me},Mi=pt,Xs=sl(Q,he,[],rr),Gn=typeof Pe=="function"?Pe(se,Xs):void 0;t(11,Q=Gn&&Gn.json!==void 0?Gn.json:se),t(17,he=Gn&&Gn.state!==void 0?Gn.state:Xs),t(12,me=void 0),t(24,pt=!1),qe=void 0,In(Q),ki({previousJson:Vt,previousState:lt,previousText:at,previousTextIsRepaired:Mi}),Ml(Tn,null)}function Hu(se,Pe){s("handleChangeText");const lt=he,Vt=Q,at=me,Tn={json:Q,text:me},Mi=pt;try{t(11,Q=E(se)),t(17,he=sl(Q,he,[],rr)),t(12,me=void 0),t(24,pt=!1),qe=void 0}catch(Gn){try{t(11,Q=E(dr(se))),t(17,he=sl(Q,he,[],rr)),t(12,me=se),t(24,pt=!0),qe=void 0}catch{t(11,Q=void 0),t(17,he=am({json:Q,expand:rr})),t(12,me=se),t(24,pt=!1),qe=me!==""?ru(me,Gn.message||Gn.toString()):void 0}}if(typeof Pe=="function"){const Gn=Pe(Q,he);t(11,Q=Gn&&Gn.json?Gn.json:Q),t(17,he=Gn&&Gn.state?Gn.state:he)}In(Q),ki({previousJson:Vt,previousState:lt,previousText:at,previousTextIsRepaired:Mi}),Ml(Tn,null)}function Er(se,Pe,lt=!1){s("expand",{path:se,expanded:Pe,recursive:lt}),Pe?lt?t(17,he=sl(Q,he,se,nd)):t(17,he=Rse(he,se)):t(17,he=s7(he,se)),he.selection&&!Pe&&zse(he.selection,se)&&be(void 0),setTimeout(()=>{rm(p)||Bt()})}function qu(){Er([],!0,!0)}function Wu(){Er([],!1,!0)}function $o(se){s("openFind",{findAndReplace:se}),t(20,ye=!1),t(21,ie=!1),nn().then(()=>{t(20,ye=!0),t(21,ie=se)})}function Uu(se,Pe){s("handleExpandSection",se,Pe);const lt=$e(se);t(17,he=Nse(Q,he,lt,Pe))}function Ku(se){s("pasted json as text",se),t(19,it=se)}function Ju(se){const Pe=Xo(se),lt=se.shiftKey;if(s("keydown",{combo:Pe,key:se.key}),Pe==="Ctrl+X"&&(se.preventDefault(),tt(!0)),Pe==="Ctrl+Shift+X"&&(se.preventDefault(),tt(!1)),Pe==="Ctrl+C"&&(se.preventDefault(),Ze(!0)),Pe==="Ctrl+Shift+C"&&(se.preventDefault(),Ze(!1)),Pe==="Ctrl+D"&&(se.preventDefault(),wi()),(Pe==="Delete"||Pe==="Backspace")&&(se.preventDefault(),Qt()),Pe==="Insert"&&(se.preventDefault(),Xi("structure")),Pe==="Ctrl+A"&&(se.preventDefault(),be(xse())),Pe==="Ctrl+Q"&&We(se),Pe==="ArrowUp"||Pe==="Shift+ArrowUp"){se.preventDefault();const at=he.selection?WC(Q,he,lt,!0)||he.selection:gf(Q,he);be(at),ao(at.focusPath)}if(Pe==="ArrowDown"||Pe==="Shift+ArrowDown"){se.preventDefault();const at=he.selection?Hse(Q,he,lt,!0)||he.selection:gf(Q,he);be(at),ao(at.focusPath)}if(Pe==="ArrowLeft"||Pe==="Shift+ArrowLeft"){se.preventDefault();const at=he.selection?Wse(Q,he,lt,!_)||he.selection:gf(Q,he);be(at),ao(at.focusPath)}if(Pe==="ArrowRight"||Pe==="Shift+ArrowRight"){se.preventDefault();const at=he.selection&&Q!==void 0?Use(Q,he,lt,!_)||he.selection:gf(Q,he);be(at),ao(at.focusPath)}if(Pe==="Enter"&&he.selection){if(!_&&cn(he.selection)&&he.selection.paths.length===1){const at=he.selection.focusPath,Tn=dt(Q,en(at));Array.isArray(Tn)&&be($t(at,!1))}if(!_&&_i(he.selection)&&(se.preventDefault(),be({...he.selection,edit:!0})),Xt(he.selection)){se.preventDefault();const at=dt(Q,he.selection.focusPath);$n(at)?Er(he.selection.focusPath,!0):_||be({...he.selection,edit:!0})}}if(Pe.replace(/^Shift\+/,"").length===1&&he.selection){se.preventDefault(),Bn(se.key);return}if(Pe==="Enter"&&(Ll(he.selection)||Li(he.selection))){se.preventDefault(),Bn("");return}if(Pe==="Ctrl+Enter"&&Xt(he.selection)){const at=dt(Q,he.selection.focusPath);ug(at)&&window.open(String(at),"_blank")}if(Pe==="Escape"&&he.selection&&(se.preventDefault(),be(void 0)),Pe==="Ctrl+F"&&(se.preventDefault(),$o(!1)),Pe==="Ctrl+H"&&(se.preventDefault(),$o(!0)),Pe==="Ctrl+Z"){se.preventDefault();const at=document.activeElement;at&&at.blur&&at.focus?(at.blur(),setTimeout(()=>{Wn(),setTimeout(()=>at.select())})):Wn()}if(Pe==="Ctrl+Shift+Z"){se.preventDefault();const at=document.activeElement;at&&at.blur&&at.focus?(at.blur(),setTimeout(()=>{Di(),setTimeout(()=>at.select())})):Di()}}function xu(se){s("handleMouseDown",se),setTimeout(()=>{setTimeout(()=>{!g&&!ZI(se.target,"BUTTON")&&(Bt(),!he.selection&&Q===void 0&&(me===""||me===void 0)&&ne())})})}function fe({anchor:se,left:Pe,top:lt,width:Vt,height:at,offsetTop:Tn,offsetLeft:Mi,showTip:Xs}){const Gn={json:Q,documentState:he,parser:O,showTip:Xs,onEditKey:ge,onEditValue:Me,onToggleEnforceString:Je,onCut:tt,onCopy:Ze,onPaste:st,onRemove:Qt,onDuplicate:wi,onExtract:Si,onInsertBefore:dn,onInsert:Ce,onConvert:Ft,onInsertAfter:Kn,onSort:js,onTransform:zu,onCloseContextMenu(){u(ta),Bt()}};re=!0;const ta=f(Kae,Gn,{left:Pe,top:lt,offsetTop:Tn,offsetLeft:Mi,width:Vt,height:at,anchor:se,closeOnOuterClick:!0,onClose:()=>{re=!1,Bt()}})}function We(se){if(!(_||Fo(he.selection))){if(se&&(se.stopPropagation(),se.preventDefault()),se&&se.type==="contextmenu"&&se.target!==h)fe({left:se.clientX,top:se.clientY,width:Hr,height:zr,showTip:!1});else{const Pe=d==null?void 0:d.querySelector(".jse-context-menu-pointer.jse-selected");if(Pe)fe({anchor:Pe,offsetTop:2,width:Hr,height:zr,showTip:!1});else{const lt=d==null?void 0:d.getBoundingClientRect();lt&&fe({top:lt.top+2,left:lt.left+2,width:Hr,height:zr,showTip:!1})}}return!1}}function bt(se){_||fe({anchor:$I(se.target,"BUTTON"),offsetTop:0,width:Hr,height:zr,showTip:!0})}async function vt(){s("apply pasted json",it);const{path:se,contents:Pe}=it;be($t(se,!1)),await nn();const lt=[{op:"replace",path:$e(se),value:Pe}];di(lt,(Vt,at)=>({state:_o(Vt,at,se)}))}function ae(){s("clear pasted json"),t(19,it=void 0)}function Ge(){V($i.text)}function zt(se){be(se),Bt(),Zi(se.focusPath)}function Bt(){s("focus"),h&&(h.focus(),h.select())}function on(se){!Vd(se.target,lt=>lt===p)&&Fo(he.selection)&&(s("click outside the editor, stop edit mode"),be(lt=>_i(lt)?{...lt,edit:!1}:Xt(lt)?{...lt,edit:!1}:lt),g&&h&&(h.focus(),h.blur()),nn().then(()=>{setTimeout(()=>{h&&h.blur()})}))}function Ci(se){return qse(Q,he,se)}function Pr(se){i&&i.onDrag(se)}function th(){i&&i.onDragEnd()}let ea;function ML(se){ye=se,t(20,ye)}function TL(se){de[se?"unshift":"push"](()=>{h=se,t(15,h)})}function AL(se){de[se?"unshift":"push"](()=>{d=se,t(10,d)})}const OL=()=>{setTimeout(Bt)};function EL(se){de[se?"unshift":"push"](()=>{p=se,t(16,p)})}return n.$$set=se=>{"readOnly"in se&&t(0,_=se.readOnly),"externalContent"in se&&t(51,y=se.externalContent),"mainMenuBar"in se&&t(1,w=se.mainMenuBar),"navigationBar"in se&&t(2,A=se.navigationBar),"escapeControlCharacters"in se&&t(52,M=se.escapeControlCharacters),"escapeUnicodeCharacters"in se&&t(53,T=se.escapeUnicodeCharacters),"parser"in se&&t(3,O=se.parser),"parseMemoizeOne"in se&&t(54,E=se.parseMemoizeOne),"validator"in se&&t(55,R=se.validator),"validationParser"in se&&t(56,N=se.validationParser),"pathParser"in se&&t(4,j=se.pathParser),"indentation"in se&&t(5,L=se.indentation),"onError"in se&&t(6,F=se.onError),"onChange"in se&&t(57,B=se.onChange),"onChangeMode"in se&&t(58,V=se.onChangeMode),"onRenderValue"in se&&t(59,H=se.onRenderValue),"onRenderMenu"in se&&t(7,K=se.onRenderMenu),"onClassName"in se&&t(60,X=se.onClassName),"onFocus"in se&&t(61,J=se.onFocus),"onBlur"in se&&t(62,z=se.onBlur),"onSortModal"in se&&t(63,Z=se.onSortModal),"onTransformModal"in se&&t(64,Y=se.onTransformModal),"onJSONEditorModal"in se&&t(65,oe=se.onJSONEditorModal)},n.$$.update=()=>{n.$$.dirty[1]&6291456&&t(73,Qe=G2({escapeControlCharacters:M,escapeUnicodeCharacters:T})),n.$$.dirty[1]&1048576&&qn(y),n.$$.dirty[0]&2048|n.$$.dirty[2]&4096&&un(Ue,Q),n.$$.dirty[0]&6144,n.$$.dirty[0]&2056|n.$$.dirty[1]&50331648&&Xe(Q,R,O,N),n.$$.dirty[0]&8192&&t(25,bn=Coe(rn)),n.$$.dirty[0]&1024&&(i=d?koe(d):void 0),n.$$.dirty[0]&9|n.$$.dirty[1]&805306368|n.$$.dirty[2]&2048&&t(14,ea={readOnly:_,parser:O,normalization:Qe,getJson:Dt,getDocumentState:Te,findElement:oo,findNextInside:Ci,focus:Bt,onPatch:di,onInsert:Xi,onExpand:Er,onSelect:be,onFind:$o,onExpandSection:Uu,onPasteJson:Ku,onRenderValue:H,onContextMenu:fe,onClassName:X||(()=>{}),onDrag:Pr,onDragEnd:th}),n.$$.dirty[0]&16384&&s("context changed",ea)},[_,w,A,O,j,L,F,K,et,Bt,d,Q,me,rn,ea,h,p,he,Ve,it,ye,ie,we,Se,pt,bn,l,Oe,_e,Ye,St,Et,Fe,tn,Ze,Tt,Wn,Di,xl,sf,qu,Wu,Ju,xu,We,bt,vt,ae,Ge,zt,on,y,M,T,E,R,N,B,V,H,X,J,z,Z,Y,oe,Ut,ot,Dt,le,Or,Zi,oo,Qe,Ue,ML,TL,AL,OL,EL]}class ace extends ke{constructor(e){super(),ve(this,e,oce,rce,jt,{readOnly:0,externalContent:51,mainMenuBar:1,navigationBar:2,escapeControlCharacters:52,escapeUnicodeCharacters:53,parser:3,parseMemoizeOne:54,validator:55,validationParser:56,pathParser:4,indentation:5,onError:6,onChange:57,onChangeMode:58,onRenderValue:59,onRenderMenu:7,onClassName:60,onFocus:61,onBlur:62,onSortModal:63,onTransformModal:64,onJSONEditorModal:65,expand:66,validate:67,getJson:68,patch:69,acceptAutoRepair:8,openTransformModal:70,scrollTo:71,findElement:72,focus:9},null,[-1,-1,-1,-1,-1])}get expand(){return this.$$.ctx[66]}get validate(){return this.$$.ctx[67]}get getJson(){return this.$$.ctx[68]}get patch(){return this.$$.ctx[69]}get acceptAutoRepair(){return this.$$.ctx[8]}get openTransformModal(){return this.$$.ctx[70]}get scrollTo(){return this.$$.ctx[71]}get findElement(){return this.$$.ctx[72]}get focus(){return this.$$.ctx[9]}}const my=ace;function y5(n){let e,t,i,s,l;const r=[uce,fce],o=[];function a(f,u){return u[0]&16384&&(e=null),e==null&&(e=!!Array.isArray(f[14])),e?0:1}return t=a(n,[-1,-1]),i=o[t]=r[t](n),{c(){i.c(),s=Ee()},m(f,u){o[t].m(f,u),C(f,s,u),l=!0},p(f,u){let d=t;t=a(f,u),t===d?o[t].p(f,u):(ue(),I(o[d],1,1,()=>{o[d]=null}),ce(),i=o[t],i?i.p(f,u):(i=o[t]=r[t](f),i.c()),P(i,1),i.m(s.parentNode,s))},i(f){l||(P(i),l=!0)},o(f){I(i),l=!1},d(f){o[t].d(f),f&&S(s)}}}function fce(n){let e;return{c(){e=G("(Only available for arrays, not for objects)")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function uce(n){let e,t;return e=new uoe({props:{queryOptions:n[12],json:n[14],onChange:n[22]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&4096&&(l.queryOptions=i[12]),s[0]&16384&&(l.json=i[14]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function v5(n){let e,t;return e=new my({props:{externalContent:n[19],readOnly:!0,mainMenuBar:!1,navigationBar:!1,indentation:n[2],escapeControlCharacters:n[3],escapeUnicodeCharacters:n[4],parser:n[5],parseMemoizeOne:n[6],onRenderValue:n[10],onRenderMenu:ei,onError:console.error,onChange:ei,onChangeMode:ei,onFocus:ei,onBlur:ei,onSortModal:ei,onTransformModal:ei,onJSONEditorModal:ei,onClassName:n[11],validator:null,validationParser:n[7],pathParser:n[8]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&524288&&(l.externalContent=i[19]),s[0]&4&&(l.indentation=i[2]),s[0]&8&&(l.escapeControlCharacters=i[3]),s[0]&16&&(l.escapeUnicodeCharacters=i[4]),s[0]&32&&(l.parser=i[5]),s[0]&64&&(l.parseMemoizeOne=i[6]),s[0]&1024&&(l.onRenderValue=i[10]),s[0]&2048&&(l.onClassName=i[11]),s[0]&128&&(l.validationParser=i[7]),s[0]&256&&(l.pathParser=i[8]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function cce(n){let e,t;return{c(){e=k("div"),t=G(n[17]),m(e,"class","jse-preview jse-error svelte-107mggt")},m(i,s){C(i,e,s),v(e,t)},p(i,s){s[0]&131072&&pe(t,i[17])},i:te,o:te,d(i){i&&S(e)}}}function dce(n){let e,t;return e=new my({props:{externalContent:n[18],readOnly:!0,mainMenuBar:!1,navigationBar:!1,indentation:n[2],escapeControlCharacters:n[3],escapeUnicodeCharacters:n[4],parser:n[5],parseMemoizeOne:n[6],onRenderValue:n[10],onRenderMenu:ei,onError:console.error,onChange:ei,onChangeMode:ei,onFocus:ei,onBlur:ei,onSortModal:ei,onTransformModal:ei,onJSONEditorModal:ei,onClassName:n[11],validator:null,validationParser:n[7],pathParser:n[8]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&262144&&(l.externalContent=i[18]),s[0]&4&&(l.indentation=i[2]),s[0]&8&&(l.escapeControlCharacters=i[3]),s[0]&16&&(l.escapeUnicodeCharacters=i[4]),s[0]&32&&(l.parser=i[5]),s[0]&64&&(l.parseMemoizeOne=i[6]),s[0]&1024&&(l.onRenderValue=i[10]),s[0]&2048&&(l.onClassName=i[11]),s[0]&128&&(l.validationParser=i[7]),s[0]&256&&(l.pathParser=i[8]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function hce(n){let e,t,i,s,l,r,o,a,f=n[21](n[0]).description+"",u,d,h,p,g,b,_,y,w,A,M,T,O,E,R,N,j,L,F,B,V,H,K,X,J,z,Z,Y,oe,re,Q,me,qe,be,Ie,he,Ve,Qe,it;e=new voe({props:{queryLanguages:n[9],queryLanguageId:n[0],onChangeQueryLanguage:n[27]}}),A=new Zt({props:{data:n[15]?al:So}});let ye=n[15]&&y5(n);K=new Zt({props:{data:n[16]?al:So}});let ie=n[16]&&v5(n);const we=[dce,cce],Ue=[];function Oe(_e,Ye){return _e[17]?1:0}return re=Oe(n),Q=Ue[re]=we[re](n),{c(){U(e.$$.fragment),t=D(),i=k("div"),s=k("div"),l=k("div"),r=k("div"),r.innerHTML='<div class="jse-label-inner svelte-107mggt">Language</div>',o=D(),a=k("div"),u=D(),d=k("div"),d.innerHTML='<div class="jse-label-inner svelte-107mggt">Path</div>',h=D(),p=k("input"),b=D(),_=k("div"),y=k("div"),w=k("button"),U(A.$$.fragment),M=G(`
                Wizard`),T=D(),ye&&ye.c(),O=D(),E=k("div"),E.innerHTML='<div class="jse-label-inner svelte-107mggt">Query</div>',R=D(),N=k("textarea"),j=D(),L=k("div"),F=k("div"),B=k("div"),V=k("div"),H=k("button"),U(K.$$.fragment),X=G(`
                  Original`),J=D(),ie&&ie.c(),z=D(),Z=k("div"),Y=k("div"),Y.innerHTML='<div class="jse-label-inner svelte-107mggt">Preview</div>',oe=D(),Q.c(),me=D(),qe=k("div"),be=k("button"),Ie=G("Transform"),m(r,"class","jse-label svelte-107mggt"),m(a,"class","jse-description svelte-107mggt"),m(d,"class","jse-label svelte-107mggt"),m(p,"class","jse-path svelte-107mggt"),m(p,"type","text"),p.readOnly=!0,m(p,"title","Selected path"),p.value=g=Kt(n[1])?"(whole document)":Rs(n[1]),m(w,"type","button"),m(w,"class","svelte-107mggt"),m(y,"class","jse-label-inner svelte-107mggt"),m(_,"class","jse-label svelte-107mggt"),m(E,"class","jse-label svelte-107mggt"),m(N,"class","jse-query svelte-107mggt"),m(N,"spellcheck","false"),N.value=n[13],m(l,"class","jse-query-contents svelte-107mggt"),m(H,"type","button"),m(H,"class","svelte-107mggt"),m(V,"class","jse-label-inner svelte-107mggt"),m(B,"class","jse-label svelte-107mggt"),m(F,"class","jse-original-data svelte-107mggt"),$(F,"jse-hide",!n[16]),m(Y,"class","jse-label svelte-107mggt"),m(Z,"class","jse-preview-data svelte-107mggt"),m(L,"class","jse-data-contents svelte-107mggt"),$(L,"jse-hide-original-data",!n[16]),m(s,"class","jse-main-contents svelte-107mggt"),m(be,"type","button"),m(be,"class","jse-primary svelte-107mggt"),be.disabled=he=!!n[17],m(qe,"class","jse-actions svelte-107mggt"),m(i,"class","jse-modal-contents svelte-107mggt")},m(_e,Ye){q(e,_e,Ye),C(_e,t,Ye),C(_e,i,Ye),v(i,s),v(s,l),v(l,r),v(l,o),v(l,a),a.innerHTML=f,v(l,u),v(l,d),v(l,h),v(l,p),v(l,b),v(l,_),v(_,y),v(y,w),q(A,w,null),v(w,M),v(l,T),ye&&ye.m(l,null),v(l,O),v(l,E),v(l,R),v(l,N),v(s,j),v(s,L),v(L,F),v(F,B),v(B,V),v(V,H),q(K,H,null),v(H,X),v(F,J),ie&&ie.m(F,null),v(L,z),v(L,Z),v(Z,Y),v(Z,oe),Ue[re].m(Z,null),v(i,me),v(i,qe),v(qe,be),v(be,Ie),Ve=!0,Qe||(it=[x(w,"click",n[25]),x(N,"input",n[23]),x(H,"click",n[26]),x(be,"click",n[24]),xe(mce.call(null,be))],Qe=!0)},p(_e,Ye){const St={};Ye[0]&512&&(St.queryLanguages=_e[9]),Ye[0]&1&&(St.queryLanguageId=_e[0]),e.$set(St),(!Ve||Ye[0]&1)&&f!==(f=_e[21](_e[0]).description+"")&&(a.innerHTML=f),(!Ve||Ye[0]&2&&g!==(g=Kt(_e[1])?"(whole document)":Rs(_e[1]))&&p.value!==g)&&(p.value=g);const Et={};Ye[0]&32768&&(Et.data=_e[15]?al:So),A.$set(Et),_e[15]?ye?(ye.p(_e,Ye),Ye[0]&32768&&P(ye,1)):(ye=y5(_e),ye.c(),P(ye,1),ye.m(l,O)):ye&&(ue(),I(ye,1,1,()=>{ye=null}),ce()),(!Ve||Ye[0]&8192)&&(N.value=_e[13]);const Fe={};Ye[0]&65536&&(Fe.data=_e[16]?al:So),K.$set(Fe),_e[16]?ie?(ie.p(_e,Ye),Ye[0]&65536&&P(ie,1)):(ie=v5(_e),ie.c(),P(ie,1),ie.m(F,null)):ie&&(ue(),I(ie,1,1,()=>{ie=null}),ce()),(!Ve||Ye[0]&65536)&&$(F,"jse-hide",!_e[16]);let Le=re;re=Oe(_e),re===Le?Ue[re].p(_e,Ye):(ue(),I(Ue[Le],1,1,()=>{Ue[Le]=null}),ce(),Q=Ue[re],Q?Q.p(_e,Ye):(Q=Ue[re]=we[re](_e),Q.c()),P(Q,1),Q.m(Z,null)),(!Ve||Ye[0]&65536)&&$(L,"jse-hide-original-data",!_e[16]),(!Ve||Ye[0]&131072&&he!==(he=!!_e[17]))&&(be.disabled=he)},i(_e){Ve||(P(e.$$.fragment,_e),P(A.$$.fragment,_e),P(ye),P(K.$$.fragment,_e),P(ie),P(Q),Ve=!0)},o(_e){I(e.$$.fragment,_e),I(A.$$.fragment,_e),I(ye),I(K.$$.fragment,_e),I(ie),I(Q),Ve=!1},d(_e){W(e,_e),_e&&S(t),_e&&S(i),W(A),ye&&ye.d(),W(K),ie&&ie.d(),Ue[re].d(),Qe=!1,Ke(it)}}}function pce(n){let e,t,i,s,l;return t=new t7({props:{$$slots:{default:[hce]},$$scope:{ctx:n}}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","jse-modal jse-transform svelte-107mggt")},m(r,o){C(r,e,o),q(t,e,null),i=!0,s||(l=xe(Bg.call(null,e,n[20])),s=!0)},p(r,o){const a={};o[0]&1048575|o[1]&256&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(r){i||(P(t.$$.fragment,r),i=!0)},o(r){I(t.$$.fragment,r),i=!1},d(r){r&&S(e),W(t),s=!1,l()}}}function mce(n){n.focus()}function gce(n,e,t){let i,s;const l=Gi("jsoneditor:TransformModal");let{id:r="transform-modal-"+Ic()}=e,{json:o}=e,{rootPath:a=[]}=e,{indentation:f}=e,{escapeControlCharacters:u}=e,{escapeUnicodeCharacters:d}=e,{parser:h}=e,{parseMemoizeOne:p}=e,{validationParser:g}=e,{pathParser:b}=e,{queryLanguages:_}=e,{queryLanguageId:y}=e,{onChangeQueryLanguage:w}=e,{onRenderValue:A}=e,{onClassName:M}=e,{onTransform:T}=e;const{close:O}=Ji("simple-modal"),E=`${r}:${$e(a)}`,R=Ol[E]||{};let N=Ol.showWizard!==!1,j=Ol.showOriginal!==!1,L=R.queryOptions||{},F=y===R.queryLanguageId&&R.query?R.query:K(y).createQuery(o,R.queryOptions||{}),B=R.isManual||!1,V,H={text:""};function K(me){return _.find(qe=>qe.id===me)||_[0]}function X(me){t(12,L=me),t(13,F=K(y).createQuery(o,me)),t(33,B=!1),l("updateQueryByWizard",{queryOptions:L,query:F,isManual:B})}function J(me){t(13,F=me.target.value),t(33,B=!0),l("handleChangeQuery",{query:F,isManual:B})}function z(me,qe){try{l("previewTransform",{query:qe});const be=K(y).executeQuery(me,qe,h);t(18,H={json:be}),t(17,V=void 0)}catch(be){t(18,H={text:""}),t(17,V=be.toString())}}const Z=wg(z,JD);function Y(){try{l("handleTransform",{query:F});const me=K(y).executeQuery(i,F,h);T([{op:"replace",path:$e(a),value:me}]),O()}catch(me){console.error(me),t(18,H={text:""}),t(17,V=me.toString())}}function oe(){t(15,N=!N),t(32,Ol.showWizard=N,Ol)}function re(){t(16,j=!j),t(32,Ol.showOriginal=j,Ol)}function Q(me){l("handleChangeQueryLanguage",me),t(0,y=me),w(me);const qe=K(y);t(13,F=qe.createQuery(o,L)),t(33,B=!1)}return n.$$set=me=>{"id"in me&&t(28,r=me.id),"json"in me&&t(29,o=me.json),"rootPath"in me&&t(1,a=me.rootPath),"indentation"in me&&t(2,f=me.indentation),"escapeControlCharacters"in me&&t(3,u=me.escapeControlCharacters),"escapeUnicodeCharacters"in me&&t(4,d=me.escapeUnicodeCharacters),"parser"in me&&t(5,h=me.parser),"parseMemoizeOne"in me&&t(6,p=me.parseMemoizeOne),"validationParser"in me&&t(7,g=me.validationParser),"pathParser"in me&&t(8,b=me.pathParser),"queryLanguages"in me&&t(9,_=me.queryLanguages),"queryLanguageId"in me&&t(0,y=me.queryLanguageId),"onChangeQueryLanguage"in me&&t(30,w=me.onChangeQueryLanguage),"onRenderValue"in me&&t(10,A=me.onRenderValue),"onClassName"in me&&t(11,M=me.onClassName),"onTransform"in me&&t(31,T=me.onTransform)},n.$$.update=()=>{n.$$.dirty[0]&536870914&&t(14,i=dt(o,a)),n.$$.dirty[0]&16384&&t(19,s={json:i}),n.$$.dirty[0]&24576&&Z(i,F),n.$$.dirty[0]&12289|n.$$.dirty[1]&6&&(t(32,Ol[E]={queryOptions:L,query:F,queryLanguageId:y,isManual:B},Ol),l("store state in memory",E,Ol[E]))},[y,a,f,u,d,h,p,g,b,_,A,M,L,F,i,N,j,V,H,s,O,K,X,J,Y,oe,re,Q,r,o,w,T,Ol,B]}class bce extends ke{constructor(e){super(),ve(this,e,gce,pce,jt,{id:28,json:29,rootPath:1,indentation:2,escapeControlCharacters:3,escapeUnicodeCharacters:4,parser:5,parseMemoizeOne:6,validationParser:7,pathParser:8,queryLanguages:9,queryLanguageId:0,onChangeQueryLanguage:30,onRenderValue:10,onClassName:11,onTransform:31},null,[-1,-1])}}const _ce=bce,ho={};function k5(n){let e,t,i,s,l,r,o;function a(u){n[14](u)}let f={showChevron:!0,items:n[3]};return n[1]!==void 0&&(f.value=n[1]),l=new ba({props:f}),de.push(()=>Ne(l,"value",a)),{c(){e=k("tr"),t=k("th"),t.textContent="Property",i=D(),s=k("td"),U(l.$$.fragment),m(t,"class","svelte-1y818v2"),m(s,"class","svelte-1y818v2")},m(u,d){C(u,e,d),v(e,t),v(e,i),v(e,s),q(l,s,null),o=!0},p(u,d){const h={};d&8&&(h.items=u[3]),!r&&d&2&&(r=!0,h.value=u[1],Be(()=>r=!1)),l.$set(h)},i(u){o||(P(l.$$.fragment,u),o=!0)},o(u){I(l.$$.fragment,u),o=!1},d(u){u&&S(e),W(l)}}}function w5(n){let e,t;return{c(){e=k("div"),t=G(n[5]),m(e,"class","jse-error svelte-1y818v2")},m(i,s){C(i,e,s),v(e,t)},p(i,s){s&32&&pe(t,i[5])},d(i){i&&S(e)}}}function yce(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E,R,N,j,L,F,B,V,H,K;t=new ay({props:{title:n[4]?"Sort array items":"Sort object keys"}});let X=n[4]&&(n[3].length>1||n[1]===void 0)&&k5(n);function J(Y){n[15](Y)}let z={showChevron:!0,clearable:!1,items:n[7]};n[2]!==void 0&&(z.value=n[2]),T=new ba({props:z}),de.push(()=>Ne(T,"value",J));let Z=n[5]&&w5(n);return{c(){e=k("div"),U(t.$$.fragment),i=D(),s=k("div"),l=k("table"),r=k("colgroup"),r.innerHTML=`<col width="25%"/> 
        <col width="75%"/>`,o=D(),a=k("tbody"),f=k("tr"),u=k("th"),u.textContent="Path",d=D(),h=k("td"),p=k("input"),b=D(),X&&X.c(),_=D(),y=k("tr"),w=k("th"),w.textContent="Direction",A=D(),M=k("td"),U(T.$$.fragment),E=D(),R=k("div"),Z&&Z.c(),N=D(),j=k("div"),L=k("button"),F=G("Sort"),m(u,"class","svelte-1y818v2"),m(p,"class","jse-path svelte-1y818v2"),m(p,"type","text"),p.readOnly=!0,m(p,"title","Selected path"),p.value=g=Kt(n[0])?"(whole document)":Rs(n[0]),m(h,"class","svelte-1y818v2"),m(w,"class","svelte-1y818v2"),m(M,"class","svelte-1y818v2"),m(l,"class","svelte-1y818v2"),m(R,"class","jse-space svelte-1y818v2"),m(L,"type","button"),m(L,"class","jse-primary svelte-1y818v2"),L.disabled=B=n[4]?!n[1]:!1,m(j,"class","jse-actions svelte-1y818v2"),m(s,"class","jse-modal-contents svelte-1y818v2"),m(e,"class","jse-modal jse-sort svelte-1y818v2")},m(Y,oe){C(Y,e,oe),q(t,e,null),v(e,i),v(e,s),v(s,l),v(l,r),v(l,o),v(l,a),v(a,f),v(f,u),v(f,d),v(f,h),v(h,p),v(a,b),X&&X.m(a,null),v(a,_),v(a,y),v(y,w),v(y,A),v(y,M),q(T,M,null),v(s,E),v(s,R),Z&&Z.m(R,null),v(s,N),v(s,j),v(j,L),v(L,F),V=!0,H||(K=[x(L,"click",n[8]),xe(vce.call(null,L)),xe(Bg.call(null,e,n[6]))],H=!0)},p(Y,[oe]){const re={};oe&16&&(re.title=Y[4]?"Sort array items":"Sort object keys"),t.$set(re),(!V||oe&1&&g!==(g=Kt(Y[0])?"(whole document)":Rs(Y[0]))&&p.value!==g)&&(p.value=g),Y[4]&&(Y[3].length>1||Y[1]===void 0)?X?(X.p(Y,oe),oe&26&&P(X,1)):(X=k5(Y),X.c(),P(X,1),X.m(a,_)):X&&(ue(),I(X,1,1,()=>{X=null}),ce());const Q={};!O&&oe&4&&(O=!0,Q.value=Y[2],Be(()=>O=!1)),T.$set(Q),Y[5]?Z?Z.p(Y,oe):(Z=w5(Y),Z.c(),Z.m(R,null)):Z&&(Z.d(1),Z=null),(!V||oe&18&&B!==(B=Y[4]?!Y[1]:!1))&&(L.disabled=B)},i(Y){V||(P(t.$$.fragment,Y),P(X),P(T.$$.fragment,Y),V=!0)},o(Y){I(t.$$.fragment,Y),I(X),I(T.$$.fragment,Y),V=!1},d(Y){Y&&S(e),W(t),X&&X.d(),W(T),Z&&Z.d(),H=!1,Ke(K)}}}function vce(n){n.focus()}function kce(n,e,t){let i,s,l;const r=Gi("jsoneditor:SortModal");let{id:o}=e,{json:a}=e,{rootPath:f}=e,{onSort:u}=e;const{close:d}=Ji("simple-modal"),h=`${o}:${$e(f)}`,p=dt(a,f),g={value:1,label:"ascending"},_=[g,{value:-1,label:"descending"}];let y=ho[h]&&ho[h].selectedProperty||void 0,w=ho[h]&&ho[h].selectedDirection||g,A;function M(){try{t(5,A=void 0);const E=y==null?void 0:y.value,R=w==null?void 0:w.value,N=J7(a,f,E,R);u({operations:N,rootPath:f,itemPath:E,direction:R}),d()}catch(E){t(5,A=E.toString())}}function T(E){y=E,t(1,y),t(3,l),t(13,s),t(4,i)}function O(E){w=E,t(2,w)}return n.$$set=E=>{"id"in E&&t(9,o=E.id),"json"in E&&t(10,a=E.json),"rootPath"in E&&t(0,f=E.rootPath),"onSort"in E&&t(11,u=E.onSort)},n.$$.update=()=>{n.$$.dirty&16&&t(13,s=i&&p!==void 0?Ob(p):void 0),n.$$.dirty&8192&&t(3,l=s?s.map(bc):void 0),n.$$.dirty&10&&y===void 0&&l&&l.length===1&&t(1,y=l[0]),n.$$.dirty&4102&&(t(12,ho[h]={selectedProperty:y,selectedDirection:w},ho),r("store state in memory",h,ho[h]))},t(4,i=Array.isArray(p)),[f,y,w,l,i,A,d,_,M,o,a,u,ho,s,T,O]}class wce extends ke{constructor(e){super(),ve(this,e,kce,yce,jt,{id:9,json:10,rootPath:0,onSort:11})}}const Sce=wce;function tr(){}function Fh(n,e=1e3){if(n<.9*e)return n.toFixed()+" B";const t=n/e;if(t<.9*e)return t.toFixed(1)+" KB";const i=t/e;if(i<.9*e)return i.toFixed(1)+" MB";const s=i/e;return s<.9*e?s.toFixed(1)+" GB":(s/e).toFixed(1)+" TB"}function Cce(n){let e,t;return e=new jg({props:{items:n[0]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&1&&(l.items=i[0]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Mce(n,e,t){let i,{readOnly:s=!1}=e,{onFormat:l}=e,{onCompact:r}=e,{onSort:o}=e,{onTransform:a}=e,{onToggleSearch:f}=e,{onUndo:u}=e,{onRedo:d}=e,{canUndo:h}=e,{canRedo:p}=e,{canFormat:g}=e,{canCompact:b}=e,{canSort:_}=e,{canTransform:y}=e,{onRenderMenu:w}=e;const A={type:"button",icon:iy,title:"Search (Ctrl+F)",className:"jse-search",onClick:f};let M;return n.$$set=T=>{"readOnly"in T&&t(1,s=T.readOnly),"onFormat"in T&&t(2,l=T.onFormat),"onCompact"in T&&t(3,r=T.onCompact),"onSort"in T&&t(4,o=T.onSort),"onTransform"in T&&t(5,a=T.onTransform),"onToggleSearch"in T&&t(6,f=T.onToggleSearch),"onUndo"in T&&t(7,u=T.onUndo),"onRedo"in T&&t(8,d=T.onRedo),"canUndo"in T&&t(9,h=T.canUndo),"canRedo"in T&&t(10,p=T.canRedo),"canFormat"in T&&t(11,g=T.canFormat),"canCompact"in T&&t(12,b=T.canCompact),"canSort"in T&&t(13,_=T.canSort),"canTransform"in T&&t(14,y=T.canTransform),"onRenderMenu"in T&&t(15,w=T.onRenderMenu)},n.$$.update=()=>{n.$$.dirty&32702&&t(16,M=s?[A,{type:"space"}]:[{type:"button",icon:Bb,title:"Format JSON: add proper indentation and new lines (Ctrl+I)",className:"jse-format",onClick:l,disabled:s||!g},{type:"button",icon:Ufe,title:"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)",className:"jse-compact",onClick:r,disabled:s||!b},{type:"separator"},{type:"button",icon:Pg,title:"Sort",className:"jse-sort",onClick:o,disabled:s||!_},{type:"button",icon:Og,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:a,disabled:s||!y},A,{type:"separator"},{type:"button",icon:ny,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:u,disabled:!h},{type:"button",icon:ty,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:d,disabled:!p},{type:"space"}]),n.$$.dirty&98304&&t(0,i=w(M)||M)},[i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,M]}class Tce extends ke{constructor(e){super(),ve(this,e,Mce,Cce,jt,{readOnly:1,onFormat:2,onCompact:3,onSort:4,onTransform:5,onToggleSearch:6,onUndo:7,onRedo:8,canUndo:9,canRedo:10,canFormat:11,canCompact:12,canSort:13,canTransform:14,onRenderMenu:15})}}const Ace=Tce;class wn{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){let s=[];return this.decompose(0,e,s,2),i.length&&i.decompose(0,i.length,s,3),this.decompose(t,this.length,s,1),nr.from(s,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let i=[];return this.decompose(e,t,i,0),nr.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),s=new Lc(this),l=new Lc(e);for(let r=t,o=t;;){if(s.next(r),l.next(r),r=0,s.lineBreak!=l.lineBreak||s.done!=l.done||s.value!=l.value)return!1;if(o+=s.value.length,s.done||o>=i)return!0}}iter(e=1){return new Lc(this,e)}iterRange(e,t=this.length){return new nR(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let s=this.line(e).from;i=this.iterRange(s,Math.max(s,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new iR(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?wn.empty:e.length<=32?new Ai(e):nr.from(Ai.split(e,[]))}}class Ai extends wn{constructor(e,t=Oce(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,s){for(let l=0;;l++){let r=this.text[l],o=s+r.length;if((t?i:o)>=e)return new Ece(s,o,i,r);s=o+1,i++}}decompose(e,t,i,s){let l=e<=0&&t>=this.length?this:new Ai(S5(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(s&1){let r=i.pop(),o=pp(l.text,r.text.slice(),0,l.length);if(o.length<=32)i.push(new Ai(o,r.length+l.length));else{let a=o.length>>1;i.push(new Ai(o.slice(0,a)),new Ai(o.slice(a)))}}else i.push(l)}replace(e,t,i){if(!(i instanceof Ai))return super.replace(e,t,i);let s=pp(this.text,pp(i.text,S5(this.text,0,e)),t),l=this.length+i.length-(t-e);return s.length<=32?new Ai(s,l):nr.from(Ai.split(s,[]),l)}sliceString(e,t=this.length,i=`
`){let s="";for(let l=0,r=0;l<=t&&r<this.text.length;r++){let o=this.text[r],a=l+o.length;l>e&&r&&(s+=i),e<a&&t>l&&(s+=o.slice(Math.max(0,e-l),t-l)),l=a+1}return s}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],s=-1;for(let l of e)i.push(l),s+=l.length+1,i.length==32&&(t.push(new Ai(i,s)),i=[],s=-1);return s>-1&&t.push(new Ai(i,s)),t}}class nr extends wn{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,s){for(let l=0;;l++){let r=this.children[l],o=s+r.length,a=i+r.lines-1;if((t?a:o)>=e)return r.lineInner(e,t,i,s);s=o+1,i=a+1}}decompose(e,t,i,s){for(let l=0,r=0;r<=t&&l<this.children.length;l++){let o=this.children[l],a=r+o.length;if(e<=a&&t>=r){let f=s&((r<=e?1:0)|(a>=t?2:0));r>=e&&a<=t&&!f?i.push(o):o.decompose(e-r,t-r,i,f)}r=a+1}}replace(e,t,i){if(i.lines<this.lines)for(let s=0,l=0;s<this.children.length;s++){let r=this.children[s],o=l+r.length;if(e>=l&&t<=o){let a=r.replace(e-l,t-l,i),f=this.lines-r.lines+a.lines;if(a.lines<f>>5-1&&a.lines>f>>5+1){let u=this.children.slice();return u[s]=a,new nr(u,this.length-(t-e)+i.length)}return super.replace(l,o,a)}l=o+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){let s="";for(let l=0,r=0;l<this.children.length&&r<=t;l++){let o=this.children[l],a=r+o.length;r>e&&l&&(s+=i),e<a&&t>r&&(s+=o.sliceString(e-r,t-r,i)),r=a+1}return s}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof nr))return 0;let i=0,[s,l,r,o]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=t,l+=t){if(s==r||l==o)return i;let a=this.children[s],f=e.children[l];if(a!=f)return i+a.scanIdentical(f,t);i+=a.length+1}}static from(e,t=e.reduce((i,s)=>i+s.length+1,-1)){let i=0;for(let p of e)i+=p.lines;if(i<32){let p=[];for(let g of e)g.flatten(p);return new Ai(p,t)}let s=Math.max(32,i>>5),l=s<<1,r=s>>1,o=[],a=0,f=-1,u=[];function d(p){let g;if(p.lines>l&&p instanceof nr)for(let b of p.children)d(b);else p.lines>r&&(a>r||!a)?(h(),o.push(p)):p instanceof Ai&&a&&(g=u[u.length-1])instanceof Ai&&p.lines+g.lines<=32?(a+=p.lines,f+=p.length+1,u[u.length-1]=new Ai(g.text.concat(p.text),g.length+1+p.length)):(a+p.lines>s&&h(),a+=p.lines,f+=p.length+1,u.push(p))}function h(){a!=0&&(o.push(u.length==1?u[0]:nr.from(u,f)),f=-1,a=u.length=0)}for(let p of e)d(p);return h(),o.length==1?o[0]:new nr(o,t)}}wn.empty=new Ai([""],0);function Oce(n){let e=-1;for(let t of n)e+=t.length+1;return e}function pp(n,e,t=0,i=1e9){for(let s=0,l=0,r=!0;l<n.length&&s<=i;l++){let o=n[l],a=s+o.length;a>=t&&(a>i&&(o=o.slice(0,i-s)),s<t&&(o=o.slice(t-s)),r?(e[e.length-1]+=o,r=!1):e.push(o)),s=a+1}return e}function S5(n,e,t){return pp(n,[""],e,t)}class Lc{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ai?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,s=this.nodes[i],l=this.offsets[i],r=l>>1,o=s instanceof Ai?s.text.length:s.children.length;if(r==(t>0?o:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((l&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof Ai){let a=s.text[r+(t<0?-1:0)];if(this.offsets[i]+=t,a.length>Math.max(0,e))return this.value=e==0?a:t>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=s.children[r+(t<0?-1:0)];e>a.length?(e-=a.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(a),this.offsets.push(t>0?1:(a instanceof Ai?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class nR{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Lc(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*t,this.value=s.length<=i?s:t<0?s.slice(s.length-i):s.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class iR{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:s}=this.inner.next(e);return t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(wn.prototype[Symbol.iterator]=function(){return this.iter()},Lc.prototype[Symbol.iterator]=nR.prototype[Symbol.iterator]=iR.prototype[Symbol.iterator]=function(){return this});class Ece{constructor(e,t,i,s){this.from=e,this.to=t,this.number=i,this.text=s}get length(){return this.to-this.from}}let Hf="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<Hf.length;n++)Hf[n]+=Hf[n-1];function Pce(n){for(let e=1;e<Hf.length;e+=2)if(Hf[e]>n)return Hf[e-1]<=n;return!1}function C5(n){return n>=127462&&n<=127487}const M5=8205;function vs(n,e,t=!0,i=!0){return(t?sR:Dce)(n,e,i)}function sR(n,e,t){if(e==n.length)return e;e&&lR(n.charCodeAt(e))&&rR(n.charCodeAt(e-1))&&e--;let i=es(n,e);for(e+=rl(i);e<n.length;){let s=es(n,e);if(i==M5||s==M5||t&&Pce(s))e+=rl(s),i=s;else if(C5(s)){let l=0,r=e-2;for(;r>=0&&C5(es(n,r));)l++,r-=2;if(l%2==0)break;e+=2}else break}return e}function Dce(n,e,t){for(;e>0;){let i=sR(n,e-2,t);if(i<e)return i;e--}return 0}function lR(n){return n>=56320&&n<57344}function rR(n){return n>=55296&&n<56320}function es(n,e){let t=n.charCodeAt(e);if(!rR(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return lR(i)?(t-55296<<10)+(i-56320)+65536:t}function gy(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function rl(n){return n<65536?1:2}const Vb=/\r\n?|\n/;var ns=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(ns||(ns={}));class pr{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,s=0;t<this.sections.length;){let l=this.sections[t++],r=this.sections[t++];r<0?(e(i,s,l),s+=l):s+=r,i+=l}}iterChangedRanges(e,t=!1){zb(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];s<0?e.push(i,s):e.push(s,i)}return new pr(e)}composeDesc(e){return this.empty?e:e.empty?this:oR(this,e)}mapDesc(e,t=!1){return e.empty?this:Hb(this,e,t)}mapPos(e,t=-1,i=ns.Simple){let s=0,l=0;for(let r=0;r<this.sections.length;){let o=this.sections[r++],a=this.sections[r++],f=s+o;if(a<0){if(f>e)return l+(e-s);l+=o}else{if(i!=ns.Simple&&f>=e&&(i==ns.TrackDel&&s<e&&f>e||i==ns.TrackBefore&&s<e||i==ns.TrackAfter&&f>e))return null;if(f>e||f==e&&t<0&&!o)return e==s||t<0?l:l+a;l+=a}s=f}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return l}touchesRange(e,t=e){for(let i=0,s=0;i<this.sections.length&&s<=t;){let l=this.sections[i++],r=this.sections[i++],o=s+l;if(r>=0&&s<=t&&o>=e)return s<e&&o>t?"cover":!0;s=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];e+=(e?" ":"")+i+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new pr(e)}static create(e){return new pr(e)}}class Hi extends pr{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return zb(this,(t,i,s,l,r)=>e=e.replace(s,s+(i-t),r),!1),e}mapDesc(e,t=!1){return Hb(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let s=0,l=0;s<t.length;s+=2){let r=t[s],o=t[s+1];if(o>=0){t[s]=o,t[s+1]=r;let a=s>>1;for(;i.length<a;)i.push(wn.empty);i.push(r?e.slice(l,l+r):wn.empty)}l+=r}return new Hi(t,i)}compose(e){return this.empty?e:e.empty?this:oR(this,e,!0)}map(e,t=!1){return e.empty?this:Hb(this,e,t,!0)}iterChanges(e,t=!1){zb(this,e,t)}get desc(){return pr.create(this.sections)}filter(e){let t=[],i=[],s=[],l=new ad(this);e:for(let r=0,o=0;;){let a=r==e.length?1e9:e[r++];for(;o<a||o==a&&l.len==0;){if(l.done)break e;let u=Math.min(l.len,a-o);us(s,u,-1);let d=l.ins==-1?-1:l.off==0?l.ins:0;us(t,u,d),d>0&&Co(i,t,l.text),l.forward(u),o+=u}let f=e[r++];for(;o<f;){if(l.done)break e;let u=Math.min(l.len,f-o);us(t,u,-1),us(s,u,l.ins==-1?-1:l.off==0?l.ins:0),l.forward(u),o+=u}}return{changes:new Hi(t,i),filtered:pr.create(s)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],s=this.sections[t+1];s<0?e.push(i):s==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let s=[],l=[],r=0,o=null;function a(u=!1){if(!u&&!s.length)return;r<t&&us(s,t-r,-1);let d=new Hi(s,l);o=o?o.compose(d.map(o)):d,s=[],l=[],r=0}function f(u){if(Array.isArray(u))for(let d of u)f(d);else if(u instanceof Hi){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);a(),o=o?o.compose(u.map(o)):u}else{let{from:d,to:h=d,insert:p}=u;if(d>h||d<0||h>t)throw new RangeError(`Invalid change range ${d} to ${h} (in doc of length ${t})`);let g=p?typeof p=="string"?wn.of(p.split(i||Vb)):p:wn.empty,b=g.length;if(d==h&&b==0)return;d<r&&a(),d>r&&us(s,d-r,-1),us(s,h-d,b),Co(l,s,g),r=h}}return f(e),a(!o),o}static empty(e){return new Hi(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")t.push(l,-1);else{if(!Array.isArray(l)||typeof l[0]!="number"||l.some((r,o)=>o&&typeof r!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(l.length==1)t.push(l[0],0);else{for(;i.length<s;)i.push(wn.empty);i[s]=wn.of(l.slice(1)),t.push(l[0],i[s].length)}}}return new Hi(t,i)}static createSet(e,t){return new Hi(e,t)}}function us(n,e,t,i=!1){if(e==0&&t<=0)return;let s=n.length-2;s>=0&&t<=0&&t==n[s+1]?n[s]+=e:e==0&&n[s]==0?n[s+1]+=t:i?(n[s]+=e,n[s+1]+=t):n.push(e,t)}function Co(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(wn.empty);n.push(t)}}function zb(n,e,t){let i=n.inserted;for(let s=0,l=0,r=0;r<n.sections.length;){let o=n.sections[r++],a=n.sections[r++];if(a<0)s+=o,l+=o;else{let f=s,u=l,d=wn.empty;for(;f+=o,u+=a,a&&i&&(d=d.append(i[r-2>>1])),!(t||r==n.sections.length||n.sections[r+1]<0);)o=n.sections[r++],a=n.sections[r++];e(s,f,l,u,d),s=f,l=u}}}function Hb(n,e,t,i=!1){let s=[],l=i?[]:null,r=new ad(n),o=new ad(e);for(let a=-1;;)if(r.ins==-1&&o.ins==-1){let f=Math.min(r.len,o.len);us(s,f,-1),r.forward(f),o.forward(f)}else if(o.ins>=0&&(r.ins<0||a==r.i||r.off==0&&(o.len<r.len||o.len==r.len&&!t))){let f=o.len;for(us(s,o.ins,-1);f;){let u=Math.min(r.len,f);r.ins>=0&&a<r.i&&r.len<=u&&(us(s,0,r.ins),l&&Co(l,s,r.text),a=r.i),r.forward(u),f-=u}o.next()}else if(r.ins>=0){let f=0,u=r.len;for(;u;)if(o.ins==-1){let d=Math.min(u,o.len);f+=d,u-=d,o.forward(d)}else if(o.ins==0&&o.len<u)u-=o.len,o.next();else break;us(s,f,a<r.i?r.ins:0),l&&a<r.i&&Co(l,s,r.text),a=r.i,r.forward(r.len-u)}else{if(r.done&&o.done)return l?Hi.createSet(s,l):pr.create(s);throw new Error("Mismatched change set lengths")}}function oR(n,e,t=!1){let i=[],s=t?[]:null,l=new ad(n),r=new ad(e);for(let o=!1;;){if(l.done&&r.done)return s?Hi.createSet(i,s):pr.create(i);if(l.ins==0)us(i,l.len,0,o),l.next();else if(r.len==0&&!r.done)us(i,0,r.ins,o),s&&Co(s,i,r.text),r.next();else{if(l.done||r.done)throw new Error("Mismatched change set lengths");{let a=Math.min(l.len2,r.len),f=i.length;if(l.ins==-1){let u=r.ins==-1?-1:r.off?0:r.ins;us(i,a,u,o),s&&u&&Co(s,i,r.text)}else r.ins==-1?(us(i,l.off?0:l.len,a,o),s&&Co(s,i,l.textBit(a))):(us(i,l.off?0:l.len,r.off?0:r.ins,o),s&&!r.off&&Co(s,i,r.text));o=(l.ins>a||r.ins>=0&&r.len>a)&&(o||i.length>f),l.forward2(a),r.forward(a)}}}}class ad{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?wn.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?wn.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class wa{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let i,s;return this.empty?i=s=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),i==this.from&&s==this.to?this:new wa(i,s,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return He.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return He.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return He.range(e.anchor,e.head)}static create(e,t,i){return new wa(e,t,i)}}class He{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:He.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new He([this.main],0)}addRange(e,t=!0){return He.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,He.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new He(e.ranges.map(t=>wa.fromJSON(t)),e.main)}static single(e,t=e){return new He([He.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,s=0;s<e.length;s++){let l=e[s];if(l.empty?l.from<=i:l.from<i)return He.normalized(e.slice(),t);i=l.to}return new He(e,t)}static cursor(e,t=0,i,s){return wa.create(e,e,(t==0?0:t<0?4:8)|(i==null?3:Math.min(2,i))|(s??33554431)<<5)}static range(e,t,i,s){let l=(i??33554431)<<5|(s==null?3:Math.min(2,s));return t<e?wa.create(t,e,24|l):wa.create(e,t,(t>e?4:0)|l)}static normalized(e,t=0){let i=e[t];e.sort((s,l)=>s.from-l.from),t=e.indexOf(i);for(let s=1;s<e.length;s++){let l=e[s],r=e[s-1];if(l.empty?l.from<=r.to:l.from<r.to){let o=r.from,a=Math.max(l.to,r.to);s<=t&&t--,e.splice(--s,2,l.anchor>l.head?He.range(a,o):He.range(o,a))}}return new He(e,t)}}function aR(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let by=0;class _t{constructor(e,t,i,s,l){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=s,this.id=by++,this.default=e([]),this.extensions=typeof l=="function"?l(this):l}static define(e={}){return new _t(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:_y),!!e.static,e.enables)}of(e){return new mp([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new mp(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new mp(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function _y(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class mp{constructor(e,t,i,s){this.dependencies=e,this.facet=t,this.type=i,this.value=s,this.id=by++}dynamicSlot(e){var t;let i=this.value,s=this.facet.compareInput,l=this.id,r=e[l]>>1,o=this.type==2,a=!1,f=!1,u=[];for(let d of this.dependencies)d=="doc"?a=!0:d=="selection"?f=!0:((t=e[d.id])!==null&&t!==void 0?t:1)&1||u.push(e[d.id]);return{create(d){return d.values[r]=i(d),1},update(d,h){if(a&&h.docChanged||f&&(h.docChanged||h.selection)||qb(d,u)){let p=i(d);if(o?!T5(p,d.values[r],s):!s(p,d.values[r]))return d.values[r]=p,1}return 0},reconfigure:(d,h)=>{let p,g=h.config.address[l];if(g!=null){let b=_m(h,g);if(this.dependencies.every(_=>_ instanceof _t?h.facet(_)===d.facet(_):_ instanceof Bi?h.field(_,!1)==d.field(_,!1):!0)||(o?T5(p=i(d),b,s):s(p=i(d),b)))return d.values[r]=b,0}else p=i(d);return d.values[r]=p,1}}}}function T5(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function qb(n,e){let t=!1;for(let i of e)Fc(n,i)&1&&(t=!0);return t}function Ice(n,e,t){let i=t.map(a=>n[a.id]),s=t.map(a=>a.type),l=i.filter(a=>!(a&1)),r=n[e.id]>>1;function o(a){let f=[];for(let u=0;u<i.length;u++){let d=_m(a,i[u]);if(s[u]==2)for(let h of d)f.push(h);else f.push(d)}return e.combine(f)}return{create(a){for(let f of i)Fc(a,f);return a.values[r]=o(a),1},update(a,f){if(!qb(a,l))return 0;let u=o(a);return e.compare(u,a.values[r])?0:(a.values[r]=u,1)},reconfigure(a,f){let u=qb(a,i),d=f.config.facets[e.id],h=f.facet(e);if(d&&!u&&_y(t,d))return a.values[r]=h,0;let p=o(a);return e.compare(p,h)?(a.values[r]=h,0):(a.values[r]=p,1)}}}const A5=_t.define({static:!0});class Bi{constructor(e,t,i,s,l){this.id=e,this.createF=t,this.updateF=i,this.compareF=s,this.spec=l,this.provides=void 0}static define(e){let t=new Bi(by++,e.create,e.update,e.compare||((i,s)=>i===s),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(A5).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,s)=>{let l=i.values[t],r=this.updateF(l,s);return this.compareF(l,r)?0:(i.values[t]=r,1)},reconfigure:(i,s)=>s.config.address[this.id]!=null?(i.values[t]=s.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,A5.of({field:this,create:e})]}get extension(){return this}}const _a={lowest:4,low:3,default:2,high:1,highest:0};function ac(n){return e=>new fR(e,n)}const ef={highest:ac(_a.highest),high:ac(_a.high),default:ac(_a.default),low:ac(_a.low),lowest:ac(_a.lowest)};class fR{constructor(e,t){this.inner=e,this.prec=t}}class Fr{of(e){return new Wb(this,e)}reconfigure(e){return Fr.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Wb{constructor(e,t){this.compartment=e,this.inner=t}}class bm{constructor(e,t,i,s,l,r){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=s,this.staticValues=l,this.facets=r,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let s=[],l=Object.create(null),r=new Map;for(let h of Rce(e,t,r))h instanceof Bi?s.push(h):(l[h.facet.id]||(l[h.facet.id]=[])).push(h);let o=Object.create(null),a=[],f=[];for(let h of s)o[h.id]=f.length<<1,f.push(p=>h.slot(p));let u=i==null?void 0:i.config.facets;for(let h in l){let p=l[h],g=p[0].facet,b=u&&u[h]||[];if(p.every(_=>_.type==0))if(o[g.id]=a.length<<1|1,_y(b,p))a.push(i.facet(g));else{let _=g.combine(p.map(y=>y.value));a.push(i&&g.compare(_,i.facet(g))?i.facet(g):_)}else{for(let _ of p)_.type==0?(o[_.id]=a.length<<1|1,a.push(_.value)):(o[_.id]=f.length<<1,f.push(y=>_.dynamicSlot(y)));o[g.id]=f.length<<1,f.push(_=>Ice(_,g,p))}}let d=f.map(h=>h(o));return new bm(e,r,d,o,a,l)}}function Rce(n,e,t){let i=[[],[],[],[],[]],s=new Map;function l(r,o){let a=s.get(r);if(a!=null){if(a<=o)return;let f=i[a].indexOf(r);f>-1&&i[a].splice(f,1),r instanceof Wb&&t.delete(r.compartment)}if(s.set(r,o),Array.isArray(r))for(let f of r)l(f,o);else if(r instanceof Wb){if(t.has(r.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(r.compartment)||r.inner;t.set(r.compartment,f),l(f,o)}else if(r instanceof fR)l(r.inner,r.prec);else if(r instanceof Bi)i[o].push(r),r.provides&&l(r.provides,o);else if(r instanceof mp)i[o].push(r),r.facet.extensions&&l(r.facet.extensions,_a.default);else{let f=r.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${r}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);l(f,o)}}return l(n,_a.default),i.reduce((r,o)=>r.concat(o))}function Fc(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let s=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|s}function _m(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const uR=_t.define(),cR=_t.define({combine:n=>n.some(e=>e),static:!0}),dR=_t.define({combine:n=>n.length?n[0]:void 0,static:!0}),hR=_t.define(),pR=_t.define(),mR=_t.define(),gR=_t.define({combine:n=>n.length?n[0]:!1});class lo{constructor(e,t){this.type=e,this.value=t}static define(){return new Nce}}class Nce{of(e){return new lo(this,e)}}class Lce{constructor(e){this.map=e}of(e){return new Wt(this,e)}}class Wt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Wt(this.type,t)}is(e){return this.type==e}static define(e={}){return new Lce(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let s of e){let l=s.map(t);l&&i.push(l)}return i}}Wt.reconfigure=Wt.define();Wt.appendConfig=Wt.define();class qi{constructor(e,t,i,s,l,r){this.startState=e,this.changes=t,this.selection=i,this.effects=s,this.annotations=l,this.scrollIntoView=r,this._doc=null,this._state=null,i&&aR(i,t.newLength),l.some(o=>o.type==qi.time)||(this.annotations=l.concat(qi.time.of(Date.now())))}static create(e,t,i,s,l,r){return new qi(e,t,i,s,l,r)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(qi.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}qi.time=lo.define();qi.userEvent=lo.define();qi.addToHistory=lo.define();qi.remote=lo.define();function Fce(n,e){let t=[];for(let i=0,s=0;;){let l,r;if(i<n.length&&(s==e.length||e[s]>=n[i]))l=n[i++],r=n[i++];else if(s<e.length)l=e[s++],r=e[s++];else return t;!t.length||t[t.length-1]<l?t.push(l,r):t[t.length-1]<r&&(t[t.length-1]=r)}}function bR(n,e,t){var i;let s,l,r;return t?(s=e.changes,l=Hi.empty(e.changes.length),r=n.changes.compose(e.changes)):(s=e.changes.map(n.changes),l=n.changes.mapDesc(e.changes,!0),r=n.changes.compose(s)),{changes:r,selection:e.selection?e.selection.map(l):(i=n.selection)===null||i===void 0?void 0:i.map(s),effects:Wt.mapEffects(n.effects,s).concat(Wt.mapEffects(e.effects,l)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Ub(n,e,t){let i=e.selection,s=qf(e.annotations);return e.userEvent&&(s=s.concat(qi.userEvent.of(e.userEvent))),{changes:e.changes instanceof Hi?e.changes:Hi.of(e.changes||[],t,n.facet(dR)),selection:i&&(i instanceof He?i:He.single(i.anchor,i.head)),effects:qf(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function _R(n,e,t){let i=Ub(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let l=1;l<e.length;l++){e[l].filter===!1&&(t=!1);let r=!!e[l].sequential;i=bR(i,Ub(n,e[l],r?i.changes.newLength:n.doc.length),r)}let s=qi.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return Bce(t?jce(s):s)}function jce(n){let e=n.startState,t=!0;for(let s of e.facet(hR)){let l=s(n);if(l===!1){t=!1;break}Array.isArray(l)&&(t=t===!0?l:Fce(t,l))}if(t!==!0){let s,l;if(t===!1)l=n.changes.invertedDesc,s=Hi.empty(e.doc.length);else{let r=n.changes.filter(t);s=r.changes,l=r.filtered.mapDesc(r.changes).invertedDesc}n=qi.create(e,s,n.selection&&n.selection.map(l),Wt.mapEffects(n.effects,l),n.annotations,n.scrollIntoView)}let i=e.facet(pR);for(let s=i.length-1;s>=0;s--){let l=i[s](n);l instanceof qi?n=l:Array.isArray(l)&&l.length==1&&l[0]instanceof qi?n=l[0]:n=_R(e,qf(l),!1)}return n}function Bce(n){let e=n.startState,t=e.facet(mR),i=n;for(let s=t.length-1;s>=0;s--){let l=t[s](n);l&&Object.keys(l).length&&(i=bR(i,Ub(e,l,n.changes.newLength),!0))}return i==n?n:qi.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const Vce=[];function qf(n){return n==null?Vce:Array.isArray(n)?n:[n]}var ni=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(ni||(ni={}));const zce=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Kb;try{Kb=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Hce(n){if(Kb)return Kb.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||zce.test(t)))return!0}return!1}function qce(n){return e=>{if(!/\S/.test(e))return ni.Space;if(Hce(e))return ni.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return ni.Word;return ni.Other}}class ln{constructor(e,t,i,s,l,r){this.config=e,this.doc=t,this.selection=i,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=l,r&&(r._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Fc(this,o<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Fc(this,i),_m(this,i)}update(...e){return _R(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:s}=t;for(let r of e.effects)r.is(Fr.reconfigure)?(t&&(s=new Map,t.compartments.forEach((o,a)=>s.set(a,o)),t=null),s.set(r.value.compartment,r.value.extension)):r.is(Wt.reconfigure)?(t=null,i=r.value):r.is(Wt.appendConfig)&&(t=null,i=qf(i).concat(r.value));let l;t?l=e.startState.values.slice():(t=bm.resolve(i,s,this),l=new ln(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(o,a)=>a.reconfigure(o,this),null).values),new ln(t,e.newDoc,e.newSelection,l,(r,o)=>o.update(r,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:He.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),s=this.changes(i.changes),l=[i.range],r=qf(i.effects);for(let o=1;o<t.ranges.length;o++){let a=e(t.ranges[o]),f=this.changes(a.changes),u=f.map(s);for(let h=0;h<o;h++)l[h]=l[h].map(u);let d=s.mapDesc(f,!0);l.push(a.range.map(d)),s=s.compose(u),r=Wt.mapEffects(r,u).concat(Wt.mapEffects(qf(a.effects),d))}return{changes:s,selection:He.create(l,t.mainIndex),effects:r}}changes(e=[]){return e instanceof Hi?e:Hi.of(e,this.doc.length,this.facet(ln.lineSeparator))}toText(e){return wn.of(e.split(this.facet(ln.lineSeparator)||Vb))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Fc(this,t),_m(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let s=e[i];s instanceof Bi&&this.config.address[s.id]!=null&&(t[i]=s.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(i){for(let l in i)if(Object.prototype.hasOwnProperty.call(e,l)){let r=i[l],o=e[l];s.push(r.init(a=>r.spec.fromJSON(o,a)))}}return ln.create({doc:e.doc,selection:He.fromJSON(e.selection),extensions:t.extensions?s.concat([t.extensions]):s})}static create(e={}){let t=bm.resolve(e.extensions||[],new Map),i=e.doc instanceof wn?e.doc:wn.of((e.doc||"").split(t.staticFacet(ln.lineSeparator)||Vb)),s=e.selection?e.selection instanceof He?e.selection:He.single(e.selection.anchor,e.selection.head):He.single(0);return aR(s,i.length),t.staticFacet(cR)||(s=s.asSingle()),new ln(t,i,s,t.dynamicSlots.map(()=>null),(l,r)=>r.create(l),null)}get tabSize(){return this.facet(ln.tabSize)}get lineBreak(){return this.facet(ln.lineSeparator)||`
`}get readOnly(){return this.facet(gR)}phrase(e,...t){for(let i of this.facet(ln.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,s)=>{if(s=="$")return"$";let l=+(s||1);return!l||l>t.length?i:t[l-1]})),e}languageDataAt(e,t,i=-1){let s=[];for(let l of this.facet(uR))for(let r of l(this,t,i))Object.prototype.hasOwnProperty.call(r,e)&&s.push(r[e]);return s}charCategorizer(e){return qce(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:s}=this.doc.lineAt(e),l=this.charCategorizer(e),r=e-i,o=e-i;for(;r>0;){let a=vs(t,r,!1);if(l(t.slice(a,r))!=ni.Word)break;r=a}for(;o<s;){let a=vs(t,o);if(l(t.slice(o,a))!=ni.Word)break;o=a}return r==o?null:He.range(r+i,o+i)}}ln.allowMultipleSelections=cR;ln.tabSize=_t.define({combine:n=>n.length?n[0]:4});ln.lineSeparator=dR;ln.readOnly=gR;ln.phrases=_t.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(s=>n[s]==e[s])}});ln.languageData=uR;ln.changeFilter=hR;ln.transactionFilter=pR;ln.transactionExtender=mR;Fr.reconfigure=Wt.define();function Sl(n,e,t={}){let i={};for(let s of n)for(let l of Object.keys(s)){let r=s[l],o=i[l];if(o===void 0)i[l]=r;else if(!(o===r||r===void 0))if(Object.hasOwnProperty.call(t,l))i[l]=t[l](o,r);else throw new Error("Config merge conflict for field "+l)}for(let s in e)i[s]===void 0&&(i[s]=e[s]);return i}class Ua{eq(e){return this==e}range(e,t=e){return Jb.create(e,t,this)}}Ua.prototype.startSide=Ua.prototype.endSide=0;Ua.prototype.point=!1;Ua.prototype.mapMode=ns.TrackDel;let Jb=class yR{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new yR(e,t,i)}};function xb(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class yy{constructor(e,t,i,s){this.from=e,this.to=t,this.value=i,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,s=0){let l=i?this.to:this.from;for(let r=s,o=l.length;;){if(r==o)return r;let a=r+o>>1,f=l[a]-e||(i?this.value[a].endSide:this.value[a].startSide)-t;if(a==r)return f>=0?r:o;f>=0?o=a:r=a+1}}between(e,t,i,s){for(let l=this.findIndex(t,-1e9,!0),r=this.findIndex(i,1e9,!1,l);l<r;l++)if(s(this.from[l]+e,this.to[l]+e,this.value[l])===!1)return!1}map(e,t){let i=[],s=[],l=[],r=-1,o=-1;for(let a=0;a<this.value.length;a++){let f=this.value[a],u=this.from[a]+e,d=this.to[a]+e,h,p;if(u==d){let g=t.mapPos(u,f.startSide,f.mapMode);if(g==null||(h=p=g,f.startSide!=f.endSide&&(p=t.mapPos(u,f.endSide),p<h)))continue}else if(h=t.mapPos(u,f.startSide),p=t.mapPos(d,f.endSide),h>p||h==p&&f.startSide>0&&f.endSide<=0)continue;(p-h||f.endSide-f.startSide)<0||(r<0&&(r=h),f.point&&(o=Math.max(o,p-h)),i.push(f),s.push(h-r),l.push(p-r))}return{mapped:i.length?new yy(s,l,i,o):null,pos:r}}}class En{constructor(e,t,i,s){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=s}static create(e,t,i,s){return new En(e,t,i,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:s=0,filterTo:l=this.length}=e,r=e.filter;if(t.length==0&&!r)return this;if(i&&(t=t.slice().sort(xb)),this.isEmpty)return t.length?En.of(t):this;let o=new vR(this,null,-1).goto(0),a=0,f=[],u=new Qr;for(;o.value||a<t.length;)if(a<t.length&&(o.from-t[a].from||o.startSide-t[a].value.startSide)>=0){let d=t[a++];u.addInner(d.from,d.to,d.value)||f.push(d)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(o.chunkIndex)<t[a].from)&&(!r||s>this.chunkEnd(o.chunkIndex)||l<this.chunkPos[o.chunkIndex])&&u.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!r||s>o.to||l<o.from||r(o.from,o.to,o.value))&&(u.addInner(o.from,o.to,o.value)||f.push(Jb.create(o.from,o.to,o.value))),o.next());return u.finishInner(this.nextLayer.isEmpty&&!f.length?En.empty:this.nextLayer.update({add:f,filter:r,filterFrom:s,filterTo:l}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],s=-1;for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],a=this.chunk[r],f=e.touchesRange(o,o+a.length);if(f===!1)s=Math.max(s,a.maxPoint),t.push(a),i.push(e.mapPos(o));else if(f===!0){let{mapped:u,pos:d}=a.map(o,e);u&&(s=Math.max(s,u.maxPoint),t.push(u),i.push(d))}}let l=this.nextLayer.map(e);return t.length==0?l:new En(i,t,l||En.empty,s)}between(e,t,i){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],r=this.chunk[s];if(t>=l&&e<=l+r.length&&r.between(l,e-l,t-l,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return fd.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return fd.from(e).goto(t)}static compare(e,t,i,s,l=-1){let r=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=l),o=t.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=l),a=O5(r,o,i),f=new fc(r,a,l),u=new fc(o,a,l);i.iterGaps((d,h,p)=>E5(f,d,u,h,p,s)),i.empty&&i.length==0&&E5(f,0,u,0,0,s)}static eq(e,t,i=0,s){s==null&&(s=1e9-1);let l=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),r=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(l.length!=r.length)return!1;if(!l.length)return!0;let o=O5(l,r),a=new fc(l,o,0).goto(i),f=new fc(r,o,0).goto(i);for(;;){if(a.to!=f.to||!Yb(a.active,f.active)||a.point&&(!f.point||!a.point.eq(f.point)))return!1;if(a.to>s)return!0;a.next(),f.next()}}static spans(e,t,i,s,l=-1){let r=new fc(e,null,l).goto(t),o=t,a=r.openStart;for(;;){let f=Math.min(r.to,i);if(r.point){let u=r.activeForPoint(r.to),d=r.pointFrom<t?u.length+1:Math.min(u.length,a);s.point(o,f,r.point,u,d,r.pointRank),a=Math.min(r.openEnd(f),u.length)}else f>o&&(s.span(o,f,r.active,a),a=r.openEnd(f));if(r.to>i)return a+(r.point&&r.to>i?1:0);o=r.to,r.next()}}static of(e,t=!1){let i=new Qr;for(let s of e instanceof Jb?[e]:t?Wce(e):e)i.add(s.from,s.to,s.value);return i.finish()}}En.empty=new En([],[],null,-1);function Wce(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(xb(e,i)>0)return n.slice().sort(xb);e=i}return n}En.empty.nextLayer=En.empty;class Qr{finishChunk(e){this.chunks.push(new yy(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Qr)).add(e,t,i)}addInner(e,t,i){let s=e-this.lastTo||i.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(En.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=En.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function O5(n,e,t){let i=new Map;for(let l of n)for(let r=0;r<l.chunk.length;r++)l.chunk[r].maxPoint<=0&&i.set(l.chunk[r],l.chunkPos[r]);let s=new Set;for(let l of e)for(let r=0;r<l.chunk.length;r++){let o=i.get(l.chunk[r]);o!=null&&(t?t.mapPos(o):o)==l.chunkPos[r]&&!(t!=null&&t.touchesRange(o,o+l.chunk[r].length))&&s.add(l.chunk[r])}return s}class vR{constructor(e,t,i,s=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class fd{constructor(e){this.heap=e}static from(e,t=null,i=-1){let s=[];for(let l=0;l<e.length;l++)for(let r=e[l];!r.isEmpty;r=r.nextLayer)r.maxPoint>=i&&s.push(new vR(r,t,i,l));return s.length==1?s[0]:new fd(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)n0(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)n0(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),n0(this.heap,0)}}}function n0(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let s=n[i];if(i+1<n.length&&s.compare(n[i+1])>=0&&(s=n[i+1],i++),t.compare(s)<0)break;n[i]=t,n[e]=s,e=i}}class fc{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=fd.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){jh(this.active,e),jh(this.activeTo,e),jh(this.activeRank,e),this.minActive=P5(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:s,rank:l}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=l;)t++;Bh(this.active,t,i),Bh(this.activeTo,t,s),Bh(this.activeRank,t,l),e&&Bh(e,t,this.cursor.from),this.minActive=P5(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&jh(i,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let l=this.cursor.value;if(!l.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=l,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=l.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let s=i.length-1;s>=0&&i[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function E5(n,e,t,i,s,l){n.goto(e),t.goto(i);let r=i+s,o=i,a=i-e;for(;;){let f=n.to+a-t.to||n.endSide-t.endSide,u=f<0?n.to+a:t.to,d=Math.min(u,r);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Yb(n.activeForPoint(n.to),t.activeForPoint(t.to))||l.comparePoint(o,d,n.point,t.point):d>o&&!Yb(n.active,t.active)&&l.compareRange(o,d,n.active,t.active),u>r)break;o=u,f<=0&&n.next(),f>=0&&t.next()}}function Yb(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function jh(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function Bh(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function P5(n,e){let t=-1,i=1e9;for(let s=0;s<e.length;s++)(e[s]-i||n[s].endSide-n[t].endSide)<0&&(t=s,i=e[s]);return t}function Kd(n,e,t=n.length){let i=0;for(let s=0;s<t;)n.charCodeAt(s)==9?(i+=e-i%e,s++):(i++,s=vs(n,s));return i}function Gb(n,e,t,i){for(let s=0,l=0;;){if(l>=e)return s;if(s==n.length)break;l+=n.charCodeAt(s)==9?t-l%t:1,s=vs(n,s)}return i===!0?-1:n.length}const Xb="ͼ",D5=typeof Symbol>"u"?"__"+Xb:Symbol.for(Xb),Zb=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),I5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Vo{constructor(e,t){this.rules=[];let{finish:i}=t||{};function s(r){return/^@/.test(r)?[r]:r.split(/,\s*/)}function l(r,o,a,f){let u=[],d=/^@(\w+)\b/.exec(r[0]),h=d&&d[1]=="keyframes";if(d&&o==null)return a.push(r[0]+";");for(let p in o){let g=o[p];if(/&/.test(p))l(p.split(/,\s*/).map(b=>r.map(_=>b.replace(/&/,_))).reduce((b,_)=>b.concat(_)),g,a);else if(g&&typeof g=="object"){if(!d)throw new RangeError("The value of a property ("+p+") should be a primitive value.");l(s(p),g,u,h)}else g!=null&&u.push(p.replace(/_.*/,"").replace(/[A-Z]/g,b=>"-"+b.toLowerCase())+": "+g+";")}(u.length||h)&&a.push((i&&!d&&!f?r.map(i):r).join(", ")+" {"+u.join(" ")+"}")}for(let r in e)l(s(r),e[r],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=I5[D5]||1;return I5[D5]=e+1,Xb+e.toString(36)}static mount(e,t){(e[Zb]||new Uce(e)).mount(Array.isArray(t)?t:[t])}}let R5=new Map;class Uce{constructor(e){let t=e.ownerDocument||e,i=t.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=R5.get(t);if(s)return e.adoptedStyleSheets=[s.sheet,...e.adoptedStyleSheets],e[Zb]=s;this.sheet=new i.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],R5.set(t,this)}else{this.styleTag=t.createElement("style");let s=e.head||e;s.insertBefore(this.styleTag,s.firstChild)}this.modules=[],e[Zb]=this}mount(e){let t=this.sheet,i=0,s=0;for(let l=0;l<e.length;l++){let r=e[l],o=this.modules.indexOf(r);if(o<s&&o>-1&&(this.modules.splice(o,1),s--,o=-1),o==-1){if(this.modules.splice(s++,0,r),t)for(let a=0;a<r.rules.length;a++)t.insertRule(r.rules[a],i++)}else{for(;s<o;)i+=this.modules[s++].rules.length;i+=r.rules.length,s++}}if(!t){let l="";for(let r=0;r<this.modules.length;r++)l+=this.modules[r].getRules()+`
`;this.styleTag.textContent=l}}}var zo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ud={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Kce=typeof navigator<"u"&&/Mac/.test(navigator.platform),Jce=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ts=0;ts<10;ts++)zo[48+ts]=zo[96+ts]=String(ts);for(var ts=1;ts<=24;ts++)zo[ts+111]="F"+ts;for(var ts=65;ts<=90;ts++)zo[ts]=String.fromCharCode(ts+32),ud[ts]=String.fromCharCode(ts);for(var i0 in zo)ud.hasOwnProperty(i0)||(ud[i0]=zo[i0]);function xce(n){var e=Kce&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Jce&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?ud:zo)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function ym(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function gu(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Yce(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function gp(n,e){if(!e.anchorNode)return!1;try{return gu(n,e.anchorNode)}catch{return!1}}function bu(n){return n.nodeType==3?_u(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function vm(n,e,t,i){return t?N5(n,e,t,i,-1)||N5(n,e,t,i,1):!1}function km(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function N5(n,e,t,i,s){for(;;){if(n==t&&e==i)return!0;if(e==(s<0?0:Ho(n))){if(n.nodeName=="DIV")return!1;let l=n.parentNode;if(!l||l.nodeType!=1)return!1;e=km(n)+(s<0?0:1),n=l}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=s<0?Ho(n):0}else return!1}}function Ho(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Vg(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function Gce(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function Xce(n,e,t,i,s,l,r,o){let a=n.ownerDocument,f=a.defaultView||window;for(let u=n;u;)if(u.nodeType==1){let d,h=u==a.body;if(h)d=Gce(f);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let b=u.getBoundingClientRect();d={left:b.left,right:b.left+u.clientWidth,top:b.top,bottom:b.top+u.clientHeight}}let p=0,g=0;if(s=="nearest")e.top<d.top?(g=-(d.top-e.top+r),t>0&&e.bottom>d.bottom+g&&(g=e.bottom-d.bottom+g+r)):e.bottom>d.bottom&&(g=e.bottom-d.bottom+r,t<0&&e.top-g<d.top&&(g=-(d.top+g-e.top+r)));else{let b=e.bottom-e.top,_=d.bottom-d.top;g=(s=="center"&&b<=_?e.top+b/2-_/2:s=="start"||s=="center"&&t<0?e.top-r:e.bottom-_+r)-d.top}if(i=="nearest"?e.left<d.left?(p=-(d.left-e.left+l),t>0&&e.right>d.right+p&&(p=e.right-d.right+p+l)):e.right>d.right&&(p=e.right-d.right+l,t<0&&e.left<d.left+p&&(p=-(d.left+p-e.left+l))):p=(i=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:i=="start"==o?e.left-l:e.right-(d.right-d.left)+l)-d.left,p||g)if(h)f.scrollBy(p,g);else{let b=0,_=0;if(g){let y=u.scrollTop;u.scrollTop+=g,_=u.scrollTop-y}if(p){let y=u.scrollLeft;u.scrollLeft+=p,b=u.scrollLeft-y}e={left:e.left-b,top:e.top-_,right:e.right-b,bottom:e.bottom-_},b&&Math.abs(b-p)<1&&(i="nearest"),_&&Math.abs(_-g)<1&&(s="nearest")}if(h)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function Zce(n){let e=n.ownerDocument;for(let t=n.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class Qce{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?Ho(t):0),i,Math.min(e.focusOffset,i?Ho(i):0))}set(e,t,i,s){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=s}}let hf=null;function kR(n){if(n.setActive)return n.setActive();if(hf)return n.focus(hf);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(hf==null?{get preventScroll(){return hf={preventScroll:!0},!0}}:void 0),!hf){hf=!1;for(let t=0;t<e.length;){let i=e[t++],s=e[t++],l=e[t++];i.scrollTop!=s&&(i.scrollTop=s),i.scrollLeft!=l&&(i.scrollLeft=l)}}}let L5;function _u(n,e,t=e){let i=L5||(L5=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Wf(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},s=new KeyboardEvent("keydown",i);s.synthetic=!0,n.dispatchEvent(s);let l=new KeyboardEvent("keyup",i);return l.synthetic=!0,n.dispatchEvent(l),s.defaultPrevented||l.defaultPrevented}function $ce(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function wR(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function ede(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,Ho(t));;)if(i){if(t.nodeType!=1)return!1;let s=t.childNodes[i-1];s.contentEditable=="false"?i--:(t=s,i=Ho(t))}else{if(t==n)return!0;i=km(t),t=t.parentNode}}class is{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new is(e.parentNode,km(e),t)}static after(e,t){return new is(e.parentNode,km(e)+1,t)}}const vy=[];class Yn{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.dirty&2){let i=this.dom,s=null,l;for(let r of this.children){if(r.dirty){if(!r.dom&&(l=s?s.nextSibling:i.firstChild)){let o=Yn.get(l);(!o||!o.parent&&o.canReuseDOM(r))&&r.reuseDOM(l)}r.sync(e,t),r.dirty=0}if(l=s?s.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&l!=r.dom&&(t.written=!0),r.dom.parentNode==i)for(;l&&l!=r.dom;)l=F5(l);else i.insertBefore(r.dom,l);s=r.dom}for(l=s?s.nextSibling:i.firstChild,l&&t&&t.node==i&&(t.written=!0);l;)l=F5(l)}else if(this.dirty&1)for(let i of this.children)i.dirty&&(i.sync(e,t),i.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let s=Ho(e)==0?0:t==0?-1:1;for(;;){let l=e.parentNode;if(l==this.dom)break;s==0&&l.firstChild!=l.lastChild&&(e==l.firstChild?s=-1:s=1),e=l}s<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Yn.get(i);)i=i.nextSibling;if(!i)return this.length;for(let s=0,l=0;;s++){let r=this.children[s];if(r.dom==i)return l;l+=r.length+r.breakAfter}}domBoundsAround(e,t,i=0){let s=-1,l=-1,r=-1,o=-1;for(let a=0,f=i,u=i;a<this.children.length;a++){let d=this.children[a],h=f+d.length;if(f<e&&h>t)return d.domBoundsAround(e,t,f);if(h>=e&&s==-1&&(s=a,l=f),f>t&&d.dom.parentNode==this.dom){r=a,o=u;break}u=h,f=h+d.breakAfter}return{from:l,to:o<0?i+this.length:o,startDOM:(s?this.children[s-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:r<this.children.length&&r>=0?this.children[r].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=vy){this.markDirty();for(let s=e;s<t;s++){let l=this.children[s];l.parent==this&&l.destroy()}this.children.splice(e,t-e,...i);for(let s=0;s<i.length;s++)i[s].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new SR(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,s,l,r){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}Yn.prototype.breakAfter=0;function F5(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class SR{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function CR(n,e,t,i,s,l,r,o,a){let{children:f}=n,u=f.length?f[e]:null,d=l.length?l[l.length-1]:null,h=d?d.breakAfter:r;if(!(e==i&&u&&!r&&!h&&l.length<2&&u.merge(t,s,l.length?d:null,t==0,o,a))){if(i<f.length){let p=f[i];p&&s<p.length?(e==i&&(p=p.split(s),s=0),!h&&d&&p.merge(0,s,d,!0,0,a)?l[l.length-1]=p:(s&&p.merge(0,s,null,!1,0,a),l.push(p))):p!=null&&p.breakAfter&&(d?d.breakAfter=1:r=1),i++}for(u&&(u.breakAfter=r,t>0&&(!r&&l.length&&u.merge(t,u.length,l[0],!1,o,0)?u.breakAfter=l.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,o,0),e++));e<i&&l.length;)if(f[i-1].become(l[l.length-1]))i--,l.pop(),a=l.length?0:o;else if(f[e].become(l[0]))e++,l.shift(),o=l.length?0:a;else break;!l.length&&e&&i<f.length&&!f[e-1].breakAfter&&f[i].merge(0,0,f[e-1],!1,o,a)&&e--,(e<i||l.length)&&n.replaceChildren(e,i,l)}}function MR(n,e,t,i,s,l){let r=n.childCursor(),{i:o,off:a}=r.findPos(t,1),{i:f,off:u}=r.findPos(e,-1),d=e-t;for(let h of i)d+=h.length;n.length+=d,CR(n,f,u,o,a,i,0,s,l)}let Us=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Qb=typeof document<"u"?document:{documentElement:{style:{}}};const $b=/Edge\/(\d+)/.exec(Us.userAgent),TR=/MSIE \d/.test(Us.userAgent),e_=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Us.userAgent),zg=!!(TR||e_||$b),j5=!zg&&/gecko\/(\d+)/i.test(Us.userAgent),s0=!zg&&/Chrome\/(\d+)/.exec(Us.userAgent),B5="webkitFontSmoothing"in Qb.documentElement.style,AR=!zg&&/Apple Computer/.test(Us.vendor),V5=AR&&(/Mobile\/\w+/.test(Us.userAgent)||Us.maxTouchPoints>2);var kt={mac:V5||/Mac/.test(Us.platform),windows:/Win/.test(Us.platform),linux:/Linux|X11/.test(Us.platform),ie:zg,ie_version:TR?Qb.documentMode||6:e_?+e_[1]:$b?+$b[1]:0,gecko:j5,gecko_version:j5?+(/Firefox\/(\d+)/.exec(Us.userAgent)||[0,0])[1]:0,chrome:!!s0,chrome_version:s0?+s0[1]:0,ios:V5,android:/Android\b/.test(Us.userAgent),webkit:B5,safari:AR,webkit_version:B5?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Qb.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const tde=256;class Ka extends Yn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return i&&(!(i instanceof Ka)||this.length-(t-e)+i.length>tde)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Ka(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new is(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return t_(this.dom,e,t)}}class $r extends Yn{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let s of t)s.setParent(this)}setAttrs(e){if(wR(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,s,l,r){return i&&(!(i instanceof $r&&i.mark.eq(this.mark))||e&&l<=0||t<this.length&&r<=0)?!1:(MR(this,e,t,i?i.children:[],l-1,r-1),this.markDirty(),!0)}split(e){let t=[],i=0,s=-1,l=0;for(let o of this.children){let a=i+o.length;a>e&&t.push(i<e?o.split(e-i):o),s<0&&i>=e&&(s=l),i=a,l++}let r=this.length-e;return this.length=e,s>-1&&(this.children.length=s,this.markDirty()),new $r(this.mark,t,r)}domAtPos(e){return IR(this,e)}coordsAt(e,t){return NR(this,e,t)}}function t_(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let s=e,l=e,r=0;e==0&&t<0||e==i&&t>=0?kt.chrome||kt.gecko||(e?(s--,r=1):l<i&&(l++,r=-1)):t<0?s--:l<i&&l++;let o=_u(n,s,l).getClientRects();if(!o.length)return null;let a=o[(r?r<0:t>=0)?0:o.length-1];return kt.safari&&!r&&a.width==0&&(a=Array.prototype.find.call(o,f=>f.width)||a),r?Vg(a,r<0):a||null}class Mo extends Yn{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||Mo)(e,t,i)}split(e){let t=Mo.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,s,l,r){return i&&(!(i instanceof Mo)||!this.widget.compare(i.widget)||e>0&&l<=0||t<this.length&&r<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof Mo&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return wn.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,s=this.posAtStart;return i?i.slice(s,s+this.length):wn.empty}domAtPos(e){return(this.length?e==0:this.side>0)?is.before(this.dom):is.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let s=this.dom.getClientRects(),l=null;if(!s.length)return null;let r=this.side?this.side<0:e>0;for(let o=r?s.length-1:0;l=s[o],!(e>0?o==0:o==s.length-1||l.top<l.bottom);o+=r?-1:1);return Vg(l,!r)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class OR extends Mo{domAtPos(e){let{topView:t,text:i}=this.widget;return t?n_(e,0,t,i,this.length-t.length,(s,l)=>s.domAtPos(l),(s,l)=>new is(s,Math.min(l,s.nodeValue.length))):new is(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:s}=this.widget;return i?PR(e,t,i,s,this.length-i.length):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:s}=this.widget;return i?n_(e,t,i,s,this.length-i.length,(l,r,o)=>l.coordsAt(r,o),(l,r,o)=>t_(l,r,o)):t_(s,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function n_(n,e,t,i,s,l,r){if(t instanceof $r){for(let o=t.dom.firstChild;o;o=o.nextSibling){let a=Yn.get(o);if(a){let f=gu(o,i),u=a.length+(f?s:0);if(n<u||n==u&&a.getSide()<=0)return f?n_(n,e,a,i,s,l,r):l(a,n,e);n-=u}else{let f=ER(n,e,o,r);if(typeof f!="number")return f;n=f}}return l(t,t.length,-1)}else return t.dom==i?r(i,n,e):l(t,n,e)}function ER(n,e,t,i){if(t.nodeType==3){let s=t.nodeValue.length;if(n<=s)return i(t,n,e);n-=s}else if(t.nodeType==1&&t.contentEditable!="false")for(let s=t.firstChild;s;s=s.nextSibling){let l=ER(n,e,s,i);if(typeof l!="number")return l;n=l}return n}function PR(n,e,t,i,s){if(t instanceof $r){let l=0;for(let r=t.dom.firstChild;r;r=r.nextSibling){let o=Yn.get(r);if(o){let a=gu(r,i);if(gu(r,n))return l+(a?PR(n,e,o,i,s):o.localPosFromDOM(n,e));l+=o.length+(a?s:0)}else{let a=DR(n,e,r);if(a.result!=null)return l+a.result;l+=a.size}}}else if(t.dom==i)return Math.min(e,i.nodeValue.length);return t.localPosFromDOM(n,e)}function DR(n,e,t){if(t.nodeType==3)return n==t?{result:e}:{size:t.nodeValue.length};if(t.nodeType==1&&t.contentEditable!="false"){let i=0;for(let s=t.firstChild,l=0;;s=s.nextSibling,l++){if(n==t&&l==e)return{result:i};if(!s)return{size:i};let r=DR(n,e,s);if(r.result!=null)return{result:e+r.result};i+=r.size}}else return t.contains(n)?{result:0}:{size:0}}class yu extends Yn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof yu&&e.side==this.side}split(){return new yu(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?is.before(this.dom):is.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return wn.empty}get isHidden(){return!0}}Ka.prototype.children=Mo.prototype.children=yu.prototype.children=vy;function IR(n,e){let t=n.dom,{children:i}=n,s=0;for(let l=0;s<i.length;s++){let r=i[s],o=l+r.length;if(!(o==l&&r.getSide()<=0)){if(e>l&&e<o&&r.dom.parentNode==t)return r.domAtPos(e-l);if(e<=l)break;l=o}}for(let l=s;l>0;l--){let r=i[l-1];if(r.dom.parentNode==t)return r.domAtPos(r.length)}for(let l=s;l<i.length;l++){let r=i[l];if(r.dom.parentNode==t)return r.domAtPos(0)}return new is(t,0)}function RR(n,e,t){let i,{children:s}=n;t>0&&e instanceof $r&&s.length&&(i=s[s.length-1])instanceof $r&&i.mark.eq(e.mark)?RR(i,e.children[0],t-1):(s.push(e),e.setParent(n)),n.length+=e.length}function NR(n,e,t){let i=null,s=-1,l=null,r=-1;function o(f,u){for(let d=0,h=0;d<f.children.length&&h<=u;d++){let p=f.children[d],g=h+p.length;g>=u&&(p.children.length?o(p,u-h):(!l||l.isHidden&&t>0)&&(g>u||h==g&&p.getSide()>0)?(l=p,r=u-h):(h<u||h==g&&p.getSide()<0&&!p.isHidden)&&(i=p,s=u-h)),h=g}}o(n,e);let a=(t<0?i:l)||i||l;return a?a.coordsAt(Math.max(0,a==i?s:r),t):nde(n)}function nde(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=bu(e);return t[t.length-1]||null}function i_(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function ky(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let s of t)if(i.indexOf(s)==-1||n[s]!==e[s])return!1;return!0}function s_(n,e,t){let i=null;if(e)for(let s in e)t&&s in t||n.removeAttribute(i=s);if(t)for(let s in t)e&&e[s]==t[s]||n.setAttribute(i=s,t[s]);return!!i}class Tr{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get customView(){return null}get isHidden(){return!1}destroy(e){}}var ci=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(ci||(ci={}));class wt extends Ua{constructor(e,t,i,s){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=s}get heightRelevant(){return!1}static mark(e){return new Hg(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new qo(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,s;if(e.isBlockGap)i=-5e8,s=4e8;else{let{start:l,end:r}=LR(e,t);i=(l?t?-3e8:-1:5e8)-1,s=(r?t?2e8:1:-6e8)+1}return new qo(e,i,s,t,e.widget||null,!0)}static line(e){return new Jd(e)}static set(e,t=!1){return En.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}wt.none=En.empty;class Hg extends wt{constructor(e){let{start:t,end:i}=LR(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Hg&&this.tagName==e.tagName&&this.class==e.class&&ky(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Hg.prototype.point=!1;class Jd extends wt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Jd&&this.spec.class==e.spec.class&&ky(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Jd.prototype.mapMode=ns.TrackBefore;Jd.prototype.point=!0;class qo extends wt{constructor(e,t,i,s,l,r){super(t,i,l,e),this.block=s,this.isReplace=r,this.mapMode=s?t<=0?ns.TrackBefore:ns.TrackAfter:ns.TrackDel}get type(){return this.startSide<this.endSide?ci.WidgetRange:this.startSide<=0?ci.WidgetBefore:ci.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof qo&&ide(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}qo.prototype.point=!0;function LR(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function ide(n,e){return n==e||!!(n&&e&&n.compare(e))}function l_(n,e,t,i=0){let s=t.length-1;s>=0&&t[s]+i>=n?t[s]=Math.max(t[s],e):t.push(n,e)}class Es extends Yn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,s,l,r){if(i){if(!(i instanceof Es))return!1;this.dom||i.transferDOM(this)}return s&&this.setDeco(i?i.attrs:null),MR(this,e,t,i?i.children:[],l,r),!0}split(e){let t=new Es;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:s}=this.childPos(e);s&&(t.append(this.children[i].split(s),0),this.children[i].merge(s,this.children[i].length,null,!1,0,0),i++);for(let l=i;l<this.children.length;l++)t.append(this.children[l],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){ky(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){RR(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=i_(t,this.attrs||{})),i&&(this.attrs=i_({class:i},this.attrs||{}))}domAtPos(e){return IR(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var i;this.dom?this.dirty&4&&(wR(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(s_(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let s=this.dom.lastChild;for(;s&&Yn.get(s)instanceof $r;)s=s.lastChild;if(!s||!this.length||s.nodeName!="BR"&&((i=Yn.get(s))===null||i===void 0?void 0:i.isEditable)==!1&&(!kt.ios||!this.children.some(l=>l instanceof Ka))){let l=document.createElement("BR");l.cmIgnore=!0,this.dom.appendChild(l)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof Ka)||/[^ -~]/.test(i.text))return null;let s=bu(i.dom);if(s.length!=1)return null;e+=s[0].width,t=s[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=NR(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:s}=this.parent.view.viewState,l=i.bottom-i.top;if(Math.abs(l-s.lineHeight)<2&&s.textHeight<l){let r=(l-s.textHeight)/2;return{top:i.top+r,bottom:i.bottom-r,left:i.left,right:i.left}}}return i}become(e){return!1}get type(){return ci.Text}static find(e,t){for(let i=0,s=0;i<e.children.length;i++){let l=e.children[i],r=s+l.length;if(r>=t){if(l instanceof Es)return l;if(r>t)break}s=r+l.breakAfter}return null}}class Ia extends Yn{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,s,l,r){return i&&(!(i instanceof Ia)||!this.widget.compare(i.widget)||e>0&&l<=0||t<this.length&&r<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?is.before(this.dom):is.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Ia(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return vy}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):wn.empty}domBoundsAround(){return null}become(e){return e instanceof Ia&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.type=e.type,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class wy{constructor(e,t,i,s){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=s,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Ia&&e.type==ci.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Es),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Vh(new yu(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:l,lineBreak:r,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(r){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=l,this.textOff=0}let s=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(Vh(new Ka(this.text.slice(this.textOff,this.textOff+s)),t),i),this.atCursorPos=!0,this.textOff+=s,e-=s,i=0}}span(e,t,i,s){this.buildText(t-e,i,s),this.pos=t,this.openStart<0&&(this.openStart=s)}point(e,t,i,s,l,r){if(this.disallowBlockEffectsFor[r]&&i instanceof qo){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(i instanceof qo)if(i.block){let{type:a}=i;a==ci.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ia(i.widget||new z5("div"),o,a))}else{let a=Mo.create(i.widget||new z5("span"),o,o?0:i.startSide),f=this.atCursorPos&&!a.isEditable&&l<=s.length&&(e<t||i.startSide>0),u=!a.isEditable&&(e<t||l>s.length||i.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!f&&!a.isEditable&&(this.pendingBuffer=0),this.flushBuffer(s),f&&(d.append(Vh(new yu(1),s),l),l=s.length+Math.max(0,l-s.length)),d.append(Vh(a,s),l),this.atCursorPos=u,this.pendingBuffer=u?e<t||l>s.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=l)}static build(e,t,i,s,l){let r=new wy(e,t,i,l);return r.openEnd=En.spans(s,t,i,r),r.openStart<0&&(r.openStart=r.openEnd),r.finish(r.openEnd),r}}function Vh(n,e){for(let t of e)n=new $r(t,[n],n.length);return n}class z5 extends Tr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const FR=_t.define(),jR=_t.define(),BR=_t.define(),VR=_t.define(),r_=_t.define(),zR=_t.define(),HR=_t.define(),qR=_t.define({combine:n=>n.some(e=>e)}),WR=_t.define({combine:n=>n.some(e=>e)});class wm{constructor(e,t="nearest",i="nearest",s=5,l=5){this.range=e,this.y=t,this.x=i,this.yMargin=s,this.xMargin=l}map(e){return e.empty?this:new wm(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const H5=Wt.define({map:(n,e)=>n.map(e)});function Ys(n,e,t){let i=n.facet(VR);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const qg=_t.define({combine:n=>n.length?n[0]:!0});let sde=0;const yc=_t.define();class vi{constructor(e,t,i,s){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=s(this)}static define(e,t){const{eventHandlers:i,provide:s,decorations:l}=t||{};return new vi(sde++,e,i,r=>{let o=[yc.of(r)];return l&&o.push(cd.of(a=>{let f=a.plugin(r);return f?l(f):wt.none})),s&&o.push(s(r)),o})}static fromClass(e,t){return vi.define(i=>new e(i),t)}}class l0{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Ys(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Ys(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Ys(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const UR=_t.define(),Sy=_t.define(),cd=_t.define(),Cy=_t.define(),KR=_t.define();function JR(n){let e=0,t=0,i=0,s=0;for(let l of n.state.facet(KR)){let r=l(n);r&&(r.left!=null&&(e=Math.max(e,r.left)),r.right!=null&&(t=Math.max(t,r.right)),r.top!=null&&(i=Math.max(i,r.top)),r.bottom!=null&&(s=Math.max(s,r.bottom)))}return{left:e,right:t,top:i,bottom:s}}const vc=_t.define();class mr{constructor(e,t,i,s){this.fromA=e,this.toA=t,this.fromB=i,this.toB=s}join(e){return new mr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let s=e[t-1];if(!(s.fromA>i.toA)){if(s.toA<i.fromA)break;i=i.join(s),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let s=0,l=0,r=0,o=0;;s++){let a=s==e.length?null:e[s],f=r-o,u=a?a.fromB:1e9;for(;l<t.length&&t[l]<u;){let d=t[l],h=t[l+1],p=Math.max(o,d),g=Math.min(u,h);if(p<=g&&new mr(p+f,g+f,p,g).addToSet(i),h>u)break;l+=2}if(!a)return i;new mr(a.fromA,a.toA,a.fromB,a.toB).addToSet(i),r=a.toA,o=a.toB}}}class Sm{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Hi.empty(this.startState.doc.length);for(let l of i)this.changes=this.changes.compose(l.changes);let s=[];this.changes.iterChangedRanges((l,r,o,a)=>s.push(new mr(l,r,o,a))),this.changedRanges=s}static create(e,t,i){return new Sm(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var ui=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(ui||(ui={}));const o_=ui.LTR,lde=ui.RTL;function xR(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const rde=xR("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ode=xR("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),a_=Object.create(null),Gl=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);a_[e]=t,a_[t]=-e}function ade(n){return n<=247?rde[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?ode[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203?256:64336<=n&&n<=65023?4:n==8204?256:1}const fde=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Uf{constructor(e,t,i){this.from=e,this.to=t,this.level=i}get dir(){return this.level%2?lde:o_}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,s){let l=-1;for(let r=0;r<e.length;r++){let o=e[r];if(o.from<=t&&o.to>=t){if(o.level==i)return r;(l<0||(s!=0?s<0?o.from<t:o.to>t:e[l].level>o.level))&&(l=r)}}if(l<0)throw new RangeError("Index out of range");return l}}const oi=[];function ude(n,e){let t=n.length,i=e==o_?1:2,s=e==o_?2:1;if(!n||i==1&&!fde.test(n))return YR(t);for(let r=0,o=i,a=i;r<t;r++){let f=ade(n.charCodeAt(r));f==512?f=o:f==8&&a==4&&(f=16),oi[r]=f==4?2:f,f&7&&(a=f),o=f}for(let r=0,o=i,a=i;r<t;r++){let f=oi[r];if(f==128)r<t-1&&o==oi[r+1]&&o&24?f=oi[r]=o:oi[r]=256;else if(f==64){let u=r+1;for(;u<t&&oi[u]==64;)u++;let d=r&&o==8||u<t&&oi[u]==8?a==1?1:8:256;for(let h=r;h<u;h++)oi[h]=d;r=u-1}else f==8&&a==1&&(oi[r]=1);o=f,f&7&&(a=f)}for(let r=0,o=0,a=0,f,u,d;r<t;r++)if(u=a_[f=n.charCodeAt(r)])if(u<0){for(let h=o-3;h>=0;h-=3)if(Gl[h+1]==-u){let p=Gl[h+2],g=p&2?i:p&4?p&1?s:i:0;g&&(oi[r]=oi[Gl[h]]=g),o=h;break}}else{if(Gl.length==189)break;Gl[o++]=r,Gl[o++]=f,Gl[o++]=a}else if((d=oi[r])==2||d==1){let h=d==i;a=h?0:1;for(let p=o-3;p>=0;p-=3){let g=Gl[p+2];if(g&2)break;if(h)Gl[p+2]|=2;else{if(g&4)break;Gl[p+2]|=4}}}for(let r=0;r<t;r++)if(oi[r]==256){let o=r+1;for(;o<t&&oi[o]==256;)o++;let a=(r?oi[r-1]:i)==1,f=(o<t?oi[o]:i)==1,u=a==f?a?1:2:i;for(let d=r;d<o;d++)oi[d]=u;r=o-1}let l=[];if(i==1)for(let r=0;r<t;){let o=r,a=oi[r++]!=1;for(;r<t&&a==(oi[r]!=1);)r++;if(a)for(let f=r;f>o;){let u=f,d=oi[--f]!=2;for(;f>o&&d==(oi[f-1]!=2);)f--;l.push(new Uf(f,u,d?2:1))}else l.push(new Uf(o,r,0))}else for(let r=0;r<t;){let o=r,a=oi[r++]==2;for(;r<t&&a==(oi[r]==2);)r++;l.push(new Uf(o,r,a?1:2))}return l}function YR(n){return[new Uf(0,n,0)]}let GR="";function cde(n,e,t,i,s){var l;let r=i.head-n.from,o=-1;if(r==0){if(!s||!n.length)return null;e[0].level!=t&&(r=e[0].side(!1,t),o=0)}else if(r==n.length){if(s)return null;let h=e[e.length-1];h.level!=t&&(r=h.side(!0,t),o=e.length-1)}o<0&&(o=Uf.find(e,r,(l=i.bidiLevel)!==null&&l!==void 0?l:-1,i.assoc));let a=e[o];r==a.side(s,t)&&(a=e[o+=s?1:-1],r=a.side(!s,t));let f=s==(a.dir==t),u=vs(n.text,r,f);if(GR=n.text.slice(Math.min(r,u),Math.max(r,u)),u!=a.side(s,t))return He.cursor(u+n.from,f?-1:1,a.level);let d=o==(s?e.length-1:0)?null:e[o+(s?1:-1)];return!d&&a.level!=t?He.cursor(s?n.to:n.from,s?-1:1,t):d&&d.level<a.level?He.cursor(d.side(!s,t)+n.from,s?1:-1,d.level):He.cursor(u+n.from,s?-1:1,a.level)}const Mf="￿";class XR{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(ln.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Mf}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let s=e;;){this.findPointBefore(i,s);let l=this.text.length;this.readNode(s);let r=s.nextSibling;if(r==t)break;let o=Yn.get(s),a=Yn.get(r);(o&&a?o.breakAfter:(o?o.breakAfter:q5(s))||q5(r)&&(s.nodeName!="BR"||s.cmIgnore)&&this.text.length>l)&&this.lineBreak(),s=r}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let l=-1,r=1,o;if(this.lineSeparator?(l=t.indexOf(this.lineSeparator,i),r=this.lineSeparator.length):(o=s.exec(t))&&(l=o.index,r=o[0].length),this.append(t.slice(i,l<0?t.length:l)),l<0)break;if(this.lineBreak(),r>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=r-1);i=l+r}}readNode(e){if(e.cmIgnore)return;let t=Yn.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let s=i.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}}function q5(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class W5{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class U5 extends Yn{constructor(e){super(),this.view=e,this.compositionDeco=wt.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Es],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new mr(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:r,toA:o})=>o<this.minWidthFrom||r>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=wt.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=hde(this.view,e.changes)),(kt.ie||kt.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,s=this.updateDeco(),l=bde(i,s,e.changes);return t=mr.extendWithRanges(t,l),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let l=kt.chrome||kt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,l),this.dirty=0,l&&(l.written||i.selectionRange.focusNode!=l.node)&&(this.forceSelection=!0),this.dom.style.height=""});let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let l of this.children)l instanceof Ia&&l.widget instanceof K5&&s.push(l.dom);i.updateGaps(s)}updateChildren(e,t){let i=this.childCursor(t);for(let s=e.length-1;;s--){let l=s>=0?e[s]:null;if(!l)break;let{fromA:r,toA:o,fromB:a,toB:f}=l,{content:u,breakAtStart:d,openStart:h,openEnd:p}=wy.build(this.view.state.doc,a,f,this.decorations,this.dynamicDecorationMap),{i:g,off:b}=i.findPos(o,1),{i:_,off:y}=i.findPos(r,-1);CR(this,_,y,g,b,u,d,h,p)}}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,s=i==this.dom,l=!s&&gp(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(s||t||l))return;let r=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,a=this.domAtPos(o.anchor),f=o.empty?a:this.domAtPos(o.head);if(kt.gecko&&o.empty&&!this.compositionDeco.size&&dde(a)){let d=document.createTextNode("");this.view.observer.ignore(()=>a.node.insertBefore(d,a.node.childNodes[a.offset]||null)),a=f=new is(d,0),r=!0}let u=this.view.observer.selectionRange;(r||!u.focusNode||!vm(a.node,a.offset,u.anchorNode,u.anchorOffset)||!vm(f.node,f.offset,u.focusNode,u.focusOffset))&&(this.view.observer.ignore(()=>{kt.android&&kt.chrome&&this.dom.contains(u.focusNode)&&_de(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=ym(this.view.root);if(d)if(o.empty){if(kt.gecko){let h=mde(a.node,a.offset);if(h&&h!=3){let p=QR(a.node,a.offset,h==1?1:-1);p&&(a=new is(p,h==1?0:p.nodeValue.length))}}d.collapse(a.node,a.offset),o.bidiLevel!=null&&u.cursorBidiLevel!=null&&(u.cursorBidiLevel=o.bidiLevel)}else if(d.extend){d.collapse(a.node,a.offset);try{d.extend(f.node,f.offset)}catch{}}else{let h=document.createRange();o.anchor>o.head&&([a,f]=[f,a]),h.setEnd(f.node,f.offset),h.setStart(a.node,a.offset),d.removeAllRanges(),d.addRange(h)}l&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(a,f)),this.impreciseAnchor=a.precise?null:new is(u.anchorNode,u.anchorOffset),this.impreciseHead=f.precise?null:new is(u.focusNode,u.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,i=ym(e.root),{anchorNode:s,anchorOffset:l}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let r=Es.find(this,t.head);if(!r)return;let o=r.posAtStart;if(t.head==o||t.head==o+r.length)return;let a=this.coordsAt(t.head,-1),f=this.coordsAt(t.head,1);if(!a||!f||a.bottom>f.top)return;let u=this.domAtPos(t.head+t.assoc);i.collapse(u.node,u.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&i.collapse(s,l)}nearest(e){for(let t=e;t;){let i=Yn.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let s=this.children[t];if(i<s.length||s instanceof Es)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,s=this.children.length-1;;s--){let l=this.children[s],r=i-l.breakAfter-l.length;if(e>r||e==r&&l.type!=ci.WidgetBefore&&l.type!=ci.WidgetAfter&&(!s||t==2||this.children[s-1].breakAfter||this.children[s-1].type==ci.WidgetBefore&&t>-2))return l.coordsAt(e-r,t);i=r}}measureVisibleLineHeights(e){let t=[],{from:i,to:s}=e,l=this.view.contentDOM.clientWidth,r=l>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,a=this.view.textDirection==ui.LTR;for(let f=0,u=0;u<this.children.length;u++){let d=this.children[u],h=f+d.length;if(h>s)break;if(f>=i){let p=d.dom.getBoundingClientRect();if(t.push(p.height),r){let g=d.dom.lastChild,b=g?bu(g):[];if(b.length){let _=b[b.length-1],y=a?_.right-p.left:p.right-_.left;y>o&&(o=y,this.minWidth=l,this.minWidthFrom=f,this.minWidthTo=h)}}}f=h+d.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?ui.RTL:ui.LTR}measureTextSize(){for(let l of this.children)if(l instanceof Es){let r=l.measureTextSize();if(r)return r}let e=document.createElement("div"),t,i,s;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let l=bu(e.firstChild)[0];t=e.getBoundingClientRect().height,i=l?l.width/27:7,s=l?l.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:s}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new SR(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,s=0;;s++){let l=s==t.viewports.length?null:t.viewports[s],r=l?l.from-1:this.length;if(r>i){let o=t.lineBlockAt(r).bottom-t.lineBlockAt(i).top;e.push(wt.replace({widget:new K5(o),block:!0,inclusive:!0,isBlockGap:!0}).range(i,r))}if(!l)break;i=l.to+1}return wt.set(e)}updateDeco(){let e=this.view.state.facet(cd).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),s;if(!i)return;!t.empty&&(s=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,s.left),top:Math.min(i.top,s.top),right:Math.max(i.right,s.right),bottom:Math.max(i.bottom,s.bottom)});let l=JR(this.view),r={left:i.left-l.left,top:i.top-l.top,right:i.right+l.right,bottom:i.bottom+l.bottom};Xce(this.view.scrollDOM,r,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==ui.LTR)}}function dde(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class K5 extends Tr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function ZR(n){let e=n.observer.selectionRange,t=e.focusNode&&QR(e.focusNode,e.focusOffset,0);if(!t)return null;let i=n.docView.nearest(t);if(!i)return null;if(i instanceof Es){let s=t;for(;s.parentNode!=i.dom;)s=s.parentNode;let l=s.previousSibling;for(;l&&!Yn.get(l);)l=l.previousSibling;let r=l?Yn.get(l).posAtEnd:i.posAtStart;return{from:r,to:r,node:s,text:t}}else{for(;;){let{parent:l}=i;if(!l)return null;if(l instanceof Es)break;i=l}let s=i.posAtStart;return{from:s,to:s+i.length,node:i.dom,text:t}}}function hde(n,e){let t=ZR(n);if(!t)return wt.none;let{from:i,to:s,node:l,text:r}=t,o=e.mapPos(i,1),a=Math.max(o,e.mapPos(s,-1)),{state:f}=n,u=new XR([],f);l.nodeType==3?u.readTextNode(l):u.readRange(l.firstChild,null);let{text:d}=u;if(d.indexOf(Mf)>-1)return wt.none;if(a-o<d.length)if(f.doc.sliceString(o,Math.min(f.doc.length,o+d.length))==d)a=o+d.length;else if(f.doc.sliceString(Math.max(0,a-d.length),a)==d)o=a-d.length;else return wt.none;else if(f.doc.sliceString(o,a)!=d)return wt.none;let h=Yn.get(l);return h instanceof OR?h=h.widget.topView:h&&(h.parent=null),wt.set(wt.replace({widget:new pde(l,r,h),inclusive:!0}).range(o,a))}class pde extends Tr{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return OR}}function QR(n,e,t){if(t<=0)for(let i=n,s=e;;){if(i.nodeType==3)return i;if(i.nodeType==1&&s>0)i=i.childNodes[s-1],s=Ho(i);else break}if(t>=0)for(let i=n,s=e;;){if(i.nodeType==3)return i;if(i.nodeType==1&&s<i.childNodes.length&&t>=0)i=i.childNodes[s],s=0;else break}return null}function mde(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}class gde{constructor(){this.changes=[]}compareRange(e,t){l_(e,t,this.changes)}comparePoint(e,t){l_(e,t,this.changes)}}function bde(n,e,t){let i=new gde;return En.compare(n,e,t,i),i.changes}function _de(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function yde(n,e,t=1){let i=n.charCategorizer(e),s=n.doc.lineAt(e),l=e-s.from;if(s.length==0)return He.cursor(e);l==0?t=1:l==s.length&&(t=-1);let r=l,o=l;t<0?r=vs(s.text,l,!1):o=vs(s.text,l);let a=i(s.text.slice(r,o));for(;r>0;){let f=vs(s.text,r,!1);if(i(s.text.slice(f,r))!=a)break;r=f}for(;o<s.length;){let f=vs(s.text,o);if(i(s.text.slice(o,f))!=a)break;o=f}return He.range(r+s.from,o+s.from)}function vde(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function kde(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function r0(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function J5(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function x5(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function f_(n,e,t){let i,s,l,r,o=!1,a,f,u,d;for(let g=n.firstChild;g;g=g.nextSibling){let b=bu(g);for(let _=0;_<b.length;_++){let y=b[_];s&&r0(s,y)&&(y=J5(x5(y,s.bottom),s.top));let w=vde(e,y),A=kde(t,y);if(w==0&&A==0)return g.nodeType==3?Y5(g,e,t):f_(g,e,t);if(!i||r>A||r==A&&l>w){i=g,s=y,l=w,r=A;let M=A?t<y.top?-1:1:w?e<y.left?-1:1:0;o=!M||(M>0?_<b.length-1:_>0)}w==0?t>y.bottom&&(!u||u.bottom<y.bottom)?(a=g,u=y):t<y.top&&(!d||d.top>y.top)&&(f=g,d=y):u&&r0(u,y)?u=x5(u,y.bottom):d&&r0(d,y)&&(d=J5(d,y.top))}}if(u&&u.bottom>=t?(i=a,s=u):d&&d.top<=t&&(i=f,s=d),!i)return{node:n,offset:0};let h=Math.max(s.left,Math.min(s.right,e));if(i.nodeType==3)return Y5(i,h,t);if(o&&i.contentEditable!="false")return f_(i,h,t);let p=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(s.left+s.right)/2?1:0);return{node:n,offset:p}}function Y5(n,e,t){let i=n.nodeValue.length,s=-1,l=1e9,r=0;for(let o=0;o<i;o++){let a=_u(n,o,o+1).getClientRects();for(let f=0;f<a.length;f++){let u=a[f];if(u.top==u.bottom)continue;r||(r=e-u.left);let d=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&d<l){let h=e>=(u.left+u.right)/2,p=h;if((kt.chrome||kt.gecko)&&_u(n,o).getBoundingClientRect().left==u.right&&(p=!h),d<=0)return{node:n,offset:o+(p?1:0)};s=o+(p?1:0),l=d}}}return{node:n,offset:s>-1?s:r>0?n.nodeValue.length:0}}function $R(n,e,t,i=-1){var s,l;let r=n.contentDOM.getBoundingClientRect(),o=r.top+n.viewState.paddingTop,a,{docHeight:f}=n.viewState,{x:u,y:d}=e,h=d-o;if(h<0)return 0;if(h>f)return n.state.doc.length;for(let M=n.viewState.heightOracle.textHeight/2,T=!1;a=n.elementAtHeight(h),a.type!=ci.Text;)for(;h=i>0?a.bottom+M:a.top-M,!(h>=0&&h<=f);){if(T)return t?null:0;T=!0,i=-i}d=o+h;let p=a.from;if(p<n.viewport.from)return n.viewport.from==0?0:t?null:G5(n,r,a,u,d);if(p>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:G5(n,r,a,u,d);let g=n.dom.ownerDocument,b=n.root.elementFromPoint?n.root:g,_=b.elementFromPoint(u,d);_&&!n.contentDOM.contains(_)&&(_=null),_||(u=Math.max(r.left+1,Math.min(r.right-1,u)),_=b.elementFromPoint(u,d),_&&!n.contentDOM.contains(_)&&(_=null));let y,w=-1;if(_&&((s=n.docView.nearest(_))===null||s===void 0?void 0:s.isEditable)!=!1){if(g.caretPositionFromPoint){let M=g.caretPositionFromPoint(u,d);M&&({offsetNode:y,offset:w}=M)}else if(g.caretRangeFromPoint){let M=g.caretRangeFromPoint(u,d);M&&({startContainer:y,startOffset:w}=M,(!n.contentDOM.contains(y)||kt.safari&&wde(y,w,u)||kt.chrome&&Sde(y,w,u))&&(y=void 0))}}if(!y||!n.docView.dom.contains(y)){let M=Es.find(n.docView,p);if(!M)return h>a.top+a.height/2?a.to:a.from;({node:y,offset:w}=f_(M.dom,u,d))}let A=n.docView.nearest(y);if(!A)return null;if(A.isWidget&&((l=A.dom)===null||l===void 0?void 0:l.nodeType)==1){let M=A.dom.getBoundingClientRect();return e.y<M.top||e.y<=M.bottom&&e.x<=(M.left+M.right)/2?A.posAtStart:A.posAtEnd}else return A.localPosFromDOM(y,w)+A.posAtStart}function G5(n,e,t,i,s){let l=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let o=n.viewState.heightOracle.textHeight,a=Math.floor((s-t.top-(n.defaultLineHeight-o)*.5)/o);l+=a*n.viewState.heightOracle.lineLength}let r=n.state.sliceDoc(t.from,t.to);return t.from+Gb(r,l,n.state.tabSize)}function wde(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let s=n.nextSibling;s;s=s.nextSibling)if(s.nodeType!=1||s.nodeName!="BR")return!1;return _u(n,i-1,i).getBoundingClientRect().left>t}function Sde(n,e,t){if(e!=0)return!1;for(let s=n;;){let l=s.parentNode;if(!l||l.nodeType!=1||l.firstChild!=s)return!1;if(l.classList.contains("cm-line"))break;s=l}let i=n.nodeType==1?n.getBoundingClientRect():_u(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function u_(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==ci.Text))return i}return t}function Cde(n,e,t,i){let s=u_(n,e.head),l=!i||s.type!=ci.Text||!(n.lineWrapping||s.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(l){let r=n.dom.getBoundingClientRect(),o=n.textDirectionAt(s.from),a=n.posAtCoords({x:t==(o==ui.LTR)?r.right-1:r.left+1,y:(l.top+l.bottom)/2});if(a!=null)return He.cursor(a,t?-1:1)}return He.cursor(t?s.to:s.from,t?-1:1)}function X5(n,e,t,i){let s=n.state.doc.lineAt(e.head),l=n.bidiSpans(s),r=n.textDirectionAt(s.from);for(let o=e,a=null;;){let f=cde(s,l,r,o,t),u=GR;if(!f){if(s.number==(t?n.state.doc.lines:1))return o;u=`
`,s=n.state.doc.line(s.number+(t?1:-1)),l=n.bidiSpans(s),f=He.cursor(t?s.from:s.to)}if(a){if(!a(u))return o}else{if(!i)return f;a=i(u)}o=f}}function Mde(n,e,t){let i=n.state.charCategorizer(e),s=i(t);return l=>{let r=i(l);return s==ni.Space&&(s=r),s==r}}function Tde(n,e,t,i){let s=e.head,l=t?1:-1;if(s==(t?n.state.doc.length:0))return He.cursor(s,e.assoc);let r=e.goalColumn,o,a=n.contentDOM.getBoundingClientRect(),f=n.coordsAtPos(s),u=n.documentTop;if(f)r==null&&(r=f.left-a.left),o=l<0?f.top:f.bottom;else{let p=n.viewState.lineBlockAt(s);r==null&&(r=Math.min(a.right-a.left,n.defaultCharacterWidth*(s-p.from))),o=(l<0?p.top:p.bottom)+u}let d=a.left+r,h=i??n.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let g=o+(h+p)*l,b=$R(n,{x:d,y:g},!1,l);if(g<a.top||g>a.bottom||(l<0?b<s:b>s))return He.cursor(b,e.assoc,void 0,r)}}function bp(n,e,t){for(;;){let i=0;for(let s of n)s.between(e-1,e+1,(l,r,o)=>{if(e>l&&e<r){let a=i||t||(e-l<r-e?-1:1);e=a<0?l:r,i=a}});if(!i)return e}}function o0(n,e,t){let i=bp(n.state.facet(Cy).map(s=>s(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:He.cursor(i,i<t.from?1:-1)}class Ade{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let t=(i,s)=>{this.ignoreDuringComposition(s)||s.type=="keydown"&&this.keydown(e,s)||(this.mustFlushObserver(s)&&e.observer.forceFlush(),this.runCustomHandlers(s.type,e,s)?s.preventDefault():i(e,s))};for(let i in Fi){let s=Fi[i];e.contentDOM.addEventListener(i,l=>{Z5(e,l)&&t(s,l)},c_[i]),this.registeredEvents.push(i)}e.scrollDOM.addEventListener("mousedown",i=>{if(i.target==e.scrollDOM&&i.clientY>e.contentDOM.getBoundingClientRect().bottom&&(t(Fi.mousedown,i),!i.defaultPrevented&&i.button==2)){let s=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=s,200)}}),e.scrollDOM.addEventListener("drop",i=>{i.target==e.scrollDOM&&i.clientY>e.contentDOM.getBoundingClientRect().bottom&&t(Fi.drop,i)}),kt.chrome&&kt.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,kt.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var i;let s;this.customHandlers=[];for(let l of t)if(s=(i=l.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:l.value,handlers:s});for(let r in s)this.registeredEvents.indexOf(r)<0&&r!="scroll"&&(this.registeredEvents.push(r),e.contentDOM.addEventListener(r,o=>{Z5(e,o)&&this.runCustomHandlers(r,e,o)&&o.preventDefault()}))}}runCustomHandlers(e,t,i){for(let s of this.customHandlers){let l=s.handlers[e];if(l)try{if(l.call(s.plugin,i,t)||i.defaultPrevented)return!0}catch(r){Ys(t.state,r)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let i of this.customHandlers){let s=i.handlers.scroll;if(s)try{s.call(i.plugin,t,e)}catch(l){Ys(e.state,l)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(t.keyCode!=27&&tN.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0),kt.android&&kt.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return kt.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((i=eN.find(s=>s.keyCode==t.keyCode))&&!t.ctrlKey||Ode.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=i||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Wf(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:kt.safari&&!kt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const eN=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Ode="dthko",tN=[16,17,18,20,91,92,224,225],zh=6;function Hh(n){return Math.max(0,n)*.7+8}class Ede{constructor(e,t,i,s){this.view=e,this.style=i,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=Zce(e.contentDOM),this.atoms=e.state.facet(Cy).map(r=>r(e));let l=e.contentDOM.ownerDocument;l.addEventListener("mousemove",this.move=this.move.bind(this)),l.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(ln.allowMultipleSelections)&&Pde(e,t),this.dragging=Ide(e,t)&&lN(t)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let i=0,s=0,l=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},r=JR(this.view);e.clientX-r.left<=l.left+zh?i=-Hh(l.left-e.clientX):e.clientX+r.right>=l.right-zh&&(i=Hh(e.clientX-l.right)),e.clientY-r.top<=l.top+zh?s=-Hh(l.top-e.clientY):e.clientY+r.bottom>=l.bottom-zh&&(s=Hh(e.clientY-l.bottom)),this.setScrollSpeed(i,s)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let s=e.ranges[i],l=null;if(s.empty){let r=bp(this.atoms,s.from,0);r!=s.from&&(l=He.cursor(r,-1))}else{let r=bp(this.atoms,s.from,-1),o=bp(this.atoms,s.to,1);(r!=s.from||o!=s.to)&&(l=He.range(s.from==s.anchor?r:o,s.from==s.head?r:o))}l&&(t||(t=e.ranges.slice()),t[i]=l)}return t?He.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection)||i.main.assoc!=t.state.selection.main.assoc)&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Pde(n,e){let t=n.state.facet(FR);return t.length?t[0](e):kt.mac?e.metaKey:e.ctrlKey}function Dde(n,e){let t=n.state.facet(jR);return t.length?t[0](e):kt.mac?!e.altKey:!e.ctrlKey}function Ide(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=ym(n.root);if(!i||i.rangeCount==0)return!0;let s=i.getRangeAt(0).getClientRects();for(let l=0;l<s.length;l++){let r=s[l];if(r.left<=e.clientX&&r.right>=e.clientX&&r.top<=e.clientY&&r.bottom>=e.clientY)return!0}return!1}function Z5(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=Yn.get(t))&&i.ignoreEvent(e))return!1;return!0}const Fi=Object.create(null),c_=Object.create(null),nN=kt.ie&&kt.ie_version<15||kt.ios&&kt.webkit_version<604;function Rde(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),iN(n,t.value)},50)}function iN(n,e){let{state:t}=n,i,s=1,l=t.toText(e),r=l.lines==t.selection.ranges.length;if(d_!=null&&t.selection.ranges.every(a=>a.empty)&&d_==l.toString()){let a=-1;i=t.changeByRange(f=>{let u=t.doc.lineAt(f.from);if(u.from==a)return{range:f};a=u.from;let d=t.toText((r?l.line(s++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:d},range:He.cursor(f.from+d.length)}})}else r?i=t.changeByRange(a=>{let f=l.line(s++);return{changes:{from:a.from,to:a.to,insert:f.text},range:He.cursor(a.from+f.length)}}):i=t.replaceSelection(l);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Fi.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),e.keyCode==27&&(n.inputState.lastEscPress=Date.now())};Fi.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Fi.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};c_.touchstart=c_.touchmove={passive:!0};Fi.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let i of n.state.facet(BR))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=Fde(n,e)),t){let i=n.root.activeElement!=n.contentDOM;n.inputState.startMouseSelection(new Ede(n,e,t,i)),i&&n.observer.ignore(()=>kR(n.contentDOM)),n.inputState.mouseSelection&&n.inputState.mouseSelection.start(e)}};function Q5(n,e,t,i){if(i==1)return He.cursor(e,t);if(i==2)return yde(n.state,e,t);{let s=Es.find(n.docView,e),l=n.state.doc.lineAt(s?s.posAtEnd:e),r=s?s.posAtStart:l.from,o=s?s.posAtEnd:l.to;return o<n.state.doc.length&&o==l.to&&o++,He.range(r,o)}}let sN=(n,e)=>n>=e.top&&n<=e.bottom,$5=(n,e,t)=>sN(e,t)&&n>=t.left&&n<=t.right;function Nde(n,e,t,i){let s=Es.find(n.docView,e);if(!s)return 1;let l=e-s.posAtStart;if(l==0)return 1;if(l==s.length)return-1;let r=s.coordsAt(l,-1);if(r&&$5(t,i,r))return-1;let o=s.coordsAt(l,1);return o&&$5(t,i,o)?1:r&&sN(i,r)?-1:1}function eM(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Nde(n,t,e.clientX,e.clientY)}}const Lde=kt.ie&&kt.ie_version<=11;let tM=null,nM=0,iM=0;function lN(n){if(!Lde)return n.detail;let e=tM,t=iM;return tM=n,iM=Date.now(),nM=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(nM+1)%3:1}function Fde(n,e){let t=eM(n,e),i=lN(e),s=n.state.selection;return{update(l){l.docChanged&&(t.pos=l.changes.mapPos(t.pos),s=s.map(l.changes))},get(l,r,o){let a=eM(n,l),f,u=Q5(n,a.pos,a.bias,i);if(t.pos!=a.pos&&!r){let d=Q5(n,t.pos,t.bias,i),h=Math.min(d.from,u.from),p=Math.max(d.to,u.to);u=h<u.from?He.range(h,p):He.range(p,h)}return r?s.replaceRange(s.main.extend(u.from,u.to)):o&&i==1&&s.ranges.length>1&&(f=jde(s,a.pos))?f:o?s.addRange(u):He.create([u])}}}function jde(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:s}=n.ranges[t];if(i<=e&&s>=e)return He.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Fi.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function sM(n,e,t,i){if(!t)return;let s=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:l}=n.inputState,r=i&&l&&l.dragging&&Dde(n,e)?{from:l.dragging.from,to:l.dragging.to}:null,o={from:s,insert:t},a=n.state.changes(r?[r,o]:o);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(s,-1),head:a.mapPos(s,1)},userEvent:r?"move.drop":"input.drop"})}Fi.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),s=0,l=()=>{++s==t.length&&sM(n,e,i.filter(r=>r!=null).join(n.state.lineBreak),!1)};for(let r=0;r<t.length;r++){let o=new FileReader;o.onerror=l,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(i[r]=o.result),l()},o.readAsText(t[r])}}else sM(n,e,e.dataTransfer.getData("Text"),!0)};Fi.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=nN?null:e.clipboardData;t?(iN(n,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):Rde(n)};function Bde(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function Vde(n){let e=[],t=[],i=!1;for(let s of n.selection.ranges)s.empty||(e.push(n.sliceDoc(s.from,s.to)),t.push(s));if(!e.length){let s=-1;for(let{from:l}of n.selection.ranges){let r=n.doc.lineAt(l);r.number>s&&(e.push(r.text),t.push({from:r.from,to:Math.min(n.doc.length,r.to+1)})),s=r.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let d_=null;Fi.copy=Fi.cut=(n,e)=>{let{text:t,ranges:i,linewise:s}=Vde(n.state);if(!t&&!s)return;d_=s?t:null;let l=nN?null:e.clipboardData;l?(e.preventDefault(),l.clearData(),l.setData("text/plain",t)):Bde(n,t),e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};const rN=lo.define();function oN(n,e){let t=[];for(let i of n.facet(HR)){let s=i(n,e);s&&t.push(s)}return t?n.update({effects:t,annotations:rN.of(!0)}):null}function aN(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=oN(n.state,e);t?n.dispatch(t):n.update([])}},10)}Fi.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),aN(n)};Fi.blur=n=>{n.observer.clearSelectionRange(),aN(n)};Fi.compositionstart=Fi.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)};Fi.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,kt.chrome&&kt.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.compositionDeco.size&&n.update([])},50)};Fi.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Fi.beforeinput=(n,e)=>{var t;let i;if(kt.chrome&&kt.android&&(i=eN.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var l;(((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const lM=["pre-wrap","normal","pre-line","break-spaces"];class zde{constructor(e){this.lineWrapping=e,this.doc=wn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return lM.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let s=e[i];s<0?i++:this.heightSamples[Math.floor(s*10)]||(t=!0,this.heightSamples[Math.floor(s*10)]=!0)}return t}refresh(e,t,i,s,l,r){let o=lM.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.textHeight=s,this.lineLength=l,a){this.heightSamples={};for(let f=0;f<r.length;f++){let u=r[f];u<0?f++:this.heightSamples[Math.floor(u*10)]=!0}}return a}}class Hde{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class ir{constructor(e,t,i,s,l){this.from=e,this.length=t,this.top=i,this.height=s,this._content=l}get type(){return typeof this._content=="number"?ci.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof qo?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ir(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Zn=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Zn||(Zn={}));const _p=.001;class ws{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>_p&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return ws.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,s){let l=this,r=i.doc;for(let o=s.length-1;o>=0;o--){let{fromA:a,toA:f,fromB:u,toB:d}=s[o],h=l.lineAt(a,Zn.ByPosNoHeight,i.setDoc(t),0,0),p=h.to>=f?h:l.lineAt(f,Zn.ByPosNoHeight,i,0,0);for(d+=p.to-f,f=p.to;o>0&&h.from<=s[o-1].toA;)a=s[o-1].fromA,u=s[o-1].fromB,o--,a<h.from&&(h=l.lineAt(a,Zn.ByPosNoHeight,i,0,0));u+=h.from-a,a=h.from;let g=My.build(i.setDoc(r),e,u,d);l=l.replace(a,f,g)}return l.updateHeight(i,0)}static empty(){return new Hs(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,s=0,l=0;for(;;)if(t==i)if(s>l*2){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),i+=1+o.break,s-=o.size}else if(l>s*2){let o=e[i];o.break?e.splice(i,1,o.left,null,o.right):e.splice(i,1,o.left,o.right),i+=2+o.break,l-=o.size}else break;else if(s<l){let o=e[t++];o&&(s+=o.size)}else{let o=e[--i];o&&(l+=o.size)}let r=0;return e[t-1]==null?(r=1,t--):e[t]==null&&(r=1,i++),new qde(ws.of(e.slice(0,t)),r,ws.of(e.slice(i)))}}ws.prototype.size=1;class fN extends ws{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,s){return new ir(s,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,s,l){return this.blockAt(0,i,s,l)}forEachLine(e,t,i,s,l,r){e<=l+this.length&&t>=l&&r(this.blockAt(0,i,s,l))}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more&&this.setHeight(e,s.heights[s.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Hs extends fN{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,s){return new ir(s,this.length,i,this.height,this.breaks)}replace(e,t,i){let s=i[0];return i.length==1&&(s instanceof Hs||s instanceof Qi&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof Qi?s=new Hs(s.length,this.height):s.height=this.height,this.outdated||(s.outdated=!1),s):ws.of(i)}updateHeight(e,t=0,i=!1,s){return s&&s.from<=t&&s.more?this.setHeight(e,s.heights[s.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Qi extends ws{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,s=e.doc.lineAt(t+this.length).number,l=s-i+1,r,o=0;if(e.lineWrapping){let a=Math.min(this.height,e.lineHeight*l);r=a/l,this.length>l+1&&(o=(this.height-a)/(this.length-l-1))}else r=this.height/l;return{firstLine:i,lastLine:s,perLine:r,perChar:o}}blockAt(e,t,i,s){let{firstLine:l,lastLine:r,perLine:o,perChar:a}=this.heightMetrics(t,s);if(t.lineWrapping){let f=s+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),u=t.doc.lineAt(f),d=o+u.length*a,h=Math.max(i,e-d/2);return new ir(u.from,u.length,h,d,0)}else{let f=Math.max(0,Math.min(r-l,Math.floor((e-i)/o))),{from:u,length:d}=t.doc.line(l+f);return new ir(u,d,i+o*f,o,0)}}lineAt(e,t,i,s,l){if(t==Zn.ByHeight)return this.blockAt(e,i,s,l);if(t==Zn.ByPosNoHeight){let{from:p,to:g}=i.doc.lineAt(e);return new ir(p,g-p,0,0,0)}let{firstLine:r,perLine:o,perChar:a}=this.heightMetrics(i,l),f=i.doc.lineAt(e),u=o+f.length*a,d=f.number-r,h=s+o*d+a*(f.from-l-d);return new ir(f.from,f.length,Math.max(s,Math.min(h,s+this.height-u)),u,0)}forEachLine(e,t,i,s,l,r){e=Math.max(e,l),t=Math.min(t,l+this.length);let{firstLine:o,perLine:a,perChar:f}=this.heightMetrics(i,l);for(let u=e,d=s;u<=t;){let h=i.doc.lineAt(u);if(u==e){let g=h.number-o;d+=a*g+f*(e-l-g)}let p=a+f*h.length;r(new ir(h.from,h.length,d,p,0)),d+=p,u=h.to+1}}replace(e,t,i){let s=this.length-t;if(s>0){let l=i[i.length-1];l instanceof Qi?i[i.length-1]=new Qi(l.length+s):i.push(null,new Qi(s-1))}if(e>0){let l=i[0];l instanceof Qi?i[0]=new Qi(e+l.length):i.unshift(new Qi(e-1),null)}return ws.of(i)}decomposeLeft(e,t){t.push(new Qi(e-1),null)}decomposeRight(e,t){t.push(null,new Qi(this.length-e-1))}updateHeight(e,t=0,i=!1,s){let l=t+this.length;if(s&&s.from<=t+this.length&&s.more){let r=[],o=Math.max(t,s.from),a=-1;for(s.from>t&&r.push(new Qi(s.from-t-1).updateHeight(e,t));o<=l&&s.more;){let u=e.doc.lineAt(o).length;r.length&&r.push(null);let d=s.heights[s.index++];a==-1?a=d:Math.abs(d-a)>=_p&&(a=-2);let h=new Hs(u,d);h.outdated=!1,r.push(h),o+=u+1}o<=l&&r.push(null,new Qi(l-o).updateHeight(e,o));let f=ws.of(r);return(a<0||Math.abs(f.height-this.height)>=_p||Math.abs(a-this.heightMetrics(e,t).perLine)>=_p)&&(e.heightChanged=!0),f}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class qde extends ws{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,s){let l=i+this.left.height;return e<l?this.left.blockAt(e,t,i,s):this.right.blockAt(e,t,l,s+this.left.length+this.break)}lineAt(e,t,i,s,l){let r=s+this.left.height,o=l+this.left.length+this.break,a=t==Zn.ByHeight?e<r:e<o,f=a?this.left.lineAt(e,t,i,s,l):this.right.lineAt(e,t,i,r,o);if(this.break||(a?f.to<o:f.from>o))return f;let u=t==Zn.ByPosNoHeight?Zn.ByPosNoHeight:Zn.ByPos;return a?f.join(this.right.lineAt(o,u,i,r,o)):this.left.lineAt(o,u,i,s,l).join(f)}forEachLine(e,t,i,s,l,r){let o=s+this.left.height,a=l+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,i,s,l,r),t>=a&&this.right.forEachLine(e,t,i,o,a,r);else{let f=this.lineAt(a,Zn.ByPos,i,s,l);e<f.from&&this.left.forEachLine(e,f.from-1,i,s,l,r),f.to>=e&&f.from<=t&&r(f),t>f.to&&this.right.forEachLine(f.to+1,t,i,o,a,r)}}replace(e,t,i){let s=this.left.length+this.break;if(t<s)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,t-s,i));let l=[];e>0&&this.decomposeLeft(e,l);let r=l.length;for(let o of i)l.push(o);if(e>0&&rM(l,r-1),t<this.length){let o=l.length;this.decomposeRight(t,l),rM(l,o)}return ws.of(l)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,s=i+this.break;if(e>=s)return this.right.decomposeRight(e-s,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<s&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?ws.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,s){let{left:l,right:r}=this,o=t+l.length+this.break,a=null;return s&&s.from<=t+l.length&&s.more?a=l=l.updateHeight(e,t,i,s):l.updateHeight(e,t,i),s&&s.from<=o+r.length&&s.more?a=r=r.updateHeight(e,o,i,s):r.updateHeight(e,o,i),a?this.balanced(l,r):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function rM(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof Qi&&(i=n[e+1])instanceof Qi&&n.splice(e-1,3,new Qi(t.length+1+i.length))}const Wde=5;class My{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof Hs?s.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new Hs(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let s=i.widget?i.widget.estimatedHeight:0,l=i.widget?i.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let r=t-e;i.block?this.addBlock(new fN(r,s,i)):(r||l||s>=Wde)&&this.addLineDeco(s,l,r)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Hs(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new Qi(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Hs)return e;let t=new Hs(0,-1);return this.nodes.push(t),t}addBlock(e){var t;this.enterLine();let i=(t=e.deco)===null||t===void 0?void 0:t.type;i==ci.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,i!=ci.WidgetBefore&&(this.covering=e)}addLineDeco(e,t,i){let s=this.ensureLine();s.length+=i,s.collapsed+=i,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Hs)&&!this.isCovered?this.nodes.push(new Hs(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let s of this.nodes)s instanceof Hs&&s.updateHeight(this.oracle,i),i+=s?s.length:1;return this.nodes}static build(e,t,i,s){let l=new My(i,e);return En.spans(t,i,s,l,0),l.finish(i)}}function Ude(n,e,t){let i=new Kde;return En.compare(n,e,t,i,0),i.changes}class Kde{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,s){(e<t||i&&i.heightRelevant||s&&s.heightRelevant)&&l_(e,t,this.changes,5)}}function Jde(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,s=i.defaultView||window,l=Math.max(0,t.left),r=Math.min(s.innerWidth,t.right),o=Math.max(0,t.top),a=Math.min(s.innerHeight,t.bottom);for(let f=n.parentNode;f&&f!=i.body;)if(f.nodeType==1){let u=f,d=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&d.overflow!="visible"){let h=u.getBoundingClientRect();l=Math.max(l,h.left),r=Math.min(r,h.right),o=Math.max(o,h.top),a=f==n.parentNode?h.bottom:Math.min(a,h.bottom)}f=d.position=="absolute"||d.position=="fixed"?u.offsetParent:u.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:l-t.left,right:Math.max(l,r)-t.left,top:o-(t.top+e),bottom:Math.max(o,a)-(t.top+e)}}function xde(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class a0{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let s=e[i],l=t[i];if(s.from!=l.from||s.to!=l.to||s.size!=l.size)return!1}return!0}draw(e){return wt.replace({widget:new Yde(this.size,e)}).range(this.from,this.to)}}class Yde extends Tr{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class oM{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=aM,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ui.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Sy).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new zde(t),this.stateDeco=e.facet(cd).filter(i=>typeof i!="function"),this.heightMap=ws.empty().applyChanges(this.stateDeco,wn.empty,this.heightOracle.setDoc(e.doc),[new mr(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=wt.set(this.lineGaps.map(i=>i.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let s=i?t.head:t.anchor;if(!e.some(({from:l,to:r})=>s>=l&&s<=r)){let{from:l,to:r}=this.lineBlockAt(s);e.push(new qh(l,r))}}this.viewports=e.sort((i,s)=>i.from-s.from),this.scaler=this.heightMap.height<=7e6?aM:new Zde(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:kc(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(cd).filter(u=>typeof u!="function");let s=e.changedRanges,l=mr.extendWithRanges(s,Ude(i,this.stateDeco,e?e.changes:Hi.empty(this.state.doc.length))),r=this.heightMap.height,o=this.scrolledToBottom?null:this.lineBlockAtHeight(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),l),this.heightMap.height!=r&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let a=l.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let f=!e.changes.empty||e.flags&2||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),f&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(WR)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),s=this.heightOracle,l=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?ui.RTL:ui.LTR;let r=this.heightOracle.mustRefreshForWrapping(l),o=t.getBoundingClientRect(),a=r||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let f=0,u=0,d=parseInt(i.paddingTop)||0,h=parseInt(i.paddingBottom)||0;(this.paddingTop!=d||this.paddingBottom!=h)&&(this.paddingTop=d,this.paddingBottom=h,f|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=8),this.scrollTop!=e.scrollDOM.scrollTop&&(this.scrollAnchorHeight=-1,this.scrollTop=e.scrollDOM.scrollTop),this.scrolledToBottom=this.scrollTop>e.scrollDOM.scrollHeight-e.scrollDOM.clientHeight-4;let p=(this.printing?xde:Jde)(t,this.paddingTop),g=p.top-this.pixelViewport.top,b=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let _=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(_!=this.inView&&(this.inView=_,_&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let y=o.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,f|=8),a){let A=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(A)&&(r=!0),r||s.lineWrapping&&Math.abs(y-this.contentDOMWidth)>s.charWidth){let{lineHeight:M,charWidth:T,textHeight:O}=e.docView.measureTextSize();r=M>0&&s.refresh(l,M,T,O,y/T,A),r&&(e.docView.minWidth=0,f|=8)}g>0&&b>0?u=Math.max(g,b):g<0&&b<0&&(u=Math.min(g,b)),s.heightChanged=!1;for(let M of this.viewports){let T=M.from==this.viewport.from?A:e.docView.measureVisibleLineHeights(M);this.heightMap=(r?ws.empty().applyChanges(this.stateDeco,wn.empty,this.heightOracle,[new mr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,r,new Hde(M.from,T))}s.heightChanged&&(f|=2)}let w=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return w&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(f&2||w)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(r?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,l=this.heightOracle,{visibleTop:r,visibleBottom:o}=this,a=new qh(s.lineAt(r-i*1e3,Zn.ByHeight,l,0,0).from,s.lineAt(o+(1-i)*1e3,Zn.ByHeight,l,0,0).to);if(t){let{head:f}=t.range;if(f<a.from||f>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=s.lineAt(f,Zn.ByPos,l,0,0),h;t.y=="center"?h=(d.top+d.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&f<a.from?h=d.top:h=d.bottom-u,a=new qh(s.lineAt(h-1e3/2,Zn.ByHeight,l,0,0).from,s.lineAt(h+u+1e3/2,Zn.ByHeight,l,0,0).to)}}return a}mapViewport(e,t){let i=t.mapPos(e.from,-1),s=t.mapPos(e.to,1);return new qh(this.heightMap.lineAt(i,Zn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,Zn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,Zn.ByPos,this.heightOracle,0,0),{bottom:l}=this.heightMap.lineAt(t,Zn.ByPos,this.heightOracle,0,0),{visibleTop:r,visibleBottom:o}=this;return(e==0||s<=r-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||l>=o+Math.max(10,Math.min(i,250)))&&s>r-2*1e3&&l<o+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let s of e)t.touchesRange(s.from,s.to)||i.push(new a0(t.mapPos(s.from),t.mapPos(s.to),s.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,s=i?1e4:2e3,l=s>>1,r=s<<1;if(this.defaultTextDirection!=ui.LTR&&!i)return[];let o=[],a=(f,u,d,h)=>{if(u-f<l)return;let p=this.state.selection.main,g=[p.from];p.empty||g.push(p.to);for(let _ of g)if(_>f&&_<u){a(f,_-10,d,h),a(_+10,u,d,h);return}let b=Xde(e,_=>_.from>=d.from&&_.to<=d.to&&Math.abs(_.from-f)<l&&Math.abs(_.to-u)<l&&!g.some(y=>_.from<y&&_.to>y));if(!b){if(u<d.to&&t&&i&&t.visibleRanges.some(_=>_.from<=u&&_.to>=u)){let _=t.moveToLineBoundary(He.cursor(u),!1,!0).head;_>f&&(u=_)}b=new a0(f,u,this.gapSize(d,f,u,h))}o.push(b)};for(let f of this.viewportLines){if(f.length<r)continue;let u=Gde(f.from,f.to,this.stateDeco);if(u.total<r)continue;let d=this.scrollTarget?this.scrollTarget.range.head:null,h,p;if(i){let g=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,b,_;if(d!=null){let y=Uh(u,d),w=((this.visibleBottom-this.visibleTop)/2+g)/f.height;b=y-w,_=y+w}else b=(this.visibleTop-f.top-g)/f.height,_=(this.visibleBottom-f.top+g)/f.height;h=Wh(u,b),p=Wh(u,_)}else{let g=u.total*this.heightOracle.charWidth,b=s*this.heightOracle.charWidth,_,y;if(d!=null){let w=Uh(u,d),A=((this.pixelViewport.right-this.pixelViewport.left)/2+b)/g;_=w-A,y=w+A}else _=(this.pixelViewport.left-b)/g,y=(this.pixelViewport.right+b)/g;h=Wh(u,_),p=Wh(u,y)}h>f.from&&a(f.from,h,f,u),p<f.to&&a(p,f.to,f,u)}return o}gapSize(e,t,i,s){let l=Uh(s,i)-Uh(s,t);return this.heightOracle.lineWrapping?e.height*l:s.total*this.heightOracle.charWidth*l}updateLineGaps(e){a0.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=wt.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];En.spans(e,this.viewport.from,this.viewport.to,{span(s,l){t.push({from:s,to:l})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((s,l)=>s.from!=t[l].from||s.to!=t[l].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||kc(this.heightMap.lineAt(e,Zn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return kc(this.heightMap.lineAt(this.scaler.fromDOM(e),Zn.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return kc(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class qh{constructor(e,t){this.from=e,this.to=t}}function Gde(n,e,t){let i=[],s=n,l=0;return En.spans(t,n,e,{span(){},point(r,o){r>s&&(i.push({from:s,to:r}),l+=r-s),s=o}},20),s<e&&(i.push({from:s,to:e}),l+=e-s),{total:l,ranges:i}}function Wh({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let s=0;;s++){let{from:l,to:r}=e[s],o=r-l;if(i<=o)return l+i;i-=o}}function Uh(n,e){let t=0;for(let{from:i,to:s}of n.ranges){if(e<=s){t+=e-i;break}t+=s-i}return t/n.total}function Xde(n,e){for(let t of n)if(e(t))return t}const aM={toDOM(n){return n},fromDOM(n){return n},scale:1};class Zde{constructor(e,t,i){let s=0,l=0,r=0;this.viewports=i.map(({from:o,to:a})=>{let f=t.lineAt(o,Zn.ByPos,e,0,0).top,u=t.lineAt(a,Zn.ByPos,e,0,0).bottom;return s+=u-f,{from:o,to:a,top:f,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(t.height-s);for(let o of this.viewports)o.domTop=r+(o.top-l)*this.scale,r=o.domBottom=o.domTop+(o.bottom-o.top),l=o.bottom}toDOM(e){for(let t=0,i=0,s=0;;t++){let l=t<this.viewports.length?this.viewports[t]:null;if(!l||e<l.top)return s+(e-i)*this.scale;if(e<=l.bottom)return l.domTop+(e-l.top);i=l.bottom,s=l.domBottom}}fromDOM(e){for(let t=0,i=0,s=0;;t++){let l=t<this.viewports.length?this.viewports[t]:null;if(!l||e<l.domTop)return i+(e-s)/this.scale;if(e<=l.domBottom)return l.top+(e-l.domTop);i=l.bottom,s=l.domBottom}}}function kc(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new ir(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(s=>kc(s,e)):n._content)}const Kh=_t.define({combine:n=>n.join(" ")}),h_=_t.define({combine:n=>n.indexOf(!0)>-1}),p_=Vo.newName(),uN=Vo.newName(),cN=Vo.newName(),dN={"&light":"."+uN,"&dark":"."+cN};function m_(n,e,t){return new Vo(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,s=>{if(s=="&")return n;if(!t||!t[s])throw new RangeError(`Unsupported selector: ${s}`);return t[s]}):n+" "+i}})}const Qde=m_("."+p_,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},dN);class $de{constructor(e,t,i,s){this.typeOver=s,this.bounds=null,this.text="";let{impreciseHead:l,impreciseAnchor:r}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let o=l||r?[]:the(e),a=new XR(o,e.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=nhe(o,this.bounds.from)}else{let o=e.observer.selectionRange,a=l&&l.node==o.focusNode&&l.offset==o.focusOffset||!gu(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),f=r&&r.node==o.anchorNode&&r.offset==o.anchorOffset||!gu(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset);this.newSel=He.single(f,a)}}}function hN(n,e){let t,{newSel:i}=e,s=n.state.selection.main,l=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:r,to:o}=e.bounds,a=s.from,f=null;(l===8||kt.android&&e.text.length<o-r)&&(a=s.to,f="end");let u=ehe(n.state.doc.sliceString(r,o,Mf),e.text,a-r,f);u&&(kt.chrome&&l==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==Mf+Mf&&u.toB--,t={from:r+u.from,to:r+u.toA,insert:wn.of(e.text.slice(u.from,u.toB).split(Mf))})}else i&&(!n.hasFocus&&n.state.facet(qg)||i.main.eq(s))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!s.empty&&i&&i.main.empty?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,s.to)}:t&&t.from>=s.from&&t.to<=s.to&&(t.from!=s.from||t.to!=s.to)&&s.to-s.from-(t.to-t.from)<=4?t={from:s.from,to:s.to,insert:n.state.doc.slice(s.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,s.to))}:(kt.mac||kt.android)&&t&&t.from==t.to&&t.from==s.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=He.single(i.main.anchor-1,i.main.head-1)),t={from:s.from,to:s.to,insert:wn.of([" "])}):kt.chrome&&t&&t.from==t.to&&t.from==s.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=He.single(i.main.anchor-1,i.main.head-1)),t={from:s.from,to:s.to,insert:wn.of([" "])}),t){let r=n.state;if(kt.ios&&n.inputState.flushIOSKey(n)||kt.android&&(t.from==s.from&&t.to==s.to&&t.insert.length==1&&t.insert.lines==2&&Wf(n.contentDOM,"Enter",13)||(t.from==s.from-1&&t.to==s.to&&t.insert.length==0||l==8&&t.insert.length<t.to-t.from)&&Wf(n.contentDOM,"Backspace",8)||t.from==s.from&&t.to==s.to+1&&t.insert.length==0&&Wf(n.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();if(n.state.facet(zR).some(u=>u(n,t.from,t.to,o)))return!0;n.inputState.composing>=0&&n.inputState.composing++;let a;if(t.from>=s.from&&t.to<=s.to&&t.to-t.from>=(s.to-s.from)/3&&(!i||i.main.empty&&i.main.from==t.from+t.insert.length)&&n.inputState.composing<0){let u=s.from<t.from?r.sliceDoc(s.from,t.from):"",d=s.to>t.to?r.sliceDoc(t.to,s.to):"";a=r.replaceSelection(n.state.toText(u+t.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let u=r.changes(t),d=i&&i.main.to<=u.newLength?i.main:void 0;if(r.selection.ranges.length>1&&n.inputState.composing>=0&&t.to<=s.to&&t.to>=s.to-10){let h=n.state.sliceDoc(t.from,t.to),p=ZR(n)||n.state.doc.lineAt(s.head),g=s.to-t.to,b=s.to-s.from;a=r.changeByRange(_=>{if(_.from==s.from&&_.to==s.to)return{changes:u,range:d||_.map(u)};let y=_.to-g,w=y-h.length;if(_.to-_.from!=b||n.state.sliceDoc(w,y)!=h||p&&_.to>=p.from&&_.from<=p.to)return{range:_};let A=r.changes({from:w,to:y,insert:t.insert}),M=_.to-s.to;return{changes:A,range:d?He.range(Math.max(0,d.anchor+M),Math.max(0,d.head+M)):_.map(A)}})}else a={changes:u,selection:d&&r.selection.replaceRange(d)}}let f="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,f+=".compose",n.inputState.compositionFirstChange&&(f+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(a,{scrollIntoView:!0,userEvent:f}),!0}else if(i&&!i.main.eq(s)){let r=!1,o="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(r=!0),o=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:r,userEvent:o}),!0}else return!1}function ehe(n,e,t,i){let s=Math.min(n.length,e.length),l=0;for(;l<s&&n.charCodeAt(l)==e.charCodeAt(l);)l++;if(l==s&&n.length==e.length)return null;let r=n.length,o=e.length;for(;r>0&&o>0&&n.charCodeAt(r-1)==e.charCodeAt(o-1);)r--,o--;if(i=="end"){let a=Math.max(0,l-Math.min(r,o));t-=r+a-l}if(r<l&&n.length<e.length){let a=t<=l&&t>=r?l-t:0;l-=a,o=l+(o-r),r=l}else if(o<l){let a=t<=l&&t>=o?l-t:0;l-=a,r=l+(r-o),o=l}return{from:l,toA:r,toB:o}}function the(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:s,focusOffset:l}=n.observer.selectionRange;return t&&(e.push(new W5(t,i)),(s!=t||l!=i)&&e.push(new W5(s,l))),e}function nhe(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?He.single(t+e,i+e):null}const ihe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},f0=kt.ie&&kt.ie_version<=11;class she{constructor(e){this.view=e,this.active=!1,this.selectionRange=new Qce,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(kt.ie&&kt.ie_version<=11||kt.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),f0&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,s=this.selectionRange;if(i.state.facet(qg)?i.root.activeElement!=this.dom:!gp(i.dom,s))return;let l=s.anchorNode&&i.docView.nearest(s.anchorNode);if(l&&l.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(kt.ie&&kt.ie_version<=11||kt.android&&kt.chrome)&&!i.state.selection.main.empty&&s.focusNode&&vm(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=kt.safari&&e.root.nodeType==11&&Yce(this.dom.ownerDocument)==this.dom&&lhe(this.view)||ym(e.root);if(!t||this.selectionRange.eq(t))return!1;let i=gp(this.dom,t);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&ede(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,ihe),f0&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),f0&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let s=()=>{let l=this.delayedAndroidKey;l&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=l.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&l.force&&Wf(this.dom,l.key,l.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,s=!1;for(let l of e){let r=this.readMutation(l);r&&(r.typeOver&&(s=!0),t==-1?{from:t,to:i}=r:(t=Math.min(r.from,t),i=Math.max(r.to,i)))}return{from:t,to:i,typeOver:s}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),s=this.selectionChanged&&gp(this.dom,this.selectionRange);return e<0&&!s?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new $de(this.view,e,t,i))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let i=this.view.state,s=hN(this.view,t);return this.view.state==i&&this.view.update([]),s}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let i=fM(t,e.previousSibling||e.target.previousSibling,-1),s=fM(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:s?t.posBefore(s):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i,s;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect(),(s=this.resizeContent)===null||s===void 0||s.disconnect();for(let l of this.scrollTargets)l.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function fM(n,e,t){for(;e;){let i=Yn.get(e);if(i&&i.parent==n)return i;let s=e.parentNode;e=s!=n.dom?s:t>0?e.nextSibling:e.previousSibling}return null}function lhe(n){let e=null;function t(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,s=e.startOffset,l=e.endContainer,r=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor);return vm(o.node,o.offset,l,r)&&([i,s,l,r]=[l,r,i,s]),{anchorNode:i,anchorOffset:s,focusNode:l,focusOffset:r}}class mt{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this._root=e.root||$ce(e.parent)||document,this.viewState=new oM(e.state||ln.create(e)),this.plugins=this.state.facet(yc).map(t=>new l0(t));for(let t of this.plugins)t.update(this);this.observer=new she(this),this.inputState=new Ade(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new U5(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){let t=e.length==1&&e[0]instanceof qi?e[0]:this.state.update(...e);this._dispatch(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,s,l=this.state;for(let h of e){if(h.startState!=l)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");l=h.state}if(this.destroyed){this.viewState.state=l;return}let r=this.hasFocus,o=0,a=null;e.some(h=>h.annotation(rN))?(this.inputState.notifiedFocused=r,o=1):r!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=r,a=oN(l,r),a||(o=1));let f=this.observer.delayedAndroidKey,u=null;if(f?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(l.doc)||!this.state.selection.eq(l.selection))&&(u=null)):this.observer.clear(),l.facet(ln.phrases)!=this.state.facet(ln.phrases))return this.setState(l);s=Sm.create(this,l,e),s.flags|=o;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(d&&(d=d.map(h.changes)),h.scrollIntoView){let{main:p}=h.state.selection;d=new wm(p.empty?p:He.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of h.effects)p.is(H5)&&(d=p.value)}this.viewState.update(s,d),this.bidiCache=Cm.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),t=this.docView.update(s),this.state.facet(vc)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(Kh)!=s.state.facet(Kh)&&(this.viewState.mustMeasureContent=!0),(t||i||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!s.empty)for(let h of this.state.facet(r_))h(s);(a||u)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),u&&!hN(this,u)&&f.force&&Wf(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new oM(e),this.plugins=e.facet(yc).map(i=>new l0(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new U5(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(yc),i=e.state.facet(yc);if(t!=i){let s=[];for(let l of i){let r=t.indexOf(l);if(r<0)s.push(new l0(l));else{let o=this.plugins[r];o.mustUpdate=e,s.push(o)}}for(let l of this.plugins)l.mustUpdate!=e&&l.destroy(this);this.plugins=s,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,{scrollTop:s}=i,{scrollAnchorPos:l,scrollAnchorHeight:r}=this.viewState;if(this.viewState.scrollAnchorHeight=-1,r<0||s!=this.viewState.scrollTop)if(s>i.scrollHeight-i.clientHeight-4)l=-1,r=this.viewState.heightMap.height;else{let o=this.viewState.lineBlockAtHeight(s);l=o.from,r=o.top}try{for(let o=0;;o++){this.updateState=1;let a=this.viewport,f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];f&4||([this.measureRequests,u]=[u,this.measureRequests]);let d=u.map(b=>{try{return b.read(this)}catch(_){return Ys(this.state,_),uM}}),h=Sm.create(this,this.state,[]),p=!1,g=!1;h.flags|=f,t?t.flags|=f:t=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),p=this.docView.update(h));for(let b=0;b<u.length;b++)if(d[b]!=uM)try{let _=u[b];_.write&&_.write(d[b],this)}catch(_){Ys(this.state,_)}if(this.viewState.editorHeight){if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,g=!0;else if(r>-1){let _=(l<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(l).top)-r;(_>1||_<-1)&&(i.scrollTop=s+_,g=!0)}}if(p&&this.docView.updateSelection(!0),this.viewport.from==a.from&&this.viewport.to==a.to&&!g&&this.measureRequests.length==0)break;r=-1}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let o of this.state.facet(r_))o(t)}get themeClasses(){return p_+" "+(this.state.facet(h_)?cN:uN)+" "+this.state.facet(Kh)}updateAttrs(){let e=cM(this,UR,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(qg)?"true":"false",class:"cm-content",style:`${kt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),cM(this,Sy,t);let i=this.observer.ignore(()=>{let s=s_(this.contentDOM,this.contentAttrs,t),l=s_(this.dom,this.editorAttrs,e);return s||l});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let s of i.effects)if(s.is(mt.announce)){t&&(this.announceDOM.textContent=""),t=!1;let l=this.announceDOM.appendChild(document.createElement("div"));l.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(vc),Vo.mount(this.root,this.styleModules.concat(Qde).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return o0(this,e,X5(this,e,t,i))}moveByGroup(e,t){return o0(this,e,X5(this,e,t,i=>Mde(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return Cde(this,e,t,i)}moveVertically(e,t,i){return o0(this,e,Tde(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),$R(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let s=this.state.doc.lineAt(e),l=this.bidiSpans(s),r=l[Uf.find(l,e-s.from,-1,t)];return Vg(i,r.dir==ui.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(qR)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>rhe)return YR(e.length);let t=this.textDirectionAt(e.from);for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t)return s.order;let i=ude(e.text,t);return this.bidiCache.push(new Cm(e.from,e.to,t,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||kt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{kR(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return H5.of(new wm(typeof e=="number"?He.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return vi.define(()=>({}),{eventHandlers:e})}static theme(e,t){let i=Vo.newName(),s=[Kh.of(i),vc.of(m_(`.${i}`,e))];return t&&t.dark&&s.push(h_.of(!0)),s}static baseTheme(e){return ef.lowest(vc.of(m_("."+p_,e,dN)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),s=i&&Yn.get(i)||Yn.get(e);return((t=s==null?void 0:s.rootView)===null||t===void 0?void 0:t.view)||null}}mt.styleModule=vc;mt.inputHandler=zR;mt.focusChangeEffect=HR;mt.perLineTextDirection=qR;mt.exceptionSink=VR;mt.updateListener=r_;mt.editable=qg;mt.mouseSelectionStyle=BR;mt.dragMovesSelection=jR;mt.clickAddsSelectionRange=FR;mt.decorations=cd;mt.atomicRanges=Cy;mt.scrollMargins=KR;mt.darkTheme=h_;mt.contentAttributes=Sy;mt.editorAttributes=UR;mt.lineWrapping=mt.contentAttributes.of({class:"cm-lineWrapping"});mt.announce=Wt.define();const rhe=4096,uM={};class Cm{constructor(e,t,i,s){this.from=e,this.to=t,this.dir=i,this.order=s}static update(e,t){if(t.empty)return e;let i=[],s=e.length?e[e.length-1].dir:ui.LTR;for(let l=Math.max(0,e.length-10);l<e.length;l++){let r=e[l];r.dir==s&&!t.touchesRange(r.from,r.to)&&i.push(new Cm(t.mapPos(r.from,1),t.mapPos(r.to,-1),r.dir,r.order))}return i}}function cM(n,e,t){for(let i=n.state.facet(e),s=i.length-1;s>=0;s--){let l=i[s],r=typeof l=="function"?l(n):l;r&&i_(r,t)}return t}const ohe=kt.mac?"mac":kt.windows?"win":kt.linux?"linux":"key";function ahe(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let s,l,r,o;for(let a=0;a<t.length-1;++a){const f=t[a];if(/^(cmd|meta|m)$/i.test(f))o=!0;else if(/^a(lt)?$/i.test(f))s=!0;else if(/^(c|ctrl|control)$/i.test(f))l=!0;else if(/^s(hift)?$/i.test(f))r=!0;else if(/^mod$/i.test(f))e=="mac"?o=!0:l=!0;else throw new Error("Unrecognized modifier name: "+f)}return s&&(i="Alt-"+i),l&&(i="Ctrl-"+i),o&&(i="Meta-"+i),r&&(i="Shift-"+i),i}function Jh(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const fhe=ef.default(mt.domEventHandlers({keydown(n,e){return mN(pN(e.state),n,e,"editor")}})),xd=_t.define({enables:fhe}),dM=new WeakMap;function pN(n){let e=n.facet(xd),t=dM.get(e);return t||dM.set(e,t=dhe(e.reduce((i,s)=>i.concat(s),[]))),t}function uhe(n,e,t){return mN(pN(n.state),e,n,t)}let yo=null;const che=4e3;function dhe(n,e=ohe){let t=Object.create(null),i=Object.create(null),s=(r,o)=>{let a=i[r];if(a==null)i[r]=o;else if(a!=o)throw new Error("Key binding "+r+" is used both as a regular binding and as a multi-stroke prefix")},l=(r,o,a,f)=>{var u,d;let h=t[r]||(t[r]=Object.create(null)),p=o.split(/ (?!$)/).map(_=>ahe(_,e));for(let _=1;_<p.length;_++){let y=p.slice(0,_).join(" ");s(y,!0),h[y]||(h[y]={preventDefault:!0,run:[w=>{let A=yo={view:w,prefix:y,scope:r};return setTimeout(()=>{yo==A&&(yo=null)},che),!0}]})}let g=p.join(" ");s(g,!1);let b=h[g]||(h[g]={preventDefault:!1,run:((d=(u=h._any)===null||u===void 0?void 0:u.run)===null||d===void 0?void 0:d.slice())||[]});a&&b.run.push(a),f&&(b.preventDefault=!0)};for(let r of n){let o=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let f of o){let u=t[f]||(t[f]=Object.create(null));u._any||(u._any={preventDefault:!1,run:[]});for(let d in u)u[d].run.push(r.any)}let a=r[e]||r.key;if(a)for(let f of o)l(f,a,r.run,r.preventDefault),r.shift&&l(f,"Shift-"+a,r.shift,r.preventDefault)}return t}function mN(n,e,t,i){let s=xce(e),l=es(s,0),r=rl(l)==s.length&&s!=" ",o="",a=!1;yo&&yo.view==t&&yo.scope==i&&(o=yo.prefix+" ",(a=tN.indexOf(e.keyCode)<0)&&(yo=null));let f=new Set,u=g=>{if(g){for(let b of g.run)if(!f.has(b)&&(f.add(b),b(t,e)))return!0;g.preventDefault&&(a=!0)}return!1},d=n[i],h,p;if(d){if(u(d[o+Jh(s,e,!r)]))return!0;if(r&&(e.altKey||e.metaKey||e.ctrlKey)&&!(kt.windows&&e.ctrlKey&&e.altKey)&&(h=zo[e.keyCode])&&h!=s){if(u(d[o+Jh(h,e,!0)]))return!0;if(e.shiftKey&&(p=ud[e.keyCode])!=s&&p!=h&&u(d[o+Jh(p,e,!1)]))return!0}else if(r&&e.shiftKey&&u(d[o+Jh(s,e,!0)]))return!0;if(u(d._any))return!0}return a}class Yd{constructor(e,t,i,s,l){this.className=e,this.left=t,this.top=i,this.width=s,this.height=l}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let s=e.coordsAtPos(i.head,i.assoc||1);if(!s)return[];let l=gN(e);return[new Yd(t,s.left-l.left,s.top-l.top,null,s.bottom-s.top)]}else return hhe(e,t,i)}}function gN(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==ui.LTR?e.left:e.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft,top:e.top-n.scrollDOM.scrollTop}}function hM(n,e,t){let i=He.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(i,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(i,!0,!0).from),type:ci.Text}}function hhe(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),s=Math.min(t.to,n.viewport.to),l=n.textDirection==ui.LTR,r=n.contentDOM,o=r.getBoundingClientRect(),a=gN(n),f=r.querySelector(".cm-line"),u=f&&window.getComputedStyle(f),d=o.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),h=o.right-(u?parseInt(u.paddingRight):0),p=u_(n,i),g=u_(n,s),b=p.type==ci.Text?p:null,_=g.type==ci.Text?g:null;if(b&&(n.lineWrapping||p.widgetLineBreaks)&&(b=hM(n,i,b)),_&&(n.lineWrapping||g.widgetLineBreaks)&&(_=hM(n,s,_)),b&&_&&b.from==_.from)return w(A(t.from,t.to,b));{let T=b?A(t.from,null,b):M(p,!1),O=_?A(null,t.to,_):M(g,!0),E=[];return(b||p).to<(_||g).from-(b&&_?1:0)||p.widgetLineBreaks>1&&T.bottom+n.defaultLineHeight/2<O.top?E.push(y(d,T.bottom,h,O.top)):T.bottom<O.top&&n.elementAtHeight((T.bottom+O.top)/2).type==ci.Text&&(T.bottom=O.top=(T.bottom+O.top)/2),w(T).concat(E).concat(w(O))}function y(T,O,E,R){return new Yd(e,T-a.left,O-a.top-.01,E-T,R-O+.01)}function w({top:T,bottom:O,horizontal:E}){let R=[];for(let N=0;N<E.length;N+=2)R.push(y(E[N],T,E[N+1],O));return R}function A(T,O,E){let R=1e9,N=-1e9,j=[];function L(V,H,K,X,J){let z=n.coordsAtPos(V,V==E.to?-2:2),Z=n.coordsAtPos(K,K==E.from?2:-2);!z||!Z||(R=Math.min(z.top,Z.top,R),N=Math.max(z.bottom,Z.bottom,N),J==ui.LTR?j.push(l&&H?d:z.left,l&&X?h:Z.right):j.push(!l&&X?d:Z.left,!l&&H?h:z.right))}let F=T??E.from,B=O??E.to;for(let V of n.visibleRanges)if(V.to>F&&V.from<B)for(let H=Math.max(V.from,F),K=Math.min(V.to,B);;){let X=n.state.doc.lineAt(H);for(let J of n.bidiSpans(X)){let z=J.from+X.from,Z=J.to+X.from;if(z>=K)break;Z>H&&L(Math.max(z,H),T==null&&z<=F,Math.min(Z,K),O==null&&Z>=B,J.dir)}if(H=X.to+1,H>=K)break}return j.length==0&&L(F,T==null,B,O==null,n.textDirection),{top:R,bottom:N,horizontal:j}}function M(T,O){let E=o.top+(O?T.top:T.bottom);return{top:E,bottom:E,horizontal:[]}}}function phe(n,e){return n.constructor==e.constructor&&n.eq(e)}class mhe{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(yp)!=e.state.facet(yp)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let t=0,i=e.facet(yp);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!phe(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let s of e)s.update&&t&&s.constructor&&this.drawn[i].constructor&&s.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(s.draw(),t);for(;t;){let s=t.nextSibling;t.remove(),t=s}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const yp=_t.define();function bN(n){return[vi.define(e=>new mhe(e,n)),yp.of(n)]}const _N=!kt.ios,dd=_t.define({combine(n){return Sl(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function ghe(n={}){return[dd.of(n),bhe,_he,yhe,WR.of(!0)]}function yN(n){return n.startState.facet(dd)!=n.state.facet(dd)}const bhe=bN({above:!0,markers(n){let{state:e}=n,t=e.facet(dd),i=[];for(let s of e.selection.ranges){let l=s==e.selection.main;if(s.empty?!l||_N:t.drawRangeCursor){let r=l?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=s.empty?s:He.cursor(s.head,s.head>s.anchor?-1:1);for(let a of Yd.forRange(n,r,o))i.push(a)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=yN(n);return t&&pM(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){pM(e.state,n)},class:"cm-cursorLayer"});function pM(n,e){e.style.animationDuration=n.facet(dd).cursorBlinkRate+"ms"}const _he=bN({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:Yd.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||yN(n)},class:"cm-selectionLayer"}),vN={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};_N&&(vN[".cm-line"].caretColor="transparent !important");const yhe=ef.highest(mt.theme(vN)),kN=Wt.define({map(n,e){return n==null?null:e.mapPos(n)}}),wc=Bi.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(kN)?i.value:t,n)}}),vhe=vi.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(wc);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(wc)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let n=this.view.state.field(wc),e=n!=null&&this.view.coordsAtPos(n);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(n){this.cursor&&(n?(this.cursor.style.left=n.left+"px",this.cursor.style.top=n.top+"px",this.cursor.style.height=n.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(wc)!=n&&this.view.dispatch({effects:kN.of(n)})}},{eventHandlers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function khe(){return[wc,vhe]}function mM(n,e,t,i,s){e.lastIndex=0;for(let l=n.iterRange(t,i),r=t,o;!l.next().done;r+=l.value.length)if(!l.lineBreak)for(;o=e.exec(l.value);)s(r+o.index,o)}function whe(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:s,to:l}of t)s=Math.max(n.state.doc.lineAt(s).from,s-e),l=Math.min(n.state.doc.lineAt(l).to,l+e),i.length&&i[i.length-1].to>=s?i[i.length-1].to=l:i.push({from:s,to:l});return i}class She{constructor(e){const{regexp:t,decoration:i,decorate:s,boundary:l,maxLength:r=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,s)this.addMatch=(o,a,f,u)=>s(u,f,f+o[0].length,o,a);else if(typeof i=="function")this.addMatch=(o,a,f,u)=>{let d=i(o,a,f);d&&u(f,f+o[0].length,d)};else if(i)this.addMatch=(o,a,f,u)=>u(f,f+o[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=l,this.maxLength=r}createDeco(e){let t=new Qr,i=t.add.bind(t);for(let{from:s,to:l}of whe(e,this.maxLength))mM(e.state.doc,this.regexp,s,l,(r,o)=>this.addMatch(o,e,r,i));return t.finish()}updateDeco(e,t){let i=1e9,s=-1;return e.docChanged&&e.changes.iterChanges((l,r,o,a)=>{a>e.view.viewport.from&&o<e.view.viewport.to&&(i=Math.min(o,i),s=Math.max(a,s))}),e.viewportChanged||s-i>1e3?this.createDeco(e.view):s>-1?this.updateRange(e.view,t.map(e.changes),i,s):t}updateRange(e,t,i,s){for(let l of e.visibleRanges){let r=Math.max(l.from,i),o=Math.min(l.to,s);if(o>r){let a=e.state.doc.lineAt(r),f=a.to<o?e.state.doc.lineAt(o):a,u=Math.max(l.from,a.from),d=Math.min(l.to,f.to);if(this.boundary){for(;r>a.from;r--)if(this.boundary.test(a.text[r-1-a.from])){u=r;break}for(;o<f.to;o++)if(this.boundary.test(f.text[o-f.from])){d=o;break}}let h=[],p,g=(b,_,y)=>h.push(y.range(b,_));if(a==f)for(this.regexp.lastIndex=u-a.from;(p=this.regexp.exec(a.text))&&p.index<d-a.from;)this.addMatch(p,e,p.index+a.from,g);else mM(e.state.doc,this.regexp,u,d,(b,_)=>this.addMatch(_,e,b,g));t=t.update({filterFrom:u,filterTo:d,filter:(b,_)=>b<u||_>d,add:h})}}return t}}const g_=/x/.unicode!=null?"gu":"g",Che=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,g_),Mhe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let u0=null;function The(){var n;if(u0==null&&typeof document<"u"&&document.body){let e=document.body.style;u0=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return u0||!1}const vp=_t.define({combine(n){let e=Sl(n,{render:null,specialChars:Che,addSpecialChars:null});return(e.replaceTabs=!The())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,g_)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,g_)),e}});function Ahe(n={}){return[vp.of(n),Ohe()]}let gM=null;function Ohe(){return gM||(gM=vi.fromClass(class{constructor(n){this.view=n,this.decorations=wt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(vp)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new She({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:s}=t.state,l=es(e[0],0);if(l==9){let r=s.lineAt(i),o=t.state.tabSize,a=Kd(r.text,o,i-r.from);return wt.replace({widget:new Ihe((o-a%o)*this.view.defaultCharacterWidth)})}return this.decorationCache[l]||(this.decorationCache[l]=wt.replace({widget:new Dhe(n,l)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(vp);n.startState.facet(vp)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const Ehe="•";function Phe(n){return n>=32?Ehe:n==10?"␤":String.fromCharCode(9216+n)}class Dhe extends Tr{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=Phe(this.code),i=e.state.phrase("Control character")+" "+(Mhe[this.code]||"0x"+this.code.toString(16)),s=this.options.render&&this.options.render(this.code,i,t);if(s)return s;let l=document.createElement("span");return l.textContent=t,l.title=i,l.setAttribute("aria-label",i),l.className="cm-specialChar",l}ignoreEvent(){return!1}}class Ihe extends Tr{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Rhe(){return Lhe}const Nhe=wt.line({class:"cm-activeLine"}),Lhe=vi.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let s=n.lineBlockAt(i.head);s.from>e&&(t.push(Nhe.range(s.from)),e=s.from)}return wt.set(t)}},{decorations:n=>n.decorations});class Fhe extends Tr{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let t=e.firstChild?bu(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),s=Vg(t[0],i.direction!="rtl"),l=parseInt(i.lineHeight);return s.bottom-s.top>l*1.5?{left:s.left,right:s.right,top:s.top,bottom:s.top+l}:s}ignoreEvent(){return!1}}function kSe(n){return vi.fromClass(class{constructor(e){this.view=e,this.placeholder=wt.set([wt.widget({widget:new Fhe(n),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?wt.none:this.placeholder}},{decorations:e=>e.decorations})}const b_=2e3;function jhe(n,e,t){let i=Math.min(e.line,t.line),s=Math.max(e.line,t.line),l=[];if(e.off>b_||t.off>b_||e.col<0||t.col<0){let r=Math.min(e.off,t.off),o=Math.max(e.off,t.off);for(let a=i;a<=s;a++){let f=n.doc.line(a);f.length<=o&&l.push(He.range(f.from+r,f.to+o))}}else{let r=Math.min(e.col,t.col),o=Math.max(e.col,t.col);for(let a=i;a<=s;a++){let f=n.doc.line(a),u=Gb(f.text,r,n.tabSize,!0);if(u<0)l.push(He.cursor(f.to));else{let d=Gb(f.text,o,n.tabSize);l.push(He.range(f.from+u,f.from+d))}}}return l}function Bhe(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function bM(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),s=t-i.from,l=s>b_?-1:s==i.length?Bhe(n,e.clientX):Kd(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:l,off:s}}function Vhe(n,e){let t=bM(n,e),i=n.state.selection;return t?{update(s){if(s.docChanged){let l=s.changes.mapPos(s.startState.doc.line(t.line).from),r=s.state.doc.lineAt(l);t={line:r.number,col:t.col,off:Math.min(t.off,r.length)},i=i.map(s.changes)}},get(s,l,r){let o=bM(n,s);if(!o)return i;let a=jhe(n.state,t,o);return a.length?r?He.create(a.concat(i.ranges)):He.create(a):i}}:null}function zhe(n){let e=(n==null?void 0:n.eventFilter)||(t=>t.altKey&&t.button==0);return mt.mouseSelectionStyle.of((t,i)=>e(i)?Vhe(t,i):null)}const Hhe={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},qhe={style:"cursor: crosshair"};function Whe(n={}){let[e,t]=Hhe[n.key||"Alt"],i=vi.fromClass(class{constructor(s){this.view=s,this.isDown=!1}set(s){this.isDown!=s&&(this.isDown=s,this.view.update([]))}},{eventHandlers:{keydown(s){this.set(s.keyCode==e||t(s))},keyup(s){(s.keyCode==e||!t(s))&&this.set(!1)},mousemove(s){this.set(t(s))}}});return[i,mt.contentAttributes.of(s=>{var l;return!((l=s.plugin(i))===null||l===void 0)&&l.isDown?qhe:null})]}const xh="-10000px";class wN{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(s=>s),this.tooltipViews=this.tooltips.map(i)}update(e){var t;let i=e.state.facet(this.facet),s=i.filter(r=>r);if(i===this.input){for(let r of this.tooltipViews)r.update&&r.update(e);return!1}let l=[];for(let r=0;r<s.length;r++){let o=s[r],a=-1;if(o){for(let f=0;f<this.tooltips.length;f++){let u=this.tooltips[f];u&&u.create==o.create&&(a=f)}if(a<0)l[r]=this.createTooltipView(o);else{let f=l[r]=this.tooltipViews[a];f.update&&f.update(e)}}}for(let r of this.tooltipViews)l.indexOf(r)<0&&(r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r));return this.input=i,this.tooltips=s,this.tooltipViews=l,!0}}function Uhe(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const c0=_t.define({combine:n=>{var e,t,i;return{position:kt.ios?"absolute":((e=n.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(s=>s.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(s=>s.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||Uhe}}}),_M=new WeakMap,SN=vi.fromClass(class{constructor(n){this.view=n,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(c0);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new wN(n,Wg,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(c0);if(i.position!=this.position){this.position=i.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=xh,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(n=t.destroy)===null||n===void 0||n.call(t);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((e,t)=>{let i=this.manager.tooltipViews[t];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(c0).tooltipSpace(this.view)}}writeMeasure(n){var e;let{editor:t,space:i}=n,s=[];for(let l=0;l<this.manager.tooltips.length;l++){let r=this.manager.tooltips[l],o=this.manager.tooltipViews[l],{dom:a}=o,f=n.pos[l],u=n.size[l];if(!f||f.bottom<=Math.max(t.top,i.top)||f.top>=Math.min(t.bottom,i.bottom)||f.right<Math.max(t.left,i.left)-.1||f.left>Math.min(t.right,i.right)+.1){a.style.top=xh;continue}let d=r.arrow?o.dom.querySelector(".cm-tooltip-arrow"):null,h=d?7:0,p=u.right-u.left,g=(e=_M.get(o))!==null&&e!==void 0?e:u.bottom-u.top,b=o.offset||Jhe,_=this.view.textDirection==ui.LTR,y=u.width>i.right-i.left?_?i.left:i.right-u.width:_?Math.min(f.left-(d?14:0)+b.x,i.right-p):Math.max(i.left,f.left-p+(d?14:0)-b.x),w=!!r.above;!r.strictSide&&(w?f.top-(u.bottom-u.top)-b.y<i.top:f.bottom+(u.bottom-u.top)+b.y>i.bottom)&&w==i.bottom-f.bottom>f.top-i.top&&(w=!w);let A=(w?f.top-i.top:i.bottom-f.bottom)-h;if(A<g&&o.resize!==!1){if(A<this.view.defaultLineHeight){a.style.top=xh;continue}_M.set(o,g),a.style.height=(g=A)+"px"}else a.style.height&&(a.style.height="");let M=w?f.top-g-h-b.y:f.bottom+h+b.y,T=y+p;if(o.overlap!==!0)for(let O of s)O.left<T&&O.right>y&&O.top<M+g&&O.bottom>M&&(M=w?O.top-g-2-h:O.bottom+h+2);this.position=="absolute"?(a.style.top=M-n.parent.top+"px",a.style.left=y-n.parent.left+"px"):(a.style.top=M+"px",a.style.left=y+"px"),d&&(d.style.left=`${f.left+(_?b.x:-b.x)-(y+14-7)}px`),o.overlap!==!0&&s.push({left:y,top:M,right:T,bottom:M+g}),a.classList.toggle("cm-tooltip-above",w),a.classList.toggle("cm-tooltip-below",!w),o.positioned&&o.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=xh}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Khe=mt.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Jhe={x:0,y:0},Wg=_t.define({enables:[SN,Khe]}),Mm=_t.define();class Ty{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new wN(e,Mm,t=>this.createHostedView(t))}static create(e){return new Ty(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}}const xhe=Wg.compute([Mm],n=>{let e=n.facet(Mm).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:Ty.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Yhe{constructor(e,t,i,s,l){this.view=e,this.source=t,this.field=i,this.setHover=s,this.hoverTime=l,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(t==null)return;let i=this.view.coordsAtPos(t);if(i==null||e.y<i.top||e.y>i.bottom||e.x<i.left-this.view.defaultCharacterWidth||e.x>i.right+this.view.defaultCharacterWidth)return;let s=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(o=>o.from<=t&&o.to>=t),l=s&&s.dir==ui.RTL?-1:1,r=this.source(this.view,t,e.x<i.left?-l:l);if(r!=null&&r.then){let o=this.pending={pos:t};r.then(a=>{this.pending==o&&(this.pending=null,a&&this.view.dispatch({effects:this.setHover.of(a)}))},a=>Ys(this.view.state,a,"hover tooltip"))}else r&&this.view.dispatch({effects:this.setHover.of(r)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!yM(this.lastMove.target)||this.pending){let{pos:s}=i||this.pending,l=(t=i==null?void 0:i.end)!==null&&t!==void 0?t:s;(s==l?this.view.posAtCoords(this.lastMove)!=s:!Ghe(this.view,s,l,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!yM(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function yM(n){for(let e=n;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function Ghe(n,e,t,i,s,l){let r=document.createRange(),o=n.domAtPos(e),a=n.domAtPos(t);r.setEnd(a.node,a.offset),r.setStart(o.node,o.offset);let f=r.getClientRects();r.detach();for(let u=0;u<f.length;u++){let d=f[u];if(Math.max(d.top-s,s-d.bottom,d.left-i,i-d.right)<=l)return!0}return!1}function Xhe(n,e={}){let t=Wt.define(),i=Bi.define({create(){return null},update(s,l){if(s&&(e.hideOnChange&&(l.docChanged||l.selection)||e.hideOn&&e.hideOn(l,s)))return null;if(s&&l.docChanged){let r=l.changes.mapPos(s.pos,-1,ns.TrackDel);if(r==null)return null;let o=Object.assign(Object.create(null),s);o.pos=r,s.end!=null&&(o.end=l.changes.mapPos(s.end)),s=o}for(let r of l.effects)r.is(t)&&(s=r.value),r.is(Zhe)&&(s=null);return s},provide:s=>Mm.from(s)});return[i,vi.define(s=>new Yhe(s,n,i,t,e.hoverTime||300)),xhe]}function CN(n,e){let t=n.plugin(SN);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const Zhe=Wt.define(),vM=_t.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function hd(n,e){let t=n.plugin(MN),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const MN=vi.fromClass(class{constructor(n){this.input=n.state.facet(pd),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(vM);this.top=new Yh(n,!0,e.topContainer),this.bottom=new Yh(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(vM);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Yh(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Yh(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(pd);if(t!=this.input){let i=t.filter(a=>a),s=[],l=[],r=[],o=[];for(let a of i){let f=this.specs.indexOf(a),u;f<0?(u=a(n.view),o.push(u)):(u=this.panels[f],u.update&&u.update(n)),s.push(u),(u.top?l:r).push(u)}this.specs=i,this.panels=s,this.top.sync(l),this.bottom.sync(r);for(let a of o)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>mt.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Yh{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=kM(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=kM(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function kM(n){let e=n.nextSibling;return n.remove(),e}const pd=_t.define({enables:MN});class Sr extends Ua{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Sr.prototype.elementClass="";Sr.prototype.toDOM=void 0;Sr.prototype.mapMode=ns.TrackBefore;Sr.prototype.startSide=Sr.prototype.endSide=-1;Sr.prototype.point=!0;const kp=_t.define(),Qhe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>En.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},jc=_t.define();function TN(n){return[AN(),jc.of(Object.assign(Object.assign({},Qhe),n))]}const __=_t.define({combine:n=>n.some(e=>e)});function AN(n){let e=[$he];return n&&n.fixed===!1&&e.push(__.of(!0)),e}const $he=vi.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=n.state.facet(jc).map(e=>new SM(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(__),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(__)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=En.iter(this.view.state.facet(kp),this.view.viewport.from),i=[],s=this.gutters.map(l=>new epe(l,this.view.viewport,-this.view.documentPadding.top));for(let l of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(l.type)){let r=!0;for(let o of l.type)if(o.type==ci.Text&&r){y_(t,i,o.from);for(let a of s)a.line(this.view,o,i);r=!1}else if(o.widget)for(let a of s)a.widget(this.view,o)}else if(l.type==ci.Text){y_(t,i,l.from);for(let r of s)r.line(this.view,l,i)}for(let l of s)l.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(jc),t=n.state.facet(jc),i=n.docChanged||n.heightChanged||n.viewportChanged||!En.eq(n.startState.facet(kp),n.state.facet(kp),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let s of this.gutters)s.update(n)&&(i=!0);else{i=!0;let s=[];for(let l of t){let r=e.indexOf(l);r<0?s.push(new SM(this.view,l)):(this.gutters[r].update(n),s.push(this.gutters[r]))}for(let l of this.gutters)l.dom.remove(),s.indexOf(l)<0&&l.destroy();for(let l of s)this.dom.appendChild(l.dom);this.gutters=s}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>mt.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==ui.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function wM(n){return Array.isArray(n)?n:[n]}function y_(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class epe{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=En.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:s}=this,l=t.top-this.height;if(this.i==s.elements.length){let r=new ON(e,t.height,l,i);s.elements.push(r),s.dom.appendChild(r.dom)}else s.elements[this.i].update(e,t.height,l,i);this.height=t.bottom,this.i++}line(e,t,i){let s=[];y_(this.cursor,s,t.from),i.length&&(s=s.concat(i));let l=this.gutter.config.lineMarker(e,t,s);l&&s.unshift(l);let r=this.gutter;s.length==0&&!r.config.renderEmptyElements||this.addElement(e,t,s)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t);i&&this.addElement(e,t,[i])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class SM{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,s=>{let l=s.target,r;if(l!=this.dom&&this.dom.contains(l)){for(;l.parentNode!=this.dom;)l=l.parentNode;let a=l.getBoundingClientRect();r=(a.top+a.bottom)/2}else r=s.clientY;let o=e.lineBlockAtHeight(r-e.documentTop);t.domEventHandlers[i](e,o,s)&&s.preventDefault()});this.markers=wM(t.markers(e)),t.initialSpacer&&(this.spacer=new ON(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=wM(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let i=e.view.viewport;return!En.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class ON{constructor(e,t,i,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,s)}update(e,t,i,s){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),tpe(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,t){let i="cm-gutterElement",s=this.dom.firstChild;for(let l=0,r=0;;){let o=r,a=l<t.length?t[l++]:null,f=!1;if(a){let u=a.elementClass;u&&(i+=" "+u);for(let d=r;d<this.markers.length;d++)if(this.markers[d].compare(a)){o=d,f=!0;break}}else o=this.markers.length;for(;r<o;){let u=this.markers[r++];if(u.toDOM){u.destroy(s);let d=s.nextSibling;s.remove(),s=d}}if(!a)break;a.toDOM&&(f?s=s.nextSibling:this.dom.insertBefore(a.toDOM(e),s)),f&&r++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function tpe(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const npe=_t.define(),Tf=_t.define({combine(n){return Sl(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let s in t){let l=i[s],r=t[s];i[s]=l?(o,a,f)=>l(o,a,f)||r(o,a,f):r}return i}})}});class d0 extends Sr{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function h0(n,e){return n.state.facet(Tf).formatNumber(e,n.state)}const ipe=jc.compute([Tf],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(npe)},lineMarker(e,t,i){return i.some(s=>s.toDOM)?null:new d0(h0(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Tf)!=e.state.facet(Tf),initialSpacer(e){return new d0(h0(e,CM(e.state.doc.lines)))},updateSpacer(e,t){let i=h0(t.view,CM(t.view.state.doc.lines));return i==e.number?e:new d0(i)},domEventHandlers:n.facet(Tf).domEventHandlers}));function spe(n={}){return[Tf.of(n),AN(),ipe]}function CM(n){let e=9;for(;e<n;)e=e*10+9;return e}const lpe=new class extends Sr{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},rpe=kp.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.head).from;s>t&&(t=s,e.push(lpe.range(s)))}return En.of(e)});function ope(){return rpe}const EN=1024;let ape=0;class fl{constructor(e,t){this.from=e,this.to=t}}class xt{constructor(e={}){this.id=ape++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=gs.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}xt.closedBy=new xt({deserialize:n=>n.split(" ")});xt.openedBy=new xt({deserialize:n=>n.split(" ")});xt.group=new xt({deserialize:n=>n.split(" ")});xt.contextHash=new xt({perNode:!0});xt.lookAhead=new xt({perNode:!0});xt.mounted=new xt({perNode:!0});class fpe{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}}const upe=Object.create(null);class gs{constructor(e,t,i,s=0){this.name=e,this.props=t,this.id=i,this.flags=s}static define(e){let t=e.props&&e.props.length?Object.create(null):upe,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new gs(e.name||"",t,e.id,i);if(e.props){for(let l of e.props)if(Array.isArray(l)||(l=l(s)),l){if(l[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[l[0].id]=l[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(xt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let s of i.split(" "))t[s]=e[i];return i=>{for(let s=i.prop(xt.group),l=-1;l<(s?s.length:0);l++){let r=t[l<0?i.name:s[l]];if(r)return r}}}}gs.none=new gs("",Object.create(null),0,8);class Ug{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let s=null;for(let l of e){let r=l(i);r&&(s||(s=Object.assign({},i.props)),s[r[0].id]=r[1])}t.push(s?new gs(i.name,s,i.id,i.flags):i)}return new Ug(t)}}const Gh=new WeakMap,MM=new WeakMap;var ti;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(ti||(ti={}));class Ln{constructor(e,t,i,s,l){if(this.type=e,this.children=t,this.positions=i,this.length=s,this.props=null,l&&l.length){this.props=Object.create(null);for(let[r,o]of l)this.props[typeof r=="number"?r:r.id]=o}}toString(){let e=this.prop(xt.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let s=i.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new md(this.topNode,e)}cursorAt(e,t=0,i=0){let s=Gh.get(this)||this.topNode,l=new md(s);return l.moveTo(e,t),Gh.set(this,l._tree),l}get topNode(){return new gl(this,0,0,null)}resolve(e,t=0){let i=vu(Gh.get(this)||this.topNode,e,t,!1);return Gh.set(this,i),i}resolveInner(e,t=0){let i=vu(MM.get(this)||this.topNode,e,t,!0);return MM.set(this,i),i}iterate(e){let{enter:t,leave:i,from:s=0,to:l=this.length}=e,r=e.mode||0,o=(r&ti.IncludeAnonymous)>0;for(let a=this.cursor(r|ti.IncludeAnonymous);;){let f=!1;if(a.from<=l&&a.to>=s&&(!o&&a.type.isAnonymous||t(a)!==!1)){if(a.firstChild())continue;f=!0}for(;f&&i&&(o||!a.type.isAnonymous)&&i(a),!a.nextSibling();){if(!a.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Ey(gs.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,s)=>new Ln(this.type,t,i,s,this.propValues),e.makeTree||((t,i,s)=>new Ln(gs.none,t,i,s)))}static build(e){return dpe(e)}}Ln.empty=new Ln(gs.none,[],[],0);class Ay{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ay(this.buffer,this.index)}}class tf{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return gs.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],s=this.set.types[t],l=s.name;if(/\W/.test(l)&&!s.isError&&(l=JSON.stringify(l)),e+=4,i==e)return l;let r=[];for(;e<i;)r.push(this.childString(e)),e=this.buffer[e+3];return l+"("+r.join(",")+")"}findChild(e,t,i,s,l){let{buffer:r}=this,o=-1;for(let a=e;a!=t&&!(PN(l,s,r[a+1],r[a+2])&&(o=a,i>0));a=r[a+3]);return o}slice(e,t,i){let s=this.buffer,l=new Uint16Array(t-e),r=0;for(let o=e,a=0;o<t;){l[a++]=s[o++],l[a++]=s[o++]-i;let f=l[a++]=s[o++]-i;l[a++]=s[o++]-e,r=Math.max(r,f)}return new tf(l,r,this.set)}}function PN(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function DN(n,e){let t=n.childBefore(e);for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}function vu(n,e,t,i){for(var s;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let r=!i&&n instanceof gl&&n.index<0?null:n.parent;if(!r)return n;n=r}let l=i?0:ti.IgnoreOverlays;if(i)for(let r=n,o=r.parent;o;r=o,o=r.parent)r instanceof gl&&r.index<0&&((s=o.enter(e,t,l))===null||s===void 0?void 0:s.from)!=r.from&&(n=o);for(;;){let r=n.enter(e,t,l);if(!r)return n;n=r}}class gl{constructor(e,t,i,s){this._tree=e,this.from=t,this.index=i,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,s,l=0){for(let r=this;;){for(let{children:o,positions:a}=r._tree,f=t>0?o.length:-1;e!=f;e+=t){let u=o[e],d=a[e]+r.from;if(PN(s,i,d,d+u.length)){if(u instanceof tf){if(l&ti.ExcludeBuffers)continue;let h=u.findChild(0,u.buffer.length,t,i-d,s);if(h>-1)return new or(new cpe(r,u,e,d),null,h)}else if(l&ti.IncludeAnonymous||!u.type.isAnonymous||Oy(u)){let h;if(!(l&ti.IgnoreMounts)&&u.props&&(h=u.prop(xt.mounted))&&!h.overlay)return new gl(h.tree,d,e,r);let p=new gl(u,d,e,r);return l&ti.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?u.children.length-1:0,t,i,s)}}}if(l&ti.IncludeAnonymous||!r.type.isAnonymous||(r.index>=0?e=r.index+t:e=t<0?-1:r._parent._tree.children.length,r=r._parent,!r))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let s;if(!(i&ti.IgnoreOverlays)&&(s=this._tree.prop(xt.mounted))&&s.overlay){let l=e-this.from;for(let{from:r,to:o}of s.overlay)if((t>0?r<=l:r<l)&&(t<0?o>=l:o>l))return new gl(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new md(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return vu(this,e,t,!1)}resolveInner(e,t=0){return vu(this,e,t,!0)}enterUnfinishedNodesBefore(e){return DN(this,e)}getChild(e,t=null,i=null){let s=Tm(this,e,t,i);return s.length?s[0]:null}getChildren(e,t=null,i=null){return Tm(this,e,t,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Am(this,e)}}function Tm(n,e,t,i){let s=n.cursor(),l=[];if(!s.firstChild())return l;if(t!=null){for(;!s.type.is(t);)if(!s.nextSibling())return l}for(;;){if(i!=null&&s.type.is(i))return l;if(s.type.is(e)&&l.push(s.node),!s.nextSibling())return i==null?l:[]}}function Am(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class cpe{constructor(e,t,i,s){this.parent=e,this.buffer=t,this.index=i,this.start=s}}class or{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.context.start,i);return l<0?null:new or(this.context,this,l)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&ti.ExcludeBuffers)return null;let{buffer:s}=this.context,l=s.findChild(this.index+4,s.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return l<0?null:new or(this.context,this,l)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new or(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new or(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new md(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,s=this.index+4,l=i.buffer[this.index+3];if(l>s){let r=i.buffer[this.index+1];e.push(i.slice(s,l,r)),t.push(0)}return new Ln(this.type,e,t,this.to-this.from)}resolve(e,t=0){return vu(this,e,t,!1)}resolveInner(e,t=0){return vu(this,e,t,!0)}enterUnfinishedNodesBefore(e){return DN(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,i=null){let s=Tm(this,e,t,i);return s.length?s[0]:null}getChildren(e,t=null,i=null){return Tm(this,e,t,i)}get node(){return this}matchContext(e){return Am(this,e)}}class md{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof gl)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:s}=this.buffer;return this.type=t||s.set.types[s.buffer[e]],this.from=i+s.buffer[e+1],this.to=i+s.buffer[e+2],!0}yield(e){return e?e instanceof gl?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:s}=this.buffer,l=s.findChild(this.index+4,s.buffer[this.index+3],e,t-this.buffer.start,i);return l<0?!1:(this.stack.push(this.index),this.yieldBuf(l))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&ti.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ti.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ti.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let s=i<0?0:this.stack[i]+4;if(this.index!=s)return this.yieldBuf(t.findChild(s,this.index,-1,0,4))}else{let s=t.buffer[this.index+3];if(s<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(s)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let l=0;l<this.index;l++)if(s.buffer.buffer[l+3]<this.index)return!1;({index:t,parent:i}=s)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let l=t+e,r=e<0?-1:i._tree.children.length;l!=r;l+=e){let o=i._tree.children[l];if(this.mode&ti.IncludeAnonymous||o instanceof tf||!o.type.isAnonymous||Oy(o))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let s=this.index,l=this.stack.length;l>=0;){for(let r=e;r;r=r._parent)if(r.index==s){if(s==this.index)return r;t=r,i=l+1;break e}s=this.stack[--l]}for(let s=i;s<this.stack.length;s++)t=new or(this.buffer,t,this.stack[s]);return this.bufferNode=new or(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(s=!0)}for(;s&&t&&t(this),s=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,s=!0}}}matchContext(e){if(!this.buffer)return Am(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let s=e.length-1,l=this.stack.length-1;s>=0;l--){if(l<0)return Am(this.node,e,s);let r=i[t.buffer[this.stack[l]]];if(!r.isAnonymous){if(e[s]&&e[s]!=r.name)return!1;s--}}return!0}}function Oy(n){return n.children.some(e=>e instanceof tf||!e.type.isAnonymous||Oy(e))}function dpe(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:s=EN,reused:l=[],minRepeatType:r=i.types.length}=n,o=Array.isArray(t)?new Ay(t,t.length):t,a=i.types,f=0,u=0;function d(M,T,O,E,R){let{id:N,start:j,end:L,size:F}=o,B=u;for(;F<0;)if(o.next(),F==-1){let J=l[N];O.push(J),E.push(j-M);return}else if(F==-3){f=N;return}else if(F==-4){u=N;return}else throw new RangeError(`Unrecognized record size: ${F}`);let V=a[N],H,K,X=j-M;if(L-j<=s&&(K=b(o.pos-T,R))){let J=new Uint16Array(K.size-K.skip),z=o.pos-K.size,Z=J.length;for(;o.pos>z;)Z=_(K.start,J,Z);H=new tf(J,L-K.start,i),X=K.start-M}else{let J=o.pos-F;o.next();let z=[],Z=[],Y=N>=r?N:-1,oe=0,re=L;for(;o.pos>J;)Y>=0&&o.id==Y&&o.size>=0?(o.end<=re-s&&(p(z,Z,j,oe,o.end,re,Y,B),oe=z.length,re=o.end),o.next()):d(j,J,z,Z,Y);if(Y>=0&&oe>0&&oe<z.length&&p(z,Z,j,oe,j,re,Y,B),z.reverse(),Z.reverse(),Y>-1&&oe>0){let Q=h(V);H=Ey(V,z,Z,0,z.length,0,L-j,Q,Q)}else H=g(V,z,Z,L-j,B-L)}O.push(H),E.push(X)}function h(M){return(T,O,E)=>{let R=0,N=T.length-1,j,L;if(N>=0&&(j=T[N])instanceof Ln){if(!N&&j.type==M&&j.length==E)return j;(L=j.prop(xt.lookAhead))&&(R=O[N]+j.length+L)}return g(M,T,O,E,R)}}function p(M,T,O,E,R,N,j,L){let F=[],B=[];for(;M.length>E;)F.push(M.pop()),B.push(T.pop()+O-R);M.push(g(i.types[j],F,B,N-R,L-N)),T.push(R-O)}function g(M,T,O,E,R=0,N){if(f){let j=[xt.contextHash,f];N=N?[j].concat(N):[j]}if(R>25){let j=[xt.lookAhead,R];N=N?[j].concat(N):[j]}return new Ln(M,T,O,E,N)}function b(M,T){let O=o.fork(),E=0,R=0,N=0,j=O.end-s,L={size:0,start:0,skip:0};e:for(let F=O.pos-M;O.pos>F;){let B=O.size;if(O.id==T&&B>=0){L.size=E,L.start=R,L.skip=N,N+=4,E+=4,O.next();continue}let V=O.pos-B;if(B<0||V<F||O.start<j)break;let H=O.id>=r?4:0,K=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)H+=4;else break e;else O.id>=r&&(H+=4);O.next()}R=K,E+=B,N+=H}return(T<0||E==M)&&(L.size=E,L.start=R,L.skip=N),L.size>4?L:void 0}function _(M,T,O){let{id:E,start:R,end:N,size:j}=o;if(o.next(),j>=0&&E<r){let L=O;if(j>4){let F=o.pos-(j-4);for(;o.pos>F;)O=_(M,T,O)}T[--O]=L,T[--O]=N-M,T[--O]=R-M,T[--O]=E}else j==-3?f=E:j==-4&&(u=E);return O}let y=[],w=[];for(;o.pos>0;)d(n.start||0,n.bufferStart||0,y,w,-1);let A=(e=n.length)!==null&&e!==void 0?e:y.length?w[0]+y[0].length:0;return new Ln(a[n.topID],y.reverse(),w.reverse(),A)}const TM=new WeakMap;function wp(n,e){if(!n.isAnonymous||e instanceof tf||e.type!=n)return 1;let t=TM.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof Ln)){t=1;break}t+=wp(n,i)}TM.set(e,t)}return t}function Ey(n,e,t,i,s,l,r,o,a){let f=0;for(let g=i;g<s;g++)f+=wp(n,e[g]);let u=Math.ceil(f*1.5/8),d=[],h=[];function p(g,b,_,y,w){for(let A=_;A<y;){let M=A,T=b[A],O=wp(n,g[A]);for(A++;A<y;A++){let E=wp(n,g[A]);if(O+E>=u)break;O+=E}if(A==M+1){if(O>u){let E=g[M];p(E.children,E.positions,0,E.children.length,b[M]+w);continue}d.push(g[M])}else{let E=b[A-1]+g[A-1].length-T;d.push(Ey(n,g,b,M,A,T,E,null,a))}h.push(T+w-l)}}return p(e,t,i,s,0),(o||a)(d,h,r)}class wSe{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let s=this.map.get(e);s||this.map.set(e,s=new Map),s.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof or?this.setBuffer(e.context.buffer,e.index,t):e instanceof gl&&this.map.set(e.tree,t)}get(e){return e instanceof or?this.getBuffer(e.context.buffer,e.index):e instanceof gl?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Kr{constructor(e,t,i,s,l=!1,r=!1){this.from=e,this.to=t,this.tree=i,this.offset=s,this.open=(l?1:0)|(r?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let s=[new Kr(0,e.length,e,0,!1,i)];for(let l of t)l.to>e.length&&s.push(l);return s}static applyChanges(e,t,i=128){if(!t.length)return e;let s=[],l=1,r=e.length?e[0]:null;for(let o=0,a=0,f=0;;o++){let u=o<t.length?t[o]:null,d=u?u.fromA:1e9;if(d-a>=i)for(;r&&r.from<d;){let h=r;if(a>=h.from||d<=h.to||f){let p=Math.max(h.from,a)-f,g=Math.min(h.to,d)-f;h=p>=g?null:new Kr(p,g,h.tree,h.offset+f,o>0,!!u)}if(h&&s.push(h),r.to>d)break;r=l<e.length?e[l++]:null}if(!u)break;a=u.toA,f=u.toA-u.toB}return s}}class Py{startParse(e,t,i){return typeof e=="string"&&(e=new hpe(e)),i=i?i.length?i.map(s=>new fl(s.from,s.to)):[new fl(0,0)]:[new fl(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let s=this.startParse(e,t,i);for(;;){let l=s.advance();if(l)return l}}}class hpe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function SSe(n){return(e,t,i,s)=>new mpe(e,n,t,i,s)}class AM{constructor(e,t,i,s,l){if(this.parser=e,this.parse=t,this.overlay=i,this.target=s,this.ranges=l,!l.length||l.some(r=>r.from>=r.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(l))}}class ppe{constructor(e,t,i,s,l,r,o){this.parser=e,this.predicate=t,this.mounts=i,this.index=s,this.start=l,this.target=r,this.prev=o,this.depth=0,this.ranges=[]}}const v_=new xt({perNode:!0});class mpe{constructor(e,t,i,s,l){this.nest=t,this.input=i,this.fragments=s,this.ranges=l,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let i=this.baseParse.advance();if(!i)return null;if(this.baseParse=null,this.baseTree=i,this.startInner(),this.stoppedAt!=null)for(let s of this.inner)s.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let i=this.baseTree;return this.stoppedAt!=null&&(i=new Ln(i.type,i.children,i.positions,i.length,i.propValues.concat([[v_,this.stoppedAt]]))),i}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let i=Object.assign(Object.create(null),e.target.props);i[xt.mounted.id]=new fpe(t,e.overlay,e.parser),e.target.props=i}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].ranges[0].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new _pe(this.fragments),t=null,i=null,s=new md(new gl(this.baseTree,this.ranges[0].from,0,null),ti.IncludeAnonymous|ti.IgnoreMounts);e:for(let l,r;this.stoppedAt==null||s.from<this.stoppedAt;){let o=!0,a;if(e.hasNode(s)){if(t){let f=t.mounts.find(u=>u.frag.from<=s.from&&u.frag.to>=s.to&&u.mount.overlay);if(f)for(let u of f.mount.overlay){let d=u.from+f.pos,h=u.to+f.pos;d>=s.from&&h<=s.to&&!t.ranges.some(p=>p.from<h&&p.to>d)&&t.ranges.push({from:d,to:h})}}o=!1}else if(i&&(r=gpe(i.ranges,s.from,s.to)))o=r!=2;else if(!s.type.isAnonymous&&s.from<s.to&&(l=this.nest(s,this.input))){s.tree||bpe(s);let f=e.findMounts(s.from,l.parser);if(typeof l.overlay=="function")t=new ppe(l.parser,l.overlay,f,this.inner.length,s.from,s.tree,t);else{let u=PM(this.ranges,l.overlay||[new fl(s.from,s.to)]);u.length&&this.inner.push(new AM(l.parser,l.parser.startParse(this.input,DM(f,u),u),l.overlay?l.overlay.map(d=>new fl(d.from-s.from,d.to-s.from)):null,s.tree,u)),l.overlay?u.length&&(i={ranges:u,depth:0,prev:i}):o=!1}}else t&&(a=t.predicate(s))&&(a===!0&&(a=new fl(s.from,s.to)),a.from<a.to&&t.ranges.push(a));if(o&&s.firstChild())t&&t.depth++,i&&i.depth++;else for(;!s.nextSibling();){if(!s.parent())break e;if(t&&!--t.depth){let f=PM(this.ranges,t.ranges);f.length&&this.inner.splice(t.index,0,new AM(t.parser,t.parser.startParse(this.input,DM(t.mounts,f),f),t.ranges.map(u=>new fl(u.from-t.start,u.to-t.start)),t.target,f)),t=t.prev}i&&!--i.depth&&(i=i.prev)}}}}function gpe(n,e,t){for(let i of n){if(i.from>=t)break;if(i.to>e)return i.from<=e&&i.to>=t?2:1}return 0}function OM(n,e,t,i,s,l){if(e<t){let r=n.buffer[e+1];i.push(n.slice(e,t,r)),s.push(r-l)}}function bpe(n){let{node:e}=n,t=0;do n.parent(),t++;while(!n.tree);let i=0,s=n.tree,l=0;for(;l=s.positions[i]+n.from,!(l<=e.from&&l+s.children[i].length>=e.to);i++);let r=s.children[i],o=r.buffer;function a(f,u,d,h,p){let g=f;for(;o[g+2]+l<=e.from;)g=o[g+3];let b=[],_=[];OM(r,f,g,b,_,h);let y=o[g+1],w=o[g+2],A=y+l==e.from&&w+l==e.to&&o[g]==e.type.id;return b.push(A?e.toTree():a(g+4,o[g+3],r.set.types[o[g]],y,w-y)),_.push(y-h),OM(r,o[g+3],u,b,_,h),new Ln(d,b,_,p)}s.children[i]=a(0,o.length,gs.none,0,r.length);for(let f=0;f<=t;f++)n.childAfter(e.from)}class EM{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(ti.IncludeAnonymous|ti.IgnoreMounts)}moveTo(e){let{cursor:t}=this,i=e-this.offset;for(;!this.done&&t.from<i;)t.to>=e&&t.enter(i,1,ti.IgnoreOverlays|ti.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof Ln)t=t.children[0];else break}return!1}}let _pe=class{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let i=this.curFrag=e[0];this.curTo=(t=i.tree.prop(v_))!==null&&t!==void 0?t:i.to,this.inner=new EM(i.tree,-i.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(v_))!==null&&e!==void 0?e:t.to,this.inner=new EM(t.tree,-t.offset)}}findMounts(e,t){var i;let s=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let l=this.inner.cursor.node;l;l=l.parent){let r=(i=l.tree)===null||i===void 0?void 0:i.prop(xt.mounted);if(r&&r.parser==t)for(let o=this.fragI;o<this.fragments.length;o++){let a=this.fragments[o];if(a.from>=l.to)break;a.tree==this.curFrag.tree&&s.push({frag:a,pos:l.from-a.offset,mount:r})}}}return s}};function PM(n,e){let t=null,i=e;for(let s=1,l=0;s<n.length;s++){let r=n[s-1].to,o=n[s].from;for(;l<i.length;l++){let a=i[l];if(a.from>=o)break;a.to<=r||(t||(i=t=e.slice()),a.from<r?(t[l]=new fl(a.from,r),a.to>o&&t.splice(l+1,0,new fl(o,a.to))):a.to>o?t[l--]=new fl(o,a.to):t.splice(l--,1))}}return i}function ype(n,e,t,i){let s=0,l=0,r=!1,o=!1,a=-1e9,f=[];for(;;){let u=s==n.length?1e9:r?n[s].to:n[s].from,d=l==e.length?1e9:o?e[l].to:e[l].from;if(r!=o){let h=Math.max(a,t),p=Math.min(u,d,i);h<p&&f.push(new fl(h,p))}if(a=Math.min(u,d),a==1e9)break;u==a&&(r?(r=!1,s++):r=!0),d==a&&(o?(o=!1,l++):o=!0)}return f}function DM(n,e){let t=[];for(let{pos:i,mount:s,frag:l}of n){let r=i+(s.overlay?s.overlay[0].from:0),o=r+s.tree.length,a=Math.max(l.from,r),f=Math.min(l.to,o);if(s.overlay){let u=s.overlay.map(h=>new fl(h.from+i,h.to+i)),d=ype(e,u,a,f);for(let h=0,p=a;;h++){let g=h==d.length,b=g?f:d[h].from;if(b>p&&t.push(new Kr(p,b,s.tree,-r,l.from>=p||l.openStart,l.to<=b||l.openEnd)),g)break;p=d[h].to}}else t.push(new Kr(a,f,s.tree,-r,l.from>=r||l.openStart,l.to<=o||l.openEnd))}return t}let vpe=0;class er{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=vpe++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new er([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new Om;return t=>t.modified.indexOf(e)>-1?t:Om.get(t.base||t,t.modified.concat(e).sort((i,s)=>i.id-s.id))}}let kpe=0;class Om{constructor(){this.instances=[],this.id=kpe++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(o=>o.base==e&&wpe(t,o.modified));if(i)return i;let s=[],l=new er(s,e,t);for(let o of t)o.instances.push(l);let r=Spe(t);for(let o of e.set)if(!o.modified.length)for(let a of r)s.push(Om.get(o,a));return l}}function wpe(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function Spe(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,s=e.length;i<s;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function IN(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let s of t.split(" "))if(s){let l=[],r=2,o=s;for(let d=0;;){if(o=="..."&&d>0&&d+3==s.length){r=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!h)throw new RangeError("Invalid path: "+s);if(l.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),d+=h[0].length,d==s.length)break;let p=s[d++];if(d==s.length&&p=="!"){r=0;break}if(p!="/")throw new RangeError("Invalid path: "+s);o=s.slice(d)}let a=l.length-1,f=l[a];if(!f)throw new RangeError("Invalid path: "+s);let u=new Em(i,r,a>0?l.slice(0,a):null);e[f]=u.sort(e[f])}}return RN.add(e)}const RN=new xt;class Em{constructor(e,t,i,s){this.tags=e,this.mode=t,this.context=i,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Em.empty=new Em([],2,null);function NN(n,e){let t=Object.create(null);for(let l of n)if(!Array.isArray(l.tag))t[l.tag.id]=l.class;else for(let r of l.tag)t[r.id]=l.class;let{scope:i,all:s=null}=e||{};return{style:l=>{let r=s;for(let o of l)for(let a of o.set){let f=t[a.id];if(f){r=r?r+" "+f:f;break}}return r},scope:i}}function Cpe(n,e){let t=null;for(let i of n){let s=i.style(e);s&&(t=t?t+" "+s:s)}return t}function Mpe(n,e,t,i=0,s=n.length){let l=new Tpe(i,Array.isArray(e)?e:[e],t);l.highlightRange(n.cursor(),i,s,"",l.highlighters),l.flush(s)}class Tpe{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,s,l){let{type:r,from:o,to:a}=e;if(o>=i||a<=t)return;r.isTop&&(l=this.highlighters.filter(p=>!p.scope||p.scope(r)));let f=s,u=Ape(e)||Em.empty,d=Cpe(l,u.tags);if(d&&(f&&(f+=" "),f+=d,u.mode==1&&(s+=(s?" ":"")+d)),this.startSpan(Math.max(t,o),f),u.opaque)return;let h=e.tree&&e.tree.prop(xt.mounted);if(h&&h.overlay){let p=e.node.enter(h.overlay[0].from+o,1),g=this.highlighters.filter(_=>!_.scope||_.scope(h.tree.type)),b=e.firstChild();for(let _=0,y=o;;_++){let w=_<h.overlay.length?h.overlay[_]:null,A=w?w.from+o:a,M=Math.max(t,y),T=Math.min(i,A);if(M<T&&b)for(;e.from<T&&(this.highlightRange(e,M,T,s,l),this.startSpan(Math.min(T,e.to),f),!(e.to>=A||!e.nextSibling())););if(!w||A>i)break;y=w.to+o,y>t&&(this.highlightRange(p.cursor(),Math.max(t,w.from+o),Math.min(i,y),"",g),this.startSpan(Math.min(i,y),f))}b&&e.parent()}else if(e.firstChild()){h&&(s="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,s,l),this.startSpan(Math.min(i,e.to),f)}while(e.nextSibling());e.parent()}}}function Ape(n){let e=n.type.prop(RN);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const rt=er.define,Xh=rt(),mo=rt(),IM=rt(mo),RM=rt(mo),go=rt(),Zh=rt(go),p0=rt(go),$l=rt(),ca=rt($l),Xl=rt(),Zl=rt(),k_=rt(),uc=rt(k_),Qh=rt(),nt={comment:Xh,lineComment:rt(Xh),blockComment:rt(Xh),docComment:rt(Xh),name:mo,variableName:rt(mo),typeName:IM,tagName:rt(IM),propertyName:RM,attributeName:rt(RM),className:rt(mo),labelName:rt(mo),namespace:rt(mo),macroName:rt(mo),literal:go,string:Zh,docString:rt(Zh),character:rt(Zh),attributeValue:rt(Zh),number:p0,integer:rt(p0),float:rt(p0),bool:rt(go),regexp:rt(go),escape:rt(go),color:rt(go),url:rt(go),keyword:Xl,self:rt(Xl),null:rt(Xl),atom:rt(Xl),unit:rt(Xl),modifier:rt(Xl),operatorKeyword:rt(Xl),controlKeyword:rt(Xl),definitionKeyword:rt(Xl),moduleKeyword:rt(Xl),operator:Zl,derefOperator:rt(Zl),arithmeticOperator:rt(Zl),logicOperator:rt(Zl),bitwiseOperator:rt(Zl),compareOperator:rt(Zl),updateOperator:rt(Zl),definitionOperator:rt(Zl),typeOperator:rt(Zl),controlOperator:rt(Zl),punctuation:k_,separator:rt(k_),bracket:uc,angleBracket:rt(uc),squareBracket:rt(uc),paren:rt(uc),brace:rt(uc),content:$l,heading:ca,heading1:rt(ca),heading2:rt(ca),heading3:rt(ca),heading4:rt(ca),heading5:rt(ca),heading6:rt(ca),contentSeparator:rt($l),list:rt($l),quote:rt($l),emphasis:rt($l),strong:rt($l),link:rt($l),monospace:rt($l),strikethrough:rt($l),inserted:rt(),deleted:rt(),changed:rt(),invalid:rt(),meta:Qh,documentMeta:rt(Qh),annotation:rt(Qh),processingInstruction:rt(Qh),definition:er.defineModifier(),constant:er.defineModifier(),function:er.defineModifier(),standard:er.defineModifier(),local:er.defineModifier(),special:er.defineModifier()};NN([{tag:nt.link,class:"tok-link"},{tag:nt.heading,class:"tok-heading"},{tag:nt.emphasis,class:"tok-emphasis"},{tag:nt.strong,class:"tok-strong"},{tag:nt.keyword,class:"tok-keyword"},{tag:nt.atom,class:"tok-atom"},{tag:nt.bool,class:"tok-bool"},{tag:nt.url,class:"tok-url"},{tag:nt.labelName,class:"tok-labelName"},{tag:nt.inserted,class:"tok-inserted"},{tag:nt.deleted,class:"tok-deleted"},{tag:nt.literal,class:"tok-literal"},{tag:nt.string,class:"tok-string"},{tag:nt.number,class:"tok-number"},{tag:[nt.regexp,nt.escape,nt.special(nt.string)],class:"tok-string2"},{tag:nt.variableName,class:"tok-variableName"},{tag:nt.local(nt.variableName),class:"tok-variableName tok-local"},{tag:nt.definition(nt.variableName),class:"tok-variableName tok-definition"},{tag:nt.special(nt.variableName),class:"tok-variableName2"},{tag:nt.definition(nt.propertyName),class:"tok-propertyName tok-definition"},{tag:nt.typeName,class:"tok-typeName"},{tag:nt.namespace,class:"tok-namespace"},{tag:nt.className,class:"tok-className"},{tag:nt.macroName,class:"tok-macroName"},{tag:nt.propertyName,class:"tok-propertyName"},{tag:nt.operator,class:"tok-operator"},{tag:nt.comment,class:"tok-comment"},{tag:nt.meta,class:"tok-meta"},{tag:nt.invalid,class:"tok-invalid"},{tag:nt.punctuation,class:"tok-punctuation"}]);var m0;const Sa=new xt;function LN(n){return _t.define({combine:n?e=>e.concat(n):void 0})}const Ope=new xt;class ul{constructor(e,t,i=[],s=""){this.data=e,this.name=s,ln.prototype.hasOwnProperty("tree")||Object.defineProperty(ln.prototype,"tree",{get(){return Yi(this)}}),this.parser=t,this.extension=[Wo.of(this),ln.languageData.of((l,r,o)=>{let a=NM(l,r,o),f=a.type.prop(Sa);if(!f)return[];let u=l.facet(f),d=a.type.prop(Ope);if(d){let h=a.resolve(r-a.from,o);for(let p of d)if(p.test(h,l)){let g=l.facet(p.facet);return p.type=="replace"?g:g.concat(u)}}return u})].concat(i)}isActiveAt(e,t,i=-1){return NM(e,t,i).type.prop(Sa)==this.data}findRegions(e){let t=e.facet(Wo);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],s=(l,r)=>{if(l.prop(Sa)==this.data){i.push({from:r,to:r+l.length});return}let o=l.prop(xt.mounted);if(o){if(o.tree.prop(Sa)==this.data){if(o.overlay)for(let a of o.overlay)i.push({from:a.from+r,to:a.to+r});else i.push({from:r,to:r+l.length});return}else if(o.overlay){let a=i.length;if(s(o.tree,o.overlay[0].from+r),i.length>a)return}}for(let a=0;a<l.children.length;a++){let f=l.children[a];f instanceof Ln&&s(f,l.positions[a]+r)}};return s(Yi(e),0),i}get allowsNesting(){return!0}}ul.setState=Wt.define();function NM(n,e,t){let i=n.facet(Wo),s=Yi(n).topNode;if(!i||i.allowsNesting)for(let l=s;l;l=l.enter(e,t,ti.ExcludeBuffers))l.type.isTop&&(s=l);return s}class Pm extends ul{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=LN(e.languageData);return new Pm(t,e.parser.configure({props:[Sa.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new Pm(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Yi(n){let e=n.field(ul.state,!1);return e?e.tree:Ln.empty}class Epe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let cc=null;class ku{constructor(e,t,i=[],s,l,r,o,a){this.parser=e,this.state=t,this.fragments=i,this.tree=s,this.treeLen=l,this.viewport=r,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new ku(e,t,[],Ln.empty,0,i,[],null)}startParse(){return this.parser.startParse(new Epe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ln.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(Kr.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Kr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=cc;cc=this;try{return e()}finally{cc=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=LM(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:s,treeLen:l,viewport:r,skipped:o}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((f,u,d,h)=>a.push({fromA:f,toA:u,fromB:d,toB:h})),i=Kr.applyChanges(i,a),s=Ln.empty,l=0,r={from:e.mapPos(r.from,-1),to:e.mapPos(r.to,1)},this.skipped.length){o=[];for(let f of this.skipped){let u=e.mapPos(f.from,1),d=e.mapPos(f.to,-1);u<d&&o.push({from:u,to:d})}}}return new ku(this.parser,t,i,s,l,r,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:s,to:l}=this.skipped[i];s<e.to&&l>e.from&&(this.fragments=LM(this.fragments,s,l),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Py{createParse(t,i,s){let l=s[0].from,r=s[s.length-1].to;return{parsedPos:l,advance(){let a=cc;if(a){for(let f of s)a.tempSkipped.push(f);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=r,new Ln(gs.none,[],[],r-l)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return cc}}function LM(n,e,t){return Kr.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class wu{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new wu(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=ku.create(e.facet(Wo).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new wu(i)}}ul.state=Bi.define({create:wu.init,update(n,e){for(let t of e.effects)if(t.is(ul.setState))return t.value;return e.startState.facet(Wo)!=e.state.facet(Wo)?wu.init(e.state):n.apply(e)}});let FN=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(FN=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const g0=typeof navigator<"u"&&(!((m0=navigator.scheduling)===null||m0===void 0)&&m0.isInputPending)?()=>navigator.scheduling.isInputPending():null,Ppe=vi.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(ul.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(ul.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=FN(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:s}}=this.view,l=i.field(ul.state);if(l.tree==l.context.tree&&l.context.isDone(s+1e5))return;let r=Date.now()+Math.min(this.chunkBudget,100,e&&!g0?Math.max(25,e.timeRemaining()-5):1e9),o=l.context.treeLen<s&&i.doc.length>s+1e3,a=l.context.work(()=>g0&&g0()||Date.now()>r,s+(o?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(l.context.takeTree(),this.view.dispatch({effects:ul.setState.of(new wu(l.context))})),this.chunkBudget>0&&!(a&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(l.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Ys(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Wo=_t.define({combine(n){return n.length?n[0]:null},enables:n=>[ul.state,Ppe,mt.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class Dpe{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const jN=_t.define(),Gd=_t.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function eo(n){let e=n.facet(Gd);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function gd(n,e){let t="",i=n.tabSize,s=n.facet(Gd)[0];if(s=="	"){for(;e>=i;)t+="	",e-=i;s=" "}for(let l=0;l<e;l++)t+=s;return t}function Dy(n,e){n instanceof ln&&(n=new Kg(n));for(let i of n.state.facet(jN)){let s=i(n,e);if(s!==void 0)return s}let t=Yi(n.state);return t?Ipe(n,t,e):null}class Kg{constructor(e,t={}){this.state=e,this.options=t,this.unit=eo(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:l}=this.options;return s!=null&&s>=i.from&&s<=i.to?l&&s==e?{text:"",from:e}:(t<0?s<e:s<=e)?{text:i.text.slice(s-i.from),from:s}:{text:i.text.slice(0,s-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:s}=this.lineAt(e,t);return i.slice(e-s,Math.min(i.length,e+100-s))}column(e,t=1){let{text:i,from:s}=this.lineAt(e,t),l=this.countColumn(i,e-s),r=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return r>-1&&(l+=r-this.countColumn(i,i.search(/\S|$/))),l}countColumn(e,t=e.length){return Kd(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:s}=this.lineAt(e,t),l=this.options.overrideIndentation;if(l){let r=l(s);if(r>-1)return r}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const BN=new xt;function Ipe(n,e,t){return VN(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,n)}function Rpe(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function Npe(n){let e=n.type.prop(BN);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(xt.closedBy))){let s=n.lastChild,l=s&&i.indexOf(s.name)>-1;return r=>zN(r,!0,1,void 0,l&&!Rpe(r)?s.from:void 0)}return n.parent==null?Lpe:null}function VN(n,e,t){for(;n;n=n.parent){let i=Npe(n);if(i)return i(Iy.create(t,e,n))}return null}function Lpe(){return 0}class Iy extends Kg{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.node=i}static create(e,t,i){return new Iy(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(Fpe(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){let e=this.node.parent;return e?VN(e,this.pos,this.base):0}}function Fpe(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function jpe(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let s=n.options.simulateBreak,l=n.state.doc.lineAt(t.from),r=s==null||s<=l.from?l.to:Math.min(l.to,s);for(let o=t.to;;){let a=e.childAfter(o);if(!a||a==i)return null;if(!a.type.isSkipped)return a.from<r?t:null;o=a.to}}function TSe({closing:n,align:e=!0,units:t=1}){return i=>zN(i,e,t,n)}function zN(n,e,t,i,s){let l=n.textAfter,r=l.match(/^\s*/)[0].length,o=i&&l.slice(r,r+i.length)==i||s==n.pos+r,a=e?jpe(n):null;return a?o?n.column(a.from):n.column(a.to):n.baseIndent+(o?0:n.unit*t)}const ASe=n=>n.baseIndent;function FM({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const Bpe=200;function Vpe(){return ln.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,s=t.lineAt(i);if(i>s.from+Bpe)return n;let l=t.sliceString(s.from,i);if(!e.some(f=>f.test(l)))return n;let{state:r}=n,o=-1,a=[];for(let{head:f}of r.selection.ranges){let u=r.doc.lineAt(f);if(u.from==o)continue;o=u.from;let d=Dy(r,u.from);if(d==null)continue;let h=/^\s*/.exec(u.text)[0],p=gd(r,d);h!=p&&a.push({from:u.from,to:u.from+h.length,insert:p})}return a.length?[n,{changes:a,sequential:!0}]:n})}const zpe=_t.define(),HN=new xt;function Hpe(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function qpe(n,e,t){let i=Yi(n);if(i.length<t)return null;let s=i.resolveInner(t,1),l=null;for(let r=s;r;r=r.parent){if(r.to<=t||r.from>t)continue;if(l&&r.from<e)break;let o=r.type.prop(HN);if(o&&(r.to<i.length-50||i.length==n.doc.length||!Wpe(r))){let a=o(r,n);a&&a.from<=t&&a.from>=e&&a.to>t&&(l=a)}}return l}function Wpe(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Dm(n,e,t){for(let i of n.facet(zpe)){let s=i(n,e,t);if(s)return s}return qpe(n,e,t)}function qN(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Jg=Wt.define({map:qN}),Xd=Wt.define({map:qN});function WN(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const Ja=Bi.define({create(){return wt.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)t.is(Jg)&&!Upe(n,t.value.from,t.value.to)?n=n.update({add:[jM.range(t.value.from,t.value.to)]}):t.is(Xd)&&(n=n.update({filter:(i,s)=>t.value.from!=i||t.value.to!=s,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:i}=e.selection.main;n.between(i,i,(s,l)=>{s<i&&l>i&&(t=!0)}),t&&(n=n.update({filterFrom:i,filterTo:i,filter:(s,l)=>l<=i||s>=i}))}return n},provide:n=>mt.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,s)=>{t.push(i,s)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],s=n[t++];if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid JSON for fold state");e.push(jM.range(i,s))}return wt.set(e,!0)}});function Im(n,e,t){var i;let s=null;return(i=n.field(Ja,!1))===null||i===void 0||i.between(e,t,(l,r)=>{(!s||s.from>l)&&(s={from:l,to:r})}),s}function Upe(n,e,t){let i=!1;return n.between(e,e,(s,l)=>{s==e&&l==t&&(i=!0)}),i}function UN(n,e){return n.field(Ja,!1)?e:e.concat(Wt.appendConfig.of(xN()))}const Kpe=n=>{for(let e of WN(n)){let t=Dm(n.state,e.from,e.to);if(t)return n.dispatch({effects:UN(n.state,[Jg.of(t),KN(n,t)])}),!0}return!1},Jpe=n=>{if(!n.state.field(Ja,!1))return!1;let e=[];for(let t of WN(n)){let i=Im(n.state,t.from,t.to);i&&e.push(Xd.of(i),KN(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function KN(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,s=n.state.doc.lineAt(e.to).number;return mt.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${s}.`)}const xpe=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let s=n.lineBlockAt(i),l=Dm(e,s.from,s.to);l&&t.push(Jg.of(l)),i=(l?n.lineBlockAt(l.to):s).to+1}return t.length&&n.dispatch({effects:UN(n.state,t)}),!!t.length},Ype=n=>{let e=n.state.field(Ja,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,s)=>{t.push(Xd.of({from:i,to:s}))}),n.dispatch({effects:t}),!0},Gpe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Kpe},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Jpe},{key:"Ctrl-Alt-[",run:xpe},{key:"Ctrl-Alt-]",run:Ype}],Xpe={placeholderDOM:null,placeholderText:"…"},JN=_t.define({combine(n){return Sl(n,Xpe)}});function xN(n){let e=[Ja,$pe];return n&&e.push(JN.of(n)),e}const jM=wt.replace({widget:new class extends Tr{toDOM(n){let{state:e}=n,t=e.facet(JN),i=l=>{let r=n.lineBlockAt(n.posAtDOM(l.target)),o=Im(n.state,r.from,r.to);o&&n.dispatch({effects:Xd.of(o)}),l.preventDefault()};if(t.placeholderDOM)return t.placeholderDOM(n,i);let s=document.createElement("span");return s.textContent=t.placeholderText,s.setAttribute("aria-label",e.phrase("folded code")),s.title=e.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}}}),Zpe={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class b0 extends Sr{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Qpe(n={}){let e=Object.assign(Object.assign({},Zpe),n),t=new b0(e,!0),i=new b0(e,!1),s=vi.fromClass(class{constructor(r){this.from=r.viewport.from,this.markers=this.buildMarkers(r)}update(r){(r.docChanged||r.viewportChanged||r.startState.facet(Wo)!=r.state.facet(Wo)||r.startState.field(Ja,!1)!=r.state.field(Ja,!1)||Yi(r.startState)!=Yi(r.state)||e.foldingChanged(r))&&(this.markers=this.buildMarkers(r.view))}buildMarkers(r){let o=new Qr;for(let a of r.viewportLineBlocks){let f=Im(r.state,a.from,a.to)?i:Dm(r.state,a.from,a.to)?t:null;f&&o.add(a.from,a.from,f)}return o.finish()}}),{domEventHandlers:l}=e;return[s,TN({class:"cm-foldGutter",markers(r){var o;return((o=r.plugin(s))===null||o===void 0?void 0:o.markers)||En.empty},initialSpacer(){return new b0(e,!1)},domEventHandlers:Object.assign(Object.assign({},l),{click:(r,o,a)=>{if(l.click&&l.click(r,o,a))return!0;let f=Im(r.state,o.from,o.to);if(f)return r.dispatch({effects:Xd.of(f)}),!0;let u=Dm(r.state,o.from,o.to);return u?(r.dispatch({effects:Jg.of(u)}),!0):!1}})}),xN()]}const $pe=mt.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Zd{constructor(e,t){this.specs=e;let i;function s(o){let a=Vo.newName();return(i||(i=Object.create(null)))["."+a]=o,a}const l=typeof t.all=="string"?t.all:t.all?s(t.all):void 0,r=t.scope;this.scope=r instanceof ul?o=>o.prop(Sa)==r.data:r?o=>o==r:void 0,this.style=NN(e.map(o=>({tag:o.tag,class:o.class||s(Object.assign({},o,{tag:null}))})),{all:l}).style,this.module=i?new Vo(i):null,this.themeType=t.themeType}static define(e,t){return new Zd(e,t||{})}}const w_=_t.define(),YN=_t.define({combine(n){return n.length?[n[0]]:null}});function _0(n){let e=n.facet(w_);return e.length?e:n.facet(YN)}function GN(n,e){let t=[tme],i;return n instanceof Zd&&(n.module&&t.push(mt.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(YN.of(n)):i?t.push(w_.computeN([mt.darkTheme],s=>s.facet(mt.darkTheme)==(i=="dark")?[n]:[])):t.push(w_.of(n)),t}class eme{constructor(e){this.markCache=Object.create(null),this.tree=Yi(e.state),this.decorations=this.buildDeco(e,_0(e.state))}update(e){let t=Yi(e.state),i=_0(e.state),s=i!=_0(e.startState);t.length<e.view.viewport.to&&!s&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||s)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return wt.none;let i=new Qr;for(let{from:s,to:l}of e.visibleRanges)Mpe(this.tree,t,(r,o,a)=>{i.add(r,o,this.markCache[a]||(this.markCache[a]=wt.mark({class:a})))},s,l);return i.finish()}}const tme=ef.high(vi.fromClass(eme,{decorations:n=>n.decorations})),nme=Zd.define([{tag:nt.meta,color:"#404740"},{tag:nt.link,textDecoration:"underline"},{tag:nt.heading,textDecoration:"underline",fontWeight:"bold"},{tag:nt.emphasis,fontStyle:"italic"},{tag:nt.strong,fontWeight:"bold"},{tag:nt.strikethrough,textDecoration:"line-through"},{tag:nt.keyword,color:"#708"},{tag:[nt.atom,nt.bool,nt.url,nt.contentSeparator,nt.labelName],color:"#219"},{tag:[nt.literal,nt.inserted],color:"#164"},{tag:[nt.string,nt.deleted],color:"#a11"},{tag:[nt.regexp,nt.escape,nt.special(nt.string)],color:"#e40"},{tag:nt.definition(nt.variableName),color:"#00f"},{tag:nt.local(nt.variableName),color:"#30a"},{tag:[nt.typeName,nt.namespace],color:"#085"},{tag:nt.className,color:"#167"},{tag:[nt.special(nt.variableName),nt.macroName],color:"#256"},{tag:nt.definition(nt.propertyName),color:"#00c"},{tag:nt.comment,color:"#940"},{tag:nt.invalid,color:"#f00"}]),ime=mt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),XN=1e4,ZN="()[]{}",QN=_t.define({combine(n){return Sl(n,{afterCursor:!0,brackets:ZN,maxScanDistance:XN,renderMatch:rme})}}),sme=wt.mark({class:"cm-matchingBracket"}),lme=wt.mark({class:"cm-nonmatchingBracket"});function rme(n){let e=[],t=n.matched?sme:lme;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const ome=Bi.define({create(){return wt.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(QN);for(let s of e.state.selection.ranges){if(!s.empty)continue;let l=ar(e.state,s.head,-1,i)||s.head>0&&ar(e.state,s.head-1,1,i)||i.afterCursor&&(ar(e.state,s.head,1,i)||s.head<e.state.doc.length&&ar(e.state,s.head+1,-1,i));l&&(t=t.concat(i.renderMatch(l,e.state)))}return wt.set(t,!0)},provide:n=>mt.decorations.from(n)}),ame=[ome,ime];function fme(n={}){return[QN.of(n),ame]}const ume=new xt;function S_(n,e,t){let i=n.prop(e<0?xt.openedBy:xt.closedBy);if(i)return i;if(n.name.length==1){let s=t.indexOf(n.name);if(s>-1&&s%2==(e<0?1:0))return[t[s+e]]}return null}function C_(n){let e=n.type.prop(ume);return e?e(n.node):n}function ar(n,e,t,i={}){let s=i.maxScanDistance||XN,l=i.brackets||ZN,r=Yi(n),o=r.resolveInner(e,t);for(let a=o;a;a=a.parent){let f=S_(a.type,t,l);if(f&&a.from<a.to){let u=C_(a);if(u&&(t>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return cme(n,e,t,a,u,f,l)}}return dme(n,e,t,r,o.type,s,l)}function cme(n,e,t,i,s,l,r){let o=i.parent,a={from:s.from,to:s.to},f=0,u=o==null?void 0:o.cursor();if(u&&(t<0?u.childBefore(i.from):u.childAfter(i.to)))do if(t<0?u.to<=i.from:u.from>=i.to){if(f==0&&l.indexOf(u.type.name)>-1&&u.from<u.to){let d=C_(u);return{start:a,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(S_(u.type,t,r))f++;else if(S_(u.type,-t,r)){if(f==0){let d=C_(u);return{start:a,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}f--}}while(t<0?u.prevSibling():u.nextSibling());return{start:a,matched:!1}}function dme(n,e,t,i,s,l,r){let o=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),a=r.indexOf(o);if(a<0||a%2==0!=t>0)return null;let f={from:t<0?e-1:e,to:t>0?e+1:e},u=n.doc.iterRange(e,t>0?n.doc.length:0),d=0;for(let h=0;!u.next().done&&h<=l;){let p=u.value;t<0&&(h+=p.length);let g=e+h*t;for(let b=t>0?0:p.length-1,_=t>0?p.length:-1;b!=_;b+=t){let y=r.indexOf(p[b]);if(!(y<0||i.resolveInner(g+b,1).type!=s))if(y%2==0==t>0)d++;else{if(d==1)return{start:f,end:{from:g+b,to:g+b+1},matched:y>>1==a>>1};d--}}t>0&&(h+=p.length)}return u.done?{start:f,matched:!1}:null}function BM(n,e,t,i=0,s=0){e==null&&(e=n.search(/[^\s\u00a0]/),e==-1&&(e=n.length));let l=s;for(let r=i;r<e;r++)n.charCodeAt(r)==9?l+=t-l%t:l++;return l}class $N{constructor(e,t,i,s){this.string=e,this.tabSize=t,this.indentUnit=i,this.overrideIndent=s,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t=this.string.charAt(this.pos),i;if(typeof e=="string"?i=t==e:i=t&&(e instanceof RegExp?e.test(t):e(t)),i)return++this.pos,t}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=BM(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:BM(this.string,null,this.tabSize)}match(e,t,i){if(typeof e=="string"){let s=r=>i?r.toLowerCase():r,l=this.string.substr(this.pos,e.length);return s(l)==s(e)?(t!==!1&&(this.pos+=e.length),!0):null}else{let s=this.string.slice(this.pos).match(e);return s&&s.index>0?null:(s&&t!==!1&&(this.pos+=s[0].length),s)}}current(){return this.string.slice(this.start,this.pos)}}function hme(n){return{name:n.name||"",token:n.token,blankLine:n.blankLine||(()=>{}),startState:n.startState||(()=>!0),copyState:n.copyState||pme,indent:n.indent||(()=>null),languageData:n.languageData||{},tokenTable:n.tokenTable||Ny}}function pme(n){if(typeof n!="object")return n;let e={};for(let t in n){let i=n[t];e[t]=i instanceof Array?i.slice():i}return e}const VM=new WeakMap;class e9 extends ul{constructor(e){let t=LN(e.languageData),i=hme(e),s,l=new class extends Py{createParse(r,o,a){return new gme(s,r,o,a)}};super(t,l,[jN.of((r,o)=>this.getIndent(r,o))],e.name),this.topNode=yme(t),s=this,this.streamParser=i,this.stateAfter=new xt({perNode:!0}),this.tokenTable=e.tokenTable?new s9(i.tokenTable):_me}static define(e){return new e9(e)}getIndent(e,t){let i=Yi(e.state),s=i.resolve(t);for(;s&&s.type!=this.topNode;)s=s.parent;if(!s)return null;let l,{overrideIndentation:r}=e.options;r&&(l=VM.get(e.state),l!=null&&l<t-1e4&&(l=void 0));let o=Ry(this,i,0,s.from,l??t),a,f;if(o?(f=o.state,a=o.pos+1):(f=this.streamParser.startState(e.unit),a=0),t-a>1e4)return null;for(;a<t;){let d=e.state.doc.lineAt(a),h=Math.min(t,d.to);if(d.length){let p=r?r(d.from):-1,g=new $N(d.text,e.state.tabSize,e.unit,p<0?void 0:p);for(;g.pos<h-d.from;)n9(this.streamParser.token,g,f)}else this.streamParser.blankLine(f,e.unit);if(h==t)break;a=d.to+1}let u=e.lineAt(t);return r&&l==null&&VM.set(e.state,u.from),this.streamParser.indent(f,/^\s*(.*)/.exec(u.text)[1],e)}get allowsNesting(){return!1}}function Ry(n,e,t,i,s){let l=t>=i&&t+e.length<=s&&e.prop(n.stateAfter);if(l)return{state:n.streamParser.copyState(l),pos:t+e.length};for(let r=e.children.length-1;r>=0;r--){let o=e.children[r],a=t+e.positions[r],f=o instanceof Ln&&a<s&&Ry(n,o,a,i,s);if(f)return f}return null}function t9(n,e,t,i,s){if(s&&t<=0&&i>=e.length)return e;!s&&e.type==n.topNode&&(s=!0);for(let l=e.children.length-1;l>=0;l--){let r=e.positions[l],o=e.children[l],a;if(r<i&&o instanceof Ln){if(!(a=t9(n,o,t-r,i-r,s)))break;return s?new Ln(e.type,e.children.slice(0,l).concat(a),e.positions.slice(0,l+1),r+a.length):a}}return null}function mme(n,e,t,i){for(let s of e){let l=s.from+(s.openStart?25:0),r=s.to-(s.openEnd?25:0),o=l<=t&&r>t&&Ry(n,s.tree,0-s.offset,t,r),a;if(o&&(a=t9(n,s.tree,t+s.offset,o.pos+s.offset,!1)))return{state:o.state,tree:a}}return{state:n.streamParser.startState(i?eo(i):4),tree:Ln.empty}}let gme=class{constructor(e,t,i,s){this.lang=e,this.input=t,this.fragments=i,this.ranges=s,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=s[s.length-1].to;let l=ku.get(),r=s[0].from,{state:o,tree:a}=mme(e,i,r,l==null?void 0:l.state);this.state=o,this.parsedPos=this.chunkStart=r+a.length;for(let f=0;f<a.children.length;f++)this.chunks.push(a.children[f]),this.chunkPos.push(a.positions[f]);l&&this.parsedPos<l.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(eo(l.state)),l.skipUntilInView(this.parsedPos,l.viewport.from),this.parsedPos=l.viewport.from),this.moveRangeIndex()}advance(){let e=ku.get(),t=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),i=Math.min(t,this.chunkStart+2048);for(e&&(i=Math.min(i,e.viewport.to));this.parsedPos<i;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=t?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,t),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let t=this.input.chunk(e);if(this.input.lineChunks)t==`
`&&(t="");else{let i=t.indexOf(`
`);i>-1&&(t=t.slice(0,i))}return e+t.length<=this.to?t:t.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,t=this.lineAfter(e),i=e+t.length;for(let s=this.rangeIndex;;){let l=this.ranges[s].to;if(l>=i||(t=t.slice(0,l-(i-t.length)),s++,s==this.ranges.length))break;let r=this.ranges[s].from,o=this.lineAfter(r);t+=o,i=r+o.length}return{line:t,end:i}}skipGapsTo(e,t,i){for(;;){let s=this.ranges[this.rangeIndex].to,l=e+t;if(i>0?s>l:s>=l)break;let r=this.ranges[++this.rangeIndex].from;t+=r-s}return t}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,t,i,s,l){if(this.ranges.length>1){l=this.skipGapsTo(t,l,1),t+=l;let r=this.chunk.length;l=this.skipGapsTo(i,l,-1),i+=l,s+=this.chunk.length-r}return this.chunk.push(e,t,i,s),l}parseLine(e){let{line:t,end:i}=this.nextLine(),s=0,{streamParser:l}=this.lang,r=new $N(t,e?e.state.tabSize:4,e?eo(e.state):2);if(r.eol())l.blankLine(this.state,r.indentUnit);else for(;!r.eol();){let o=n9(l.token,r,this.state);if(o&&(s=this.emitToken(this.lang.tokenTable.resolve(o),this.parsedPos+r.start,this.parsedPos+r.pos,4,s)),r.start>1e4)break}this.parsedPos=i,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Ln.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:bme,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new Ln(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Ln(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function n9(n,e,t){e.start=e.pos;for(let i=0;i<10;i++){let s=n(e,t);if(e.pos>e.start)return s}throw new Error("Stream parser failed to advance stream.")}const Ny=Object.create(null),bd=[gs.none],bme=new Ug(bd),zM=[],i9=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])i9[n]=l9(Ny,e);class s9{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),i9)}resolve(e){return e?this.table[e]||(this.table[e]=l9(this.extra,e)):0}}const _me=new s9(Ny);function y0(n,e){zM.indexOf(n)>-1||(zM.push(n),console.warn(e))}function l9(n,e){let t=null;for(let l of e.split(".")){let r=n[l]||nt[l];r?typeof r=="function"?t?t=r(t):y0(l,`Modifier ${l} used at start of tag`):t?y0(l,`Tag ${l} used as modifier`):t=r:y0(l,`Unknown highlighting tag ${l}`)}if(!t)return 0;let i=e.replace(/ /g,"_"),s=gs.define({id:bd.length,name:i,props:[IN({[i]:t})]});return bd.push(s),s.id}function yme(n){let e=gs.define({id:bd.length,name:"Document",props:[Sa.add(()=>n)]});return bd.push(e),e}const vme=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=Fy(n.state,t.from);return i.line?kme(n):i.block?Sme(n):!1};function Ly(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let s=n(e,t);return s?(i(t.update(s)),!0):!1}}const kme=Ly(Tme,0),wme=Ly(r9,0),Sme=Ly((n,e)=>r9(n,e,Mme(e)),0);function Fy(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const dc=50;function Cme(n,{open:e,close:t},i,s){let l=n.sliceDoc(i-dc,i),r=n.sliceDoc(s,s+dc),o=/\s*$/.exec(l)[0].length,a=/^\s*/.exec(r)[0].length,f=l.length-o;if(l.slice(f-e.length,f)==e&&r.slice(a,a+t.length)==t)return{open:{pos:i-o,margin:o&&1},close:{pos:s+a,margin:a&&1}};let u,d;s-i<=2*dc?u=d=n.sliceDoc(i,s):(u=n.sliceDoc(i,i+dc),d=n.sliceDoc(s-dc,s));let h=/^\s*/.exec(u)[0].length,p=/\s*$/.exec(d)[0].length,g=d.length-p-t.length;return u.slice(h,h+e.length)==e&&d.slice(g,g+t.length)==t?{open:{pos:i+h+e.length,margin:/\s/.test(u.charAt(h+e.length))?1:0},close:{pos:s-p-t.length,margin:/\s/.test(d.charAt(g-1))?1:0}}:null}function Mme(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),s=t.to<=i.to?i:n.doc.lineAt(t.to),l=e.length-1;l>=0&&e[l].to>i.from?e[l].to=s.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:s.to})}return e}function r9(n,e,t=e.selection.ranges){let i=t.map(l=>Fy(e,l.from).block);if(!i.every(l=>l))return null;let s=t.map((l,r)=>Cme(e,i[r],l.from,l.to));if(n!=2&&!s.every(l=>l))return{changes:e.changes(t.map((l,r)=>s[r]?[]:[{from:l.from,insert:i[r].open+" "},{from:l.to,insert:" "+i[r].close}]))};if(n!=1&&s.some(l=>l)){let l=[];for(let r=0,o;r<s.length;r++)if(o=s[r]){let a=i[r],{open:f,close:u}=o;l.push({from:f.pos-a.open.length,to:f.pos+f.margin},{from:u.pos-u.margin,to:u.pos+a.close.length})}return{changes:l}}return null}function Tme(n,e,t=e.selection.ranges){let i=[],s=-1;for(let{from:l,to:r}of t){let o=i.length,a=1e9,f=Fy(e,l).line;if(f){for(let u=l;u<=r;){let d=e.doc.lineAt(u);if(d.from>s&&(l==r||r>d.from)){s=d.from;let h=/^\s*/.exec(d.text)[0].length,p=h==d.length,g=d.text.slice(h,h+f.length)==f?h:-1;h<d.text.length&&h<a&&(a=h),i.push({line:d,comment:g,token:f,indent:h,empty:p,single:!1})}u=d.to+1}if(a<1e9)for(let u=o;u<i.length;u++)i[u].indent<i[u].line.text.length&&(i[u].indent=a);i.length==o+1&&(i[o].single=!0)}}if(n!=2&&i.some(l=>l.comment<0&&(!l.empty||l.single))){let l=[];for(let{line:o,token:a,indent:f,empty:u,single:d}of i)(d||!u)&&l.push({from:o.from+f,insert:a+" "});let r=e.changes(l);return{changes:r,selection:e.selection.map(r,1)}}else if(n!=1&&i.some(l=>l.comment>=0)){let l=[];for(let{line:r,comment:o,token:a}of i)if(o>=0){let f=r.from+o,u=f+a.length;r.text[u-r.from]==" "&&u++,l.push({from:f,to:u})}return{changes:l}}return null}const M_=lo.define(),Ame=lo.define(),Ome=_t.define(),o9=_t.define({combine(n){return Sl(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,s)=>e(i,s)||t(i,s)})}});function Eme(n){let e=0;return n.iterChangedRanges((t,i)=>e=i),e}const jy=Bi.define({create(){return fr.empty},update(n,e){let t=e.state.facet(o9),i=e.annotation(M_);if(i){let a=e.docChanged?He.single(Eme(e.changes)):void 0,f=Ps.fromTransaction(e,a),u=i.side,d=u==0?n.undone:n.done;return f?d=Nm(d,d.length,t.minDepth,f):d=u9(d,e.startState.selection),new fr(u==0?i.rest:d,u==0?d:i.rest)}let s=e.annotation(Ame);if((s=="full"||s=="before")&&(n=n.isolate()),e.annotation(qi.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let l=Ps.fromTransaction(e),r=e.annotation(qi.time),o=e.annotation(qi.userEvent);return l?n=n.addChanges(l,r,o,t,e):e.selection&&(n=n.addSelection(e.startState.selection,r,o,t.newGroupDelay)),(s=="full"||s=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new fr(n.done.map(Ps.fromJSON),n.undone.map(Ps.fromJSON))}});function Pme(n={}){return[jy,o9.of(n),mt.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?By:e.inputType=="historyRedo"?Rm:null;return i?(e.preventDefault(),i(t)):!1}})]}function xg(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let s=t.field(jy,!1);if(!s)return!1;let l=s.pop(n,t,e);return l?(i(l),!0):!1}}const By=xg(0,!1),Rm=xg(1,!1),Dme=xg(0,!0),Ime=xg(1,!0);function a9(n){return function(e){let t=e.field(jy,!1);if(!t)return 0;let i=n==0?t.done:t.undone;return i.length-(i.length&&!i[0].changes?1:0)}}const Rme=a9(0),Nme=a9(1);class Ps{constructor(e,t,i,s,l){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=s,this.selectionsAfter=l}setSelAfter(e){return new Ps(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new Ps(e.changes&&Hi.fromJSON(e.changes),[],e.mapped&&pr.fromJSON(e.mapped),e.startSelection&&He.fromJSON(e.startSelection),e.selectionsAfter.map(He.fromJSON))}static fromTransaction(e,t){let i=cl;for(let s of e.startState.facet(Ome)){let l=s(e);l.length&&(i=i.concat(l))}return!i.length&&e.changes.empty?null:new Ps(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,cl)}static selection(e){return new Ps(void 0,cl,void 0,void 0,e)}}function Nm(n,e,t,i){let s=e+1>t+20?e-t-1:0,l=n.slice(s,e);return l.push(i),l}function Lme(n,e){let t=[],i=!1;return n.iterChangedRanges((s,l)=>t.push(s,l)),e.iterChangedRanges((s,l,r,o)=>{for(let a=0;a<t.length;){let f=t[a++],u=t[a++];o>=f&&r<=u&&(i=!0)}}),i}function Fme(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function f9(n,e){return n.length?e.length?n.concat(e):n:e}const cl=[],jme=200;function u9(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-jme));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),Nm(n,n.length-1,1e9,t.setSelAfter(i)))}else return[Ps.selection([e])]}function Bme(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function v0(n,e){if(!n.length)return n;let t=n.length,i=cl;for(;t;){let s=Vme(n[t-1],e,i);if(s.changes&&!s.changes.empty||s.effects.length){let l=n.slice(0,t);return l[t-1]=s,l}else e=s.mapped,t--,i=s.selectionsAfter}return i.length?[Ps.selection(i)]:cl}function Vme(n,e,t){let i=f9(n.selectionsAfter.length?n.selectionsAfter.map(o=>o.map(e)):cl,t);if(!n.changes)return Ps.selection(i);let s=n.changes.map(e),l=e.mapDesc(n.changes,!0),r=n.mapped?n.mapped.composeDesc(l):l;return new Ps(s,Wt.mapEffects(n.effects,e),r,n.startSelection.map(l),i)}const zme=/^(input\.type|delete)($|\.)/;class fr{constructor(e,t,i=0,s=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=s}isolate(){return this.prevTime?new fr(this.done,this.undone):this}addChanges(e,t,i,s,l){let r=this.done,o=r[r.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!i||zme.test(i))&&(!o.selectionsAfter.length&&t-this.prevTime<s.newGroupDelay&&s.joinToEvent(l,Lme(o.changes,e.changes))||i=="input.type.compose")?r=Nm(r,r.length-1,s.minDepth,new Ps(e.changes.compose(o.changes),f9(e.effects,o.effects),o.mapped,o.startSelection,cl)):r=Nm(r,r.length,s.minDepth,e),new fr(r,cl,t,i)}addSelection(e,t,i,s){let l=this.done.length?this.done[this.done.length-1].selectionsAfter:cl;return l.length>0&&t-this.prevTime<s&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&Fme(l[l.length-1],e)?this:new fr(u9(this.done,e),this.undone,t,i)}addMapping(e){return new fr(v0(this.done,e),v0(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let s=e==0?this.done:this.undone;if(s.length==0)return null;let l=s[s.length-1];if(i&&l.selectionsAfter.length)return t.update({selection:l.selectionsAfter[l.selectionsAfter.length-1],annotations:M_.of({side:e,rest:Bme(s)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(l.changes){let r=s.length==1?cl:s.slice(0,s.length-1);return l.mapped&&(r=v0(r,l.mapped)),t.update({changes:l.changes,selection:l.startSelection,effects:l.effects,annotations:M_.of({side:e,rest:r}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}fr.empty=new fr(cl,cl);const Hme=[{key:"Mod-z",run:By,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Rm,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Rm,preventDefault:!0},{key:"Mod-u",run:Dme,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Ime,preventDefault:!0}];function Bu(n,e){return He.create(n.ranges.map(e),n.mainIndex)}function Ar(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Jl({state:n,dispatch:e},t){let i=Bu(n.selection,t);return i.eq(n.selection)?!1:(e(Ar(n,i)),!0)}function Yg(n,e){return He.cursor(e?n.to:n.from)}function c9(n,e){return Jl(n,t=>t.empty?n.moveByChar(t,e):Yg(t,e))}function bs(n){return n.textDirectionAt(n.state.selection.main.head)==ui.LTR}const d9=n=>c9(n,!bs(n)),h9=n=>c9(n,bs(n));function p9(n,e){return Jl(n,t=>t.empty?n.moveByGroup(t,e):Yg(t,e))}const qme=n=>p9(n,!bs(n)),Wme=n=>p9(n,bs(n));function Ume(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Gg(n,e,t){let i=Yi(n).resolveInner(e.head),s=t?xt.closedBy:xt.openedBy;for(let a=e.head;;){let f=t?i.childAfter(a):i.childBefore(a);if(!f)break;Ume(n,f,s)?i=f:a=t?f.to:f.from}let l=i.type.prop(s),r,o;return l&&(r=t?ar(n,i.from,1):ar(n,i.to,-1))&&r.matched?o=t?r.end.to:r.end.from:o=t?i.to:i.from,He.cursor(o,t?-1:1)}const Kme=n=>Jl(n,e=>Gg(n.state,e,!bs(n))),Jme=n=>Jl(n,e=>Gg(n.state,e,bs(n)));function m9(n,e){return Jl(n,t=>{if(!t.empty)return Yg(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const g9=n=>m9(n,!1),b9=n=>m9(n,!0);function _9(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,s;if(e){for(let l of n.state.facet(mt.scrollMargins)){let r=l(n);r!=null&&r.top&&(t=Math.max(r==null?void 0:r.top,t)),r!=null&&r.bottom&&(i=Math.max(r==null?void 0:r.bottom,i))}s=n.scrollDOM.clientHeight-t-i}else s=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,s-5)}}function y9(n,e){let t=_9(n),{state:i}=n,s=Bu(i.selection,r=>r.empty?n.moveVertically(r,e,t.height):Yg(r,e));if(s.eq(i.selection))return!1;let l;if(t.selfScroll){let r=n.coordsAtPos(i.selection.main.head),o=n.scrollDOM.getBoundingClientRect(),a=o.top+t.marginTop,f=o.bottom-t.marginBottom;r&&r.top>a&&r.bottom<f&&(l=mt.scrollIntoView(s.main.head,{y:"start",yMargin:r.top-a}))}return n.dispatch(Ar(i,s),{effects:l}),!0}const HM=n=>y9(n,!1),T_=n=>y9(n,!0);function Qo(n,e,t){let i=n.lineBlockAt(e.head),s=n.moveToLineBoundary(e,t);if(s.head==e.head&&s.head!=(t?i.to:i.from)&&(s=n.moveToLineBoundary(e,t,!1)),!t&&s.head==i.from&&i.length){let l=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;l&&e.head!=i.from+l&&(s=He.cursor(i.from+l))}return s}const xme=n=>Jl(n,e=>Qo(n,e,!0)),Yme=n=>Jl(n,e=>Qo(n,e,!1)),Gme=n=>Jl(n,e=>Qo(n,e,!bs(n))),Xme=n=>Jl(n,e=>Qo(n,e,bs(n))),Zme=n=>Jl(n,e=>He.cursor(n.lineBlockAt(e.head).from,1)),Qme=n=>Jl(n,e=>He.cursor(n.lineBlockAt(e.head).to,-1));function $me(n,e,t){let i=!1,s=Bu(n.selection,l=>{let r=ar(n,l.head,-1)||ar(n,l.head,1)||l.head>0&&ar(n,l.head-1,1)||l.head<n.doc.length&&ar(n,l.head+1,-1);if(!r||!r.end)return l;i=!0;let o=r.start.from==l.head?r.end.to:r.end.from;return t?He.range(l.anchor,o):He.cursor(o)});return i?(e(Ar(n,s)),!0):!1}const ege=({state:n,dispatch:e})=>$me(n,e,!1);function Cl(n,e){let t=Bu(n.state.selection,i=>{let s=e(i);return He.range(i.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Ar(n.state,t)),!0)}function v9(n,e){return Cl(n,t=>n.moveByChar(t,e))}const k9=n=>v9(n,!bs(n)),w9=n=>v9(n,bs(n));function S9(n,e){return Cl(n,t=>n.moveByGroup(t,e))}const tge=n=>S9(n,!bs(n)),nge=n=>S9(n,bs(n)),ige=n=>Cl(n,e=>Gg(n.state,e,!bs(n))),sge=n=>Cl(n,e=>Gg(n.state,e,bs(n)));function C9(n,e){return Cl(n,t=>n.moveVertically(t,e))}const M9=n=>C9(n,!1),T9=n=>C9(n,!0);function A9(n,e){return Cl(n,t=>n.moveVertically(t,e,_9(n).height))}const qM=n=>A9(n,!1),WM=n=>A9(n,!0),lge=n=>Cl(n,e=>Qo(n,e,!0)),rge=n=>Cl(n,e=>Qo(n,e,!1)),oge=n=>Cl(n,e=>Qo(n,e,!bs(n))),age=n=>Cl(n,e=>Qo(n,e,bs(n))),fge=n=>Cl(n,e=>He.cursor(n.lineBlockAt(e.head).from)),uge=n=>Cl(n,e=>He.cursor(n.lineBlockAt(e.head).to)),UM=({state:n,dispatch:e})=>(e(Ar(n,{anchor:0})),!0),KM=({state:n,dispatch:e})=>(e(Ar(n,{anchor:n.doc.length})),!0),JM=({state:n,dispatch:e})=>(e(Ar(n,{anchor:n.selection.main.anchor,head:0})),!0),xM=({state:n,dispatch:e})=>(e(Ar(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),cge=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),dge=({state:n,dispatch:e})=>{let t=Zg(n).map(({from:i,to:s})=>He.range(i,Math.min(s+1,n.doc.length)));return e(n.update({selection:He.create(t),userEvent:"select"})),!0},hge=({state:n,dispatch:e})=>{let t=Bu(n.selection,i=>{var s;let l=Yi(n).resolveInner(i.head,1);for(;!(l.from<i.from&&l.to>=i.to||l.to>i.to&&l.from<=i.from||!(!((s=l.parent)===null||s===void 0)&&s.parent));)l=l.parent;return He.range(l.to,l.from)});return e(Ar(n,t)),!0},pge=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=He.create([t.main]):t.main.empty||(i=He.create([He.cursor(t.main.head)])),i?(e(Ar(n,i)),!0):!1};function Xg(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,s=i.changeByRange(l=>{let{from:r,to:o}=l;if(r==o){let a=e(r);a<r?(t="delete.backward",a=$h(n,a,!1)):a>r&&(t="delete.forward",a=$h(n,a,!0)),r=Math.min(r,a),o=Math.max(o,a)}else r=$h(n,r,!1),o=$h(n,o,!0);return r==o?{range:l}:{changes:{from:r,to:o},range:He.cursor(r)}});return s.changes.empty?!1:(n.dispatch(i.update(s,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?mt.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function $h(n,e,t){if(n instanceof mt)for(let i of n.state.facet(mt.atomicRanges).map(s=>s(n)))i.between(e,e,(s,l)=>{s<e&&l>e&&(e=t?l:s)});return e}const O9=(n,e)=>Xg(n,t=>{let{state:i}=n,s=i.doc.lineAt(t),l,r;if(!e&&t>s.from&&t<s.from+200&&!/[^ \t]/.test(l=s.text.slice(0,t-s.from))){if(l[l.length-1]=="	")return t-1;let o=Kd(l,i.tabSize),a=o%eo(i)||eo(i);for(let f=0;f<a&&l[l.length-1-f]==" ";f++)t--;r=t}else r=vs(s.text,t-s.from,e,e)+s.from,r==t&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);return r}),A_=n=>O9(n,!1),E9=n=>O9(n,!0),P9=(n,e)=>Xg(n,t=>{let i=t,{state:s}=n,l=s.doc.lineAt(i),r=s.charCategorizer(i);for(let o=null;;){if(i==(e?l.to:l.from)){i==t&&l.number!=(e?s.doc.lines:1)&&(i+=e?1:-1);break}let a=vs(l.text,i-l.from,e)+l.from,f=l.text.slice(Math.min(i,a)-l.from,Math.max(i,a)-l.from),u=r(f);if(o!=null&&u!=o)break;(f!=" "||i!=t)&&(o=u),i=a}return i}),D9=n=>P9(n,!1),mge=n=>P9(n,!0),I9=n=>Xg(n,e=>{let t=n.lineBlockAt(e).to;return e<t?t:Math.min(n.state.doc.length,e+1)}),gge=n=>Xg(n,e=>{let t=n.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)}),bge=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:wn.of(["",""])},range:He.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},_ge=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let s=i.from,l=n.doc.lineAt(s),r=s==l.from?s-1:vs(l.text,s-l.from,!1)+l.from,o=s==l.to?s+1:vs(l.text,s-l.from,!0)+l.from;return{changes:{from:r,to:o,insert:n.doc.slice(s,o).append(n.doc.slice(r,s))},range:He.cursor(o)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Zg(n){let e=[],t=-1;for(let i of n.selection.ranges){let s=n.doc.lineAt(i.from),l=n.doc.lineAt(i.to);if(!i.empty&&i.to==l.from&&(l=n.doc.lineAt(i.to-1)),t>=s.number){let r=e[e.length-1];r.to=l.to,r.ranges.push(i)}else e.push({from:s.from,to:l.to,ranges:[i]});t=l.number+1}return e}function R9(n,e,t){if(n.readOnly)return!1;let i=[],s=[];for(let l of Zg(n)){if(t?l.to==n.doc.length:l.from==0)continue;let r=n.doc.lineAt(t?l.to+1:l.from-1),o=r.length+1;if(t){i.push({from:l.to,to:r.to},{from:l.from,insert:r.text+n.lineBreak});for(let a of l.ranges)s.push(He.range(Math.min(n.doc.length,a.anchor+o),Math.min(n.doc.length,a.head+o)))}else{i.push({from:r.from,to:l.from},{from:l.to,insert:n.lineBreak+r.text});for(let a of l.ranges)s.push(He.range(a.anchor-o,a.head-o))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:He.create(s,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const yge=({state:n,dispatch:e})=>R9(n,e,!1),vge=({state:n,dispatch:e})=>R9(n,e,!0);function N9(n,e,t){if(n.readOnly)return!1;let i=[];for(let s of Zg(n))t?i.push({from:s.from,insert:n.doc.slice(s.from,s.to)+n.lineBreak}):i.push({from:s.to,insert:n.lineBreak+n.doc.slice(s.from,s.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const kge=({state:n,dispatch:e})=>N9(n,e,!1),wge=({state:n,dispatch:e})=>N9(n,e,!0),Sge=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Zg(e).map(({from:s,to:l})=>(s>0?s--:l<e.doc.length&&l++,{from:s,to:l}))),i=Bu(e.selection,s=>n.moveVertically(s,!0)).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Cge(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Yi(n).resolveInner(e),i=t.childBefore(e),s=t.childAfter(e),l;return i&&s&&i.to<=e&&s.from>=e&&(l=i.type.prop(xt.closedBy))&&l.indexOf(s.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(s.from).from?{from:i.to,to:s.from}:null}const Mge=L9(!1),Tge=L9(!0);function L9(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(s=>{let{from:l,to:r}=s,o=e.doc.lineAt(l),a=!n&&l==r&&Cge(e,l);n&&(l=r=(r<=o.to?o:e.doc.lineAt(r)).to);let f=new Kg(e,{simulateBreak:l,simulateDoubleBreak:!!a}),u=Dy(f,l);for(u==null&&(u=/^\s*/.exec(e.doc.lineAt(l).text)[0].length);r<o.to&&/\s/.test(o.text[r-o.from]);)r++;a?{from:l,to:r}=a:l>o.from&&l<o.from+100&&!/\S/.test(o.text.slice(0,l))&&(l=o.from);let d=["",gd(e,u)];return a&&d.push(gd(e,f.lineIndent(o.from,-1))),{changes:{from:l,to:r,insert:wn.of(d)},range:He.cursor(l+1+d[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Vy(n,e){let t=-1;return n.changeByRange(i=>{let s=[];for(let r=i.from;r<=i.to;){let o=n.doc.lineAt(r);o.number>t&&(i.empty||i.to>o.from)&&(e(o,s,i),t=o.number),r=o.to+1}let l=n.changes(s);return{changes:s,range:He.range(l.mapPos(i.anchor,1),l.mapPos(i.head,1))}})}const Age=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new Kg(n,{overrideIndentation:l=>{let r=t[l];return r??-1}}),s=Vy(n,(l,r,o)=>{let a=Dy(i,l.from);if(a==null)return;/\S/.test(l.text)||(a=0);let f=/^\s*/.exec(l.text)[0],u=gd(n,a);(f!=u||o.from<l.from+f.length)&&(t[l.from]=a,r.push({from:l.from,to:l.from+f.length,insert:u}))});return s.changes.empty||e(n.update(s,{userEvent:"indent"})),!0},F9=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Vy(n,(t,i)=>{i.push({from:t.from,insert:n.facet(Gd)})}),{userEvent:"input.indent"})),!0),j9=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Vy(n,(t,i)=>{let s=/^\s*/.exec(t.text)[0];if(!s)return;let l=Kd(s,n.tabSize),r=0,o=gd(n,Math.max(0,l-eo(n)));for(;r<s.length&&r<o.length&&s.charCodeAt(r)==o.charCodeAt(r);)r++;i.push({from:t.from+r,to:t.from+s.length,insert:o.slice(r)})}),{userEvent:"delete.dedent"})),!0),Oge=[{key:"Ctrl-b",run:d9,shift:k9,preventDefault:!0},{key:"Ctrl-f",run:h9,shift:w9},{key:"Ctrl-p",run:g9,shift:M9},{key:"Ctrl-n",run:b9,shift:T9},{key:"Ctrl-a",run:Zme,shift:fge},{key:"Ctrl-e",run:Qme,shift:uge},{key:"Ctrl-d",run:E9},{key:"Ctrl-h",run:A_},{key:"Ctrl-k",run:I9},{key:"Ctrl-Alt-h",run:D9},{key:"Ctrl-o",run:bge},{key:"Ctrl-t",run:_ge},{key:"Ctrl-v",run:T_}],Ege=[{key:"ArrowLeft",run:d9,shift:k9,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:qme,shift:tge,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Gme,shift:oge,preventDefault:!0},{key:"ArrowRight",run:h9,shift:w9,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Wme,shift:nge,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Xme,shift:age,preventDefault:!0},{key:"ArrowUp",run:g9,shift:M9,preventDefault:!0},{mac:"Cmd-ArrowUp",run:UM,shift:JM},{mac:"Ctrl-ArrowUp",run:HM,shift:qM},{key:"ArrowDown",run:b9,shift:T9,preventDefault:!0},{mac:"Cmd-ArrowDown",run:KM,shift:xM},{mac:"Ctrl-ArrowDown",run:T_,shift:WM},{key:"PageUp",run:HM,shift:qM},{key:"PageDown",run:T_,shift:WM},{key:"Home",run:Yme,shift:rge,preventDefault:!0},{key:"Mod-Home",run:UM,shift:JM},{key:"End",run:xme,shift:lge,preventDefault:!0},{key:"Mod-End",run:KM,shift:xM},{key:"Enter",run:Mge},{key:"Mod-a",run:cge},{key:"Backspace",run:A_,shift:A_},{key:"Delete",run:E9},{key:"Mod-Backspace",mac:"Alt-Backspace",run:D9},{key:"Mod-Delete",mac:"Alt-Delete",run:mge},{mac:"Mod-Backspace",run:gge},{mac:"Mod-Delete",run:I9}].concat(Oge.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),Pge=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Kme,shift:ige},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Jme,shift:sge},{key:"Alt-ArrowUp",run:yge},{key:"Shift-Alt-ArrowUp",run:kge},{key:"Alt-ArrowDown",run:vge},{key:"Shift-Alt-ArrowDown",run:wge},{key:"Escape",run:pge},{key:"Mod-Enter",run:Tge},{key:"Alt-l",mac:"Ctrl-l",run:dge},{key:"Mod-i",run:hge,preventDefault:!0},{key:"Mod-[",run:j9},{key:"Mod-]",run:F9},{key:"Mod-Alt-\\",run:Age},{key:"Shift-Mod-k",run:Sge},{key:"Shift-Mod-\\",run:ege},{key:"Mod-/",run:vme},{key:"Alt-A",run:wme}].concat(Ege),Dge={key:"Tab",run:F9,shift:j9};function xn(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];typeof s=="string"?n.setAttribute(i,s):s!=null&&(n[i]=s)}e++}for(;e<arguments.length;e++)B9(n,arguments[e]);return n}function B9(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)B9(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const YM=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Su{constructor(e,t,i=0,s=e.length,l,r){this.test=r,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,s),this.bufferStart=i,this.normalize=l?o=>l(YM(o)):YM,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return es(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=gy(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=rl(e);let s=this.normalize(t);for(let l=0,r=i;;l++){let o=s.charCodeAt(l),a=this.match(o,r);if(a)return this.value=a,this;if(l==s.length-1)break;r==i&&l<t.length&&t.charCodeAt(l)==o&&r++}}}match(e,t){let i=null;for(let s=0;s<this.matches.length;s+=2){let l=this.matches[s],r=!1;this.query.charCodeAt(l)==e&&(l==this.query.length-1?i={from:this.matches[s+1],to:t+1}:(this.matches[s]++,r=!0)),r||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:t+1}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferPos)&&(i=null),i}}typeof Symbol<"u"&&(Su.prototype[Symbol.iterator]=function(){return this});const V9={from:-1,to:-1,match:/.*/.exec("")},zy="gm"+(/x/.unicode==null?"":"u");class z9{constructor(e,t,i,s=0,l=e.length){if(this.text=e,this.to=l,this.curLine="",this.done=!1,this.value=V9,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new H9(e,t,i,s,l);this.re=new RegExp(t,zy+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let r=e.lineAt(s);this.curLineStart=r.from,this.matchPos=Lm(e,s),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,s=i+t[0].length;if(this.matchPos=Lm(this.text,s+(i==s?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<s||i>this.value.to)&&(!this.test||this.test(i,s,t)))return this.value={from:i,to:s,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const k0=new WeakMap;class Kf{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let s=k0.get(e);if(!s||s.from>=i||s.to<=t){let o=new Kf(t,e.sliceString(t,i));return k0.set(e,o),o}if(s.from==t&&s.to==i)return s;let{text:l,from:r}=s;return r>t&&(l=e.sliceString(t,r)+l,r=t),s.to<i&&(l+=e.sliceString(s.to,i)),k0.set(e,new Kf(r,l)),new Kf(t,l.slice(t-r,i-r))}}class H9{constructor(e,t,i,s,l){this.text=e,this.to=l,this.done=!1,this.value=V9,this.matchPos=Lm(e,s),this.re=new RegExp(t,zy+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=Kf.get(e,s,this.chunkEnd(s+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,s=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,s,t)))return this.value={from:i,to:s,match:t},this.matchPos=Lm(this.text,s+(i==s?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Kf.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(z9.prototype[Symbol.iterator]=H9.prototype[Symbol.iterator]=function(){return this});function Ige(n){try{return new RegExp(n,zy),!0}catch{return!1}}function Lm(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function O_(n){let e=xn("input",{class:"cm-textfield",name:"line"}),t=xn("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:Fm.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},xn("label",n.state.phrase("Go to line"),": ",e)," ",xn("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!s)return;let{state:l}=n,r=l.doc.lineAt(l.selection.main.head),[,o,a,f,u]=s,d=f?+f.slice(1):0,h=a?+a:r.number;if(a&&u){let g=h/100;o&&(g=g*(o=="-"?-1:1)+r.number/l.doc.lines),h=Math.round(l.doc.lines*g)}else a&&o&&(h=h*(o=="-"?-1:1)+r.number);let p=l.doc.line(Math.max(1,Math.min(l.doc.lines,h)));n.dispatch({effects:Fm.of(!1),selection:He.cursor(p.from+Math.max(0,Math.min(d,p.length))),scrollIntoView:!0}),n.focus()}return{dom:t}}const Fm=Wt.define(),GM=Bi.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(Fm)&&(n=t.value);return n},provide:n=>pd.from(n,e=>e?O_:null)}),Rge=n=>{let e=hd(n,O_);if(!e){let t=[Fm.of(!0)];n.state.field(GM,!1)==null&&t.push(Wt.appendConfig.of([GM,Nge])),n.dispatch({effects:t}),e=hd(n,O_)}return e&&e.dom.querySelector("input").focus(),!0},Nge=mt.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Lge={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},q9=_t.define({combine(n){return Sl(n,Lge,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function Fge(n){let e=[Hge,zge];return n&&e.push(q9.of(n)),e}const jge=wt.mark({class:"cm-selectionMatch"}),Bge=wt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function XM(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=ni.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=ni.Word)}function Vge(n,e,t,i){return n(e.sliceDoc(t,t+1))==ni.Word&&n(e.sliceDoc(i-1,i))==ni.Word}const zge=vi.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(q9),{state:t}=n,i=t.selection;if(i.ranges.length>1)return wt.none;let s=i.main,l,r=null;if(s.empty){if(!e.highlightWordAroundCursor)return wt.none;let a=t.wordAt(s.head);if(!a)return wt.none;r=t.charCategorizer(s.head),l=t.sliceDoc(a.from,a.to)}else{let a=s.to-s.from;if(a<e.minSelectionLength||a>200)return wt.none;if(e.wholeWords){if(l=t.sliceDoc(s.from,s.to),r=t.charCategorizer(s.head),!(XM(r,t,s.from,s.to)&&Vge(r,t,s.from,s.to)))return wt.none}else if(l=t.sliceDoc(s.from,s.to).trim(),!l)return wt.none}let o=[];for(let a of n.visibleRanges){let f=new Su(t.doc,l,a.from,a.to);for(;!f.next().done;){let{from:u,to:d}=f.value;if((!r||XM(r,t,u,d))&&(s.empty&&u<=s.from&&d>=s.to?o.push(Bge.range(u,d)):(u>=s.to||d<=s.from)&&o.push(jge.range(u,d)),o.length>e.maxMatches))return wt.none}}return wt.set(o)}},{decorations:n=>n.decorations}),Hge=mt.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),qge=({state:n,dispatch:e})=>{let{selection:t}=n,i=He.create(t.ranges.map(s=>n.wordAt(s.head)||He.cursor(s.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function Wge(n,e){let{main:t,ranges:i}=n.selection,s=n.wordAt(t.head),l=s&&s.from==t.from&&s.to==t.to;for(let r=!1,o=new Su(n.doc,e,i[i.length-1].to);;)if(o.next(),o.done){if(r)return null;o=new Su(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),r=!0}else{if(r&&i.some(a=>a.from==o.value.from))continue;if(l){let a=n.wordAt(o.value.from);if(!a||a.from!=o.value.from||a.to!=o.value.to)continue}return o.value}}const Uge=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(l=>l.from===l.to))return qge({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(l=>n.sliceDoc(l.from,l.to)!=i))return!1;let s=Wge(n,i);return s?(e(n.update({selection:n.selection.addRange(He.range(s.from,s.to),!1),effects:mt.scrollIntoView(s.to)})),!0):!1},nf=_t.define({combine(n){return Sl(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new i1e(e),scrollToMatch:e=>mt.scrollIntoView(e)})}});function Kge(n){return n?[nf.of(n),P_]:P_}class W9{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Ige(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Gge(this):new xge(this)}getCursor(e,t=0,i){let s=e.doc?e:ln.create({doc:e});return i==null&&(i=s.doc.length),this.regexp?vf(this,s,t,i):yf(this,s,t,i)}}class U9{constructor(e){this.spec=e}}function yf(n,e,t,i){return new Su(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:s=>s.toLowerCase(),n.wholeWord?Jge(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Jge(n,e){return(t,i,s,l)=>((l>t||l+s.length<i)&&(l=Math.max(0,t-2),s=n.sliceString(l,Math.min(n.length,i+2))),(e(jm(s,t-l))!=ni.Word||e(Bm(s,t-l))!=ni.Word)&&(e(Bm(s,i-l))!=ni.Word||e(jm(s,i-l))!=ni.Word))}class xge extends U9{constructor(e){super(e)}nextMatch(e,t,i){let s=yf(this.spec,e,i,e.doc.length).nextOverlapping();return s.done&&(s=yf(this.spec,e,0,t).nextOverlapping()),s.done?null:s.value}prevMatchInRange(e,t,i){for(let s=i;;){let l=Math.max(t,s-1e4-this.spec.unquoted.length),r=yf(this.spec,e,l,s),o=null;for(;!r.nextOverlapping().done;)o=r.value;if(o)return o;if(l==t)return null;s-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=yf(this.spec,e,0,e.doc.length),s=[];for(;!i.next().done;){if(s.length>=t)return null;s.push(i.value)}return s}highlight(e,t,i,s){let l=yf(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!l.next().done;)s(l.value.from,l.value.to)}}function vf(n,e,t,i){return new z9(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?Yge(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function jm(n,e){return n.slice(vs(n,e,!1),e)}function Bm(n,e){return n.slice(e,vs(n,e))}function Yge(n){return(e,t,i)=>!i[0].length||(n(jm(i.input,i.index))!=ni.Word||n(Bm(i.input,i.index))!=ni.Word)&&(n(Bm(i.input,i.index+i[0].length))!=ni.Word||n(jm(i.input,i.index+i[0].length))!=ni.Word)}class Gge extends U9{nextMatch(e,t,i){let s=vf(this.spec,e,i,e.doc.length).next();return s.done&&(s=vf(this.spec,e,0,t).next()),s.done?null:s.value}prevMatchInRange(e,t,i){for(let s=1;;s++){let l=Math.max(t,i-s*1e4),r=vf(this.spec,e,l,i),o=null;for(;!r.next().done;)o=r.value;if(o&&(l==t||o.from>l+10))return o;if(l==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(t,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:t))}matchAll(e,t){let i=vf(this.spec,e,0,e.doc.length),s=[];for(;!i.next().done;){if(s.length>=t)return null;s.push(i.value)}return s}highlight(e,t,i,s){let l=vf(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!l.next().done;)s(l.value.from,l.value.to)}}const _d=Wt.define(),Hy=Wt.define(),Eo=Bi.define({create(n){return new w0(E_(n).create(),null)},update(n,e){for(let t of e.effects)t.is(_d)?n=new w0(t.value.create(),n.panel):t.is(Hy)&&(n=new w0(n.query,t.value?qy:null));return n},provide:n=>pd.from(n,e=>e.panel)});class w0{constructor(e,t){this.query=e,this.panel=t}}const Xge=wt.mark({class:"cm-searchMatch"}),Zge=wt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Qge=vi.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Eo))}update(n){let e=n.state.field(Eo);(e!=n.startState.field(Eo)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return wt.none;let{view:t}=this,i=new Qr;for(let s=0,l=t.visibleRanges,r=l.length;s<r;s++){let{from:o,to:a}=l[s];for(;s<r-1&&a>l[s+1].from-2*250;)a=l[++s].to;n.highlight(t.state,o,a,(f,u)=>{let d=t.state.selection.ranges.some(h=>h.from==f&&h.to==u);i.add(f,u,d?Zge:Xge)})}return i.finish()}},{decorations:n=>n.decorations});function Qd(n){return e=>{let t=e.state.field(Eo,!1);return t&&t.query.spec.valid?n(e,t):Wy(e)}}const Vm=Qd((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let s=He.single(i.from,i.to),l=n.state.facet(nf);return n.dispatch({selection:s,effects:[Ky(n,i),l.scrollToMatch(s.main,n)],userEvent:"select.search"}),J9(n),!0}),zm=Qd((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,s=e.prevMatch(t,i,i);if(!s)return!1;let l=He.single(s.from,s.to),r=n.state.facet(nf);return n.dispatch({selection:l,effects:[Ky(n,s),r.scrollToMatch(l.main,n)],userEvent:"select.search"}),J9(n),!0}),$ge=Qd((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:He.create(t.map(i=>He.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),e1e=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:s}=t.main,l=[],r=0;for(let o=new Su(n.doc,n.sliceDoc(i,s));!o.next().done;){if(l.length>1e3)return!1;o.value.from==i&&(r=l.length),l.push(He.range(o.value.from,o.value.to))}return e(n.update({selection:He.create(l,r),userEvent:"select.search.matches"})),!0},ZM=Qd((n,{query:e})=>{let{state:t}=n,{from:i,to:s}=t.selection.main;if(t.readOnly)return!1;let l=e.nextMatch(t,i,i);if(!l)return!1;let r=[],o,a,f=[];if(l.from==i&&l.to==s&&(a=t.toText(e.getReplacement(l)),r.push({from:l.from,to:l.to,insert:a}),l=e.nextMatch(t,l.from,l.to),f.push(mt.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+"."))),l){let u=r.length==0||r[0].from>=l.to?0:l.to-l.from-a.length;o=He.single(l.from-u,l.to-u),f.push(Ky(n,l)),f.push(t.facet(nf).scrollToMatch(o.main,n))}return n.dispatch({changes:r,selection:o,effects:f,userEvent:"input.replace"}),!0}),t1e=Qd((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(s=>{let{from:l,to:r}=s;return{from:l,to:r,insert:e.getReplacement(s)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:mt.announce.of(i),userEvent:"input.replace.all"}),!0});function qy(n){return n.state.facet(nf).createPanel(n)}function E_(n,e){var t,i,s,l,r;let o=n.selection.main,a=o.empty||o.to>o.from+100?"":n.sliceDoc(o.from,o.to);if(e&&!a)return e;let f=n.facet(nf);return new W9({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:f.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:f.caseSensitive,literal:(s=e==null?void 0:e.literal)!==null&&s!==void 0?s:f.literal,regexp:(l=e==null?void 0:e.regexp)!==null&&l!==void 0?l:f.regexp,wholeWord:(r=e==null?void 0:e.wholeWord)!==null&&r!==void 0?r:f.wholeWord})}function K9(n){let e=hd(n,qy);return e&&e.dom.querySelector("[main-field]")}function J9(n){let e=K9(n);e&&e==n.root.activeElement&&e.select()}const Wy=n=>{let e=n.state.field(Eo,!1);if(e&&e.panel){let t=K9(n);if(t&&t!=n.root.activeElement){let i=E_(n.state,e.query.spec);i.valid&&n.dispatch({effects:_d.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[Hy.of(!0),e?_d.of(E_(n.state,e.query.spec)):Wt.appendConfig.of(P_)]});return!0},Uy=n=>{let e=n.state.field(Eo,!1);if(!e||!e.panel)return!1;let t=hd(n,qy);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:Hy.of(!1)}),!0},n1e=[{key:"Mod-f",run:Wy,scope:"editor search-panel"},{key:"F3",run:Vm,shift:zm,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Vm,shift:zm,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Uy,scope:"editor search-panel"},{key:"Mod-Shift-l",run:e1e},{key:"Alt-g",run:Rge},{key:"Mod-d",run:Uge,preventDefault:!0}];class i1e{constructor(e){this.view=e;let t=this.query=e.state.field(Eo).query.spec;this.commit=this.commit.bind(this),this.searchField=xn("input",{value:t.search,placeholder:Vs(e,"Find"),"aria-label":Vs(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=xn("input",{value:t.replace,placeholder:Vs(e,"Replace"),"aria-label":Vs(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=xn("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=xn("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=xn("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(s,l,r){return xn("button",{class:"cm-button",name:s,onclick:l,type:"button"},r)}this.dom=xn("div",{onkeydown:s=>this.keydown(s),class:"cm-search"},[this.searchField,i("next",()=>Vm(e),[Vs(e,"next")]),i("prev",()=>zm(e),[Vs(e,"previous")]),i("select",()=>$ge(e),[Vs(e,"all")]),xn("label",null,[this.caseField,Vs(e,"match case")]),xn("label",null,[this.reField,Vs(e,"regexp")]),xn("label",null,[this.wordField,Vs(e,"by word")]),...e.state.readOnly?[]:[xn("br"),this.replaceField,i("replace",()=>ZM(e),[Vs(e,"replace")]),i("replaceAll",()=>t1e(e),[Vs(e,"replace all")])],xn("button",{name:"close",onclick:()=>Uy(e),"aria-label":Vs(e,"close"),type:"button"},["×"])])}commit(){let e=new W9({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:_d.of(e)}))}keydown(e){uhe(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?zm:Vm)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),ZM(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(_d)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(nf).top}}function Vs(n,e){return n.state.phrase(e)}const ep=30,tp=/[\s\.,:;?!]/;function Ky(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),s=n.state.doc.lineAt(t).to,l=Math.max(i.from,e-ep),r=Math.min(s,t+ep),o=n.state.sliceDoc(l,r);if(l!=i.from){for(let a=0;a<ep;a++)if(!tp.test(o[a+1])&&tp.test(o[a])){o=o.slice(a);break}}if(r!=s){for(let a=o.length-1;a>o.length-ep;a--)if(!tp.test(o[a-1])&&tp.test(o[a])){o=o.slice(0,a);break}}return mt.announce.of(`${n.state.phrase("current match")}. ${o} ${n.state.phrase("on line")} ${i.number}.`)}const s1e=mt.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),P_=[Eo,ef.lowest(Qge),s1e];class x9{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=Yi(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),s=t.text.slice(i-t.from,this.pos-t.from),l=s.search(Y9(e,!1));return l<0?null:{from:i+l,to:this.pos,text:s.slice(l)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function QM(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function l1e(n){let e=Object.create(null),t=Object.create(null);for(let{label:s}of n){e[s[0]]=!0;for(let l=1;l<s.length;l++)t[s[l]]=!0}let i=QM(e)+QM(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function r1e(n){let e=n.map(s=>typeof s=="string"?{label:s}:s),[t,i]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:l1e(e);return s=>{let l=s.matchBefore(i);return l||s.explicit?{from:l?l.from:s.pos,options:e,validFor:t}:null}}function ESe(n,e){return t=>{for(let i=Yi(t.state).resolveInner(t.pos,-1);i;i=i.parent){if(n.indexOf(i.name)>-1)return null;if(i.type.isTop)break}return e(t)}}class $M{constructor(e,t,i,s){this.completion=e,this.source=t,this.match=i,this.score=s}}function Po(n){return n.selection.main.from}function Y9(n,e){var t;let{source:i}=n,s=e&&i[0]!="^",l=i[i.length-1]!="$";return!s&&!l?n:new RegExp(`${s?"^":""}(?:${i})${l?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const G9=lo.define();function o1e(n,e,t,i){let{main:s}=n.selection,l=t-s.from,r=i-s.from;return Object.assign(Object.assign({},n.changeByRange(o=>o!=s&&t!=i&&n.sliceDoc(o.from+l,o.from+r)!=n.sliceDoc(t,i)?{range:o}:{changes:{from:o.from+l,to:i==s.from?o.to:o.from+r,insert:e},range:He.cursor(o.from+l+e.length)})),{userEvent:"input.complete"})}const eT=new WeakMap;function a1e(n){if(!Array.isArray(n))return n;let e=eT.get(n);return e||eT.set(n,e=r1e(n)),e}const Jy=Wt.define(),yd=Wt.define();class f1e{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let i=es(e,t),s=rl(i);this.chars.push(i);let l=e.slice(t,t+s),r=l.toUpperCase();this.folded.push(es(r==l?l.toLowerCase():r,0)),t+=s}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[-100];if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:s,precise:l,byWord:r}=this;if(t.length==1){let w=es(e,0),A=rl(w),M=A==e.length?0:-100;if(w!=t[0])if(w==i[0])M+=-200;else return null;return[M,0,A]}let o=e.indexOf(this.pattern);if(o==0)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let a=t.length,f=0;if(o<0){for(let w=0,A=Math.min(e.length,200);w<A&&f<a;){let M=es(e,w);(M==t[f]||M==i[f])&&(s[f++]=w),w+=rl(M)}if(f<a)return null}let u=0,d=0,h=!1,p=0,g=-1,b=-1,_=/[a-z]/.test(e),y=!0;for(let w=0,A=Math.min(e.length,200),M=0;w<A&&d<a;){let T=es(e,w);o<0&&(u<a&&T==t[u]&&(l[u++]=w),p<a&&(T==t[p]||T==i[p]?(p==0&&(g=w),b=w+1,p++):p=0));let O,E=T<255?T>=48&&T<=57||T>=97&&T<=122?2:T>=65&&T<=90?1:0:(O=gy(T))!=O.toLowerCase()?1:O!=O.toUpperCase()?2:0;(!w||E==1&&_||M==0&&E!=0)&&(t[d]==T||i[d]==T&&(h=!0)?r[d++]=w:r.length&&(y=!1)),M=E,w+=rl(T)}return d==a&&r[0]==0&&y?this.result(-100+(h?-200:0),r,e):p==a&&g==0?[-200-e.length+(b==e.length?0:-100),0,b]:o>-1?[-700-e.length,o,o+this.pattern.length]:p==a?[-200+-700-e.length,g,b]:d==a?this.result(-100+(h?-200:0)+-700+(y?0:-1100),r,e):t.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,t,i){let s=[e-i.length],l=1;for(let r of t){let o=r+(this.astral?rl(es(i,r)):1);l>1&&s[l-1]==r?s[l-1]=o:(s[l++]=r,s[l++]=o)}return s}}const Ds=_t.define({combine(n){return Sl(n,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:u1e,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>tT(e(i),t(i)),optionClass:(e,t)=>i=>tT(e(i),t(i)),addToOptions:(e,t)=>e.concat(t)})}});function tT(n,e){return n?e?n+" "+e:n:e}function u1e(n,e,t,i,s){let l=n.textDirection==ui.RTL,r=l,o=!1,a="top",f,u,d=e.left-s.left,h=s.right-e.right,p=i.right-i.left,g=i.bottom-i.top;if(r&&d<Math.min(p,h)?r=!1:!r&&h<Math.min(p,d)&&(r=!0),p<=(r?d:h))f=Math.max(s.top,Math.min(t.top,s.bottom-g))-e.top,u=Math.min(400,r?d:h);else{o=!0,u=Math.min(400,(l?e.right:s.right-e.left)-30);let b=s.bottom-e.bottom;b>=g||b>e.top?f=t.bottom-e.top:(a="bottom",f=e.bottom-t.top)}return{style:`${a}: ${f}px; max-width: ${u}px`,class:"cm-completionInfo-"+(o?l?"left-narrow":"right-narrow":r?"left":"right")}}function c1e(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,s){let l=document.createElement("span");l.className="cm-completionLabel";let{label:r}=t,o=0;for(let a=1;a<s.length;){let f=s[a++],u=s[a++];f>o&&l.appendChild(document.createTextNode(r.slice(o,f)));let d=l.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(r.slice(f,u))),d.className="cm-completionMatchedText",o=u}return o<r.length&&l.appendChild(document.createTextNode(r.slice(o))),l},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function nT(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let s=Math.floor(e/t);return{from:s*t,to:(s+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class d1e{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:a=>this.placeInfo(a),key:this},this.space=null,this.currentClass="";let s=e.state.field(t),{options:l,selected:r}=s.open,o=e.state.facet(Ds);this.optionContent=c1e(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=nT(l.length,r,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{for(let f=a.target,u;f&&f!=this.dom;f=f.parentNode)if(f.nodeName=="LI"&&(u=/-(\d+)$/.exec(f.id))&&+u[1]<l.length){this.applyCompletion(e,l[+u[1]]),a.preventDefault();return}}),this.dom.addEventListener("focusout",a=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(Ds).closeOnBlur&&a.relatedTarget!=e.contentDOM&&e.dispatch({effects:yd.of(null)})}),this.list=this.dom.appendChild(this.createListBox(l,s.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(e){var t,i,s;let l=e.state.field(this.stateField),r=e.startState.field(this.stateField);this.updateTooltipClass(e.state),l!=r&&(this.updateSel(),((t=l.open)===null||t===void 0?void 0:t.disabled)!=((i=r.open)===null||i===void 0?void 0:i.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((s=l.open)===null||s===void 0)&&s.disabled)))}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=nT(t.options.length,t.selected,this.view.state.facet(Ds).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:s}=i;if(!s)return;let l=typeof s=="string"?document.createTextNode(s):s(i);if(!l)return;"then"in l?l.then(r=>{r&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(r,i)}).catch(r=>Ys(this.view.state,r,"completion info")):this.addInfoPane(l,i)}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:s,destroy:l}=e;i.appendChild(s),this.infoDestroy=l||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,s=this.range.from;i;i=i.nextSibling,s++)i.nodeName!="LI"||!i.id?s--:s==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&p1e(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),l=this.space;if(!l){let r=this.dom.ownerDocument.defaultView||window;l={left:0,top:0,right:r.innerWidth,bottom:r.innerHeight}}return s.top>Math.min(l.bottom,t.bottom)-10||s.bottom<Math.max(l.top,t.top)+10?null:this.view.state.facet(Ds).positionInfo(this.view,t,s,i,l)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const s=document.createElement("ul");s.id=t,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions"));let l=null;for(let r=i.from;r<i.to;r++){let{completion:o,match:a}=e[r],{section:f}=o;if(f){let h=typeof f=="string"?f:f.name;if(h!=l&&(r>i.from||i.from==0))if(l=h,typeof f!="string"&&f.header)s.appendChild(f.header(f));else{let p=s.appendChild(document.createElement("completion-section"));p.textContent=h}}const u=s.appendChild(document.createElement("li"));u.id=t+"-"+r,u.setAttribute("role","option");let d=this.optionClass(o);d&&(u.className=d);for(let h of this.optionContent){let p=h(o,this.view.state,a);p&&u.appendChild(p)}}return i.from&&s.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function h1e(n,e){return t=>new d1e(t,n,e)}function p1e(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<t.top?n.scrollTop-=t.top-i.top:i.bottom>t.bottom&&(n.scrollTop+=i.bottom-t.bottom)}function iT(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function m1e(n,e){let t=[],i=null,s=a=>{t.push(a);let{section:f}=a.completion;if(f){i||(i=[]);let u=typeof f=="string"?f:f.name;i.some(d=>d.name==u)||i.push(typeof f=="string"?{name:u}:f)}};for(let a of n)if(a.hasResult())if(a.result.filter===!1){let f=a.result.getMatch;for(let u of a.result.options){let d=[1e9-t.length];if(f)for(let h of f(u))d.push(h);s(new $M(u,a.source,d,d[0]))}}else{let f=new f1e(e.sliceDoc(a.from,a.to)),u;for(let d of a.result.options)(u=f.match(d.label))&&s(new $M(d,a.source,u,u[0]+(d.boost||0)))}if(i){let a=Object.create(null),f=0,u=(d,h)=>{var p,g;return((p=d.rank)!==null&&p!==void 0?p:1e9)-((g=h.rank)!==null&&g!==void 0?g:1e9)||(d.name<h.name?-1:1)};for(let d of i.sort(u))f-=1e5,a[d.name]=f;for(let d of t){let{section:h}=d.completion;h&&(d.score+=a[typeof h=="string"?h:h.name])}}let l=[],r=null,o=e.facet(Ds).compareCompletions;for(let a of t.sort((f,u)=>u.score-f.score||o(f.completion,u.completion))){let f=a.completion;!r||r.label!=f.label||r.detail!=f.detail||r.type!=null&&f.type!=null&&r.type!=f.type||r.apply!=f.apply||r.boost!=f.boost?l.push(a):iT(a.completion)>iT(r)&&(l[l.length-1]=a),r=a.completion}return l}class Af{constructor(e,t,i,s,l,r){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=s,this.selected=l,this.disabled=r}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Af(this.options,sT(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,s,l){let r=m1e(e,t);if(!r.length)return s&&e.some(a=>a.state==1)?new Af(s.options,s.attrs,s.tooltip,s.timestamp,s.selected,!0):null;let o=t.facet(Ds).selectOnOpen?0:-1;if(s&&s.selected!=o&&s.selected!=-1){let a=s.options[s.selected].completion;for(let f=0;f<r.length;f++)if(r[f].completion==a){o=f;break}}return new Af(r,sT(i,o),{pos:e.reduce((a,f)=>f.hasResult()?Math.min(a,f.from):a,1e8),create:h1e(Ws,Q9),above:l.aboveCursor},s?s.timestamp:Date.now(),o,!1)}map(e){return new Af(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Hm{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new Hm(_1e,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(Ds),l=(i.override||t.languageDataAt("autocomplete",Po(t)).map(a1e)).map(o=>(this.active.find(f=>f.source==o)||new Ms(o,this.active.some(f=>f.state!=0)?1:0)).update(e,i));l.length==this.active.length&&l.every((o,a)=>o==this.active[a])&&(l=this.active);let r=this.open;r&&e.docChanged&&(r=r.map(e.changes)),e.selection||l.some(o=>o.hasResult()&&e.changes.touchesRange(o.from,o.to))||!g1e(l,this.active)?r=Af.build(l,t,this.id,r,i):r&&r.disabled&&!l.some(o=>o.state==1)&&(r=null),!r&&l.every(o=>o.state!=1)&&l.some(o=>o.hasResult())&&(l=l.map(o=>o.hasResult()?new Ms(o.source,0):o));for(let o of e.effects)o.is(Z9)&&(r=r&&r.setSelected(o.value,this.id));return l==this.active&&r==this.open?this:new Hm(l,this.id,r)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:b1e}}function g1e(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;i<e.length&&!e[i].hasResult;)i++;let s=t==n.length,l=i==e.length;if(s||l)return s==l;if(n[t++].result!=e[i++].result)return!1}}const b1e={"aria-autocomplete":"list"};function sT(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const _1e=[];function D_(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class Ms{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=D_(e),s=this;i?s=s.handleUserEvent(e,i,t):e.docChanged?s=s.handleChange(e):e.selection&&s.state!=0&&(s=new Ms(s.source,0));for(let l of e.effects)if(l.is(Jy))s=new Ms(s.source,1,l.value?Po(e.state):-1);else if(l.is(yd))s=new Ms(s.source,0);else if(l.is(X9))for(let r of l.value)r.source==s.source&&(s=r);return s}handleUserEvent(e,t,i){return t=="delete"||!i.activateOnTyping?this.map(e.changes):new Ms(this.source,1)}handleChange(e){return e.changes.touchesRange(Po(e.startState))?new Ms(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Ms(this.source,this.state,e.mapPos(this.explicitPos))}}class Jf extends Ms{constructor(e,t,i,s,l){super(e,2,t),this.result=i,this.from=s,this.to=l}hasResult(){return!0}handleUserEvent(e,t,i){var s;let l=e.changes.mapPos(this.from),r=e.changes.mapPos(this.to,1),o=Po(e.state);if((this.explicitPos<0?o<=l:o<this.from)||o>r||t=="delete"&&Po(e.startState)==this.from)return new Ms(this.source,t=="input"&&i.activateOnTyping?1:0);let a=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),f;return y1e(this.result.validFor,e.state,l,r)?new Jf(this.source,a,this.result,l,r):this.result.update&&(f=this.result.update(this.result,l,r,new x9(e.state,o,a>=0)))?new Jf(this.source,a,f,f.from,(s=f.to)!==null&&s!==void 0?s:Po(e.state)):new Ms(this.source,1,a)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Ms(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Jf(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function y1e(n,e,t,i){if(!n)return!1;let s=e.sliceDoc(t,i);return typeof n=="function"?n(s,t,i,e):Y9(n,!0).test(s)}const X9=Wt.define({map(n,e){return n.map(t=>t.map(e))}}),Z9=Wt.define(),Ws=Bi.define({create(){return Hm.start()},update(n,e){return n.update(e)},provide:n=>[Wg.from(n,e=>e.tooltip),mt.contentAttributes.from(n,e=>e.attrs)]});function Q9(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(Ws).active.find(s=>s.source==e.source);return i instanceof Jf?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},o1e(n.state,t,i.from,i.to)),{annotations:G9.of(e.completion)})):t(n,e.completion,i.from,i.to),!0):!1}function np(n,e="option"){return t=>{let i=t.state.field(Ws,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(Ds).interactionDelay)return!1;let s=1,l;e=="page"&&(l=CN(t,i.open.tooltip))&&(s=Math.max(2,Math.floor(l.dom.offsetHeight/l.dom.querySelector("li").offsetHeight)-1));let{length:r}=i.open.options,o=i.open.selected>-1?i.open.selected+s*(n?1:-1):n?0:r-1;return o<0?o=e=="page"?0:r-1:o>=r&&(o=e=="page"?r-1:0),t.dispatch({effects:Z9.of(o)}),!0}}const v1e=n=>{let e=n.state.field(Ws,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Ds).interactionDelay?!1:Q9(n,e.open.options[e.open.selected])},k1e=n=>n.state.field(Ws,!1)?(n.dispatch({effects:Jy.of(!0)}),!0):!1,w1e=n=>{let e=n.state.field(Ws,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:yd.of(null)}),!0)};class S1e{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const lT=50,C1e=50,M1e=1e3,T1e=vi.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(Ws).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(Ws);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Ws)==e)return;let t=n.transactions.some(i=>(i.selection||i.docChanged)&&!D_(i));for(let i=0;i<this.running.length;i++){let s=this.running[i];if(t||s.updates.length+n.transactions.length>C1e&&Date.now()-s.time>M1e){for(let l of s.context.abortListeners)try{l()}catch(r){Ys(this.view.state,r)}s.context.abortListeners=null,this.running.splice(i--,1)}else s.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(s=>s.active.source==i.source))?setTimeout(()=>this.startUpdate(),lT):-1,this.composing!=0)for(let i of n.transactions)D_(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(Ws);for(let t of e.active)t.state==1&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=Po(e),i=new x9(e,t,n.explicitPos==t),s=new S1e(n,i);this.running.push(s),Promise.resolve(n.source(i)).then(l=>{s.context.aborted||(s.done=l||null,this.scheduleAccept())},l=>{this.view.dispatch({effects:yd.of(null)}),Ys(this.view.state,l)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),lT))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Ds);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let r=new Jf(s.active.source,s.active.explicitPos,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:Po(s.updates.length?s.updates[0].startState:this.view.state));for(let o of s.updates)r=r.update(o,t);if(r.hasResult()){e.push(r);continue}}let l=this.view.state.field(Ws).active.find(r=>r.source==s.active.source);if(l&&l.state==1)if(s.done==null){let r=new Ms(s.active.source,0);for(let o of s.updates)r=r.update(o,t);r.state!=1&&e.push(r)}else this.startQuery(l)}e.length&&this.view.dispatch({effects:X9.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Ws,!1);if(e&&e.tooltip&&this.view.state.facet(Ds).closeOnBlur){let t=e.open&&CN(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&this.view.dispatch({effects:yd.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Jy.of(!1)}),20),this.composing=0}}}),$9=mt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class A1e{constructor(e,t,i,s){this.field=e,this.line=t,this.from=i,this.to=s}}class xy{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,ns.TrackDel),i=e.mapPos(this.to,1,ns.TrackDel);return t==null||i==null?null:new xy(this.field,t,i)}}class Yy{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],s=[t],l=e.doc.lineAt(t),r=/^\s*/.exec(l.text)[0];for(let a of this.lines){if(i.length){let f=r,u=/^\t*/.exec(a)[0].length;for(let d=0;d<u;d++)f+=e.facet(Gd);s.push(t+f.length-u),a=f+a.slice(u)}i.push(a),t+=a.length+1}let o=this.fieldPositions.map(a=>new xy(a.field,s[a.line]+a.from,s[a.line]+a.to));return{text:i,ranges:o}}static parse(e){let t=[],i=[],s=[],l;for(let r of e.split(/\r\n?|\n/)){for(;l=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(r);){let o=l[1]?+l[1]:null,a=l[2]||l[3]||"",f=-1;for(let u=0;u<t.length;u++)(o!=null?t[u].seq==o:a&&t[u].name==a)&&(f=u);if(f<0){let u=0;for(;u<t.length&&(o==null||t[u].seq!=null&&t[u].seq<o);)u++;t.splice(u,0,{seq:o,name:a}),f=u;for(let d of s)d.field>=f&&d.field++}s.push(new A1e(f,i.length,l.index,l.index+a.length)),r=r.slice(0,l.index)+a+r.slice(l.index+l[0].length)}for(let o;o=/\\([{}])/.exec(r);){r=r.slice(0,o.index)+o[1]+r.slice(o.index+o[0].length);for(let a of s)a.line==i.length&&a.from>o.index&&(a.from--,a.to--)}i.push(r)}return new Yy(i,s)}}let O1e=wt.widget({widget:new class extends Tr{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),E1e=wt.mark({class:"cm-snippetField"});class Vu{constructor(e,t){this.ranges=e,this.active=t,this.deco=wt.set(e.map(i=>(i.from==i.to?O1e:E1e).range(i.from,i.to)))}map(e){let t=[];for(let i of this.ranges){let s=i.map(e);if(!s)return null;t.push(s)}return new Vu(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const $d=Wt.define({map(n,e){return n&&n.map(e)}}),P1e=Wt.define(),vd=Bi.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is($d))return t.value;if(t.is(P1e)&&n)return new Vu(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>mt.decorations.from(n,e=>e?e.deco:wt.none)});function Gy(n,e){return He.create(n.filter(t=>t.field==e).map(t=>He.range(t.from,t.to)))}function D1e(n){let e=Yy.parse(n);return(t,i,s,l)=>{let{text:r,ranges:o}=e.instantiate(t.state,s),a={changes:{from:s,to:l,insert:wn.of(r)},scrollIntoView:!0,annotations:i?G9.of(i):void 0};if(o.length&&(a.selection=Gy(o,0)),o.length>1){let f=new Vu(o,0),u=a.effects=[$d.of(f)];t.state.field(vd,!1)===void 0&&u.push(Wt.appendConfig.of([vd,F1e,j1e,$9]))}t.dispatch(t.state.update(a))}}function eL(n){return({state:e,dispatch:t})=>{let i=e.field(vd,!1);if(!i||n<0&&i.active==0)return!1;let s=i.active+n,l=n>0&&!i.ranges.some(r=>r.field==s+n);return t(e.update({selection:Gy(i.ranges,s),effects:$d.of(l?null:new Vu(i.ranges,s))})),!0}}const I1e=({state:n,dispatch:e})=>n.field(vd,!1)?(e(n.update({effects:$d.of(null)})),!0):!1,R1e=eL(1),N1e=eL(-1),L1e=[{key:"Tab",run:R1e,shift:N1e},{key:"Escape",run:I1e}],rT=_t.define({combine(n){return n.length?n[0]:L1e}}),F1e=ef.highest(xd.compute([rT],n=>n.facet(rT)));function PSe(n,e){return Object.assign(Object.assign({},e),{apply:D1e(n)})}const j1e=mt.domEventHandlers({mousedown(n,e){let t=e.state.field(vd,!1),i;if(!t||(i=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let s=t.ranges.find(l=>l.from<=i&&l.to>=i);return!s||s.field==t.active?!1:(e.dispatch({selection:Gy(t.ranges,s.field),effects:$d.of(t.ranges.some(l=>l.field>s.field)?new Vu(t.ranges,s.field):null)}),!0)}}),kd={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Ca=Wt.define({map(n,e){let t=e.mapPos(n,-1,ns.TrackAfter);return t??void 0}}),Xy=new class extends Ua{};Xy.startSide=1;Xy.endSide=-1;const tL=Bi.define({create(){return En.empty},update(n,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,i=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(i,-1)&&(n=En.empty)}n=n.map(e.changes);for(let t of e.effects)t.is(Ca)&&(n=n.update({add:[Xy.range(t.value,t.value+1)]}));return n}});function B1e(){return[z1e,tL]}const S0="()[]{}<>";function nL(n){for(let e=0;e<S0.length;e+=2)if(S0.charCodeAt(e)==n)return S0.charAt(e+1);return gy(n<128?n:n+1)}function iL(n,e){return n.languageDataAt("closeBrackets",e)[0]||kd}const V1e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),z1e=mt.inputHandler.of((n,e,t,i)=>{if((V1e?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let s=n.state.selection.main;if(i.length>2||i.length==2&&rl(es(i,0))==1||e!=s.from||t!=s.to)return!1;let l=W1e(n.state,i);return l?(n.dispatch(l),!0):!1}),H1e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=iL(n,n.selection.main.head).brackets||kd.brackets,s=null,l=n.changeByRange(r=>{if(r.empty){let o=U1e(n.doc,r.head);for(let a of i)if(a==o&&Qg(n.doc,r.head)==nL(es(a,0)))return{changes:{from:r.head-a.length,to:r.head+a.length},range:He.cursor(r.head-a.length)}}return{range:s=r}});return s||e(n.update(l,{scrollIntoView:!0,userEvent:"delete.backward"})),!s},q1e=[{key:"Backspace",run:H1e}];function W1e(n,e){let t=iL(n,n.selection.main.head),i=t.brackets||kd.brackets;for(let s of i){let l=nL(es(s,0));if(e==s)return l==s?x1e(n,s,i.indexOf(s+s+s)>-1,t):K1e(n,s,l,t.before||kd.before);if(e==l&&sL(n,n.selection.main.from))return J1e(n,s,l)}return null}function sL(n,e){let t=!1;return n.field(tL).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function Qg(n,e){let t=n.sliceString(e,e+2);return t.slice(0,rl(es(t,0)))}function U1e(n,e){let t=n.sliceString(e-2,e);return rl(es(t,0))==t.length?t:t.slice(1)}function K1e(n,e,t,i){let s=null,l=n.changeByRange(r=>{if(!r.empty)return{changes:[{insert:e,from:r.from},{insert:t,from:r.to}],effects:Ca.of(r.to+e.length),range:He.range(r.anchor+e.length,r.head+e.length)};let o=Qg(n.doc,r.head);return!o||/\s/.test(o)||i.indexOf(o)>-1?{changes:{insert:e+t,from:r.head},effects:Ca.of(r.head+e.length),range:He.cursor(r.head+e.length)}:{range:s=r}});return s?null:n.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function J1e(n,e,t){let i=null,s=n.changeByRange(l=>l.empty&&Qg(n.doc,l.head)==t?{changes:{from:l.head,to:l.head+t.length,insert:t},range:He.cursor(l.head+t.length)}:i={range:l});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function x1e(n,e,t,i){let s=i.stringPrefixes||kd.stringPrefixes,l=null,r=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:Ca.of(o.to+e.length),range:He.range(o.anchor+e.length,o.head+e.length)};let a=o.head,f=Qg(n.doc,a),u;if(f==e){if(oT(n,a))return{changes:{insert:e+e,from:a},effects:Ca.of(a+e.length),range:He.cursor(a+e.length)};if(sL(n,a)){let h=t&&n.sliceDoc(a,a+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:a,to:a+h.length,insert:h},range:He.cursor(a+h.length)}}}else{if(t&&n.sliceDoc(a-2*e.length,a)==e+e&&(u=aT(n,a-2*e.length,s))>-1&&oT(n,u))return{changes:{insert:e+e+e+e,from:a},effects:Ca.of(a+e.length),range:He.cursor(a+e.length)};if(n.charCategorizer(a)(f)!=ni.Word&&aT(n,a,s)>-1&&!Y1e(n,a,e,s))return{changes:{insert:e+e,from:a},effects:Ca.of(a+e.length),range:He.cursor(a+e.length)}}return{range:l=o}});return l?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function oT(n,e){let t=Yi(n).resolveInner(e+1);return t.parent&&t.from==e}function Y1e(n,e,t,i){let s=Yi(n).resolveInner(e,-1),l=i.reduce((r,o)=>Math.max(r,o.length),0);for(let r=0;r<5;r++){let o=n.sliceDoc(s.from,Math.min(s.to,s.from+t.length+l)),a=o.indexOf(t);if(!a||a>-1&&i.indexOf(o.slice(0,a))>-1){let u=s.firstChild;for(;u&&u.from==s.from&&u.to-u.from>t.length+a;){if(n.sliceDoc(u.to-t.length,u.to)==t)return!1;u=u.firstChild}return!0}let f=s.to==e&&s.parent;if(!f)break;s=f}return!1}function aT(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=ni.Word)return e;for(let s of t){let l=e-s.length;if(n.sliceDoc(l,e)==s&&i(n.sliceDoc(l-1,l))!=ni.Word)return l}return-1}function G1e(n={}){return[Ws,Ds.of(n),T1e,X1e,$9]}const lL=[{key:"Ctrl-Space",run:k1e},{key:"Escape",run:w1e},{key:"ArrowDown",run:np(!0)},{key:"ArrowUp",run:np(!1)},{key:"PageDown",run:np(!0,"page")},{key:"PageUp",run:np(!1,"page")},{key:"Enter",run:v1e}],X1e=ef.highest(xd.computeN([Ds],n=>n.facet(Ds).defaultKeymap?[lL]:[]));class Z1e{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class ya{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let s=e,l=i.facet(Ma).markerFilter;l&&(s=l(s));let r=wt.set(s.map(o=>o.from==o.to||o.from==o.to-1&&i.doc.lineAt(o.from).to==o.from?wt.widget({widget:new r0e(o),diagnostic:o}).range(o.from):wt.mark({attributes:{class:"cm-lintRange cm-lintRange-"+o.severity},diagnostic:o}).range(o.from,o.to)),!0);return new ya(r,t,Cu(r))}}function Cu(n,e=null,t=0){let i=null;return n.between(t,1e9,(s,l,{spec:r})=>{if(!(e&&r.diagnostic!=e))return i=new Z1e(s,l,r.diagnostic),!1}),i}function rL(n,e){let t=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(i=>i.is($g))||n.changes.touchesRange(t.from,t.to))}function oL(n,e){return n.field(Js,!1)?e:e.concat(Wt.appendConfig.of(pL))}function Q1e(n,e){return{effects:oL(n,[$g.of(e)])}}const $g=Wt.define(),Zy=Wt.define(),aL=Wt.define(),Js=Bi.define({create(){return new ya(wt.none,null,null)},update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),i=null;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);i=Cu(t,n.selected.diagnostic,s)||Cu(t,null,s)}n=new ya(t,n.panel,i)}for(let t of e.effects)t.is($g)?n=ya.init(t.value,n.panel,e.state):t.is(Zy)?n=new ya(n.diagnostics,t.value?e1.open:null,n.selected):t.is(aL)&&(n=new ya(n.diagnostics,n.panel,t.value));return n},provide:n=>[pd.from(n,e=>e.panel),mt.decorations.from(n,e=>e.diagnostics)]}),$1e=wt.mark({class:"cm-lintRange cm-lintRange-active"});function e0e(n,e,t){let{diagnostics:i}=n.state.field(Js),s=[],l=2e8,r=0;i.between(e-(t<0?1:0),e+(t>0?1:0),(a,f,{spec:u})=>{e>=a&&e<=f&&(a==f||(e>a||t>0)&&(e<f||t<0))&&(s.push(u.diagnostic),l=Math.min(a,l),r=Math.max(f,r))});let o=n.state.facet(Ma).tooltipFilter;return o&&(s=o(s)),s.length?{pos:l,end:r,above:n.state.doc.lineAt(l).to<r,create(){return{dom:fL(n,s)}}}:null}function fL(n,e){return xn("ul",{class:"cm-tooltip-lint"},e.map(t=>cL(n,t,!1)))}const t0e=n=>{let e=n.state.field(Js,!1);(!e||!e.panel)&&n.dispatch({effects:oL(n.state,[Zy.of(!0)])});let t=hd(n,e1.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},fT=n=>{let e=n.state.field(Js,!1);return!e||!e.panel?!1:(n.dispatch({effects:Zy.of(!1)}),!0)},n0e=n=>{let e=n.state.field(Js,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},i0e=[{key:"Mod-Shift-m",run:t0e,preventDefault:!0},{key:"F8",run:n0e}],s0e=vi.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(Ma);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let n=Date.now();if(n<this.lintTime-10)setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(Ma);Promise.all(t.map(i=>Promise.resolve(i(this.view)))).then(i=>{let s=i.reduce((l,r)=>l.concat(r));this.view.state.doc==e.doc&&this.view.dispatch(Q1e(this.view.state,s))},i=>{Ys(this.view.state,i)})}}update(n){let e=n.state.facet(Ma);(n.docChanged||e!=n.startState.facet(Ma)||e.needsRefresh&&e.needsRefresh(n))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),Ma=_t.define({combine(n){return Object.assign({sources:n.map(e=>e.source)},Sl(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t}))}});function l0e(n,e={}){return[Ma.of({source:n,config:e}),s0e,pL]}function uL(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let s=t[i];if(/[a-zA-Z]/.test(s)&&!e.some(l=>l.toLowerCase()==s.toLowerCase())){e.push(s);continue e}}e.push("")}return e}function cL(n,e,t){var i;let s=t?uL(e.actions):[];return xn("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},xn("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(i=e.actions)===null||i===void 0?void 0:i.map((l,r)=>{let o=!1,a=h=>{if(h.preventDefault(),o)return;o=!0;let p=Cu(n.state.field(Js).diagnostics,e);p&&l.apply(n,p.from,p.to)},{name:f}=l,u=s[r]?f.indexOf(s[r]):-1,d=u<0?f:[f.slice(0,u),xn("u",f.slice(u,u+1)),f.slice(u+1)];return xn("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":` Action: ${f}${u<0?"":` (access key "${s[r]})"`}.`},d)}),e.source&&xn("div",{class:"cm-diagnosticSource"},e.source))}class r0e extends Tr{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return xn("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class uT{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=cL(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class e1{constructor(e){this.view=e,this.items=[];let t=s=>{if(s.keyCode==27)fT(this.view),this.view.focus();else if(s.keyCode==38||s.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(s.keyCode==40||s.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(s.keyCode==36)this.moveSelection(0);else if(s.keyCode==35)this.moveSelection(this.items.length-1);else if(s.keyCode==13)this.view.focus();else if(s.keyCode>=65&&s.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:l}=this.items[this.selectedIndex],r=uL(l.actions);for(let o=0;o<r.length;o++)if(r[o].toUpperCase().charCodeAt(0)==s.keyCode){let a=Cu(this.view.state.field(Js).diagnostics,l);a&&l.actions[o].apply(e,a.from,a.to)}}else return;s.preventDefault()},i=s=>{for(let l=0;l<this.items.length;l++)this.items[l].dom.contains(s.target)&&this.moveSelection(l)};this.list=xn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=xn("div",{class:"cm-panel-lint"},this.list,xn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>fT(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Js).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Js),i=0,s=!1,l=null;for(e.between(0,this.view.state.doc.length,(r,o,{spec:a})=>{let f=-1,u;for(let d=i;d<this.items.length;d++)if(this.items[d].diagnostic==a.diagnostic){f=d;break}f<0?(u=new uT(this.view,a.diagnostic),this.items.splice(i,0,u),s=!0):(u=this.items[f],f>i&&(this.items.splice(i,f-i),s=!0)),t&&u.diagnostic==t.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),l=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s=!0,this.items.pop();this.items.length==0&&(this.items.push(new uT(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s=!0),l?(this.list.setAttribute("aria-activedescendant",l.id),this.view.requestMeasure({key:this,read:()=>({sel:l.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:r,panel:o})=>{r.top<o.top?this.list.scrollTop-=o.top-r.top:r.bottom>o.bottom&&(this.list.scrollTop+=r.bottom-o.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Js),i=Cu(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:aL.of(i)})}static open(e){return new e1(e)}}function Sp(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function C0(n){return Sp(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const o0e=mt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:C0("#d11")},".cm-lintRange-warning":{backgroundImage:C0("orange")},".cm-lintRange-info":{backgroundImage:C0("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class a0e extends Sr{constructor(e){super(),this.diagnostics=e,this.severity=e.reduce((t,i)=>{let s=i.severity;return s=="error"||s=="warning"&&t=="info"?s:t},"info")}toDOM(e){let t=document.createElement("div");t.className="cm-lint-marker cm-lint-marker-"+this.severity;let i=this.diagnostics,s=e.state.facet(t1).tooltipFilter;return s&&(i=s(i)),i.length&&(t.onmouseover=()=>u0e(e,t,i)),t}}function f0e(n,e){let t=i=>{let s=e.getBoundingClientRect();if(!(i.clientX>s.left-10&&i.clientX<s.right+10&&i.clientY>s.top-10&&i.clientY<s.bottom+10)){for(let l=i.target;l;l=l.parentNode)if(l.nodeType==1&&l.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",t),n.state.field(hL)&&n.dispatch({effects:Qy.of(null)})}};window.addEventListener("mousemove",t)}function u0e(n,e,t){function i(){let r=n.elementAtHeight(e.getBoundingClientRect().top+5-n.documentTop);n.coordsAtPos(r.from)&&n.dispatch({effects:Qy.of({pos:r.from,above:!1,create(){return{dom:fL(n,t),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,f0e(n,e)}let{hoverTime:s}=n.state.facet(t1),l=setTimeout(i,s);e.onmouseout=()=>{clearTimeout(l),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(l),l=setTimeout(i,s)}}function c0e(n,e){let t=Object.create(null);for(let s of e){let l=n.lineAt(s.from);(t[l.from]||(t[l.from]=[])).push(s)}let i=[];for(let s in t)i.push(new a0e(t[s]).range(+s));return En.of(i,!0)}const d0e=TN({class:"cm-gutter-lint",markers:n=>n.state.field(dL)}),dL=Bi.define({create(){return En.empty},update(n,e){n=n.map(e.changes);let t=e.state.facet(t1).markerFilter;for(let i of e.effects)if(i.is($g)){let s=i.value;t&&(s=t(s||[])),n=c0e(e.state.doc,s.slice(0))}return n}}),Qy=Wt.define(),hL=Bi.define({create(){return null},update(n,e){return n&&e.docChanged&&(n=rL(e,n)?null:Object.assign(Object.assign({},n),{pos:e.changes.mapPos(n.pos)})),e.effects.reduce((t,i)=>i.is(Qy)?i.value:t,n)},provide:n=>Wg.from(n)}),h0e=mt.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:Sp('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:Sp('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:Sp('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),pL=[Js,mt.decorations.compute([Js],n=>{let{selected:e,panel:t}=n.field(Js);return!e||!t||e.from==e.to?wt.none:wt.set([$1e.range(e.from,e.to)])}),Xhe(e0e,{hideOn:rL}),o0e],t1=_t.define({combine(n){return Sl(n,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function p0e(n={}){return[t1.of(n),dL,d0e,h0e,hL]}const m0e=(()=>[spe(),ope(),Ahe(),Pme(),Qpe(),ghe(),khe(),ln.allowMultipleSelections.of(!0),Vpe(),GN(nme,{fallback:!0}),fme(),B1e(),G1e(),zhe(),Whe(),Rhe(),Fge(),xd.of([...q1e,...Pge,...n1e,...Hme,...Gpe,...lL,...i0e])])();class qm{constructor(e,t,i,s,l,r,o,a,f,u=0,d){this.p=e,this.stack=t,this.state=i,this.reducePos=s,this.pos=l,this.score=r,this.buffer=o,this.bufferBase=a,this.curContext=f,this.lookAhead=u,this.parent=d}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let s=e.parser.context;return new qm(e,[],t,i,i,0,[],0,s?new cT(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,s=e&65535,{parser:l}=this.p,r=l.dynamicPrecedence(s);if(r&&(this.score+=r),i==0){this.pushState(l.getGoto(this.state,s,!0),this.reducePos),s<l.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,4,!0),this.reduceContext(s,this.reducePos);return}let o=this.stack.length-(i-1)*3-(e&262144?6:0),a=o?this.stack[o-2]:this.p.ranges[0].from,f=this.reducePos-a;f>=2e3&&!(!((t=this.p.parser.nodeSet.types[s])===null||t===void 0)&&t.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=f):this.p.lastBigReductionSize<f&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=f));let u=o?this.stack[o-1]:0,d=this.bufferBase+this.buffer.length-u;if(s<l.minRepeatTerm||e&131072){let h=l.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,a,h,d+4,!0)}if(e&262144)this.state=this.stack[o];else{let h=this.stack[o-3];this.state=l.getGoto(h,s,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(s,a)}storeNode(e,t,i,s=4,l=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let r=this,o=this.buffer.length;if(o==0&&r.parent&&(o=r.bufferBase-r.parent.bufferBase,r=r.parent),o>0&&r.buffer[o-4]==0&&r.buffer[o-1]>-1){if(t==i)return;if(r.buffer[o-2]>=t){r.buffer[o-2]=i;return}}}if(!l||this.pos==i)this.buffer.push(e,t,i,s);else{let r=this.buffer.length;if(r>0&&this.buffer[r-4]!=0)for(;r>0&&this.buffer[r-2]>i;)this.buffer[r]=this.buffer[r-4],this.buffer[r+1]=this.buffer[r-3],this.buffer[r+2]=this.buffer[r-2],this.buffer[r+3]=this.buffer[r-1],r-=4,s>4&&(s-=4);this.buffer[r]=e,this.buffer[r+1]=t,this.buffer[r+2]=i,this.buffer[r+3]=s}}shift(e,t,i){let s=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,s),t<=this.p.parser.maxNode&&this.buffer.push(t,s,i,4);else{let l=e,{parser:r}=this.p;(i>this.pos||t<=r.maxNode)&&(this.pos=i,r.stateFlag(l,1)||(this.reducePos=i)),this.pushState(l,s),this.shiftContext(t,s),t<=r.maxNode&&this.buffer.push(t,s,i,4)}}apply(e,t,i){e&65536?this.reduce(e):this.shift(e,t,i)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(t,s),this.buffer.push(i,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),s=e.bufferBase+t;for(;e&&s==e.bufferBase;)e=e.parent;return new qm(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new g0e(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let s=[];for(let l=0,r;l<t.length;l+=2)(r=t[l+1])!=this.state&&this.p.parser.hasAction(r,e)&&s.push(t[l],r);if(this.stack.length<120)for(let l=0;s.length<8&&l<t.length;l+=2){let r=t[l+1];s.some((o,a)=>a&1&&o==r)||s.push(t[l],r)}t=s}let i=[];for(let s=0;s<t.length&&i.length<4;s+=2){let l=t[s+1];if(l==this.state)continue;let r=this.split();r.pushState(l,this.pos),r.storeNode(0,r.pos,r.pos,4,!0),r.shiftContext(t[s],this.pos),r.score-=200,i.push(r)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let i=t>>19,s=t&65535,l=this.stack.length-i*3;if(l<0||e.getGoto(this.stack[l],s,!1)<0){let r=this.findForcedReduction();if(r==null)return!1;t=r}this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(s,l)=>{if(!t.includes(s))return t.push(s),e.allActions(s,r=>{if(!(r&393216))if(r&65536){let o=(r>>19)-l;if(o>1){let a=r&65535,f=this.stack.length-o*3;if(f>=0&&e.getGoto(this.stack[f],a,!1)>=0)return o<<19|65536|a}}else{let o=i(r,l+1);if(o!=null)return o}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new cT(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class cT{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var dT;(function(n){n[n.Insert=200]="Insert",n[n.Delete=190]="Delete",n[n.Reduce=100]="Reduce",n[n.MaxNext=4]="MaxNext",n[n.MaxInsertStackDepth=300]="MaxInsertStackDepth",n[n.DampenInsertStackDepth=120]="DampenInsertStackDepth",n[n.MinBigReduction=2e3]="MinBigReduction"})(dT||(dT={}));class g0e{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=s}}class Wm{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Wm(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Wm(this.stack,this.pos,this.index)}}function Sc(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,s=0;i<n.length;){let l=0;for(;;){let r=n.charCodeAt(i++),o=!1;if(r==126){l=65535;break}r>=92&&r--,r>=34&&r--;let a=r-32;if(a>=46&&(a-=46,o=!0),l+=a,o)break;l*=46}t?t[s++]=l:t=new e(l)}return t}class Cp{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const hT=new Cp;class b0e{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=hT,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,s=this.rangeIndex,l=this.pos+e;for(;l<i.from;){if(!s)return null;let r=this.ranges[--s];l-=i.from-r.to,i=r}for(;t<0?l>i.to:l>=i.to;){if(s==this.ranges.length-1)return null;let r=this.ranges[++s];l+=r.from-i.to,i=r}return l}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,s;if(t>=0&&t<this.chunk.length)i=this.pos+e,s=this.chunk.charCodeAt(t);else{let l=this.resolveOffset(e,1);if(l==null)return-1;if(i=l,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let r=this.rangeIndex,o=this.range;for(;o.to<=i;)o=this.ranges[++r];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-i)),s=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),s}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=hT,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let s of this.ranges){if(s.from>=t)break;s.to>e&&(i+=this.input.read(Math.max(s.from,e),Math.min(s.to,t)))}return i}}class xf{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;mL(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}xf.prototype.contextual=xf.prototype.fallback=xf.prototype.extend=!1;class _0e{constructor(e,t,i){this.precTable=t,this.elseToken=i,this.data=typeof e=="string"?Sc(e):e}token(e,t){let i=e.pos,s=0;for(;;){let l=e.resolveOffset(1,-1);if(mL(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(l==null)break;e.reset(l,e.token),s++}s&&(e.reset(i,e.token),e.acceptToken(this.elseToken,s))}}_0e.prototype.contextual=xf.prototype.fallback=xf.prototype.extend=!1;class DSe{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function mL(n,e,t,i,s,l){let r=0,o=1<<i,{dialect:a}=t.p.parser;e:for(;o&n[r];){let f=n[r+1];for(let p=r+3;p<f;p+=2)if((n[p+1]&o)>0){let g=n[p];if(a.allows(g)&&(e.token.value==-1||e.token.value==g||y0e(g,e.token.value,s,l))){e.acceptToken(g);break}}let u=e.next,d=0,h=n[r+2];if(e.next<0&&h>d&&n[f+h*3-3]==65535&&n[f+h*3-3]==65535){r=n[f+h*3-1];continue e}for(;d<h;){let p=d+h>>1,g=f+p+(p<<1),b=n[g],_=n[g+1]||65536;if(u<b)h=p;else if(u>=_)d=p+1;else{r=n[g+2],e.advance();continue e}}break}}function pT(n,e,t){for(let i=e,s;(s=n[i])!=65535;i++)if(s==t)return i-e;return-1}function y0e(n,e,t,i){let s=pT(t,i,e);return s<0||pT(t,i,n)<s}const El=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let M0=null;var mT;(function(n){n[n.Margin=25]="Margin"})(mT||(mT={}));function gT(n,e,t){let i=n.cursor(ti.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class v0e{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?gT(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?gT(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],s=this.index[t];if(s==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let l=i.children[s],r=this.start[t]+i.positions[s];if(r>e)return this.nextStart=r,null;if(l instanceof Ln){if(r==e){if(r<this.safeFrom)return null;let o=r+l.length;if(o<=this.safeTo){let a=l.prop(xt.lookAhead);if(!a||o+a<this.fragment.to)return l}}this.index[t]++,r+l.length>=Math.max(this.safeFrom,e)&&(this.trees.push(l),this.start.push(r),this.index.push(0))}else this.index[t]++,this.nextStart=r+l.length}}}class k0e{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Cp)}getActions(e){let t=0,i=null,{parser:s}=e.p,{tokenizers:l}=s,r=s.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,a=0;for(let f=0;f<l.length;f++){if(!(1<<f&r))continue;let u=l[f],d=this.tokens[f];if(!(i&&!u.fallback)&&((u.contextual||d.start!=e.pos||d.mask!=r||d.context!=o)&&(this.updateCachedToken(d,u,e),d.mask=r,d.context=o),d.lookAhead>d.end+25&&(a=Math.max(d.lookAhead,a)),d.value!=0)){let h=t;if(d.extended>-1&&(t=this.addActions(e,d.extended,d.end,t)),t=this.addActions(e,d.value,d.end,t),!u.extend&&(i=d,t>h))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),!i&&e.pos==this.stream.end&&(i=new Cp,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Cp,{pos:i,p:s}=e;return t.start=i,t.end=Math.min(i+1,s.stream.end),t.value=i==s.stream.end?s.parser.eofTerm:0,t}updateCachedToken(e,t,i){let s=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(s,e),i),e.value>-1){let{parser:l}=i.p;for(let r=0;r<l.specialized.length;r++)if(l.specialized[r]==e.value){let o=l.specializers[r](this.stream.read(e.start,e.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){o&1?e.extended=o>>1:e.value=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,t,i,s){for(let l=0;l<s;l+=3)if(this.actions[l]==e)return s;return this.actions[s++]=e,this.actions[s++]=t,this.actions[s++]=i,s}addActions(e,t,i,s){let{state:l}=e,{parser:r}=e.p,{data:o}=r;for(let a=0;a<2;a++)for(let f=r.stateSlot(l,a?2:1);;f+=3){if(o[f]==65535)if(o[f+1]==1)f=Lr(o,f+2);else{s==0&&o[f+1]==2&&(s=this.putAction(Lr(o,f+2),t,i,s));break}o[f]==t&&(s=this.putAction(Lr(o,f+1),t,i,s))}return s}}var bT;(function(n){n[n.Distance=5]="Distance",n[n.MaxRemainingPerStep=3]="MaxRemainingPerStep",n[n.MinBufferLengthPrune=500]="MinBufferLengthPrune",n[n.ForceReduceLimit=10]="ForceReduceLimit",n[n.CutDepth=15e3]="CutDepth",n[n.CutTo=9e3]="CutTo",n[n.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",n[n.MaxStackCount=12]="MaxStackCount"})(bT||(bT={}));class w0e{constructor(e,t,i,s){this.parser=e,this.input=t,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new b0e(t,s),this.tokens=new k0e(e,this.stream),this.topTerm=e.top[1];let{from:l}=s[0];this.stacks=[qm.start(this,e.top[0],l)],this.fragments=i.length&&this.stream.end-l>e.bufferLength*4?new v0e(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],s,l;if(this.bigReductionCount>300&&e.length==1){let[r]=e;for(;r.forceReduce()&&r.stack.length&&r.stack[r.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let r=0;r<e.length;r++){let o=e[r];for(;;){if(this.tokens.mainToken=null,o.pos>t)i.push(o);else{if(this.advanceStack(o,i,e))continue;{s||(s=[],l=[]),s.push(o);let a=this.tokens.getMainToken(o);l.push(a.value,a.end)}}break}}if(!i.length){let r=s&&C0e(s);if(r)return this.stackToTree(r);if(this.parser.strict)throw El&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&s){let r=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,l,i);if(r)return this.stackToTree(r.forceAll())}if(this.recovering){let r=this.recovering==1?1:this.recovering*3;if(i.length>r)for(i.sort((o,a)=>a.score-o.score);i.length>r;)i.pop();i.some(o=>o.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let r=0;r<i.length-1;r++){let o=i[r];for(let a=r+1;a<i.length;a++){let f=i[a];if(o.sameState(f)||o.buffer.length>500&&f.buffer.length>500)if((o.score-f.score||o.buffer.length-f.buffer.length)>0)i.splice(a--,1);else{i.splice(r--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let r=1;r<i.length;r++)i[r].pos<this.minStackPos&&(this.minStackPos=i[r].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let s=e.pos,{parser:l}=this,r=El?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,u=f?e.curContext.hash:0;for(let d=this.fragments.nodeAt(s);d;){let h=this.parser.nodeSet.types[d.type.id]==d.type?l.getGoto(e.state,d.type.id):-1;if(h>-1&&d.length&&(!f||(d.prop(xt.contextHash)||0)==u))return e.useNode(d,h),El&&console.log(r+this.stackID(e)+` (via reuse of ${l.getName(d.type.id)})`),!0;if(!(d instanceof Ln)||d.children.length==0||d.positions[0]>0)break;let p=d.children[0];if(p instanceof Ln&&d.positions[0]==0)d=p;else break}}let o=l.stateSlot(e.state,4);if(o>0)return e.reduce(o),El&&console.log(r+this.stackID(e)+` (via always-reduce ${l.getName(o&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let f=0;f<a.length;){let u=a[f++],d=a[f++],h=a[f++],p=f==a.length||!i,g=p?e:e.split();if(g.apply(u,d,h),El&&console.log(r+this.stackID(g)+` (via ${u&65536?`reduce of ${l.getName(u&65535)}`:"shift"} for ${l.getName(d)} @ ${s}${g==e?"":", split"})`),p)return!0;g.pos>s?t.push(g):i.push(g)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return _T(e,t),!0}}runRecovery(e,t,i){let s=null,l=!1;for(let r=0;r<e.length;r++){let o=e[r],a=t[r<<1],f=t[(r<<1)+1],u=El?this.stackID(o)+" -> ":"";if(o.deadEnd&&(l||(l=!0,o.restart(),El&&console.log(u+this.stackID(o)+" (restarted)"),this.advanceFully(o,i))))continue;let d=o.split(),h=u;for(let p=0;d.forceReduce()&&p<10&&(El&&console.log(h+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,i));p++)El&&(h=this.stackID(d)+" -> ");for(let p of o.recoverByInsert(a))El&&console.log(u+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,i);this.stream.end>o.pos?(f==o.pos&&(f++,a=0),o.recoverByDelete(a,f),El&&console.log(u+this.stackID(o)+` (via recover-delete ${this.parser.getName(a)})`),_T(o,i)):(!s||s.score<o.score)&&(s=o)}return s}stackToTree(e){return e.close(),Ln.build({buffer:Wm.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(M0||(M0=new WeakMap)).get(e);return t||M0.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function _T(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class S0e{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const T0=n=>n;class ISe{constructor(e){this.start=e.start,this.shift=e.shift||T0,this.reduce=e.reduce||T0,this.reuse=e.reuse||T0,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Um extends Py{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let o=0;o<e.repeatNodeCount;o++)t.push("");let i=Object.keys(e.topRules).map(o=>e.topRules[o][1]),s=[];for(let o=0;o<t.length;o++)s.push([]);function l(o,a,f){s[o].push([a,a.deserialize(String(f))])}if(e.nodeProps)for(let o of e.nodeProps){let a=o[0];typeof a=="string"&&(a=xt[a]);for(let f=1;f<o.length;){let u=o[f++];if(u>=0)l(u,a,o[f++]);else{let d=o[f+-u];for(let h=-u;h>0;h--)l(o[f++],a,d);f++}}}this.nodeSet=new Ug(t.map((o,a)=>gs.define({name:a>=this.minRepeatTerm?void 0:o,id:a,props:s[a],top:i.indexOf(a)>-1,error:a==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(a)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=EN;let r=Sc(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(yT),this.states=Sc(e.states,Uint32Array),this.data=Sc(e.stateData),this.goto=Sc(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new xf(r,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let s=new w0e(this,e,t,i);for(let l of this.wrappers)s=l(s,e,t,i);return s}getGoto(e,t,i=!1){let s=this.goto;if(t>=s[0])return-1;for(let l=s[t+1];;){let r=s[l++],o=r&1,a=s[l++];if(o&&i)return a;for(let f=l+(r>>1);l<f;l++)if(s[l]==e)return a;if(o)return-1}}hasAction(e,t){let i=this.data;for(let s=0;s<2;s++)for(let l=this.stateSlot(e,s?2:1),r;;l+=3){if((r=i[l])==65535)if(i[l+1]==1)r=i[l=Lr(i,l+2)];else{if(i[l+1]==2)return Lr(i,l+2);break}if(r==t||r==0)return Lr(i,l+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),s=i?t(i):void 0;for(let l=this.stateSlot(e,1);s==null;l+=3){if(this.data[l]==65535)if(this.data[l+1]==1)l=Lr(this.data,l+2);else break;s=t(Lr(this.data,l+1))}return s}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Lr(this.data,i+2);else break;if(!(this.data[i+2]&1)){let s=this.data[i+1];t.some((l,r)=>r&1&&l==s)||t.push(this.data[i],s)}}return t}configure(e){let t=Object.assign(Object.create(Um.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let s=e.tokenizers.find(l=>l.from==i);return s?s.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,s)=>{let l=e.specializers.find(o=>o.from==i.external);if(!l)return i;let r=Object.assign(Object.assign({},i),{external:l.to});return t.specializers[s]=yT(r),r})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let l of e.split(" ")){let r=t.indexOf(l);r>=0&&(i[r]=!0)}let s=null;for(let l=0;l<t.length;l++)if(!i[l])for(let r=this.dialects[t[l]],o;(o=this.data[r++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[o]=1;return new S0e(e,i,s)}static deserialize(e){return new Um(e)}}function Lr(n,e){return n[e]|n[e+1]<<16}function C0e(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function yT(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const M0e=IN({String:nt.string,Number:nt.number,"True False":nt.bool,PropertyName:nt.propertyName,Null:nt.null,",":nt.separator,"[ ]":nt.squareBracket,"{ }":nt.brace}),T0e=Um.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[M0e],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),A0e=Pm.define({name:"json",parser:T0e.configure({props:[BN.add({Object:FM({except:/^\s*\}/}),Array:FM({except:/^\s*\]/})}),HN.add({"Object Array":Hpe})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function O0e(){return new Dpe(A0e)}function vT(n){let e,t,i;return{c(){e=k("div"),t=G("Line: "),i=G(n[0]),m(e,"class","jse-status-bar-info svelte-1oo7hnc")},m(s,l){C(s,e,l),v(e,t),v(e,i)},p(s,l){l&1&&pe(i,s[0])},d(s){s&&S(e)}}}function kT(n){let e,t,i;return{c(){e=k("div"),t=G("Column: "),i=G(n[1]),m(e,"class","jse-status-bar-info svelte-1oo7hnc")},m(s,l){C(s,e,l),v(e,t),v(e,i)},p(s,l){l&2&&pe(i,s[1])},d(s){s&&S(e)}}}function wT(n){let e,t,i,s;return{c(){e=k("div"),t=G("Selection: "),i=G(n[2]),s=G(" characters"),m(e,"class","jse-status-bar-info svelte-1oo7hnc")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p(l,r){r&4&&pe(i,l[2])},d(l){l&&S(e)}}}function E0e(n){let e,t,i,s=n[0]!==void 0&&vT(n),l=n[1]!==void 0&&kT(n),r=n[2]!==void 0&&n[2]>0&&wT(n);return{c(){e=k("div"),s&&s.c(),t=D(),l&&l.c(),i=D(),r&&r.c(),m(e,"class","jse-status-bar svelte-1oo7hnc")},m(o,a){C(o,e,a),s&&s.m(e,null),v(e,t),l&&l.m(e,null),v(e,i),r&&r.m(e,null)},p(o,[a]){o[0]!==void 0?s?s.p(o,a):(s=vT(o),s.c(),s.m(e,t)):s&&(s.d(1),s=null),o[1]!==void 0?l?l.p(o,a):(l=kT(o),l.c(),l.m(e,i)):l&&(l.d(1),l=null),o[2]!==void 0&&o[2]>0?r?r.p(o,a):(r=wT(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:te,o:te,d(o){o&&S(e),s&&s.d(),l&&l.d(),r&&r.d()}}}function P0e(n,e,t){let{editorState:i}=e,s,l,r,o,a;return n.$$set=f=>{"editorState"in f&&t(3,i=f.editorState)},n.$$.update=()=>{var f,u,d,h,p;n.$$.dirty&8&&t(4,s=(u=(f=i==null?void 0:i.selection)==null?void 0:f.main)==null?void 0:u.head),n.$$.dirty&24&&t(5,l=(d=i==null?void 0:i.doc)==null?void 0:d.lineAt(s)),n.$$.dirty&32&&t(0,r=l?l.number:void 0),n.$$.dirty&48&&t(1,o=l?s-l.from+1:void 0),n.$$.dirty&8&&t(2,a=(p=(h=i==null?void 0:i.selection)==null?void 0:h.ranges)==null?void 0:p.reduce((g,b)=>g+b.to-b.from,0))},[r,o,a,i,s,l]}class D0e extends ke{constructor(e){super(),ve(this,e,P0e,E0e,De,{editorState:3})}}const I0e=D0e,$y=Zd.define([{tag:nt.propertyName,color:"var(--jse-key-color)"},{tag:nt.number,color:"var(--jse-value-color-number)"},{tag:nt.bool,color:"var(--jse-value-color-boolean)"},{tag:nt.string,color:"var(--jse-value-color-string)"},{tag:nt.keyword,color:"var(--jse-value-color-null)"}]),R0e=GN($y),N0e=$y.style;$y.style=n=>N0e(n||[]);function L0e(n,e=n.state){const t=new Set;for(const{from:i,to:s}of n.visibleRanges){let l=i;for(;l<=s;){const r=e.doc.lineAt(l);t.has(r)||t.add(r),l=r.to+1}}return t}function I_(n){const e=n.selection.main.head;return n.doc.lineAt(e)}function ST(n,e){let t=0;e:for(let i=0;i<n.length;i++)switch(n[i]){case" ":{t+=1;continue e}case"	":{t+=e-t%e;continue e}case"\r":continue e;default:break e}return t}const Km=_t.define({combine(n){return Sl(n,{highlightActiveBlock:!0,hideFirstIndent:!1})}});class F0e{constructor(e,t,i){this.lines=e,this.state=t,this.map=new Map,this.unitWidth=i;for(const s of this.lines)this.add(s);this.state.facet(Km).highlightActiveBlock&&this.findAndSetActiveLines()}has(e){return this.map.has(typeof e=="number"?e:e.number)}get(e){const t=this.map.get(typeof e=="number"?e:e.number);if(!t)throw new Error("Line not found in indentation map");return t}set(e,t,i){const s=!e.text.trim().length,l={line:e,col:t,level:i,empty:s};return this.map.set(l.line.number,l),l}add(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(e.number===1)return this.set(e,0,0);if(e.number===this.state.doc.lines){const r=this.closestNonEmpty(e,-1);return this.set(e,0,r.level)}const s=this.closestNonEmpty(e,-1),l=this.closestNonEmpty(e,1);return s.level>=l.level?this.set(e,0,s.level):s.empty&&s.level===0&&l.level!==0?this.set(e,0,0):l.level>s.level?this.set(e,0,s.level+1):this.set(e,0,l.level)}const t=ST(e.text,this.state.tabSize),i=Math.floor(t/this.unitWidth);return this.set(e,t,i)}closestNonEmpty(e,t){let i=e.number+t;for(;t===-1?i>=1:i<=this.state.doc.lines;){if(this.has(i)){const r=this.get(i);if(!r.empty)return r}const l=this.state.doc.line(i);if(l.text.trim().length){const r=ST(l.text,this.state.tabSize),o=Math.floor(r/this.unitWidth);return this.set(l,r,o)}i+=t}const s=this.state.doc.line(t===-1?1:this.state.doc.lines);return this.set(s,0,0)}findAndSetActiveLines(){const e=I_(this.state);if(!this.has(e))return;let t=this.get(e);if(this.has(t.line.number+1)){const l=this.get(t.line.number+1);l.level>t.level&&(t=l)}if(this.has(t.line.number-1)){const l=this.get(t.line.number-1);l.level>t.level&&(t=l)}if(t.level===0)return;t.active=t.level;let i,s;for(i=t.line.number;i>1;i--){if(!this.has(i-1))continue;const l=this.get(i-1);if(l.level<t.level)break;l.active=t.level}for(s=t.line.number;s<this.state.doc.lines;s++){if(!this.has(s+1))continue;const l=this.get(s+1);if(l.level<t.level)break;l.active=t.level}}}const j0e="#F0F1F2",B0e="#2B3245",V0e="#E4E5E6",z0e="#3C445C",CT="1px",H0e=mt.baseTheme({"&light":{"--indent-marker-bg-color":j0e,"--indent-marker-active-bg-color":V0e},"&dark":{"--indent-marker-bg-color":B0e,"--indent-marker-active-bg-color":z0e},".cm-line":{position:"relative"},".cm-indent-markers::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"var(--indent-markers)",pointerEvents:"none",zIndex:"-1"}});function ip(n,e,t,i){return`${`repeating-linear-gradient(to right, var(${n}) 0 ${CT}, transparent ${CT} ${e}ch)`} ${t*e}.5ch/calc(${e*i}ch - 1px) no-repeat`}function q0e(n,e,t){const{level:i,active:s}=n;if(t&&i===0)return[];const l=t?1:0,r=[];if(s!==void 0){const o=s-l-1;o>0&&r.push(ip("--indent-marker-bg-color",e,l,o)),r.push(ip("--indent-marker-active-bg-color",e,s-1,1)),s!==i&&r.push(ip("--indent-marker-bg-color",e,s,i-s))}else r.push(ip("--indent-marker-bg-color",e,l,i-l));return r.join(",")}class W0e{constructor(e){this.view=e,this.unitWidth=eo(e.state),this.currentLineNumber=I_(e.state).number,this.generate(e.state)}update(e){const t=eo(e.state),i=t!==this.unitWidth;i&&(this.unitWidth=t);const s=I_(e.state).number,l=s!==this.currentLineNumber;this.currentLineNumber=s;const r=e.state.facet(Km).highlightActiveBlock&&l;(e.docChanged||e.viewportChanged||i||r)&&this.generate(e.state)}generate(e){const t=new Qr,i=L0e(this.view,e),s=new F0e(i,e,this.unitWidth),{hideFirstIndent:l}=e.facet(Km);for(const r of i){const o=s.get(r.number);if(!(o!=null&&o.level))continue;const a=q0e(o,this.unitWidth,l);t.add(r.from,r.from,wt.line({class:"cm-indent-markers",attributes:{style:`--indent-markers: ${a}`}}))}this.decorations=t.finish()}}function U0e(n={}){return[Km.of(n),H0e,vi.fromClass(W0e,{decorations:e=>e.decorations})]}function K0e(n){const e=n.slice(),t=e[28](e[11],e[9]);return e[92]=t,e}function A0(n){const e=n.slice(),t=e[11].length===0;return e[93]=t,e}function MT(n){let e,t;return e=new Ace({props:{readOnly:n[1],onFormat:n[17],onCompact:n[18],onSort:n[19],onTransform:n[20],onToggleSearch:n[21],onUndo:n[22],onRedo:n[23],canFormat:!n[93],canCompact:!n[93],canSort:!n[93],canTransform:!n[93],canUndo:n[12],canRedo:n[13],onRenderMenu:n[4]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&2&&(l.readOnly=i[1]),s[0]&2048&&(l.canFormat=!i[93]),s[0]&2048&&(l.canCompact=!i[93]),s[0]&2048&&(l.canSort=!i[93]),s[0]&2048&&(l.canTransform=!i[93]),s[0]&4096&&(l.canUndo=i[12]),s[0]&8192&&(l.canRedo=i[13]),s[0]&16&&(l.onRenderMenu=i[4]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function J0e(n){let e;return{c(){e=k("div"),e.innerHTML=`<div class="jse-loading-space svelte-10sadri"></div> 
      <div class="jse-loading svelte-10sadri">loading...</div>`,m(e,"class","jse-contents svelte-10sadri")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function x0e(n){let e,t,i,s,l,r=n[92]&&TT(n),o=!n[92]&&AT(n);return{c(){e=k("div"),t=D(),r&&r.c(),i=D(),o&&o.c(),s=Ee(),m(e,"class","jse-contents svelte-10sadri"),$(e,"jse-hidden",n[92])},m(a,f){C(a,e,f),n[50](e),C(a,t,f),r&&r.m(a,f),C(a,i,f),o&&o.m(a,f),C(a,s,f),l=!0},p(a,f){(!l||f[0]&268438016)&&$(e,"jse-hidden",a[92]),a[92]?r?(r.p(a,f),f[0]&2560&&P(r,1)):(r=TT(a),r.c(),P(r,1),r.m(i.parentNode,i)):r&&(ue(),I(r,1,1,()=>{r=null}),ce()),a[92]?o&&(ue(),I(o,1,1,()=>{o=null}),ce()):o?(o.p(a,f),f[0]&2560&&P(o,1)):(o=AT(a),o.c(),P(o,1),o.m(s.parentNode,s))},i(a){l||(P(r),P(o),l=!0)},o(a){I(r),I(o),l=!1},d(a){a&&S(e),n[50](null),a&&S(t),r&&r.d(a),a&&S(i),o&&o.d(a),a&&S(s)}}}function TT(n){let e,t,i,s=kr(n[11]||"",Xp)+"",l,r;return e=new Kl({props:{icon:Qa,type:"error",message:`The JSON document is larger than ${Fh(cb,1024)}, and may crash your browser when loading it in text mode. Actual size: ${Fh(n[11].length,1024)}.`,actions:[{text:"Open anyway",title:"Open the document in text mode. This may freeze or crash your browser.",onClick:n[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:n[25]},{text:"Cancel",title:"Cancel opening this large document.",onClick:n[26]}],onClose:n[5]}}),{c(){U(e.$$.fragment),t=D(),i=k("div"),l=G(s),m(i,"class","jse-contents jse-preview svelte-10sadri")},m(o,a){q(e,o,a),C(o,t,a),C(o,i,a),v(i,l),r=!0},p(o,a){const f={};a[0]&2048&&(f.message=`The JSON document is larger than ${Fh(cb,1024)}, and may crash your browser when loading it in text mode. Actual size: ${Fh(o[11].length,1024)}.`),e.$set(f),(!r||a[0]&2048)&&s!==(s=kr(o[11]||"",Xp)+"")&&pe(l,s)},i(o){r||(P(e.$$.fragment,o),r=!0)},o(o){I(e.$$.fragment,o),r=!1},d(o){W(e,o),o&&S(t),o&&S(i)}}}function AT(n){let e,t,i=!n[14]&&n[0]&&EC(n[11]),s,l,r,o=n[3]&&OT(n),a=n[14]&&ET(n),f=i&&PT(n);return l=new oy({props:{validationErrors:n[10],selectError:n[27]}}),{c(){o&&o.c(),e=D(),a&&a.c(),t=D(),f&&f.c(),s=D(),U(l.$$.fragment)},m(u,d){o&&o.m(u,d),C(u,e,d),a&&a.m(u,d),C(u,t,d),f&&f.m(u,d),C(u,s,d),q(l,u,d),r=!0},p(u,d){u[3]?o?(o.p(u,d),d[0]&8&&P(o,1)):(o=OT(u),o.c(),P(o,1),o.m(e.parentNode,e)):o&&(ue(),I(o,1,1,()=>{o=null}),ce()),u[14]?a?(a.p(u,d),d[0]&16384&&P(a,1)):(a=ET(u),a.c(),P(a,1),a.m(t.parentNode,t)):a&&(ue(),I(a,1,1,()=>{a=null}),ce()),d[0]&18433&&(i=!u[14]&&u[0]&&EC(u[11])),i?f?(f.p(u,d),d[0]&18433&&P(f,1)):(f=PT(u),f.c(),P(f,1),f.m(s.parentNode,s)):f&&(ue(),I(f,1,1,()=>{f=null}),ce());const h={};d[0]&1024&&(h.validationErrors=u[10]),l.$set(h)},i(u){r||(P(o),P(a),P(f),P(l.$$.fragment,u),r=!0)},o(u){I(o),I(a),I(f),I(l.$$.fragment,u),r=!1},d(u){o&&o.d(u),u&&S(e),a&&a.d(u),u&&S(t),f&&f.d(u),u&&S(s),W(l,u)}}}function OT(n){let e,t;return e=new I0e({props:{editorState:n[8]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&256&&(l.editorState=i[8]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function ET(n){let e,t;return e=new Kl({props:{type:"error",icon:Qa,message:n[14].message,actions:n[15],onClick:n[29],onClose:n[5]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&16384&&(l.message=i[14].message),s[0]&32768&&(l.actions=i[15]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function PT(n){let e,t;return e=new Kl({props:{type:"success",message:"Do you want to format the JSON?",actions:[{icon:Bb,text:"Format",title:"Format JSON: add proper indentation and new lines (Ctrl+I)",onClick:n[17]},{icon:du,text:"No thanks",title:"Close this message",onClick:n[51]}],onClose:n[5]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&1&&(l.actions=[{icon:Bb,text:"Format",title:"Format JSON: add proper indentation and new lines (Ctrl+I)",onClick:i[17]},{icon:du,text:"No thanks",title:"Close this message",onClick:i[51]}]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Y0e(n){let e,t,i,s,l,r=n[2]&&MT(A0(n));const o=[x0e,J0e],a=[];function f(d,h){return d[16]?1:0}function u(d,h){return h===0?K0e(d):d}return i=f(n),s=a[i]=o[i](u(n,i)),{c(){e=k("div"),r&&r.c(),t=D(),s.c(),m(e,"class","jse-text-mode svelte-10sadri"),$(e,"no-main-menu",!n[2])},m(d,h){C(d,e,h),r&&r.m(e,null),v(e,t),a[i].m(e,null),n[52](e),l=!0},p(d,h){d[2]?r?(r.p(A0(d),h),h[0]&4&&P(r,1)):(r=MT(A0(d)),r.c(),P(r,1),r.m(e,t)):r&&(ue(),I(r,1,1,()=>{r=null}),ce()),s.p(u(d,i),h),(!l||h[0]&4)&&$(e,"no-main-menu",!d[2])},i(d){l||(P(r),P(s),l=!0)},o(d){I(r),I(s),l=!1},d(d){d&&S(e),r&&r.d(),a[i].d(),n[52](null)}}}function DT(n){return{from:n.from||0,to:n.to||0,message:n.message||"",actions:n.actions,severity:n.severity}}function G0e(n,e,t){let i,s,{readOnly:l}=e,{mainMenuBar:r}=e,{statusBar:o}=e,{askToFormat:a}=e,{externalContent:f}=e,{indentation:u}=e,{tabSize:d}=e,{escapeUnicodeCharacters:h}=e,{parser:p}=e,{validator:g}=e,{validationParser:b}=e,{onChange:_}=e,{onChangeMode:y}=e,{onError:w}=e,{onFocus:A}=e,{onBlur:M}=e,{onRenderMenu:T}=e,{onSortModal:O}=e,{onTransformModal:E}=e;const R=Gi("jsoneditor:TextMode"),N={key:"Mod-i",run:it,shift:ye,preventDefault:!0},j=typeof window>"u";R("isSSR:",j);let L,F,B,V,H=!1,K=[];const X=new Fr,J=new Fr,z=new Fr,Z=new Fr,Y=new Fr;let oe=f,re=sm(oe,u,p),Q=h;Pn(async()=>{if(!j)try{F=un({target:L,initialText:Je(re,H)?"":i.escapeValue(re),readOnly:l,indentation:u})}catch(Ce){console.error(Ce)}}),ls(()=>{F&&(R("Destroy CodeMirror editor"),F.destroy())});let me=!1,qe=!1;const be=lu(),Ie=lu();function he(){F&&(R("focus"),F.focus())}let Ve=!1;ls(()=>{ge()}),ry({onMount:Pn,onDestroy:ls,getWindow:()=>Lu(B),hasFocus:()=>Ve&&document.hasFocus()||rm(B),onFocus:A,onBlur:()=>{ge(),M()}});function Qe(Ce){R("patch",Ce);const Ft=p.parse(re),dn=jl(Ft,Ce),Kn=eI(Ft,Ce);return Xe({text:p.stringify(dn,null,u)}),{json:dn,previousJson:Ft,undo:Kn,redo:Ce}}function it(){if(R("format"),l)return!1;try{const Ce=p.parse(re);return Xe({text:p.stringify(Ce,null,u)}),t(0,a=!0),!0}catch(Ce){w(Ce)}return!1}function ye(){if(R("compact"),l)return!1;try{const Ce=p.parse(re);return Xe({text:p.stringify(Ce)}),t(0,a=!1),!0}catch(Ce){w(Ce)}return!1}function ie(){if(R("repair"),!l)try{Xe({text:dr(re)}),t(49,et=L1),t(14,tt=null)}catch(Ce){w(Ce)}}function we(){if(!l)try{const Ce=p.parse(re);Ve=!0,O({id:be,json:Ce,rootPath:[],onSort:async({operations:Ft})=>{R("onSort",Ft),Qe(Ft)},onClose:()=>{Ve=!1,he()}})}catch(Ce){w(Ce)}}function Ue({id:Ce,rootPath:Ft,onTransform:dn,onClose:Kn}){try{const Bn=p.parse(re);Ve=!0,E({id:Ce||Ie,json:Bn,rootPath:Ft||[],onTransform:Wn=>{dn?dn({operations:Wn,json:Bn,transformedJson:jl(Bn,Wn)}):(R("onTransform",Wn),Qe(Wn))},onClose:()=>{Ve=!1,he(),Kn&&Kn()}})}catch(Bn){w(Bn)}}function Oe(){l||Ue({rootPath:[]})}function _e(){F&&(L&&L.querySelector(".cm-search")?Uy(F):Wy(F))}function Ye(){l||F&&(By(F),he())}function St(){l||F&&(Rm(F),he())}function Et(){t(9,H=!0),Xe(f,!0)}function Fe(){y($i.tree)}function Le(){Te()}function Pt(Ce){R("select validation error",Ce);const Ft=bn(Ce);ct(Ft.from,Ft.to),he()}function tn(Ce){R("select parse error",Ce);const Ft=je(Ce,!1);ct(Ft.from,Ft.to),he()}function ct(Ce,Ft){R("setSelection",{anchor:Ce,head:Ft}),F&&F.dispatch(F.state.update({selection:{anchor:Ce,head:Ft},scrollIntoView:!0}))}function Se(Ce,Ft){if(Ft.state.selection.ranges.length===1){const dn=Ft.state.selection.ranges[0],Kn=re.slice(dn.from,dn.to);if(Kn==="{"||Kn==="["){const Bn=fg.parse(re),Wn=Object.keys(Bn.pointers).find(Fs=>{var xl;return((xl=Bn.pointers[Fs].value)==null?void 0:xl.pos)===dn.from}),Di=Bn.pointers[Wn];if(Wn&&Di&&Di.value&&Di.valueEnd){R("pointer found, selecting inner contents of path:",Wn,Di);const Fs=Di.value.pos+1,js=Di.valueEnd.pos-1;ct(Fs,js)}}}}function Ut(){return l0e(Ze,{delay:IS})}function un({target:Ce,initialText:Ft,readOnly:dn,indentation:Kn}){R("Create CodeMirror editor",{readOnly:dn,indentation:Kn});const Bn=ln.create({doc:Ft,extensions:[xd.of([Dge,N]),X.of(Ut()),p0e(),m0e,R0e,U0e({hideFirstIndent:!0}),mt.domEventHandlers({dblclick:Se}),mt.updateListener.of(Wn=>{t(8,V=Wn.state),Wn.docChanged&&le()}),O0e(),Kge({top:!0}),J.of(ln.readOnly.of(dn)),Z.of(ln.tabSize.of(d)),z.of(ki(Kn)),Y.of(mt.theme({},{dark:rn()})),mt.lineWrapping]});return F=new mt({state:Bn,parent:Ce}),F}function pt(){return F?i.unescapeValue(F.state.doc.toString()):""}function rn(){return L?getComputedStyle(L).getPropertyValue("--jse-theme").includes("dark"):!1}function bn(Ce){const{path:Ft,message:dn}=Ce,{line:Kn,column:Bn,from:Wn,to:Di}=Sie(i.escapeValue(re),Ft);return{path:Ft,line:Kn,column:Bn,from:Wn,to:Di,message:dn,severity:Yr.warning,actions:[]}}function je(Ce,Ft){const{line:dn,column:Kn,position:Bn,message:Wn}=Ce;return{path:[],line:dn,column:Kn,from:Bn,to:Bn,severity:Yr.error,message:Wn,actions:Ft&&!l?[{name:"Auto repair",apply:()=>ie()}]:null}}function Xe(Ce,Ft=!1){const dn=sm(Ce,u,p),Kn=!sn(Ce,oe),Bn=oe;oe=Ce,t(11,re=dn),R("setCodeMirrorContent",{isChanged:Kn,forceUpdate:Ft}),!(!F||!Kn&&!Ft)&&(Je(re,H)||F.dispatch({changes:{from:0,to:F.state.doc.length,insert:i.escapeValue(re)}}),ne(),Kn&&Me(oe,Bn))}async function ot(){R("refresh"),await In()}function Dt(){R("forceUpdateText",{escapeUnicodeCharacters:h}),F&&F.dispatch({changes:{from:0,to:F.state.doc.length,insert:i.escapeValue(re)}})}function Te(){if(!F)return;const Ce=pt(),Ft=Ce!==re;if(R("onChangeCodeMirrorValue",{isChanged:Ft}),!Ft)return;const dn=oe;t(11,re=Ce),oe={text:re},ne(),Me(oe,dn)}function qn(Ce){R("updateLinter",Ce),F&&F.dispatch({effects:X.reconfigure(Ut())})}function Mn(Ce){F&&(R("updateIndentation",Ce),F.dispatch({effects:z.reconfigure(ki(Ce))}))}function Dn(Ce){F&&(R("updateTabSize",Ce),F.dispatch({effects:Z.reconfigure(ln.tabSize.of(Ce))}))}function Gt(Ce){F&&(R("updateReadOnly",Ce),F.dispatch({effects:[J.reconfigure(ln.readOnly.of(Ce))]}))}async function In(){if(await nn(),F){const Ce=rn();R("updateTheme",{dark:Ce}),F.dispatch({effects:[Y.reconfigure(mt.theme({},{dark:Ce}))]})}}function ki(Ce){return Gd.of(typeof Ce=="number"?" ".repeat(Ce):Ce)}function ne(){t(12,me=Rme(F.state)>0),t(13,qe=Nme(F.state)>0),R({canUndo:me,canRedo:qe})}const le=wg(Te,IS);function ge(){le.flush()}function Me(Ce,Ft){_&&_(Ce,Ft,{contentErrors:Tt(),patchResult:null})}function Je(Ce,Ft){return(Ce?Ce.length>cb:!1)&&!Ft}let et=L1,tt=null;function Ze(){if(Je(re,H))return[];const Ce=Tt();if(Z4(Ce)){const{parseError:Ft,isRepairable:dn}=Ce;return[DT(je(Ft,dn))]}return Joe(Ce)?Ce.validationErrors.map(bn).map(DT):[]}function Tt(){R("validate:start"),ge();const Ce=st(i.escapeValue(re),g,p,b);return Z4(Ce)?(t(49,et=Ce.isRepairable?jS:EG),t(14,tt=Ce.parseError),t(10,K=[])):(t(49,et=L1),t(14,tt=null),t(10,K=(Ce==null?void 0:Ce.validationErrors)||[])),R("validate:end"),Ce}const st=Ud(Moe);function yt(){tt&&tn(tt)}const Qt={icon:qle,text:"Show me",title:"Move to the parse error location",onClick:yt};function wi(Ce){de[Ce?"unshift":"push"](()=>{L=Ce,t(6,L)})}const Si=()=>t(0,a=!1);function Xi(Ce){de[Ce?"unshift":"push"](()=>{B=Ce,t(7,B)})}return n.$$set=Ce=>{"readOnly"in Ce&&t(1,l=Ce.readOnly),"mainMenuBar"in Ce&&t(2,r=Ce.mainMenuBar),"statusBar"in Ce&&t(3,o=Ce.statusBar),"askToFormat"in Ce&&t(0,a=Ce.askToFormat),"externalContent"in Ce&&t(30,f=Ce.externalContent),"indentation"in Ce&&t(31,u=Ce.indentation),"tabSize"in Ce&&t(32,d=Ce.tabSize),"escapeUnicodeCharacters"in Ce&&t(33,h=Ce.escapeUnicodeCharacters),"parser"in Ce&&t(34,p=Ce.parser),"validator"in Ce&&t(35,g=Ce.validator),"validationParser"in Ce&&t(36,b=Ce.validationParser),"onChange"in Ce&&t(37,_=Ce.onChange),"onChangeMode"in Ce&&t(38,y=Ce.onChangeMode),"onError"in Ce&&t(39,w=Ce.onError),"onFocus"in Ce&&t(40,A=Ce.onFocus),"onBlur"in Ce&&t(41,M=Ce.onBlur),"onRenderMenu"in Ce&&t(4,T=Ce.onRenderMenu),"onSortModal"in Ce&&t(42,O=Ce.onSortModal),"onTransformModal"in Ce&&t(43,E=Ce.onTransformModal)},n.$$.update=()=>{n.$$.dirty[1]&4&&(i=G2({escapeControlCharacters:!1,escapeUnicodeCharacters:h})),n.$$.dirty[0]&1073741824&&Xe(f),n.$$.dirty[1]&16&&qn(g),n.$$.dirty[1]&1&&Mn(u),n.$$.dirty[1]&2&&Dn(d),n.$$.dirty[0]&2&&Gt(l),n.$$.dirty[1]&131076&&Q!==h&&(t(48,Q=h),Dt()),n.$$.dirty[0]&2|n.$$.dirty[1]&262144&&t(15,s=et===jS&&!l?[{icon:Eg,text:"Auto repair",title:"Automatically repair JSON",onClick:ie},Qt]:[Qt])},[a,l,r,o,T,he,L,B,V,H,K,re,me,qe,tt,s,j,it,ye,we,Oe,_e,Ye,St,Et,Fe,Le,Pt,Je,yt,f,u,d,h,p,g,b,_,y,w,A,M,O,E,Qe,Ue,ot,Tt,Q,et,wi,Si,Xi]}class X0e extends ke{constructor(e){super(),ve(this,e,G0e,Y0e,jt,{readOnly:1,mainMenuBar:2,statusBar:3,askToFormat:0,externalContent:30,indentation:31,tabSize:32,escapeUnicodeCharacters:33,parser:34,validator:35,validationParser:36,onChange:37,onChangeMode:38,onError:39,onFocus:40,onBlur:41,onRenderMenu:4,onSortModal:42,onTransformModal:43,focus:5,patch:44,openTransformModal:45,refresh:46,validate:47},null,[-1,-1,-1,-1])}get focus(){return this.$$.ctx[5]}get patch(){return this.$$.ctx[44]}get openTransformModal(){return this.$$.ctx[45]}get refresh(){return this.$$.ctx[46]}get validate(){return this.$$.ctx[47]}}const Z0e=X0e;function Q0e(n){let e,t;return e=new jg({props:{items:n[0]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&1&&(l.items=i[0]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function $0e(n,e,t){let{json:i}=e,{readOnly:s}=e,{historyState:l}=e,{onSort:r}=e,{onTransform:o}=e,{onContextMenu:a}=e,{onUndo:f}=e,{onRedo:u}=e,{onRenderMenu:d}=e,h,p;return n.$$set=g=>{"json"in g&&t(1,i=g.json),"readOnly"in g&&t(2,s=g.readOnly),"historyState"in g&&t(3,l=g.historyState),"onSort"in g&&t(4,r=g.onSort),"onTransform"in g&&t(5,o=g.onTransform),"onContextMenu"in g&&t(6,a=g.onContextMenu),"onUndo"in g&&t(7,f=g.onUndo),"onRedo"in g&&t(8,u=g.onRedo),"onRenderMenu"in g&&t(9,d=g.onRenderMenu)},n.$$.update=()=>{n.$$.dirty&510&&t(10,h=s?[{type:"space"}]:[{type:"button",icon:Pg,title:"Sort",className:"jse-sort",onClick:r,disabled:s||i===void 0},{type:"button",icon:Og,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:o,disabled:s||i===void 0},{type:"button",icon:A7,title:A2,className:"jse-contextmenu",onClick:a},{type:"separator"},{type:"button",icon:ny,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:f,disabled:!l.canUndo},{type:"button",icon:ty,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:u,disabled:!l.canRedo},{type:"space"}]),n.$$.dirty&1536&&t(0,p=d(h)||h)},[p,i,s,l,r,o,a,f,u,d,h]}class ebe extends ke{constructor(e){super(),ve(this,e,$0e,Q0e,jt,{json:1,readOnly:2,historyState:3,onSort:4,onTransform:5,onContextMenu:6,onUndo:7,onRedo:8,onRenderMenu:9})}}const tbe=ebe;function IT(n,e,t){const i=n.slice();return i[9]=e[t],i}function RT(n){let e,t,i;const s=[n[9].props];var l=n[9].component;function r(o){let a={};for(let f=0;f<s.length;f+=1)a=ft(a,s[f]);return{props:a}}return l&&(e=Sn(l,r())),{c(){e&&U(e.$$.fragment),t=Ee()},m(o,a){e&&q(e,o,a),C(o,t,a),i=!0},p(o,a){const f=a&1?kn(s,[ri(o[9].props)]):{};if(a&1&&l!==(l=o[9].component)){if(e){ue();const u=e;I(u.$$.fragment,1,0,()=>{W(u,1)}),ce()}l?(e=Sn(l,r()),U(e.$$.fragment),P(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else l&&e.$set(f)},i(o){i||(e&&P(e.$$.fragment,o),i=!0)},o(o){e&&I(e.$$.fragment,o),i=!1},d(o){o&&S(t),e&&W(e,o)}}}function nbe(n){let e,t,i=n[0],s=[];for(let r=0;r<i.length;r+=1)s[r]=RT(IT(n,i,r));const l=r=>I(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=Ee()},m(r,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,o);C(r,e,o),t=!0},p(r,[o]){if(o&1){i=r[0];let a;for(a=0;a<i.length;a+=1){const f=IT(r,i,a);s[a]?(s[a].p(f,o),P(s[a],1)):(s[a]=RT(f),s[a].c(),P(s[a],1),s[a].m(e.parentNode,e))}for(ue(),a=i.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!t){for(let o=0;o<i.length;o+=1)P(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)I(s[o]);t=!1},d(r){Ot(s,r),r&&S(e)}}}function ibe(n,e,t){let i,s,{path:l}=e,{value:r}=e,{context:o}=e,{enforceString:a}=e,{selection:f}=e,{searchResultItems:u}=e;function d(h,p){return o.onPatch(lle(h,o.getJson()),p)}return n.$$set=h=>{"path"in h&&t(1,l=h.path),"value"in h&&t(2,r=h.value),"context"in h&&t(3,o=h.context),"enforceString"in h&&t(4,a=h.enforceString),"selection"in h&&t(5,f=h.selection),"searchResultItems"in h&&t(6,u=h.searchResultItems)},n.$$.update=()=>{n.$$.dirty&40&&t(7,i=!o.readOnly&&Xt(f)&&Fo(f)),n.$$.dirty&254&&t(0,s=o.onRenderValue({path:l,value:r,readOnly:o.readOnly,enforceString:a,isEditing:i,parser:o.parser,normalization:o.normalization,selection:f,searchResultItems:u,onPatch:d,onPasteJson:o.onPasteJson,onSelect:o.onSelect,onFind:o.onFind,findNextInside:o.findNextInside,focus:o.focus}))},[s,l,r,o,a,f,u,i]}class sbe extends ke{constructor(e){super(),ve(this,e,ibe,nbe,jt,{path:1,value:2,context:3,enforceString:4,selection:5,searchResultItems:6})}}const lbe=sbe;function rbe(n){let e,t=kr(n[2].stringify(n[1]),NS)+"",i,s,l;return{c(){e=k("button"),i=G(t),m(e,"type","button"),m(e,"class","jse-inline-value svelte-l28mqd"),$(e,"jse-selected",n[3])},m(r,o){C(r,e,o),v(e,i),s||(l=x(e,"dblclick",n[6]),s=!0)},p(r,[o]){o&6&&t!==(t=kr(r[2].stringify(r[1]),NS)+"")&&pe(i,t),o&8&&$(e,"jse-selected",r[3])},i:te,o:te,d(r){r&&S(e),s=!1,l()}}}function obe(n,e,t){let i,{path:s}=e,{value:l}=e,{parser:r}=e,{isSelected:o}=e,{onEdit:a}=e;const f=()=>a(s);return n.$$set=u=>{"path"in u&&t(0,s=u.path),"value"in u&&t(1,l=u.value),"parser"in u&&t(2,r=u.parser),"isSelected"in u&&t(3,o=u.isSelected),"onEdit"in u&&t(4,a=u.onEdit)},n.$$.update=()=>{n.$$.dirty&2&&t(5,i=Fn(l)?l.length:Object.keys(l).length),n.$$.dirty&34},[s,l,r,o,a,i,f]}class abe extends ke{constructor(e){super(),ve(this,e,obe,rbe,jt,{path:0,value:1,parser:2,isSelected:3,onEdit:4})}}const fbe=abe;function NT(n){let e,t,i,s;return t=new Zt({props:{data:n[1]===dl.asc?al:t4}}),{c(){e=k("span"),U(t.$$.fragment),m(e,"class","jse-column-sort-icon svelte-h4fort"),m(e,"title",i=`Currently sorted in ${n[2]} order`)},m(l,r){C(l,e,r),q(t,e,null),s=!0},p(l,r){const o={};r&2&&(o.data=l[1]===dl.asc?al:t4),t.$set(o),(!s||r&4&&i!==(i=`Currently sorted in ${l[2]} order`))&&m(e,"title",i)},i(l){s||(P(t.$$.fragment,l),s=!0)},o(l){I(t.$$.fragment,l),s=!1},d(l){l&&S(e),W(t)}}}function ube(n){let e,t,i=kr(n[3],LS)+"",s,l,r,o,a,f,u=n[1]!==void 0&&NT(n);return{c(){e=k("button"),t=k("span"),s=G(i),l=D(),u&&u.c(),m(t,"class","jse-column-name"),m(e,"type","button"),m(e,"class","jse-column-header svelte-h4fort"),m(e,"title",r=n[0]?n[3]:n[3]+" (Click to sort the data by this column)"),$(e,"jse-readonly",n[0])},m(d,h){C(d,e,h),v(e,t),v(t,s),v(e,l),u&&u.m(e,null),o=!0,a||(f=x(e,"click",n[4]),a=!0)},p(d,[h]){(!o||h&8)&&i!==(i=kr(d[3],LS)+"")&&pe(s,i),d[1]!==void 0?u?(u.p(d,h),h&2&&P(u,1)):(u=NT(d),u.c(),P(u,1),u.m(e,null)):u&&(ue(),I(u,1,1,()=>{u=null}),ce()),(!o||h&9&&r!==(r=d[0]?d[3]:d[3]+" (Click to sort the data by this column)"))&&m(e,"title",r),(!o||h&1)&&$(e,"jse-readonly",d[0])},i(d){o||(P(u),o=!0)},o(d){I(u),o=!1},d(d){d&&S(e),u&&u.d(),a=!1,f()}}}function cbe(n,e,t){let i,s,l,{path:r}=e,{sortedColumn:o}=e,{readOnly:a}=e,{onSort:f}=e;function u(){a||f({path:r,sortDirection:s===dl.asc?dl.desc:dl.asc})}return n.$$set=d=>{"path"in d&&t(5,r=d.path),"sortedColumn"in d&&t(6,o=d.sortedColumn),"readOnly"in d&&t(0,a=d.readOnly),"onSort"in d&&t(7,f=d.onSort)},n.$$.update=()=>{n.$$.dirty&32&&t(3,i=Kt(r)?"values":Rs(r)),n.$$.dirty&96&&t(1,s=sn(r,o==null?void 0:o.path)?o.sortDirection:void 0),n.$$.dirty&2&&t(2,l=PG[s])},[a,s,l,i,u,r,o,f]}class dbe extends ke{constructor(e){super(),ve(this,e,cbe,ube,jt,{path:5,sortedColumn:6,readOnly:0,onSort:7})}}const hbe=dbe;let sp,lp;function gL(n,e){return sp||(lp=new WeakMap,sp=new ResizeObserver(t=>{for(const i of t){const s=lp.get(i.target);s&&s(i.target)}})),lp.set(n,e),sp.observe(n),{destroy:()=>{lp.delete(n),sp.unobserve(n)}}}function pbe(n){let e,t;return e=new U7({props:{items:n[1],tip:n[0]?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&2&&(l.items=i[1]),s[0]&1&&(l.tip=i[0]?"Tip: you can open this context menu via right-click or with Ctrl+Q":void 0),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function mbe(n,e,t){let i,s,l,r,o,a,f,u,d,h,{json:p}=e,{documentState:g}=e,{parser:b}=e,{showTip:_}=e,{onCloseContextMenu:y}=e,{onEditValue:w}=e,{onEditRow:A}=e,{onToggleEnforceString:M}=e,{onCut:T}=e,{onCopy:O}=e,{onPaste:E}=e,{onRemove:R}=e,{onDuplicateRow:N}=e,{onInsertBeforeRow:j}=e,{onInsertAfterRow:L}=e,{onRemoveRow:F}=e;function B(){y(),w()}function V(){y(),A()}function H(){y(),M()}function K(){y(),T(!0)}function X(){y(),T(!1)}function J(){y(),O(!0)}function z(){y(),O(!1)}function Z(){y(),E()}function Y(){y(),R()}function oe(){y(),N()}function re(){y(),j()}function Q(){y(),L()}function me(){y(),F()}let qe;return n.$$set=be=>{"json"in be&&t(2,p=be.json),"documentState"in be&&t(3,g=be.documentState),"parser"in be&&t(4,b=be.parser),"showTip"in be&&t(0,_=be.showTip),"onCloseContextMenu"in be&&t(5,y=be.onCloseContextMenu),"onEditValue"in be&&t(6,w=be.onEditValue),"onEditRow"in be&&t(7,A=be.onEditRow),"onToggleEnforceString"in be&&t(8,M=be.onToggleEnforceString),"onCut"in be&&t(9,T=be.onCut),"onCopy"in be&&t(10,O=be.onCopy),"onPaste"in be&&t(11,E=be.onPaste),"onRemove"in be&&t(12,R=be.onRemove),"onDuplicateRow"in be&&t(13,N=be.onDuplicateRow),"onInsertBeforeRow"in be&&t(14,j=be.onInsertBeforeRow),"onInsertAfterRow"in be&&t(15,L=be.onInsertAfterRow),"onRemoveRow"in be&&t(16,F=be.onRemoveRow)},n.$$.update=()=>{n.$$.dirty[0]&8&&t(22,i=g.selection),n.$$.dirty[0]&4&&t(25,s=p!==void 0),n.$$.dirty[0]&4194304&&t(17,l=i!=null),n.$$.dirty[0]&4194304&&t(26,r=i!=null&&Kt(i.focusPath)),n.$$.dirty[0]&4194308&&t(23,o=p!==void 0&&i!=null?dt(p,i.focusPath):void 0),n.$$.dirty[0]&37748736&&t(18,a=s&&(cn(i)||_i(i)||Xt(i))),n.$$.dirty[0]&100925440,n.$$.dirty[0]&104857600&&s&&i!=null&&(cn(i)||Xt(i)),n.$$.dirty[0]&71303172&&p!==void 0&&i!=null&&id(i)&&!r&&Array.isArray(dt(p,en(i.focusPath))),n.$$.dirty[0]&37748736&&t(21,f=s&&i!=null&&id(i)),n.$$.dirty[0]&10485760&&t(19,u=f&&!$n(o)),n.$$.dirty[0]&262144&&t(24,d=a),n.$$.dirty[0]&16777216,n.$$.dirty[0]&16908288,n.$$.dirty[0]&29491200&&d&&Pa(i)&&Un(o),n.$$.dirty[0]&29491200&&d&&Pa(i)&&Array.isArray(o),n.$$.dirty[0]&29491200&&d&&Pa(i)&&$n(o),n.$$.dirty[0]&12582936&&t(20,h=i!=null?Xr(o,g.enforceStringMap,$e(i.focusPath),b):!1),n.$$.dirty[0]&4063232&&t(1,qe=[{type:"separator"},{type:"row",items:[{type:"column",items:[{type:"label",text:"Table cell:"},{type:"dropdown-button",main:{type:"button",onClick:B,icon:Bf,text:"Edit",title:"Edit the value (Double-click on the value)",disabled:!f},width:"11em",items:[{type:"button",icon:Bf,text:"Edit",title:"Edit the value (Double-click on the value)",onClick:B,disabled:!f},{type:"button",icon:h?ed:td,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:H,disabled:!u}]},{type:"dropdown-button",main:{type:"button",onClick:K,icon:jf,text:"Cut",title:"Cut selected contents, formatted with indentation (Ctrl+X)",disabled:!a},width:"10em",items:[{type:"button",icon:jf,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:K,disabled:!a},{type:"button",icon:jf,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:X,disabled:!a}]},{type:"dropdown-button",main:{type:"button",onClick:J,icon:Oo,text:"Copy",title:"Copy selected contents, formatted with indentation (Ctrl+C)",disabled:!a},width:"12em",items:[{type:"button",icon:Oo,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:J,disabled:!a},{type:"button",icon:Oo,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:z,disabled:!a}]},{type:"button",onClick:Z,icon:M7,text:"Paste",title:"Paste clipboard contents (Ctrl+V)",disabled:!l},{type:"button",onClick:Y,icon:Lb,text:"Remove",title:"Remove selected contents (Delete)",disabled:!a}]},{type:"column",items:[{type:"label",text:"Table row:"},{type:"button",onClick:V,icon:Bf,text:"Edit row",title:"Edit the current row",disabled:!a},{type:"button",onClick:oe,icon:E7,text:"Duplicate row",title:"Duplicate the current row",disabled:!l},{type:"button",onClick:re,icon:Sf,text:"Insert before",title:"Insert a row before the current row",disabled:!l},{type:"button",onClick:Q,icon:Sf,text:"Insert after",title:"Insert a row after the current row",disabled:!l},{type:"button",onClick:me,icon:Lb,text:"Remove row",title:"Remove current row",disabled:!l}]}]}])},[_,qe,p,g,b,y,w,A,M,T,O,E,R,N,j,L,F,l,a,u,h,f,i,o,d,s,r]}class gbe extends ke{constructor(e){super(),ve(this,e,mbe,pbe,jt,{json:2,documentState:3,parser:4,showTip:0,onCloseContextMenu:5,onEditValue:6,onEditRow:7,onToggleEnforceString:8,onCut:9,onCopy:10,onPaste:11,onRemove:12,onDuplicateRow:13,onInsertBeforeRow:14,onInsertAfterRow:15,onRemoveRow:16},null,[-1,-1])}}const bbe=gbe;function LT(n,e,t){const i=n.slice();i[12]=e[t];const s=dt(i[0],i[12]).length;return i[13]=s,i}function _be(n){let e,t;return{c(){e=G(n[5]),t=G(" cannot be opened in table mode. You can open the document in tree mode instead.")},m(i,s){C(i,e,s),C(i,t,s)},p(i,s){s&32&&pe(e,i[5])},d(i){i&&S(e),i&&S(t)}}}function ybe(n){let e;return{c(){e=G(`An object cannot be opened in table mode. You can open a nested array instead, or open the
        document in tree mode.`)},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function FT(n){let e,t,i,s=Rs(n[12])+"",l,r,o,a,f=n[13]+"",u,d,h=n[13]!==1?"items":"item",p,g,b,_;function y(){return n[10](n[12])}return{c(){e=k("button"),t=G(n[6]),i=G(' "'),l=G(s),r=G(`"
        `),o=k("span"),a=G("("),u=G(f),d=D(),p=G(h),g=G(")"),m(o,"class","jse-nested-array-count svelte-1te5h1h"),m(e,"type","button"),m(e,"class","jse-nested-array-action svelte-1te5h1h")},m(w,A){C(w,e,A),v(e,t),v(e,i),v(e,l),v(e,r),v(e,o),v(o,a),v(o,u),v(o,d),v(o,p),v(o,g),b||(_=x(e,"click",y),b=!0)},p(w,A){n=w,A&64&&pe(t,n[6]),A&8&&s!==(s=Rs(n[12])+"")&&pe(l,s),A&9&&f!==(f=n[13]+"")&&pe(u,f),A&9&&h!==(h=n[13]!==1?"items":"item")&&pe(p,h)},d(w){w&&S(e),b=!1,_()}}}function vbe(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y;function w(E,R){return E[4]?ybe:_be}let A=w(n),M=A(n),T=n[3],O=[];for(let E=0;E<T.length;E+=1)O[E]=FT(LT(n,T,E));return{c(){e=k("div"),t=k("div"),i=D(),s=k("div"),l=k("div"),r=G(n[5]),o=D(),a=k("div"),M.c(),f=D();for(let E=0;E<O.length;E+=1)O[E].c();u=D(),d=k("button"),h=G(n[6]),p=G(" in tree mode"),g=D(),b=k("div"),m(t,"class","jse-space jse-before svelte-1te5h1h"),m(l,"class","jse-nested-arrays-title"),m(a,"class","jse-nested-arrays-info svelte-1te5h1h"),m(d,"type","button"),m(d,"class","jse-nested-array-action svelte-1te5h1h"),m(s,"class","jse-nested-arrays svelte-1te5h1h"),m(b,"class","jse-space jse-after svelte-1te5h1h"),m(e,"class","jse-table-mode-welcome svelte-1te5h1h")},m(E,R){C(E,e,R),v(e,t),v(e,i),v(e,s),v(s,l),v(l,r),v(s,o),v(s,a),M.m(a,null),v(s,f);for(let N=0;N<O.length;N+=1)O[N]&&O[N].m(s,null);v(s,u),v(s,d),v(d,h),v(d,p),v(e,g),v(e,b),_||(y=x(d,"click",n[11]),_=!0)},p(E,[R]){if(R&32&&pe(r,E[5]),A===(A=w(E))&&M?M.p(E,R):(M.d(1),M=A(E),M&&(M.c(),M.m(a,null))),R&75){T=E[3];let N;for(N=0;N<T.length;N+=1){const j=LT(E,T,N);O[N]?O[N].p(j,R):(O[N]=FT(j),O[N].c(),O[N].m(s,u))}for(;N<O.length;N+=1)O[N].d(1);O.length=T.length}R&64&&pe(h,E[6])},i:te,o:te,d(E){E&&S(e),M.d(),Ot(O,E),_=!1,y()}}}function kbe(n,e,t){let i,s,l,{text:r}=e,{json:o}=e,{readOnly:a}=e,{parser:f}=e,{openJSONEditorModal:u}=e,{onChangeMode:d}=e,h;const p=b=>u(b),g=()=>d($i.tree);return n.$$set=b=>{"text"in b&&t(7,r=b.text),"json"in b&&t(0,o=b.json),"readOnly"in b&&t(8,a=b.readOnly),"parser"in b&&t(9,f=b.parser),"openJSONEditorModal"in b&&t(1,u=b.openJSONEditorModal),"onChangeMode"in b&&t(2,d=b.onChangeMode)},n.$$.update=()=>{n.$$.dirty&256&&t(6,i=a?"View":"Edit"),n.$$.dirty&1&&t(3,h=o?Uue(o).slice(0,99).filter(b=>b.length>0):[]),n.$$.dirty&8&&t(4,s=!Kt(h)),n.$$.dirty&657&&t(5,l=s?"Object with nested arrays":o===void 0&&(r===""||r===void 0)?"An empty document":li(o)?"An object":Fn(o)?"An empty array":`A ${j2(o,f)}`)},[o,u,d,h,s,l,i,r,a,f,p,g]}class wbe extends ke{constructor(e){super(),ve(this,e,kbe,vbe,jt,{text:7,json:0,readOnly:8,parser:9,openJSONEditorModal:1,onChangeMode:2})}}const Sbe=wbe;function Cbe(n){let e,t,i,s,l,r;return t=new Zt({props:{data:tre}}),{c(){e=k("button"),U(t.$$.fragment),m(e,"type","button"),m(e,"class","jse-column-header svelte-py7l9h"),m(e,"title",i=`The Columns are created by sampling ${n[1]} items out of ${n[0]}. If you're missing a column, click here to sample all of the items instead of a subset. This is slower.`)},m(o,a){C(o,e,a),q(t,e,null),s=!0,l||(r=x(e,"click",n[3]),l=!0)},p(o,[a]){(!s||a&3&&i!==(i=`The Columns are created by sampling ${o[1]} items out of ${o[0]}. If you're missing a column, click here to sample all of the items instead of a subset. This is slower.`))&&m(e,"title",i)},i(o){s||(P(t.$$.fragment,o),s=!0)},o(o){I(t.$$.fragment,o),s=!1},d(o){o&&S(e),W(t),l=!1,r()}}}function Mbe(n,e,t){let{count:i}=e,{maxSampleCount:s}=e,{onRefresh:l}=e;const r=()=>l();return n.$$set=o=>{"count"in o&&t(0,i=o.count),"maxSampleCount"in o&&t(1,s=o.maxSampleCount),"onRefresh"in o&&t(2,l=o.onRefresh)},[i,s,l,r]}class Tbe extends ke{constructor(e){super(),ve(this,e,Mbe,Cbe,jt,{count:0,maxSampleCount:1,onRefresh:2})}}const Abe=Tbe;function jT(n,e,t){const i=n.slice();i[121]=e[t],i[125]=t;const s=i[23].startIndex+i[125];i[122]=s;const l=i[22].rows[i[122]];return i[123]=l,i}function BT(n,e,t){var a;const i=n.slice();i[126]=e[t],i[132]=t;const s=[String(i[122])].concat(i[126]);i[127]=s;const l=dt(i[121],i[126]);i[128]=l;const r=i[47](i[127],i[11].selection);i[129]=r;const o=(a=i[123])==null?void 0:a.columns[i[132]];return i[130]=o,i}function VT(n,e,t){const i=n.slice();return i[126]=e[t],i}function zT(n){let e,t;return e=new tbe({props:{json:n[8],readOnly:n[0],historyState:n[20],onSort:n[41],onTransform:n[42],onUndo:n[43],onRedo:n[44],onContextMenu:n[33],onRenderMenu:n[5]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&256&&(l.json=i[8]),s[0]&1&&(l.readOnly=i[0]),s[0]&1048576&&(l.historyState=i[20]),s[0]&32&&(l.onRenderMenu=i[5]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Obe(n){let e;return{c(){e=k("div"),e.innerHTML=`<div class="jse-loading-space svelte-hs49xj"></div> 
      <div class="jse-loading svelte-hs49xj">loading...</div>`,m(e,"class","jse-contents jse-contents-loading svelte-hs49xj")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function Ebe(n){let e,t,i,s,l,r,o,a,f;const u=[Ibe,Dbe,Pbe],d=[];function h(p,g){return p[25]?0:p[17]&&p[16]!==void 0&&p[16]!==""?1:2}return s=h(n),l=d[s]=u[s](n),{c(){e=k("label"),t=k("input"),i=D(),l.c(),r=Ee(),m(t,"type","text"),t.readOnly="readonly",m(t,"tabindex","-1"),m(t,"class","jse-hidden-input svelte-hs49xj"),m(e,"class","jse-hidden-input-label svelte-hs49xj")},m(p,g){C(p,e,g),v(e,t),n[71](t),C(p,i,g),d[s].m(p,g),C(p,r,g),o=!0,a||(f=x(t,"paste",n[38]),a=!0)},p(p,g){let b=s;s=h(p),s===b?d[s].p(p,g):(ue(),I(d[b],1,1,()=>{d[b]=null}),ce(),l=d[s],l?l.p(p,g):(l=d[s]=u[s](p),l.c()),P(l,1),l.m(r.parentNode,r))},i(p){o||(P(l),o=!0)},o(p){I(l),o=!1},d(p){p&&S(e),n[71](null),p&&S(i),d[s].d(p),p&&S(r),a=!1,f()}}}function Pbe(n){let e,t;return e=new Sbe({props:{text:n[16],json:n[8],readOnly:n[0],parser:n[2],openJSONEditorModal:n[40],onChangeMode:n[4]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&65536&&(l.text=i[16]),s[0]&256&&(l.json=i[8]),s[0]&1&&(l.readOnly=i[0]),s[0]&4&&(l.parser=i[2]),s[0]&16&&(l.onChangeMode=i[4]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Dbe(n){let e,t,i,s;return e=new Kl({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:n[0]?[]:[{icon:jo,text:"Repair manually",onClick:n[36]}]}}),i=new tR({props:{text:n[16]||"",json:n[8],indentation:n[3],parser:n[2]}}),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment)},m(l,r){q(e,l,r),C(l,t,r),q(i,l,r),s=!0},p(l,r){const o={};r[0]&1&&(o.actions=l[0]?[]:[{icon:jo,text:"Repair manually",onClick:l[36]}]),e.$set(o);const a={};r[0]&65536&&(a.text=l[16]||""),r[0]&256&&(a.json=l[8]),r[0]&8&&(a.indentation=l[3]),r[0]&4&&(a.parser=l[2]),i.$set(a)},i(l){s||(P(e.$$.fragment,l),P(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){W(e,l),l&&S(t),W(i,l)}}}function Ibe(n){var z;let e,t,i,s,l,r=!Kt((z=n[22])==null?void 0:z.root),o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E,R,N=r&&HT(n),j=n[10],L=[];for(let Z=0;Z<j.length;Z+=1)L[Z]=qT(VT(n,j,Z));const F=Z=>I(L[Z],1,1,()=>{L[Z]=null});let B=n[24]&&WT(n),V=n[23].visibleItems,H=[];for(let Z=0;Z<V.length;Z+=1)H[Z]=XT(jT(n,V,Z));const K=Z=>I(H[Z],1,1,()=>{H[Z]=null});let X=n[18]&&ZT(n),J=n[19]&&QT(n);return T=new oy({props:{validationErrors:n[12],selectError:n[39]}}),{c(){e=k("div"),t=k("table"),i=k("tbody"),s=k("tr"),l=k("th"),N&&N.c(),o=D();for(let Z=0;Z<L.length;Z+=1)L[Z].c();a=D(),B&&B.c(),f=D(),u=k("tr"),d=k("td"),p=D();for(let Z=0;Z<H.length;Z+=1)H[Z].c();g=D(),b=k("tr"),_=k("td"),w=D(),X&&X.c(),A=D(),J&&J.c(),M=D(),U(T.$$.fragment),m(l,"class","jse-table-cell jse-table-cell-header svelte-hs49xj"),m(s,"class","jse-table-row jse-table-row-header svelte-hs49xj"),m(d,"colspan",h=n[10].length),m(d,"class","svelte-hs49xj"),Il(d,"height",n[23].startHeight+"px"),m(u,"class","jse-table-invisible-start-section"),m(_,"colspan",y=n[10].length),m(_,"class","svelte-hs49xj"),Il(_,"height",n[23].endHeight+"px"),m(b,"class","jse-table-invisible-end-section"),m(t,"class","jse-table-main svelte-hs49xj"),m(t,"cellpadding","0"),m(t,"cellspacing","0"),m(e,"class","jse-contents svelte-hs49xj")},m(Z,Y){C(Z,e,Y),v(e,t),v(t,i),v(i,s),v(s,l),N&&N.m(l,null),v(s,o);for(let oe=0;oe<L.length;oe+=1)L[oe]&&L[oe].m(s,null);v(s,a),B&&B.m(s,null),v(i,f),v(i,u),v(u,d),v(i,p);for(let oe=0;oe<H.length;oe+=1)H[oe]&&H[oe].m(i,null);v(i,g),v(i,b),v(b,_),n[74](e),C(Z,w,Y),X&&X.m(Z,Y),C(Z,A,Y),J&&J.m(Z,Y),C(Z,M,Y),q(T,Z,Y),O=!0,E||(R=[xe(gL.call(null,e,n[45])),x(e,"scroll",n[29])],E=!0)},p(Z,Y){var re;if(Y[0]&4194304&&(r=!Kt((re=Z[22])==null?void 0:re.root)),r?N?(N.p(Z,Y),Y[0]&4194304&&P(N,1)):(N=HT(Z),N.c(),P(N,1),N.m(l,null)):N&&(ue(),I(N,1,1,()=>{N=null}),ce()),Y[0]&268438529){j=Z[10];let Q;for(Q=0;Q<j.length;Q+=1){const me=VT(Z,j,Q);L[Q]?(L[Q].p(me,Y),P(L[Q],1)):(L[Q]=qT(me),L[Q].c(),P(L[Q],1),L[Q].m(s,a))}for(ue(),Q=j.length;Q<L.length;Q+=1)F(Q);ce()}if(Z[24]?B?(B.p(Z,Y),Y[0]&16777216&&P(B,1)):(B=WT(Z),B.c(),P(B,1),B.m(s,null)):B&&(ue(),I(B,1,1,()=>{B=null}),ce()),(!O||Y[0]&1024&&h!==(h=Z[10].length))&&m(d,"colspan",h),Y[0]&8388608&&Il(d,"height",Z[23].startHeight+"px"),Y[0]&165678085|Y[1]&98817){V=Z[23].visibleItems;let Q;for(Q=0;Q<V.length;Q+=1){const me=jT(Z,V,Q);H[Q]?(H[Q].p(me,Y),P(H[Q],1)):(H[Q]=XT(me),H[Q].c(),P(H[Q],1),H[Q].m(i,g))}for(ue(),Q=V.length;Q<H.length;Q+=1)K(Q);ce()}(!O||Y[0]&1024&&y!==(y=Z[10].length))&&m(_,"colspan",y),Y[0]&8388608&&Il(_,"height",Z[23].endHeight+"px"),Z[18]?X?(X.p(Z,Y),Y[0]&262144&&P(X,1)):(X=ZT(Z),X.c(),P(X,1),X.m(A.parentNode,A)):X&&(ue(),I(X,1,1,()=>{X=null}),ce()),Z[19]?J?(J.p(Z,Y),Y[0]&524288&&P(J,1)):(J=QT(Z),J.c(),P(J,1),J.m(M.parentNode,M)):J&&(ue(),I(J,1,1,()=>{J=null}),ce());const oe={};Y[0]&4096&&(oe.validationErrors=Z[12]),T.$set(oe)},i(Z){if(!O){P(N);for(let Y=0;Y<j.length;Y+=1)P(L[Y]);P(B);for(let Y=0;Y<V.length;Y+=1)P(H[Y]);P(X),P(J),P(T.$$.fragment,Z),O=!0}},o(Z){I(N),L=L.filter(Boolean);for(let Y=0;Y<L.length;Y+=1)I(L[Y]);I(B),H=H.filter(Boolean);for(let Y=0;Y<H.length;Y+=1)I(H[Y]);I(X),I(J),I(T.$$.fragment,Z),O=!1},d(Z){Z&&S(e),N&&N.d(),Ot(L,Z),B&&B.d(),Ot(H,Z),n[74](null),Z&&S(w),X&&X.d(Z),Z&&S(A),J&&J.d(Z),Z&&S(M),W(T,Z),E=!1,Ke(R)}}}function HT(n){var s;let e,t,i;return t=new ju({props:{validationError:mu([],(s=n[22])==null?void 0:s.root),onExpand:tr}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","jse-table-root-error svelte-hs49xj")},m(l,r){C(l,e,r),q(t,e,null),i=!0},p(l,r){var a;const o={};r[0]&4194304&&(o.validationError=mu([],(a=l[22])==null?void 0:a.root)),t.$set(o)},i(l){i||(P(t.$$.fragment,l),i=!0)},o(l){I(t.$$.fragment,l),i=!1},d(l){l&&S(e),W(t)}}}function qT(n){let e,t,i;return t=new hbe({props:{path:n[126],sortedColumn:n[11].sortedColumn,readOnly:n[0],onSort:n[28]}}),{c(){e=k("th"),U(t.$$.fragment),m(e,"class","jse-table-cell jse-table-cell-header svelte-hs49xj")},m(s,l){C(s,e,l),q(t,e,null),i=!0},p(s,l){const r={};l[0]&1024&&(r.path=s[126]),l[0]&2048&&(r.sortedColumn=s[11].sortedColumn),l[0]&1&&(r.readOnly=s[0]),t.$set(r)},i(s){i||(P(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&S(e),W(t)}}}function WT(n){let e,t,i;return t=new Abe({props:{count:n[8].length,maxSampleCount:n[9],onRefresh:n[72]}}),{c(){e=k("th"),U(t.$$.fragment),m(e,"class","jse-table-cell jse-table-cell-header svelte-hs49xj")},m(s,l){C(s,e,l),q(t,e,null),i=!0},p(s,l){const r={};l[0]&256&&(r.count=s[8].length),l[0]&512&&(r.maxSampleCount=s[9]),l[0]&512&&(r.onRefresh=s[72]),t.$set(r)},i(s){i||(P(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&S(e),W(t)}}}function UT(n){let e,t;return e=new ju({props:{validationError:mu([String(n[122])],n[123].row),onExpand:tr}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&12582912&&(l.validationError=mu([String(i[122])],i[123].row)),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function KT(n){var h;let e,t=n[122]+"",i,s,l=!Kt((h=n[123])==null?void 0:h.row),r,o,a,f,u=l&&UT(n);function d(...p){return n[73](n[122],...p)}return{c(){e=k("th"),i=G(t),s=D(),u&&u.c(),m(e,"class","jse-table-cell jse-table-cell-gutter svelte-hs49xj")},m(p,g){C(p,e,g),v(e,i),v(e,s),u&&u.m(e,null),o=!0,a||(f=xe(r=gL.call(null,e,d)),a=!0)},p(p,g){var b;n=p,(!o||g[0]&8388608)&&t!==(t=n[122]+"")&&pe(i,t),g[0]&12582912&&(l=!Kt((b=n[123])==null?void 0:b.row)),l?u?(u.p(n,g),g[0]&12582912&&P(u,1)):(u=UT(n),u.c(),P(u,1),u.m(e,null)):u&&(ue(),I(u,1,1,()=>{u=null}),ce()),r&&fn(r.update)&&g[0]&8388608&&r.update.call(null,d)},i(p){o||(P(u),o=!0)},o(p){I(u),o=!1},d(p){p&&S(e),u&&u.d(),a=!1,f()}}}function Rbe(n){let e,t;return e=new lbe({props:{path:n[127],value:n[128]!==void 0?n[128]:"",enforceString:Xr(n[128],n[11].enforceStringMap,$e(n[127]),n[21].parser),selection:n[129]?n[11].selection:void 0,searchResultItems:n[27],context:n[21]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&8389632&&(l.path=i[127]),s[0]&8389632&&(l.value=i[128]!==void 0?i[128]:""),s[0]&10488832&&(l.enforceString=Xr(i[128],i[11].enforceStringMap,$e(i[127]),i[21].parser)),s[0]&8391680&&(l.selection=i[129]?i[11].selection:void 0),s[0]&2097152&&(l.context=i[21]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Nbe(n){let e,t;return e=new fbe({props:{path:n[127],value:n[128],parser:n[2],isSelected:n[129],onEdit:n[40]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&8389632&&(l.path=i[127]),s[0]&8389632&&(l.value=i[128]),s[0]&4&&(l.parser=i[2]),s[0]&8391680&&(l.isSelected=i[129]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function JT(n){let e,t,i,s;return t=new Zo({props:{selected:!0,onContextMenu:n[31]}}),{c(){e=k("div"),U(t.$$.fragment),i=D(),m(e,"class","jse-context-menu-anchor svelte-hs49xj")},m(l,r){C(l,e,r),q(t,e,null),C(l,i,r),s=!0},p:te,i(l){s||(P(t.$$.fragment,l),s=!0)},o(l){I(t.$$.fragment,l),s=!1},d(l){l&&S(e),W(t),l&&S(i)}}}function xT(n){let e,t;return e=new ju({props:{validationError:mu(n[127],n[130]),onExpand:tr}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&12583936&&(l.validationError=mu(i[127],i[130])),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function YT(n){let e,t,i,s,l,r,o=!Kt(n[130]),a,f;const u=[Nbe,Rbe],d=[];function h(b,_){return _[0]&8389632&&(t=null),t==null&&(t=!!$n(b[128])),t?0:1}i=h(n,[-1,-1,-1,-1,-1]),s=d[i]=u[i](n);let p=!n[0]&&n[129]&&!n[11].selection.edit&&JT(n),g=o&&xT(n);return{c(){e=k("td"),s.c(),l=Ee(),p&&p.c(),r=Ee(),g&&g.c(),m(e,"class","jse-table-cell svelte-hs49xj"),m(e,"data-path",a=au(n[127])),$(e,"jse-selected-value",n[129]&&Xt(n[11].selection))},m(b,_){C(b,e,_),d[i].m(e,null),v(e,l),p&&p.m(e,null),v(e,r),g&&g.m(e,null),f=!0},p(b,_){let y=i;i=h(b,_),i===y?d[i].p(b,_):(ue(),I(d[y],1,1,()=>{d[y]=null}),ce(),s=d[i],s?s.p(b,_):(s=d[i]=u[i](b),s.c()),P(s,1),s.m(e,l)),!b[0]&&b[129]&&!b[11].selection.edit?p?(p.p(b,_),_[0]&8391681&&P(p,1)):(p=JT(b),p.c(),P(p,1),p.m(e,r)):p&&(ue(),I(p,1,1,()=>{p=null}),ce()),_[0]&12582912&&(o=!Kt(b[130])),o?g?(g.p(b,_),_[0]&12582912&&P(g,1)):(g=xT(b),g.c(),P(g,1),g.m(e,null)):g&&(ue(),I(g,1,1,()=>{g=null}),ce()),(!f||_[0]&8389632&&a!==(a=au(b[127])))&&m(e,"data-path",a),(!f||_[0]&8391680|_[1]&65536)&&$(e,"jse-selected-value",b[129]&&Xt(b[11].selection))},i(b){f||(P(s),P(p),P(g),f=!0)},o(b){I(s),I(p),I(g),f=!1},d(b){b&&S(e),d[i].d(),p&&p.d(),g&&g.d()}}}function GT(n){let e;return{c(){e=k("td"),m(e,"class","jse-table-cell svelte-hs49xj")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function XT(n){let e,t=n[122],i,s,l,r=KT(n),o=n[10],a=[];for(let d=0;d<o.length;d+=1)a[d]=YT(BT(n,o,d));const f=d=>I(a[d],1,1,()=>{a[d]=null});let u=n[24]&&GT();return{c(){e=k("tr"),r.c(),i=D();for(let d=0;d<a.length;d+=1)a[d].c();s=D(),u&&u.c(),m(e,"class","jse-table-row svelte-hs49xj")},m(d,h){C(d,e,h),r.m(e,null),v(e,i);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);v(e,s),u&&u.m(e,null),l=!0},p(d,h){if(h[0]&8388608&&jt(t,t=d[122])?(ue(),I(r,1,1,te),ce(),r=KT(d),r.c(),P(r,1),r.m(e,i)):r.p(d,h),h[0]&148900869|h[1]&66049){o=d[10];let p;for(p=0;p<o.length;p+=1){const g=BT(d,o,p);a[p]?(a[p].p(g,h),P(a[p],1)):(a[p]=YT(g),a[p].c(),P(a[p],1),a[p].m(e,s))}for(ue(),p=o.length;p<a.length;p+=1)f(p);ce()}d[24]?u||(u=GT(),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(d){if(!l){P(r);for(let h=0;h<o.length;h+=1)P(a[h]);l=!0}},o(d){I(r),a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)I(a[h]);l=!1},d(d){d&&S(e),r.d(d),Ot(a,d),u&&u.d()}}}function ZT(n){let e,t;return e=new Kl({props:{type:"info",message:`You pasted a JSON ${Array.isArray(n[18].contents)?"array":"object"} as text`,actions:[{icon:Eg,text:"Paste as JSON instead",onMouseDown:n[34]},{text:"Leave as is",onClick:n[35]}],onClose:n[75]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&262144&&(l.message=`You pasted a JSON ${Array.isArray(i[18].contents)?"array":"object"} as text`),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function QT(n){let e,t;return e=new Kl({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:n[0]?[]:[{icon:sd,text:"Ok",onClick:n[7]},{icon:jo,text:"Repair manually instead",onClick:n[36]}],onClose:n[6]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&1&&(l.actions=i[0]?[]:[{icon:sd,text:"Ok",onClick:i[7]},{icon:jo,text:"Repair manually instead",onClick:i[36]}]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Lbe(n){let e,t,i,s,l,r,o,a=n[1]&&zT(n);const f=[Ebe,Obe],u=[];function d(h,p){return h[26]?1:0}return i=d(n),s=u[i]=f[i](n),{c(){e=k("div"),a&&a.c(),t=D(),s.c(),m(e,"class","jse-table-mode svelte-hs49xj"),$(e,"no-main-menu",!n[1])},m(h,p){C(h,e,p),a&&a.m(e,null),v(e,t),u[i].m(e,null),n[76](e),l=!0,r||(o=[x(e,"mousedown",n[30]),x(e,"keydown",n[37]),x(e,"contextmenu",n[32])],r=!0)},p(h,p){h[1]?a?(a.p(h,p),p[0]&2&&P(a,1)):(a=zT(h),a.c(),P(a,1),a.m(e,t)):a&&(ue(),I(a,1,1,()=>{a=null}),ce()),s.p(h,p),(!l||p[0]&2)&&$(e,"no-main-menu",!h[1])},i(h){l||(P(a),P(s),l=!0)},o(h){I(a),I(s),l=!1},d(h){h&&S(e),a&&a.d(),u[i].d(),n[76](null),r=!1,Ke(o)}}}let pf=18;function Fbe(n,e,t){let i,s,l,r;const o=Gi("jsoneditor:TableMode"),{open:a}=Ji("simple-modal"),{openAbsolutePopup:f,closeAbsolutePopup:u}=Ji("absolute-popup"),d=B7(),h=lu(),p=lu(),g=typeof window>"u";o("isSSR:",g);let{readOnly:b}=e,{externalContent:_}=e,{mainMenuBar:y}=e,{escapeControlCharacters:w}=e,{escapeUnicodeCharacters:A}=e,{flattenColumns:M}=e,{parser:T}=e,{parseMemoizeOne:O}=e,{validator:E}=e,{validationParser:R}=e,{indentation:N}=e,{onChange:j}=e,{onChangeMode:L}=e,{onRenderValue:F}=e,{onRenderMenu:B}=e,{onFocus:V}=e,{onBlur:H}=e,{onSortModal:K}=e,{onTransformModal:X}=e,{onJSONEditorModal:J}=e,z,Z,Y,oe;ry({onMount:Pn,onDestroy:ls,getWindow:()=>Lu(Z),hasFocus:()=>he&&document.hasFocus()||rm(Z),onFocus:()=>{Ve=!0,V&&V()},onBlur:()=>{Ve=!1,H&&H()}});let re,Q,me,qe,be=1e4,Ie=[],he=!1,Ve=!1,Qe={},it=600,ye=0;function ie(fe){Y&&Y.scrollTo({top:Y.scrollTop,left:Y.scrollLeft})}function we(){_e.sortedColumn&&t(11,_e={..._e,sortedColumn:void 0})}function Ue(fe){o("updateSelection",fe);const We=typeof fe=="function"?fe(_e.selection):fe;sn(We,_e.selection)||t(11,_e={..._e,selection:We})}function Oe(fe){_e.selection===void 0||fe===void 0||_e.selection&&hl(fe,_e.selection.anchorPath)&&hl(fe,_e.selection.focusPath)||(o("clearing selection: path does not exist anymore",_e.selection),t(11,_e={..._e,selection:gf(fe,_e)}))}let _e=am(),Ye=!1;const St=void 0;function Et(fe){if(b)return;o("onSortByHeader",fe);const We=[],bt=fe.sortDirection===dl.desc?-1:1,vt=J7(re,We,fe.path,bt);bn(vt,(ae,Ge)=>({state:{...Ge,sortedColumn:fe}}))}const Fe=V7({onChange:fe=>{t(20,Le=fe)}});let Le=Fe.getState(),Pt;function tn(fe){const We={json:re},bt=ou(fe)?fe.text!==Q:!sn(We.json,fe.json);if(o("update external content",{isChanged:bt}),!bt)return;const vt={json:re,text:Q},ae=re,Ge=_e,zt=Q,Bt=Ye;if(ou(fe))try{t(8,re=O(fe.text)),t(16,Q=fe.text),t(19,Ye=!1),t(17,me=void 0)}catch(Ci){try{t(8,re=O(dr(fe.text))),t(16,Q=fe.text),t(19,Ye=!0),t(17,me=void 0)}catch{t(8,re=void 0),t(16,Q=_.text),t(19,Ye=!1),t(17,me=Q!==void 0&&Q!==""?ru(Q,Ci.message||Ci.toString()):void 0)}}else t(8,re=fe.json),t(16,Q=void 0),t(19,Ye=!1),t(17,me=void 0);Oe(re),we(),ct({previousJson:ae,previousState:Ge,previousText:zt,previousTextIsRepaired:Bt}),je(vt,null)}function ct({previousJson:fe,previousState:We,previousText:bt,previousTextIsRepaired:vt}){fe===void 0&&bt===void 0||(re!==void 0?fe!==void 0?Fe.add({undo:{patch:[{op:"replace",path:"",value:fe}],state:fs(We),json:void 0,text:bt,textIsRepaired:vt},redo:{patch:[{op:"replace",path:"",value:re}],state:fs(_e),json:void 0,text:Q,textIsRepaired:Ye}}):Fe.add({undo:{patch:void 0,json:void 0,text:bt,state:fs(We),textIsRepaired:vt},redo:{patch:void 0,json:re,state:fs(_e),text:Q,textIsRepaired:Ye}}):fe!==void 0&&Fe.add({undo:{patch:void 0,json:fe,state:fs(We),text:bt,textIsRepaired:vt},redo:{patch:void 0,json:void 0,text:Q,textIsRepaired:Ye,state:fs(_e)}}))}let Se=[];const Ut=Ud(z7);function un(fe,We,bt,vt){Cf(()=>{let ae;try{ae=Ut(fe,We,bt,vt)}catch(Ge){ae=[{path:[],message:"Failed to validate: "+Ge.message,severity:Yr.warning}]}sn(ae,Se)||(o("validationErrors changed:",ae),t(12,Se=ae))},ae=>o(`validationErrors updated in ${ae} ms`))}function pt(){return o("validate"),me?{parseError:me,isRepairable:!1}:(un(re,E,T,R),Kt(Se)?null:{validationErrors:Se})}function rn(fe,We){if(o("patch",fe,We),re===void 0)throw new Error("Cannot apply patch: no JSON");const bt={json:re},vt=re,ae=_e,Ge=Ye,zt=w7(re,fe),on=r7(re,_e,fe).json,Ci=que(_e,fe,Ie),Pr=typeof We=="function"?We(on,Ci):void 0;t(8,re=Pr&&Pr.json!==void 0?Pr.json:on);const th=Pr&&Pr.state!==void 0?Pr.state:Ci;t(11,_e=th),t(16,Q=void 0),t(19,Ye=!1),t(18,qe=void 0),t(17,me=void 0),Fe.add({undo:{patch:zt,json:void 0,text:void 0,state:fs(ae),textIsRepaired:Ge},redo:{patch:fe,json:void 0,state:fs(th),text:void 0,textIsRepaired:Ye}});const ea={json:re,previousJson:vt,undo:zt,redo:fe};return je(bt,ea),ea}function bn(fe,We){if(!b)return rn(fe,We)}function je(fe,We){fe.json===void 0&&(fe==null?void 0:fe.text)===void 0||(Q!==void 0?j({text:Q,json:void 0},fe,{contentErrors:pt(),patchResult:We}):re!==void 0&&j({text:void 0,json:re},fe,{contentErrors:pt(),patchResult:We}))}function Xe(fe){o("handleFind",fe)}function ot(fe){o("pasted json as text",fe),t(18,qe=fe)}function Dt(fe){const We=parseInt(fe[0]),bt=[String(We+1),...fe.slice(1)];return hl(re,bt)?$t(bt,!1):$t(fe,!1)}function Te(){oe&&(oe.focus(),oe.select())}function qn(fe){t(70,ye=fe.target.scrollTop)}function Mn(fe){const We=fe!=null&&fe.target?e7(fe.target):void 0;if(We){if(Fo(_e.selection)&&h7(_e.selection,We,Nn.value))return;Ue($t(We,!1)),Te(),fe.preventDefault()}}function Dn(){if(Fn(re)&&!Kt(re)&&!Kt(Ie)){const fe=["0",...Ie[0]];return $t(fe,!1)}else return}function Gt(){_e.selection||Ue(Dn())}function In(){if(Ye&&re!==void 0){const fe=_e,We=re,bt=Q,vt={json:re,text:Q},ae=Ye;t(16,Q=void 0),t(19,Ye=!1),Oe(re),ct({previousJson:We,previousState:fe,previousText:bt,previousTextIsRepaired:ae}),je(vt,null)}return{json:re,text:Q}}function ki(fe,We=!0){const bt=t0(fe,Ie,Qe,pf),vt=bt-ye,ae=Me(fe);o("scrollTo",{path:fe,top:bt,scrollTop:ye,elem:ae});const Ge=Y.getBoundingClientRect();if(ae&&!We){const Bt=ae.getBoundingClientRect();if(Bt.bottom>Ge.top&&Bt.top<Ge.bottom)return}const zt=-(Ge.height/4);return ae?new Promise(Bt=>{d(ae,{container:Y,offset:zt,duration:fb,callback:()=>{le(fe),Bt()}})}):new Promise(Bt=>{d(vt,{container:Y,offset:zt,duration:fb,callback:async()=>{await nn(),t0(fe,Ie,Qe,pf)!==bt?await ki(fe,We):le(fe),Bt()}})})}function ne(fe){const{rowIndex:We}=wl(fe,Ie),bt=t0(fe,Ie,Qe,pf),vt=bt+(Qe[We]||pf),ae=pf,Ge=Y.getBoundingClientRect(),zt=ye,Bt=ye+Ge.height-ae;if(vt>Bt){const on=vt-Bt;t(14,Y.scrollTop+=on,Y)}if(bt<zt){const on=zt-bt;t(14,Y.scrollTop-=on,Y)}}function le(fe){const We=Me(fe);if(We){const bt=Y.getBoundingClientRect(),vt=We.getBoundingClientRect();if(vt.right>bt.right){const ae=vt.right-bt.right;t(14,Y.scrollLeft+=ae,Y)}if(vt.left<bt.left){const ae=bt.left-vt.left;t(14,Y.scrollLeft-=ae,Y)}}}function ge(fe){ne(fe),le(fe)}function Me(fe){return Y?Y.querySelector(`td[data-path="${au(fe)}"]`):null}function Je({anchor:fe,left:We,top:bt,width:vt,height:ae,offsetTop:Ge,offsetLeft:zt,showTip:Bt}){const on={json:re,documentState:_e,parser:T,showTip:Bt,onEditValue:Ze,onEditRow:Tt,onToggleEnforceString:st,onCut:Xi,onCopy:Ce,onPaste:Qt,onRemove:Ft,onDuplicateRow:dn,onInsertBeforeRow:Kn,onInsertAfterRow:Bn,onRemoveRow:Wn,onCloseContextMenu(){u(Ci),Te()}};he=!0;const Ci=f(bbe,on,{left:We,top:bt,offsetTop:Ge,offsetLeft:zt,width:vt,height:ae,anchor:fe,closeOnOuterClick:!0,onClose:()=>{he=!1,Te()}})}function et(fe){if(!(b||Fo(_e.selection))){if(fe&&(fe.stopPropagation(),fe.preventDefault()),fe&&fe.type==="contextmenu"&&fe.target!==oe)Je({left:fe.clientX,top:fe.clientY,width:Hr,height:zr,showTip:!1});else{const We=Y==null?void 0:Y.querySelector(".jse-table-cell.jse-selected-value");if(We)Je({anchor:We,offsetTop:2,width:Hr,height:zr,showTip:!1});else{const bt=Y==null?void 0:Y.getBoundingClientRect();bt&&Je({top:bt.top+2,left:bt.left+2,width:Hr,height:zr,showTip:!1})}}return!1}}function tt(fe){b||Je({anchor:$I(fe.target,"BUTTON"),offsetTop:0,width:Hr,height:zr,showTip:!0})}function Ze(){if(b||!_e.selection)return;const fe=_e.selection.focusPath,We=dt(re,fe);$n(We)?Zi(fe):Ue($t(fe,!0))}function Tt(){if(b||!_e.selection)return;const We=_e.selection.focusPath.slice(0,1);Zi(We)}function st(){if(b||!Xt(_e.selection))return;const fe=_e.selection.focusPath,We=$e(fe),bt=dt(re,fe),vt=!Xr(bt,_e.enforceStringMap,We,T),ae=vt?String(bt):Du(String(bt),T);o("handleToggleEnforceString",{enforceString:vt,value:bt,updatedValue:ae}),bn([{op:"replace",path:We,value:ae}],(Ge,zt)=>({state:l7(zt,We,vt)}))}async function yt(){o("apply pasted json",qe);const{path:fe,contents:We}=qe;Ue($t(fe,!1)),await nn();const bt=[{op:"replace",path:$e(fe),value:We}];bn(bt)}function Qt(){a(H7,{},{...ja,styleWindow:{width:"450px"}},{onClose:()=>Te()})}function wi(){o("clear pasted json"),t(18,qe=void 0)}function Si(){L($i.text)}async function Xi(fe){await X7({json:re,documentState:_e,indentation:fe?N:void 0,readOnly:b,parser:T,onPatch:bn})}async function Ce(fe=!0){re!==void 0&&await Z7({json:re,documentState:_e,indentation:fe?N:void 0,parser:T})}function Ft(){$7({json:re,text:Q,documentState:_e,keepSelection:!0,readOnly:b,onChange:j,onPatch:bn})}function dn(){Kue({json:re,documentState:_e,columns:Ie,readOnly:b,onPatch:bn})}function Kn(){Jue({json:re,documentState:_e,columns:Ie,readOnly:b,onPatch:bn})}function Bn(){xue({json:re,documentState:_e,columns:Ie,readOnly:b,onPatch:bn})}function Wn(){Yue({json:re,documentState:_e,columns:Ie,readOnly:b,onPatch:bn})}async function Di(fe){await eR({char:fe,selectInside:!1,refJsonEditor:Z,json:re,documentState:_e,readOnly:b,parser:T,onPatch:bn,onReplaceJson:xl,onSelect:Ue})}function Fs(fe){const We=Xo(fe);if(o("keydown",{combo:We,key:fe.key}),We==="Ctrl+X"&&(fe.preventDefault(),Xi(!0)),We==="Ctrl+Shift+X"&&(fe.preventDefault(),Xi(!1)),We==="Ctrl+C"&&(fe.preventDefault(),Ce(!0)),We==="Ctrl+Shift+C"&&(fe.preventDefault(),Ce(!1)),We==="Ctrl+D"&&fe.preventDefault(),(We==="Delete"||We==="Backspace")&&(fe.preventDefault(),Ft()),We==="Insert"&&fe.preventDefault(),We==="Ctrl+A"&&fe.preventDefault(),We==="Ctrl+Q"&&et(fe),We==="ArrowLeft"&&(fe.preventDefault(),Gt(),_e.selection)){const vt=jue(Ie,_e.selection);Ue(vt),ge(vt.focusPath)}if(We==="ArrowRight"&&(fe.preventDefault(),Gt(),_e.selection)){const vt=Bue(Ie,_e.selection);Ue(vt),ge(vt.focusPath)}if(We==="ArrowUp"&&(fe.preventDefault(),Gt(),_e.selection)){const vt=Lue(Ie,_e.selection);Ue(vt),ge(vt.focusPath)}if(We==="ArrowDown"&&(fe.preventDefault(),Gt(),_e.selection)){const vt=Fue(re,Ie,_e.selection);Ue(vt),ge(vt.focusPath)}if(We==="Enter"&&_e.selection&&Xt(_e.selection)){fe.preventDefault();const vt=_e.selection.focusPath,ae=dt(re,vt);$n(ae)?Zi(vt):b||Ue({..._e.selection,edit:!0})}if(We.replace(/^Shift\+/,"").length===1&&_e.selection){fe.preventDefault(),Di(fe.key);return}if(We==="Ctrl+Enter"&&Xt(_e.selection)){const vt=dt(re,_e.selection.focusPath);ug(vt)&&window.open(String(vt),"_blank")}We==="Escape"&&_e.selection&&(fe.preventDefault(),Ue(void 0)),We==="Ctrl+F"&&fe.preventDefault(),We==="Ctrl+H"&&fe.preventDefault(),We==="Ctrl+Z"&&(fe.preventDefault(),di()),We==="Ctrl+Shift+Z"&&(fe.preventDefault(),fo())}function js(fe){fe.preventDefault();const We=fe.clipboardData.getData("text/plain");Q7({clipboardText:We,json:re,documentState:_e,readOnly:b,parser:T,onPatch:bn,onChangeText:Or,openRepairModal:oo})}function xl(fe,We){const bt=_e,vt=re,ae=Q,Ge={json:re,text:Q},zt=Ye,Bt=sl(re,_e,[],rr),on=typeof We=="function"?We(fe,Bt):void 0;t(8,re=on&&on.json!==void 0?on.json:fe),t(11,_e=on&&on.state!==void 0?on.state:Bt),t(16,Q=void 0),t(19,Ye=!1),t(17,me=void 0),Oe(re),ct({previousJson:vt,previousState:bt,previousText:ae,previousTextIsRepaired:zt}),je(Ge,null)}function Or(fe,We){o("handleChangeText");const bt=_e,vt=re,ae=Q,Ge={json:re,text:Q},zt=Ye;try{t(8,re=O(fe)),t(11,_e=sl(re,_e,[],rr)),t(16,Q=void 0),t(19,Ye=!1),t(17,me=void 0)}catch(on){try{t(8,re=O(dr(fe))),t(11,_e=sl(re,_e,[],rr)),t(16,Q=fe),t(19,Ye=!0),t(17,me=void 0)}catch{t(8,re=void 0),t(11,_e=am({json:re,expand:rr})),t(16,Q=fe),t(19,Ye=!1),t(17,me=Q!==""?ru(Q,on.message||on.toString()):void 0)}}if(typeof We=="function"){const on=We(re,_e);t(8,re=on&&on.json?on.json:re),t(11,_e=on&&on.state?on.state:_e)}Oe(re),ct({previousJson:vt,previousState:bt,previousText:ae,previousTextIsRepaired:zt}),je(Ge,null)}function zu(fe){o("select validation error",fe),Ue($t(fe.path,!1)),ki(fe.path)}function sf(fe){b||re===void 0||(he=!0,K({id:h,json:re,rootPath:fe,onSort:({operations:We,itemPath:bt,direction:vt})=>{o("onSort",We,fe,bt,vt),bn(We,(ae,Ge)=>({state:{...Ge,sortedColumn:{path:bt,sortDirection:vt===-1?dl.desc:dl.asc}}}))},onClose:()=>{he=!1,Te()}}))}function lf(fe){if(re===void 0)return;const{id:We,onTransform:bt,onClose:vt}=fe,ae=fe.rootPath||[];he=!0,X({id:We||p,json:re,rootPath:ae||[],onTransform:Ge=>{bt?bt({operations:Ge,json:re,transformedJson:jl(re,Ge)}):(o("onTransform",ae,Ge),bn(Ge))},onClose:()=>{he=!1,Te(),vt&&vt()}})}function Zi(fe){o("openJSONEditorModal",{path:fe}),he=!0,J({content:{json:dt(re,fe)},path:fe,onPatch:Pt.onPatch,onClose:()=>{he=!1,Te()}})}function oo(fe,We){a(W7,{text:fe,onParse:Cg,onRepair:WI,onApply:We},{...ja,styleWindow:{width:"600px",height:"500px"},styleContent:{padding:0,height:"100%"}},{onClose:()=>Te()})}function ao(){sf([])}function Ml(){lf({rootPath:[]})}function di(){if(b||!Fe.getState().canUndo)return;const fe=Fe.undo();if(!fe)return;const We={json:re,text:Q};t(8,re=fe.undo.patch?jl(re,fe.undo.patch):fe.undo.json),t(11,_e=fe.undo.state),t(16,Q=fe.undo.text),t(19,Ye=fe.undo.textIsRepaired),t(17,me=void 0),o("undo",{item:fe,json:re});const bt={json:re,previousJson:We.json,redo:fe.undo.patch,undo:fe.redo.patch};je(We,bt),Te(),_e.selection&&ki(_e.selection.focusPath,!1)}function fo(){if(b||!Fe.getState().canRedo)return;const fe=Fe.redo();if(!fe)return;const We={json:re,text:Q};t(8,re=fe.redo.patch?jl(re,fe.redo.patch):fe.redo.json),t(11,_e=fe.redo.state),t(16,Q=fe.redo.text),t(19,Ye=fe.redo.textIsRepaired),t(17,me=void 0),o("redo",{item:fe,json:re});const bt={json:re,previousJson:We.json,redo:fe.redo.patch,undo:fe.undo.patch};je(We,bt),Te(),_e.selection&&ki(_e.selection.focusPath,!1)}function Hu(fe){t(69,it=fe.getBoundingClientRect().height)}function Er(fe,We){t(68,Qe[We]=fe.getBoundingClientRect().height,Qe)}function qu(fe,We){return We?We.pointersMap[$e(fe)]===!0:!1}function Wu(fe){de[fe?"unshift":"push"](()=>{oe=fe,t(15,oe)})}const $o=()=>t(9,be=1/0),Uu=(fe,We)=>Er(We,fe);function Ku(fe){de[fe?"unshift":"push"](()=>{Y=fe,t(14,Y)})}const Ju=()=>{setTimeout(Te)};function xu(fe){de[fe?"unshift":"push"](()=>{Z=fe,t(13,Z)})}return n.$$set=fe=>{"readOnly"in fe&&t(0,b=fe.readOnly),"externalContent"in fe&&t(48,_=fe.externalContent),"mainMenuBar"in fe&&t(1,y=fe.mainMenuBar),"escapeControlCharacters"in fe&&t(49,w=fe.escapeControlCharacters),"escapeUnicodeCharacters"in fe&&t(50,A=fe.escapeUnicodeCharacters),"flattenColumns"in fe&&t(51,M=fe.flattenColumns),"parser"in fe&&t(2,T=fe.parser),"parseMemoizeOne"in fe&&t(52,O=fe.parseMemoizeOne),"validator"in fe&&t(53,E=fe.validator),"validationParser"in fe&&t(54,R=fe.validationParser),"indentation"in fe&&t(3,N=fe.indentation),"onChange"in fe&&t(55,j=fe.onChange),"onChangeMode"in fe&&t(4,L=fe.onChangeMode),"onRenderValue"in fe&&t(56,F=fe.onRenderValue),"onRenderMenu"in fe&&t(5,B=fe.onRenderMenu),"onFocus"in fe&&t(57,V=fe.onFocus),"onBlur"in fe&&t(58,H=fe.onBlur),"onSortModal"in fe&&t(59,K=fe.onSortModal),"onTransformModal"in fe&&t(60,X=fe.onTransformModal),"onJSONEditorModal"in fe&&t(61,J=fe.onJSONEditorModal)},n.$$.update=()=>{n.$$.dirty[1]&786432&&t(67,z=G2({escapeControlCharacters:w,escapeUnicodeCharacters:A})),n.$$.dirty[1]&131072&&tn(_),n.$$.dirty[0]&1792|n.$$.dirty[1]&1048576&&t(10,Ie=Fn(re)?Iue(Due(re,M,be),Ie):[]),n.$$.dirty[0]&1280&&t(25,i=re&&!Kt(Ie)),n.$$.dirty[0]&768&&t(24,s=Array.isArray(re)&&re.length>be),n.$$.dirty[0]&256|n.$$.dirty[2]&448&&t(23,l=Rue(ye,it,re,Qe,pf)),n.$$.dirty[0]&256&&ie(),n.$$.dirty[0]&2309|n.$$.dirty[1]&33554432|n.$$.dirty[2]&32&&t(21,Pt={readOnly:b,parser:T,normalization:z,getJson:()=>re,getDocumentState:()=>_e,findElement:Me,findNextInside:Dt,focus:Te,onPatch:bn,onSelect:Ue,onFind:Xe,onPasteJson:ot,onRenderValue:F}),n.$$.dirty[0]&260|n.$$.dirty[1]&12582912&&un(re,E,T,R),n.$$.dirty[0]&5120&&t(22,r=Vue(Se,Ie))},[b,y,T,N,L,B,Te,In,re,be,Ie,_e,Se,Z,Y,oe,Q,me,qe,Ye,Le,Pt,r,l,s,i,g,St,Et,qn,Mn,Je,et,tt,yt,wi,Si,Fs,js,zu,Zi,ao,Ml,di,fo,Hu,Er,qu,_,w,A,M,O,E,R,j,F,V,H,K,X,J,pt,rn,ki,Me,lf,z,Qe,it,ye,Wu,$o,Uu,Ku,Ju,xu]}class jbe extends ke{constructor(e){super(),ve(this,e,Fbe,Lbe,jt,{readOnly:0,externalContent:48,mainMenuBar:1,escapeControlCharacters:49,escapeUnicodeCharacters:50,flattenColumns:51,parser:2,parseMemoizeOne:52,validator:53,validationParser:54,indentation:3,onChange:55,onChangeMode:4,onRenderValue:56,onRenderMenu:5,onFocus:57,onBlur:58,onSortModal:59,onTransformModal:60,onJSONEditorModal:61,validate:62,patch:63,focus:6,acceptAutoRepair:7,scrollTo:64,findElement:65,openTransformModal:66},null,[-1,-1,-1,-1,-1])}get validate(){return this.$$.ctx[62]}get patch(){return this.$$.ctx[63]}get focus(){return this.$$.ctx[6]}get acceptAutoRepair(){return this.$$.ctx[7]}get scrollTo(){return this.$$.ctx[64]}get findElement(){return this.$$.ctx[65]}get openTransformModal(){return this.$$.ctx[66]}}const Bbe=jbe;function Vbe(n){let e,t,i={externalContent:n[0],readOnly:n[1],indentation:n[2],mainMenuBar:n[5],navigationBar:n[6],escapeControlCharacters:n[9],escapeUnicodeCharacters:n[10],parser:n[12],parseMemoizeOne:n[13],validator:n[14],validationParser:n[15],pathParser:n[16],onError:n[21],onChange:n[17],onChangeMode:n[20],onRenderValue:n[18],onClassName:n[19],onFocus:n[22],onBlur:n[23],onRenderMenu:n[30],onSortModal:n[24],onTransformModal:n[25],onJSONEditorModal:n[26]};return e=new my({props:i}),n[45](e),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,l){const r={};l[0]&1&&(r.externalContent=s[0]),l[0]&2&&(r.readOnly=s[1]),l[0]&4&&(r.indentation=s[2]),l[0]&32&&(r.mainMenuBar=s[5]),l[0]&64&&(r.navigationBar=s[6]),l[0]&512&&(r.escapeControlCharacters=s[9]),l[0]&1024&&(r.escapeUnicodeCharacters=s[10]),l[0]&4096&&(r.parser=s[12]),l[0]&8192&&(r.parseMemoizeOne=s[13]),l[0]&16384&&(r.validator=s[14]),l[0]&32768&&(r.validationParser=s[15]),l[0]&65536&&(r.pathParser=s[16]),l[0]&2097152&&(r.onError=s[21]),l[0]&131072&&(r.onChange=s[17]),l[0]&1048576&&(r.onChangeMode=s[20]),l[0]&262144&&(r.onRenderValue=s[18]),l[0]&524288&&(r.onClassName=s[19]),l[0]&4194304&&(r.onFocus=s[22]),l[0]&8388608&&(r.onBlur=s[23]),l[0]&1073741824&&(r.onRenderMenu=s[30]),l[0]&16777216&&(r.onSortModal=s[24]),l[0]&33554432&&(r.onTransformModal=s[25]),l[0]&67108864&&(r.onJSONEditorModal=s[26]),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[45](null),W(e,s)}}}function zbe(n){let e,t,i={externalContent:n[0],readOnly:n[1],mainMenuBar:n[5],escapeControlCharacters:n[9],escapeUnicodeCharacters:n[10],flattenColumns:n[11],parser:n[12],parseMemoizeOne:n[13],validator:n[14],validationParser:n[15],indentation:n[2],onChange:n[17],onChangeMode:n[20],onRenderValue:n[18],onFocus:n[22],onBlur:n[23],onRenderMenu:n[30],onSortModal:n[24],onTransformModal:n[25],onJSONEditorModal:n[26]};return e=new Bbe({props:i}),n[44](e),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,l){const r={};l[0]&1&&(r.externalContent=s[0]),l[0]&2&&(r.readOnly=s[1]),l[0]&32&&(r.mainMenuBar=s[5]),l[0]&512&&(r.escapeControlCharacters=s[9]),l[0]&1024&&(r.escapeUnicodeCharacters=s[10]),l[0]&2048&&(r.flattenColumns=s[11]),l[0]&4096&&(r.parser=s[12]),l[0]&8192&&(r.parseMemoizeOne=s[13]),l[0]&16384&&(r.validator=s[14]),l[0]&32768&&(r.validationParser=s[15]),l[0]&4&&(r.indentation=s[2]),l[0]&131072&&(r.onChange=s[17]),l[0]&1048576&&(r.onChangeMode=s[20]),l[0]&262144&&(r.onRenderValue=s[18]),l[0]&4194304&&(r.onFocus=s[22]),l[0]&8388608&&(r.onBlur=s[23]),l[0]&1073741824&&(r.onRenderMenu=s[30]),l[0]&16777216&&(r.onSortModal=s[24]),l[0]&33554432&&(r.onTransformModal=s[25]),l[0]&67108864&&(r.onJSONEditorModal=s[26]),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[44](null),W(e,s)}}}function Hbe(n){let e,t,i={externalContent:n[0],readOnly:n[1],indentation:n[2],tabSize:n[3],mainMenuBar:n[5],statusBar:n[7],askToFormat:n[8],escapeUnicodeCharacters:n[10],parser:n[12],validator:n[14],validationParser:n[15],onChange:n[17],onChangeMode:n[20],onError:n[21],onFocus:n[22],onBlur:n[23],onRenderMenu:n[30],onSortModal:n[24],onTransformModal:n[25]};return e=new Z0e({props:i}),n[43](e),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,l){const r={};l[0]&1&&(r.externalContent=s[0]),l[0]&2&&(r.readOnly=s[1]),l[0]&4&&(r.indentation=s[2]),l[0]&8&&(r.tabSize=s[3]),l[0]&32&&(r.mainMenuBar=s[5]),l[0]&128&&(r.statusBar=s[7]),l[0]&256&&(r.askToFormat=s[8]),l[0]&1024&&(r.escapeUnicodeCharacters=s[10]),l[0]&4096&&(r.parser=s[12]),l[0]&16384&&(r.validator=s[14]),l[0]&32768&&(r.validationParser=s[15]),l[0]&131072&&(r.onChange=s[17]),l[0]&1048576&&(r.onChangeMode=s[20]),l[0]&2097152&&(r.onError=s[21]),l[0]&4194304&&(r.onFocus=s[22]),l[0]&8388608&&(r.onBlur=s[23]),l[0]&1073741824&&(r.onRenderMenu=s[30]),l[0]&16777216&&(r.onSortModal=s[24]),l[0]&33554432&&(r.onTransformModal=s[25]),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[43](null),W(e,s)}}}function qbe(n){let e,t,i,s;const l=[Hbe,zbe,Vbe],r=[];function o(a,f){return a[4]===$i.text||a[4]==="code"?0:a[4]===$i.table?1:2}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),i=Ee()},m(a,f){r[e].m(a,f),C(a,i,f),s=!0},p(a,f){let u=e;e=o(a),e===u?r[e].p(a,f):(ue(),I(r[u],1,1,()=>{r[u]=null}),ce(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),P(t,1),t.m(i.parentNode,i))},i(a){s||(P(t),s=!0)},o(a){I(t),s=!1},d(a){r[e].d(a),a&&S(i)}}}function Wbe(n,e,t){let{content:i}=e,{readOnly:s}=e,{indentation:l}=e,{tabSize:r}=e,{mode:o}=e,{mainMenuBar:a}=e,{navigationBar:f}=e,{statusBar:u}=e,{askToFormat:d}=e,{escapeControlCharacters:h}=e,{escapeUnicodeCharacters:p}=e,{flattenColumns:g}=e,{parser:b}=e,{parseMemoizeOne:_}=e,{validator:y}=e,{validationParser:w}=e,{pathParser:A}=e,{insideModal:M}=e,{onChange:T}=e,{onRenderValue:O}=e,{onClassName:E}=e,{onRenderMenu:R}=e,{onChangeMode:N}=e,{onError:j}=e,{onFocus:L}=e,{onBlur:F}=e,{onSortModal:B}=e,{onTransformModal:V}=e,{onJSONEditorModal:H}=e,K,X,J,z;const Z={separator:!0};let Y;function oe(ie){if(K)return K.patch(ie);if(X)return X.patch(ie);if(J)return J.patch(ie)}function re(ie){if(K)return K.expand(ie);throw new Error(`Method expand is not available in mode "${o}"`)}function Q(ie){if(J)J.openTransformModal(ie);else if(K)K.openTransformModal(ie);else if(X)X.openTransformModal(ie);else throw new Error(`Method transform is not available in mode "${o}"`)}function me(){if(J)return J.validate();if(K)return K.validate();if(X)return X.validate();throw new Error(`Method validate is not available in mode "${o}"`)}function qe(){return K?K.acceptAutoRepair():i}function be(ie){if(K)return K.scrollTo(ie);if(X)return X.scrollTo(ie);throw new Error(`Method scrollTo is not available in mode "${o}"`)}function Ie(ie){if(K)return K.findElement(ie);if(X)return X.findElement(ie);throw new Error(`Method findElement is not available in mode "${o}"`)}function he(){J?J.focus():K?K.focus():X&&X.focus()}async function Ve(){J&&await J.refresh()}function Qe(ie){de[ie?"unshift":"push"](()=>{J=ie,t(29,J)})}function it(ie){de[ie?"unshift":"push"](()=>{X=ie,t(28,X)})}function ye(ie){de[ie?"unshift":"push"](()=>{K=ie,t(27,K)})}return n.$$set=ie=>{"content"in ie&&t(0,i=ie.content),"readOnly"in ie&&t(1,s=ie.readOnly),"indentation"in ie&&t(2,l=ie.indentation),"tabSize"in ie&&t(3,r=ie.tabSize),"mode"in ie&&t(4,o=ie.mode),"mainMenuBar"in ie&&t(5,a=ie.mainMenuBar),"navigationBar"in ie&&t(6,f=ie.navigationBar),"statusBar"in ie&&t(7,u=ie.statusBar),"askToFormat"in ie&&t(8,d=ie.askToFormat),"escapeControlCharacters"in ie&&t(9,h=ie.escapeControlCharacters),"escapeUnicodeCharacters"in ie&&t(10,p=ie.escapeUnicodeCharacters),"flattenColumns"in ie&&t(11,g=ie.flattenColumns),"parser"in ie&&t(12,b=ie.parser),"parseMemoizeOne"in ie&&t(13,_=ie.parseMemoizeOne),"validator"in ie&&t(14,y=ie.validator),"validationParser"in ie&&t(15,w=ie.validationParser),"pathParser"in ie&&t(16,A=ie.pathParser),"insideModal"in ie&&t(31,M=ie.insideModal),"onChange"in ie&&t(17,T=ie.onChange),"onRenderValue"in ie&&t(18,O=ie.onRenderValue),"onClassName"in ie&&t(19,E=ie.onClassName),"onRenderMenu"in ie&&t(32,R=ie.onRenderMenu),"onChangeMode"in ie&&t(20,N=ie.onChangeMode),"onError"in ie&&t(21,j=ie.onError),"onFocus"in ie&&t(22,L=ie.onFocus),"onBlur"in ie&&t(23,F=ie.onBlur),"onSortModal"in ie&&t(24,B=ie.onSortModal),"onTransformModal"in ie&&t(25,V=ie.onTransformModal),"onJSONEditorModal"in ie&&t(26,H=ie.onJSONEditorModal)},n.$$.update=()=>{n.$$.dirty[0]&1048592&&t(42,z=[{type:"button",text:"text",title:`Switch to text mode (current mode: ${o})`,className:"jse-group-button jse-first"+(o===$i.text||o==="code"?" jse-selected":""),onClick:()=>N($i.text)},{type:"button",text:"tree",title:`Switch to tree mode (current mode: ${o})`,className:"jse-group-button "+(o===$i.tree?" jse-selected":""),onClick:()=>N($i.tree)},{type:"button",text:"table",title:`Switch to table mode (current mode: ${o})`,className:"jse-group-button jse-last"+(o===$i.table?" jse-selected":""),onClick:()=>N($i.table)}]),n.$$.dirty[0]&16|n.$$.dirty[1]&2051&&t(30,Y=ie=>{const we=qoe(ie[0])?z.concat(ie):z.concat(Z,ie);return R(we,{mode:o,modal:M})||we})},[i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,T,O,E,N,j,L,F,B,V,H,K,X,J,Y,M,R,oe,re,Q,me,qe,be,Ie,he,Ve,z,Qe,it,ye]}class Ube extends ke{constructor(e){super(),ve(this,e,Wbe,qbe,De,{content:0,readOnly:1,indentation:2,tabSize:3,mode:4,mainMenuBar:5,navigationBar:6,statusBar:7,askToFormat:8,escapeControlCharacters:9,escapeUnicodeCharacters:10,flattenColumns:11,parser:12,parseMemoizeOne:13,validator:14,validationParser:15,pathParser:16,insideModal:31,onChange:17,onRenderValue:18,onClassName:19,onRenderMenu:32,onChangeMode:20,onError:21,onFocus:22,onBlur:23,onSortModal:24,onTransformModal:25,onJSONEditorModal:26,patch:33,expand:34,transform:35,validate:36,acceptAutoRepair:37,scrollTo:38,findElement:39,focus:40,refresh:41},null,[-1,-1])}get patch(){return this.$$.ctx[33]}get expand(){return this.$$.ctx[34]}get transform(){return this.$$.ctx[35]}get validate(){return this.$$.ctx[36]}get acceptAutoRepair(){return this.$$.ctx[37]}get scrollTo(){return this.$$.ctx[38]}get findElement(){return this.$$.ctx[39]}get focus(){return this.$$.ctx[40]}get refresh(){return this.$$.ctx[41]}}const bL=Ube;function $T(n){let e,t;return{c(){e=k("div"),t=G(n[20]),m(e,"class","jse-error svelte-1hibiw3")},m(i,s){C(i,e,s),v(e,t)},p(i,s){s[0]&1048576&&pe(t,i[20])},d(i){i&&S(e)}}}function eA(n){let e,t,i,s,l,r;return t=new Zt({props:{data:jle}}),{c(){e=k("button"),U(t.$$.fragment),i=G(" Back"),m(e,"type","button"),m(e,"class","jse-secondary svelte-1hibiw3")},m(o,a){C(o,e,a),q(t,e,null),v(e,i),s=!0,l||(r=x(e,"click",n[24]),l=!0)},p:te,i(o){s||(P(t.$$.fragment,o),s=!0)},o(o){I(t.$$.fragment,o),s=!1},d(o){o&&S(e),W(t),l=!1,r()}}}function Kbe(n){let e,t,i;return{c(){e=k("button"),e.textContent="Close",m(e,"type","button"),m(e,"class","jse-primary svelte-1hibiw3")},m(s,l){C(s,e,l),t||(i=[x(e,"click",n[24]),xe(_L.call(null,e))],t=!0)},p:te,d(s){s&&S(e),t=!1,Ke(i)}}}function Jbe(n){let e,t,i;return{c(){e=k("button"),e.textContent="Apply",m(e,"type","button"),m(e,"class","jse-primary svelte-1hibiw3")},m(s,l){C(s,e,l),t||(i=[x(e,"click",n[23]),xe(_L.call(null,e))],t=!0)},p:te,d(s){s&&S(e),t=!1,Ke(i)}}}function xbe(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A;t=new ay({props:{title:"Edit nested content "+(n[19].length>1?` (${n[19].length})`:""),onClose:n[24]}}),h=new bL({props:{mode:Ct(n[19]).mode,content:Ct(n[19]).content,readOnly:n[0],indentation:n[1],tabSize:n[2],statusBar:n[5],askToFormat:n[6],mainMenuBar:n[3],navigationBar:n[4],escapeControlCharacters:n[7],escapeUnicodeCharacters:n[8],flattenColumns:n[9],parser:n[10],parseMemoizeOne:n[21],validator:n[11],validationParser:n[12],pathParser:n[13],insideModal:!0,onError:n[27],onChange:n[25],onChangeMode:n[26],onRenderValue:n[14],onClassName:n[15],onFocus:tr,onBlur:tr,onRenderMenu:n[16],onSortModal:n[17],onTransformModal:n[18],onJSONEditorModal:n[28]}});let M=n[20]&&$T(n),T=n[19].length>1&&eA(n);function O(N,j){return N[0]?Kbe:Jbe}let E=O(n),R=E(n);return{c(){e=k("div"),U(t.$$.fragment),i=D(),s=k("div"),l=k("div"),l.innerHTML='<div class="jse-label-inner svelte-1hibiw3">Path</div>',r=D(),o=k("input"),a=D(),f=k("div"),f.innerHTML='<div class="jse-label-inner svelte-1hibiw3">Contents</div>',u=D(),d=k("div"),U(h.$$.fragment),p=D(),g=k("div"),M&&M.c(),b=D(),T&&T.c(),_=D(),R.c(),m(l,"class","jse-label svelte-1hibiw3"),m(o,"class","jse-path svelte-1hibiw3"),m(o,"type","text"),o.readOnly=!0,m(o,"title","Selected path"),o.value=n[22],m(f,"class","jse-label svelte-1hibiw3"),m(d,"class","jse-modal-inline-editor svelte-1hibiw3"),m(g,"class","jse-actions svelte-1hibiw3"),m(s,"class","jse-modal-contents svelte-1hibiw3"),m(e,"class","jse-modal jse-jsoneditor-modal svelte-1hibiw3")},m(N,j){C(N,e,j),q(t,e,null),v(e,i),v(e,s),v(s,l),v(s,r),v(s,o),v(s,a),v(s,f),v(s,u),v(s,d),q(h,d,null),v(s,p),v(s,g),M&&M.m(g,null),v(g,b),T&&T.m(g,null),v(g,_),R.m(g,null),y=!0,w||(A=xe(Bg.call(null,e,n[24])),w=!0)},p(N,j){const L={};j[0]&524288&&(L.title="Edit nested content "+(N[19].length>1?` (${N[19].length})`:"")),t.$set(L),(!y||j[0]&4194304&&o.value!==N[22])&&(o.value=N[22]);const F={};j[0]&524288&&(F.mode=Ct(N[19]).mode),j[0]&524288&&(F.content=Ct(N[19]).content),j[0]&1&&(F.readOnly=N[0]),j[0]&2&&(F.indentation=N[1]),j[0]&4&&(F.tabSize=N[2]),j[0]&32&&(F.statusBar=N[5]),j[0]&64&&(F.askToFormat=N[6]),j[0]&8&&(F.mainMenuBar=N[3]),j[0]&16&&(F.navigationBar=N[4]),j[0]&128&&(F.escapeControlCharacters=N[7]),j[0]&256&&(F.escapeUnicodeCharacters=N[8]),j[0]&512&&(F.flattenColumns=N[9]),j[0]&1024&&(F.parser=N[10]),j[0]&2097152&&(F.parseMemoizeOne=N[21]),j[0]&2048&&(F.validator=N[11]),j[0]&4096&&(F.validationParser=N[12]),j[0]&8192&&(F.pathParser=N[13]),j[0]&16384&&(F.onRenderValue=N[14]),j[0]&32768&&(F.onClassName=N[15]),j[0]&65536&&(F.onRenderMenu=N[16]),j[0]&131072&&(F.onSortModal=N[17]),j[0]&262144&&(F.onTransformModal=N[18]),h.$set(F),N[20]?M?M.p(N,j):(M=$T(N),M.c(),M.m(g,b)):M&&(M.d(1),M=null),N[19].length>1?T?(T.p(N,j),j[0]&524288&&P(T,1)):(T=eA(N),T.c(),P(T,1),T.m(g,_)):T&&(ue(),I(T,1,1,()=>{T=null}),ce()),E===(E=O(N))&&R?R.p(N,j):(R.d(1),R=E(N),R&&(R.c(),R.m(g,null)))},i(N){y||(P(t.$$.fragment,N),P(h.$$.fragment,N),P(T),y=!0)},o(N){I(t.$$.fragment,N),I(h.$$.fragment,N),I(T),y=!1},d(N){N&&S(e),W(t),W(h),M&&M.d(),T&&T.d(),R.d(),w=!1,A()}}}function _L(n){n.focus()}function Ybe(n,e,t){let i,s,l;const r=Gi("jsoneditor:JSONEditorModal");let{content:o}=e,{path:a}=e,{onPatch:f}=e,{readOnly:u}=e,{indentation:d}=e,{tabSize:h}=e,{mainMenuBar:p}=e,{navigationBar:g}=e,{statusBar:b}=e,{askToFormat:_}=e,{escapeControlCharacters:y}=e,{escapeUnicodeCharacters:w}=e,{flattenColumns:A}=e,{parser:M}=e,{validator:T}=e,{validationParser:O}=e,{pathParser:E}=e,{onRenderValue:R}=e,{onClassName:N}=e,{onRenderMenu:j}=e,{onSortModal:L}=e,{onTransformModal:F}=e;const{close:B}=Ji("simple-modal");let H=[{mode:X(o),content:o,relativePath:a}],K;function X(Q){return Y2(Q)&&Fn(Q.json)?$i.table:$i.tree}function J(){if(r("handleApply"),!u)try{t(20,K=void 0);const Q=[{op:"replace",path:$e(Ct(H).relativePath),value:AC(Ct(H).content,M).json}];if(H.length>1){const me=H[H.length-2].content,qe=AC(me,M).json,be={json:jl(qe,Q)};t(19,H=en(H)),Z(be)}else f(Q),B()}catch(Q){t(20,K=Q.toString())}}function z(){r("handleClose"),H.length>1?(t(19,H=en(H)),t(20,K=void 0)):B()}function Z(Q){r("handleChange",Q);const me={...Ct(H),content:Q};t(19,H=[...en(H),me])}function Y(Q){r("handleChangeMode",Q);const me={...Ct(H),mode:Q};t(19,H=[...en(H),me])}function oe(Q){t(20,K=Q.toString()),console.error(Q)}function re({content:Q,path:me}){r("handleJSONEditorModal",{content:Q,path:me});const qe={mode:X(Q),content:Q,relativePath:me};t(19,H=[...H,qe])}return n.$$set=Q=>{"content"in Q&&t(29,o=Q.content),"path"in Q&&t(30,a=Q.path),"onPatch"in Q&&t(31,f=Q.onPatch),"readOnly"in Q&&t(0,u=Q.readOnly),"indentation"in Q&&t(1,d=Q.indentation),"tabSize"in Q&&t(2,h=Q.tabSize),"mainMenuBar"in Q&&t(3,p=Q.mainMenuBar),"navigationBar"in Q&&t(4,g=Q.navigationBar),"statusBar"in Q&&t(5,b=Q.statusBar),"askToFormat"in Q&&t(6,_=Q.askToFormat),"escapeControlCharacters"in Q&&t(7,y=Q.escapeControlCharacters),"escapeUnicodeCharacters"in Q&&t(8,w=Q.escapeUnicodeCharacters),"flattenColumns"in Q&&t(9,A=Q.flattenColumns),"parser"in Q&&t(10,M=Q.parser),"validator"in Q&&t(11,T=Q.validator),"validationParser"in Q&&t(12,O=Q.validationParser),"pathParser"in Q&&t(13,E=Q.pathParser),"onRenderValue"in Q&&t(14,R=Q.onRenderValue),"onClassName"in Q&&t(15,N=Q.onClassName),"onRenderMenu"in Q&&t(16,j=Q.onRenderMenu),"onSortModal"in Q&&t(17,L=Q.onSortModal),"onTransformModal"in Q&&t(18,F=Q.onTransformModal)},n.$$.update=()=>{n.$$.dirty[0]&524288&&t(32,i=H.flatMap(Q=>Q.relativePath)),n.$$.dirty[1]&2&&t(22,s=Kt(i)?"(whole document)":Rs(i)),n.$$.dirty[0]&1024&&t(21,l=Ud(M.parse))},[u,d,h,p,g,b,_,y,w,A,M,T,O,E,R,N,j,L,F,H,K,l,s,J,z,Z,Y,oe,re,o,a,f,i]}class Gbe extends ke{constructor(e){super(),ve(this,e,Ybe,xbe,jt,{content:29,path:30,onPatch:31,readOnly:0,indentation:1,tabSize:2,mainMenuBar:3,navigationBar:4,statusBar:5,askToFormat:6,escapeControlCharacters:7,escapeUnicodeCharacters:8,flattenColumns:9,parser:10,validator:11,validationParser:12,pathParser:13,onRenderValue:14,onClassName:15,onRenderMenu:16,onSortModal:17,onTransformModal:18},null,[-1,-1])}}const Xbe=Gbe;function Zbe(n,e,t){const i=Ji("simple-modal"),s=i.open,l=i.close;return[s,l]}class Qbe extends ke{constructor(e){super(),ve(this,e,Zbe,null,jt,{open:0,close:1})}get open(){return this.$$.ctx[0]}get close(){return this.$$.ctx[1]}}const $be=Qbe;function tA(n){let e,t,i={mode:n[1],content:n[0],readOnly:n[2],indentation:n[3],tabSize:n[4],statusBar:n[7],askToFormat:n[8],mainMenuBar:n[5],navigationBar:n[6],escapeControlCharacters:n[9],escapeUnicodeCharacters:n[10],flattenColumns:n[11],parser:n[12],parseMemoizeOne:n[25],validator:n[13],validationParser:n[14],pathParser:n[15],insideModal:!1,onError:n[19],onChange:n[26],onChangeMode:n[29],onRenderValue:n[16],onClassName:n[17],onFocus:n[27],onBlur:n[28],onRenderMenu:n[18],onSortModal:n[31],onTransformModal:n[30],onJSONEditorModal:n[32]};return e=new bL({props:i}),n[57](e),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,l){const r={};l[0]&2&&(r.mode=s[1]),l[0]&1&&(r.content=s[0]),l[0]&4&&(r.readOnly=s[2]),l[0]&8&&(r.indentation=s[3]),l[0]&16&&(r.tabSize=s[4]),l[0]&128&&(r.statusBar=s[7]),l[0]&256&&(r.askToFormat=s[8]),l[0]&32&&(r.mainMenuBar=s[5]),l[0]&64&&(r.navigationBar=s[6]),l[0]&512&&(r.escapeControlCharacters=s[9]),l[0]&1024&&(r.escapeUnicodeCharacters=s[10]),l[0]&2048&&(r.flattenColumns=s[11]),l[0]&4096&&(r.parser=s[12]),l[0]&33554432&&(r.parseMemoizeOne=s[25]),l[0]&8192&&(r.validator=s[13]),l[0]&16384&&(r.validationParser=s[14]),l[0]&32768&&(r.pathParser=s[15]),l[0]&524288&&(r.onError=s[19]),l[0]&65536&&(r.onRenderValue=s[16]),l[0]&131072&&(r.onClassName=s[17]),l[0]&262144&&(r.onRenderMenu=s[18]),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[57](null),W(e,s)}}}function e_e(n){let e,t,i,s,l=n[20],r;function o(u){n[56](u)}let a={};n[23]!==void 0&&(a.open=n[23]),e=new $be({props:a}),de.push(()=>Ne(e,"open",o));let f=tA(n);return{c(){U(e.$$.fragment),i=D(),s=k("div"),f.c(),m(s,"class","jse-main svelte-sxaskb"),$(s,"jse-focus",n[21])},m(u,d){q(e,u,d),C(u,i,d),C(u,s,d),f.m(s,null),r=!0},p(u,d){const h={};!t&&d[0]&8388608&&(t=!0,h.open=u[23],Be(()=>t=!1)),e.$set(h),d[0]&1048576&&jt(l,l=u[20])?(ue(),I(f,1,1,te),ce(),f=tA(u),f.c(),P(f,1),f.m(s,null)):f.p(u,d),(!r||d[0]&2097152)&&$(s,"jse-focus",u[21])},i(u){r||(P(e.$$.fragment,u),P(f),r=!0)},o(u){I(e.$$.fragment,u),I(f),r=!1},d(u){W(e,u),u&&S(i),u&&S(s),f.d(u)}}}function t_e(n){let e,t;return e=new KD({props:{closeOnEsc:!1,$$slots:{default:[e_e]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&50331647|s[1]&536870912&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function n_e(n){var l;let e,t;const i=[{show:(l=n[24])==null?void 0:l.component},FS,{closeOnEsc:!1}];let s={$$slots:{default:[t_e]},$$scope:{ctx:n}};for(let r=0;r<i.length;r+=1)s=ft(s,i[r]);return e=new KD({props:s}),e.$on("close",n[33]),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),t=!0},p(r,o){var f;const a=o[0]&16777216?kn(i,[o[0]&16777216&&{show:(f=r[24])==null?void 0:f.component},o&0&&ri(FS),i[2]]):{};o[0]&50331647|o[1]&536870912&&(a.$$scope={dirty:o,ctx:r}),e.$set(a)},i(r){t||(P(e.$$.fragment,r),t=!0)},o(r){I(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function i_e(n){let e,t;return e=new t7({props:{$$slots:{default:[n_e]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&67108863|s[1]&536870912&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function s_e(n,e,t){let i;const s=Gi("jsoneditor:JSONEditor");let{content:l={text:""}}=e,{readOnly:r=!1}=e,{indentation:o=2}=e,{tabSize:a=4}=e,{mode:f=$i.tree}=e,{mainMenuBar:u=!0}=e,{navigationBar:d=!0}=e,{statusBar:h=!0}=e,{askToFormat:p=!0}=e,{escapeControlCharacters:g=!1}=e,{escapeUnicodeCharacters:b=!1}=e,{flattenColumns:_=!0}=e,{parser:y=JSON}=e,{validator:w=null}=e,{validationParser:A=JSON}=e,{pathParser:M={parse:Zie,stringify:Rs}}=e,{queryLanguages:T=[nse]}=e,{queryLanguageId:O=T[0].id}=e,{onChangeQueryLanguage:E=tr}=e,{onChange:R=null}=e,{onRenderValue:N=Ile}=e,{onClassName:j=()=>{}}=e,{onRenderMenu:L=tr}=e,{onChangeMode:F=tr}=e,{onError:B=Se=>{console.error(Se),alert(Se.toString())}}=e,{onFocus:V=tr}=e,{onBlur:H=tr}=e,K=Ic(),X=!1,J,z,Z=null,Y=y;function oe(){return l}async function re(Se){s("set");const Ut=U1(Se);if(Ut)throw new Error(Ut);t(20,K=Ic()),t(0,l=Se),await nn()}async function Q(Se){s("update");const Ut=U1(Se);if(Ut)throw new Error(Ut);t(0,l=Se),await nn()}async function me(Se){if(ou(l))try{t(0,l={json:y.parse(l.text),text:void 0})}catch{throw new Error("Cannot apply patch: current document contains invalid JSON")}const Ut=J.patch(Se);return await nn(),Ut}async function qe(Se){J.expand(Se),await nn()}function be(Se){J.transform(Se)}function Ie(){return J.validate()}async function he(){const Se=J.acceptAutoRepair();return await nn(),Se}async function Ve(Se){await J.scrollTo(Se)}function Qe(Se){return J.findElement(Se)}async function it(){J.focus(),await nn()}async function ye(){await J.refresh()}async function ie(Se){this.$set(Se),await nn()}async function we(){this.$destroy(),await nn()}function Ue(Se,Ut,un){t(0,l=Se),R&&R(Se,Ut,un)}function Oe(){t(21,X=!0),V&&V()}function _e(){t(21,X=!1),H&&H()}async function Ye(Se){f!==Se&&(t(1,f=Se),await nn(),it(),F(Se))}function St(Se){s("handleChangeQueryLanguage",Se),t(34,O=Se),E(Se)}function Et({id:Se,json:Ut,rootPath:un,onTransform:pt,onClose:rn}){r||z(_ce,{id:Se,json:Ut,rootPath:un,indentation:o,escapeControlCharacters:g,escapeUnicodeCharacters:b,parser:y,parseMemoizeOne:i,validationParser:A,pathParser:M,queryLanguages:T,queryLanguageId:O,onChangeQueryLanguage:St,onRenderValue:N,onClassName:j,onTransform:pt},OG,{onClose:rn})}function Fe({id:Se,json:Ut,rootPath:un,onSort:pt,onClose:rn}){r||z(Sce,{id:Se,json:Ut,rootPath:un,onSort:pt},AG,{onClose:rn})}function Le({content:Se,path:Ut,onPatch:un,onClose:pt}){s("onJSONEditorModal",{content:Se,path:Ut}),t(24,Z={component:UD(Xbe,{content:Se,path:Ut,onPatch:un,readOnly:r,indentation:o,tabSize:a,mainMenuBar:u,navigationBar:d,statusBar:h,askToFormat:p,escapeControlCharacters:g,escapeUnicodeCharacters:b,flattenColumns:_,parser:y,validator:void 0,validationParser:A,pathParser:M,onRenderValue:N,onClassName:j,onRenderMenu:L,onSortModal:Fe,onTransformModal:Et}),callbacks:{onClose:pt}})}function Pt(){var Se,Ut;(Ut=(Se=Z==null?void 0:Z.callbacks)==null?void 0:Se.onClose)==null||Ut.call(Se),t(24,Z=null)}function tn(Se){z=Se,t(23,z)}function ct(Se){de[Se?"unshift":"push"](()=>{J=Se,t(22,J)})}return n.$$set=Se=>{"content"in Se&&t(0,l=Se.content),"readOnly"in Se&&t(2,r=Se.readOnly),"indentation"in Se&&t(3,o=Se.indentation),"tabSize"in Se&&t(4,a=Se.tabSize),"mode"in Se&&t(1,f=Se.mode),"mainMenuBar"in Se&&t(5,u=Se.mainMenuBar),"navigationBar"in Se&&t(6,d=Se.navigationBar),"statusBar"in Se&&t(7,h=Se.statusBar),"askToFormat"in Se&&t(8,p=Se.askToFormat),"escapeControlCharacters"in Se&&t(9,g=Se.escapeControlCharacters),"escapeUnicodeCharacters"in Se&&t(10,b=Se.escapeUnicodeCharacters),"flattenColumns"in Se&&t(11,_=Se.flattenColumns),"parser"in Se&&t(12,y=Se.parser),"validator"in Se&&t(13,w=Se.validator),"validationParser"in Se&&t(14,A=Se.validationParser),"pathParser"in Se&&t(15,M=Se.pathParser),"queryLanguages"in Se&&t(35,T=Se.queryLanguages),"queryLanguageId"in Se&&t(34,O=Se.queryLanguageId),"onChangeQueryLanguage"in Se&&t(36,E=Se.onChangeQueryLanguage),"onChange"in Se&&t(37,R=Se.onChange),"onRenderValue"in Se&&t(16,N=Se.onRenderValue),"onClassName"in Se&&t(17,j=Se.onClassName),"onRenderMenu"in Se&&t(18,L=Se.onRenderMenu),"onChangeMode"in Se&&t(38,F=Se.onChangeMode),"onError"in Se&&t(19,B=Se.onError),"onFocus"in Se&&t(39,V=Se.onFocus),"onBlur"in Se&&t(40,H=Se.onBlur)},n.$$.update=()=>{if(n.$$.dirty[0]&4097|n.$$.dirty[1]&16777216&&(Eie(y,Y)||(s("parser changed, recreate editor"),Y2(l)&&t(0,l={json:y.parse(Y.stringify(l.json))}),t(55,Y=y),t(20,K=Ic()))),n.$$.dirty[0]&1){const Se=U1(l);Se&&console.error("Error: "+Se)}n.$$.dirty[0]&4096&&t(25,i=Ud(y.parse)),n.$$.dirty[0]&2&&(s("mode changed to",f),f==="code"&&console.warn('Deprecation warning: "code" mode is renamed to "text". Please use mode="text" instead.'))},[l,f,r,o,a,u,d,h,p,g,b,_,y,w,A,M,N,j,L,B,K,X,J,z,Z,i,Ue,Oe,_e,Ye,Et,Fe,Le,Pt,O,T,E,R,F,V,H,oe,re,Q,me,qe,be,Ie,he,Ve,Qe,it,ye,ie,we,Y,tn,ct]}class l_e extends ke{constructor(e){super(),ve(this,e,s_e,i_e,jt,{content:0,readOnly:2,indentation:3,tabSize:4,mode:1,mainMenuBar:5,navigationBar:6,statusBar:7,askToFormat:8,escapeControlCharacters:9,escapeUnicodeCharacters:10,flattenColumns:11,parser:12,validator:13,validationParser:14,pathParser:15,queryLanguages:35,queryLanguageId:34,onChangeQueryLanguage:36,onChange:37,onRenderValue:16,onClassName:17,onRenderMenu:18,onChangeMode:38,onError:19,onFocus:39,onBlur:40,get:41,set:42,update:43,patch:44,expand:45,transform:46,validate:47,acceptAutoRepair:48,scrollTo:49,findElement:50,focus:51,refresh:52,updateProps:53,destroy:54},null,[-1,-1])}get get(){return this.$$.ctx[41]}get set(){return this.$$.ctx[42]}get update(){return this.$$.ctx[43]}get patch(){return this.$$.ctx[44]}get expand(){return this.$$.ctx[45]}get transform(){return this.$$.ctx[46]}get validate(){return this.$$.ctx[47]}get acceptAutoRepair(){return this.$$.ctx[48]}get scrollTo(){return this.$$.ctx[49]}get findElement(){return this.$$.ctx[50]}get focus(){return this.$$.ctx[51]}get refresh(){return this.$$.ctx[52]}get updateProps(){return this.$$.ctx[53]}get destroy(){return this.$$.ctx[54]}}const r_e=l_e;function o_e(n){let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h,p;function g(_){n[4](_)}let b={mode:"text",mainMenuBar:!1,navigationBar:!1,onChange:n[3]};return n[2]!==void 0&&(b.content=n[2]),d=new r_e({props:b}),de.push(()=>Ne(d,"content",g)),{c(){e=k("label"),t=k("i"),s=D(),l=k("span"),o=G(r),f=D(),u=k("div"),U(d.$$.fragment),m(t,"class",i=vn(ee.getFieldTypeIcon(n[1].type))+" svelte-bx5cda"),m(l,"class","txt"),m(e,"for",a=n[5]),m(u,"class","editor svelte-bx5cda")},m(_,y){C(_,e,y),v(e,t),v(e,s),v(e,l),v(l,o),C(_,f,y),C(_,u,y),q(d,u,null),p=!0},p(_,y){(!p||y&2&&i!==(i=vn(ee.getFieldTypeIcon(_[1].type))+" svelte-bx5cda"))&&m(t,"class",i),(!p||y&2)&&r!==(r=_[1].name+"")&&pe(o,r),(!p||y&32&&a!==(a=_[5]))&&m(e,"for",a);const w={};y&5&&(w.onChange=_[3]),!h&&y&4&&(h=!0,w.content=_[2],Be(()=>h=!1)),d.$set(w)},i(_){p||(P(d.$$.fragment,_),p=!0)},o(_){I(d.$$.fragment,_),p=!1},d(_){_&&S(e),_&&S(f),_&&S(u),W(d)}}}function a_e(n){let e,t;return e=new ze({props:{class:"form-field "+(n[1].required?"required":"")+" json",name:n[1].name,$$slots:{default:[o_e,({uniqueId:i})=>({5:i}),({uniqueId:i})=>i?32:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")+" json"),s&2&&(l.name=i[1].name),s&103&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function f_e(n,e,t){let{field:i=new Ns}=e,{value:s=void 0}=e,l={text:void 0,json:s};const r=a=>{t(2,l=a),t(0,s=l.text)};function o(a){l=a,t(2,l)}return n.$$set=a=>{"field"in a&&t(1,i=a.field),"value"in a&&t(0,s=a.value)},[s,i,l,r,o]}class u_e extends ke{constructor(e){super(),ve(this,e,f_e,a_e,De,{field:1,value:0})}}function c_e(n){let e,t;return{c(){e=k("i"),m(e,"class","ri-file-line"),m(e,"alt",t=n[0].name)},m(i,s){C(i,e,s)},p(i,s){s&1&&t!==(t=i[0].name)&&m(e,"alt",t)},d(i){i&&S(e)}}}function d_e(n){let e,t,i;return{c(){e=k("img"),m(e,"draggable",!1),Ss(e.src,t=n[2])||m(e,"src",t),m(e,"width",n[1]),m(e,"height",n[1]),m(e,"alt",i=n[0].name)},m(s,l){C(s,e,l)},p(s,l){l&4&&!Ss(e.src,t=s[2])&&m(e,"src",t),l&2&&m(e,"width",s[1]),l&2&&m(e,"height",s[1]),l&1&&i!==(i=s[0].name)&&m(e,"alt",i)},d(s){s&&S(e)}}}function h_e(n){let e;function t(l,r){return l[2]?d_e:c_e}let i=t(n),s=i(n);return{c(){s.c(),e=Ee()},m(l,r){s.m(l,r),C(l,e,r)},p(l,[r]){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},i:te,o:te,d(l){s.d(l),l&&S(e)}}}function p_e(n,e,t){let i,{file:s}=e,{size:l=50}=e;function r(){ee.hasImageExtension(s==null?void 0:s.name)?ee.generateThumb(s,l,l).then(o=>{t(2,i=o)}).catch(o=>{t(2,i=""),console.warn("Unable to generate thumb: ",o)}):t(2,i="")}return n.$$set=o=>{"file"in o&&t(0,s=o.file),"size"in o&&t(1,l=o.size)},n.$$.update=()=>{n.$$.dirty&1&&typeof s<"u"&&r()},t(2,i=""),[s,l,i]}class m_e extends ke{constructor(e){super(),ve(this,e,p_e,h_e,De,{file:0,size:1})}}function nA(n){let e;function t(l,r){return l[4]==="image"?b_e:g_e}let i=t(n),s=i(n);return{c(){s.c(),e=Ee()},m(l,r){s.m(l,r),C(l,e,r)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&S(e)}}}function g_e(n){let e,t;return{c(){e=k("object"),t=G("Cannot preview the file."),m(e,"title",n[2]),m(e,"data",n[1])},m(i,s){C(i,e,s),v(e,t)},p(i,s){s&4&&m(e,"title",i[2]),s&2&&m(e,"data",i[1])},d(i){i&&S(e)}}}function b_e(n){let e,t,i;return{c(){e=k("img"),Ss(e.src,t=n[1])||m(e,"src",t),m(e,"alt",i="Preview "+n[2])},m(s,l){C(s,e,l)},p(s,l){l&2&&!Ss(e.src,t=s[1])&&m(e,"src",t),l&4&&i!==(i="Preview "+s[2])&&m(e,"alt",i)},d(s){s&&S(e)}}}function __e(n){var s;let e=(s=n[3])==null?void 0:s.isActive(),t,i=e&&nA(n);return{c(){i&&i.c(),t=Ee()},m(l,r){i&&i.m(l,r),C(l,t,r)},p(l,r){var o;r&8&&(e=(o=l[3])==null?void 0:o.isActive()),e?i?i.p(l,r):(i=nA(l),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(l){i&&i.d(l),l&&S(t)}}}function y_e(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-close-line"></i>',m(e,"type","button"),m(e,"class","overlay-close")},m(s,l){C(s,e,l),t||(i=x(e,"click",qt(n[0])),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function v_e(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("a"),t=G(n[2]),i=D(),s=k("i"),l=D(),r=k("div"),o=D(),a=k("button"),a.textContent="Close",m(s,"class","ri-external-link-line"),m(e,"href",n[1]),m(e,"title",n[2]),m(e,"target","_blank"),m(e,"rel","noreferrer noopener"),m(e,"class","link-hint txt-ellipsis inline-flex"),m(r,"class","flex-fill"),m(a,"type","button"),m(a,"class","btn btn-transparent")},m(d,h){C(d,e,h),v(e,t),v(e,i),v(e,s),C(d,l,h),C(d,r,h),C(d,o,h),C(d,a,h),f||(u=x(a,"click",n[0]),f=!0)},p(d,h){h&4&&pe(t,d[2]),h&2&&m(e,"href",d[1]),h&4&&m(e,"title",d[2])},d(d){d&&S(e),d&&S(l),d&&S(r),d&&S(o),d&&S(a),f=!1,u()}}}function k_e(n){let e,t,i={class:"preview preview-"+n[4],btnClose:!1,popup:!0,$$slots:{footer:[v_e],header:[y_e],default:[__e]},$$scope:{ctx:n}};return e=new rs({props:i}),n[7](e),e.$on("show",n[8]),e.$on("hide",n[9]),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,[l]){const r={};l&16&&(r.class="preview preview-"+s[4]),l&1054&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[7](null),W(e,s)}}}function w_e(n,e,t){let i,s,l,r,o="";function a(p){p!==""&&(t(1,o=p),r==null||r.show())}function f(){return r==null?void 0:r.hide()}function u(p){de[p?"unshift":"push"](()=>{r=p,t(3,r)})}function d(p){ht.call(this,n,p)}function h(p){ht.call(this,n,p)}return n.$$.update=()=>{n.$$.dirty&2&&t(6,i=o.indexOf("?")),n.$$.dirty&66&&t(2,s=o.substring(o.lastIndexOf("/")+1,i>0?i:void 0)),n.$$.dirty&4&&t(4,l=ee.getFileType(s))},[f,o,s,r,l,a,i,u,d,h]}class S_e extends ke{constructor(e){super(),ve(this,e,w_e,k_e,De,{show:5,hide:0})}get show(){return this.$$.ctx[5]}get hide(){return this.$$.ctx[0]}}function C_e(n){let e,t,i,s,l;function r(f,u){return f[3]==="image"?O_e:f[3]==="video"||f[3]==="audio"?A_e:T_e}let o=r(n),a=o(n);return{c(){e=k("a"),a.c(),m(e,"draggable",!1),m(e,"class",t="thumb "+(n[1]?`thumb-${n[1]}`:"")),m(e,"href",n[6]),m(e,"target","_blank"),m(e,"rel","noreferrer"),m(e,"title",i=(n[7]?"Preview":"Download")+" "+n[0])},m(f,u){C(f,e,u),a.m(e,null),s||(l=x(e,"click",Ei(n[11])),s=!0)},p(f,u){o===(o=r(f))&&a?a.p(f,u):(a.d(1),a=o(f),a&&(a.c(),a.m(e,null))),u&2&&t!==(t="thumb "+(f[1]?`thumb-${f[1]}`:""))&&m(e,"class",t),u&64&&m(e,"href",f[6]),u&129&&i!==(i=(f[7]?"Preview":"Download")+" "+f[0])&&m(e,"title",i)},d(f){f&&S(e),a.d(),s=!1,l()}}}function M_e(n){let e,t;return{c(){e=k("div"),m(e,"class",t="thumb "+(n[1]?`thumb-${n[1]}`:""))},m(i,s){C(i,e,s)},p(i,s){s&2&&t!==(t="thumb "+(i[1]?`thumb-${i[1]}`:""))&&m(e,"class",t)},d(i){i&&S(e)}}}function T_e(n){let e;return{c(){e=k("i"),m(e,"class","ri-file-3-line")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function A_e(n){let e;return{c(){e=k("i"),m(e,"class","ri-video-line")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function O_e(n){let e,t,i,s,l;return{c(){e=k("img"),m(e,"draggable",!1),Ss(e.src,t=n[5])||m(e,"src",t),m(e,"alt",n[0]),m(e,"title",i="Preview "+n[0])},m(r,o){C(r,e,o),s||(l=x(e,"error",n[8]),s=!0)},p(r,o){o&32&&!Ss(e.src,t=r[5])&&m(e,"src",t),o&1&&m(e,"alt",r[0]),o&1&&i!==(i="Preview "+r[0])&&m(e,"title",i)},d(r){r&&S(e),s=!1,l()}}}function E_e(n){let e,t,i;function s(a,f){return a[2]?M_e:C_e}let l=s(n),r=l(n),o={};return t=new S_e({props:o}),n[12](t),{c(){r.c(),e=D(),U(t.$$.fragment)},m(a,f){r.m(a,f),C(a,e,f),q(t,a,f),i=!0},p(a,[f]){l===(l=s(a))&&r?r.p(a,f):(r.d(1),r=l(a),r&&(r.c(),r.m(e.parentNode,e)));const u={};t.$set(u)},i(a){i||(P(t.$$.fragment,a),i=!0)},o(a){I(t.$$.fragment,a),i=!1},d(a){r.d(a),a&&S(e),n[12](null),W(t,a)}}}function P_e(n,e,t){let i,s,{record:l=null}=e,{filename:r=""}=e,{size:o=""}=e,a,f="",u="",d="",h=!1;p();async function p(){t(2,h=!0);try{t(10,d=await Re.getAdminFileToken(l.collectionId))}catch(y){console.warn("File token failure:",y)}t(2,h=!1)}function g(){t(5,f="")}const b=y=>{s&&(y.preventDefault(),a==null||a.show(u))};function _(y){de[y?"unshift":"push"](()=>{a=y,t(4,a)})}return n.$$set=y=>{"record"in y&&t(9,l=y.record),"filename"in y&&t(0,r=y.filename),"size"in y&&t(1,o=y.size)},n.$$.update=()=>{n.$$.dirty&1&&t(3,i=ee.getFileType(r)),n.$$.dirty&9&&t(7,s=["image","audio","video"].includes(i)||r.endsWith(".pdf")),n.$$.dirty&1541&&t(6,u=h?"":Re.files.getUrl(l,r,{token:d})),n.$$.dirty&1541&&t(5,f=h?"":Re.files.getUrl(l,r,{thumb:"100x100",token:d}))},[r,o,h,i,a,f,u,s,g,l,d,b,_]}class ev extends ke{constructor(e){super(),ve(this,e,P_e,E_e,De,{record:9,filename:0,size:1})}}function iA(n,e,t){const i=n.slice();return i[29]=e[t],i[31]=t,i}function sA(n,e,t){const i=n.slice();i[34]=e[t],i[31]=t;const s=i[2].includes(i[34]);return i[35]=s,i}function D_e(n){let e,t,i;function s(){return n[17](n[34])}return{c(){e=k("button"),e.innerHTML='<i class="ri-close-line"></i>',m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove")},m(l,r){C(l,e,r),t||(i=[xe(Mt.call(null,e,"Remove file")),x(e,"click",s)],t=!0)},p(l,r){n=l},d(l){l&&S(e),t=!1,Ke(i)}}}function I_e(n){let e,t,i;function s(){return n[16](n[34])}return{c(){e=k("button"),e.innerHTML='<span class="txt">Restore</span>',m(e,"type","button"),m(e,"class","btn btn-sm btn-danger btn-transparent")},m(l,r){C(l,e,r),t||(i=x(e,"click",s),t=!0)},p(l,r){n=l},d(l){l&&S(e),t=!1,i()}}}function R_e(n){let e,t,i,s,l,r,o=n[34]+"",a,f,u,d,h,p;i=new ev({props:{record:n[3],filename:n[34]}});function g(y,w){return y[35]?I_e:D_e}let b=g(n),_=b(n);return{c(){e=k("div"),t=k("div"),U(i.$$.fragment),s=D(),l=k("div"),r=k("a"),a=G(o),d=D(),h=k("div"),_.c(),$(t,"fade",n[35]),m(r,"draggable",!1),m(r,"href",f=Re.files.getUrl(n[3],n[34],{token:n[10]})),m(r,"class",u="txt-ellipsis "+(n[35]?"txt-strikethrough txt-hint":"link-primary")),m(r,"title","Download"),m(r,"target","_blank"),m(r,"rel","noopener noreferrer"),m(l,"class","content"),m(h,"class","actions"),m(e,"class","list-item"),$(e,"dragging",n[32]),$(e,"dragover",n[33])},m(y,w){C(y,e,w),v(e,t),q(i,t,null),v(e,s),v(e,l),v(l,r),v(r,a),v(e,d),v(e,h),_.m(h,null),p=!0},p(y,w){const A={};w[0]&8&&(A.record=y[3]),w[0]&32&&(A.filename=y[34]),i.$set(A),(!p||w[0]&36)&&$(t,"fade",y[35]),(!p||w[0]&32)&&o!==(o=y[34]+"")&&pe(a,o),(!p||w[0]&1064&&f!==(f=Re.files.getUrl(y[3],y[34],{token:y[10]})))&&m(r,"href",f),(!p||w[0]&36&&u!==(u="txt-ellipsis "+(y[35]?"txt-strikethrough txt-hint":"link-primary")))&&m(r,"class",u),b===(b=g(y))&&_?_.p(y,w):(_.d(1),_=b(y),_&&(_.c(),_.m(h,null))),(!p||w[1]&2)&&$(e,"dragging",y[32]),(!p||w[1]&4)&&$(e,"dragover",y[33])},i(y){p||(P(i.$$.fragment,y),p=!0)},o(y){I(i.$$.fragment,y),p=!1},d(y){y&&S(e),W(i),_.d()}}}function lA(n,e){let t,i,s,l;function r(a){e[18](a)}let o={group:e[4].name+"_uploaded",index:e[31],disabled:!e[6],$$slots:{default:[R_e,({dragging:a,dragover:f})=>({32:a,33:f}),({dragging:a,dragover:f})=>[0,(a?2:0)|(f?4:0)]]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.list=e[0]),i=new Ld({props:o}),de.push(()=>Ne(i,"list",r)),{key:n,first:null,c(){t=Ee(),U(i.$$.fragment),this.first=t},m(a,f){C(a,t,f),q(i,a,f),l=!0},p(a,f){e=a;const u={};f[0]&16&&(u.group=e[4].name+"_uploaded"),f[0]&32&&(u.index=e[31]),f[0]&64&&(u.disabled=!e[6]),f[0]&1068|f[1]&70&&(u.$$scope={dirty:f,ctx:e}),!s&&f[0]&1&&(s=!0,u.list=e[0],Be(()=>s=!1)),i.$set(u)},i(a){l||(P(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&S(t),W(i,a)}}}function N_e(n){let e,t,i,s,l,r,o,a,f=n[29].name+"",u,d,h,p,g,b,_;i=new m_e({props:{file:n[29]}});function y(){return n[19](n[31])}return{c(){e=k("div"),t=k("figure"),U(i.$$.fragment),s=D(),l=k("div"),r=k("small"),r.textContent="New",o=D(),a=k("span"),u=G(f),h=D(),p=k("button"),p.innerHTML='<i class="ri-close-line"></i>',m(t,"class","thumb"),m(r,"class","label label-success m-r-5"),m(a,"class","txt"),m(l,"class","filename m-r-auto"),m(l,"title",d=n[29].name),m(p,"type","button"),m(p,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),m(e,"class","list-item"),$(e,"dragging",n[32]),$(e,"dragover",n[33])},m(w,A){C(w,e,A),v(e,t),q(i,t,null),v(e,s),v(e,l),v(l,r),v(l,o),v(l,a),v(a,u),v(e,h),v(e,p),g=!0,b||(_=[xe(Mt.call(null,p,"Remove file")),x(p,"click",y)],b=!0)},p(w,A){n=w;const M={};A[0]&2&&(M.file=n[29]),i.$set(M),(!g||A[0]&2)&&f!==(f=n[29].name+"")&&pe(u,f),(!g||A[0]&2&&d!==(d=n[29].name))&&m(l,"title",d),(!g||A[1]&2)&&$(e,"dragging",n[32]),(!g||A[1]&4)&&$(e,"dragover",n[33])},i(w){g||(P(i.$$.fragment,w),g=!0)},o(w){I(i.$$.fragment,w),g=!1},d(w){w&&S(e),W(i),b=!1,Ke(_)}}}function rA(n,e){let t,i,s,l;function r(a){e[20](a)}let o={group:e[4].name+"_new",index:e[31],disabled:!e[6],$$slots:{default:[N_e,({dragging:a,dragover:f})=>({32:a,33:f}),({dragging:a,dragover:f})=>[0,(a?2:0)|(f?4:0)]]},$$scope:{ctx:e}};return e[1]!==void 0&&(o.list=e[1]),i=new Ld({props:o}),de.push(()=>Ne(i,"list",r)),{key:n,first:null,c(){t=Ee(),U(i.$$.fragment),this.first=t},m(a,f){C(a,t,f),q(i,a,f),l=!0},p(a,f){e=a;const u={};f[0]&16&&(u.group=e[4].name+"_new"),f[0]&2&&(u.index=e[31]),f[0]&64&&(u.disabled=!e[6]),f[0]&2|f[1]&70&&(u.$$scope={dirty:f,ctx:e}),!s&&f[0]&2&&(s=!0,u.list=e[1],Be(()=>s=!1)),i.$set(u)},i(a){l||(P(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&S(t),W(i,a)}}}function L_e(n){let e,t,i,s,l,r=n[4].name+"",o,a,f,u,d=[],h=new Map,p,g=[],b=new Map,_,y,w,A,M,T,O,E,R,N,j,L,F=n[5];const B=K=>K[34]+K[3].id;for(let K=0;K<F.length;K+=1){let X=sA(n,F,K),J=B(X);h.set(J,d[K]=lA(J,X))}let V=n[1];const H=K=>K[29].name+K[31];for(let K=0;K<V.length;K+=1){let X=iA(n,V,K),J=H(X);b.set(J,g[K]=rA(J,X))}return{c(){var K,X;e=k("label"),t=k("i"),s=D(),l=k("span"),o=G(r),f=D(),u=k("div");for(let J=0;J<d.length;J+=1)d[J].c();p=D();for(let J=0;J<g.length;J+=1)g[J].c();_=D(),y=k("div"),w=k("input"),M=D(),T=k("button"),O=k("i"),E=D(),R=k("span"),R.textContent="Upload new file",m(t,"class",i=ee.getFieldTypeIcon(n[4].type)),m(l,"class","txt"),m(e,"for",a=n[28]),m(w,"type","file"),m(w,"class","hidden"),m(w,"accept",A=((X=(K=n[4].options)==null?void 0:K.mimeTypes)==null?void 0:X.join(","))||null),w.multiple=n[6],m(O,"class","ri-upload-cloud-line"),m(R,"class","txt"),m(T,"type","button"),m(T,"class","btn btn-transparent btn-sm btn-block"),T.disabled=n[11],m(y,"class","list-item list-item-btn"),m(u,"class","list")},m(K,X){C(K,e,X),v(e,t),v(e,s),v(e,l),v(l,o),C(K,f,X),C(K,u,X);for(let J=0;J<d.length;J+=1)d[J]&&d[J].m(u,null);v(u,p);for(let J=0;J<g.length;J+=1)g[J]&&g[J].m(u,null);v(u,_),v(u,y),v(y,w),n[21](w),v(y,M),v(y,T),v(T,O),v(T,E),v(T,R),n[24](u),N=!0,j||(L=[x(w,"change",n[22]),x(T,"click",n[23])],j=!0)},p(K,X){var J,z;(!N||X[0]&16&&i!==(i=ee.getFieldTypeIcon(K[4].type)))&&m(t,"class",i),(!N||X[0]&16)&&r!==(r=K[4].name+"")&&pe(o,r),(!N||X[0]&268435456&&a!==(a=K[28]))&&m(e,"for",a),X[0]&13437|X[1]&6&&(F=K[5],ue(),d=Cn(d,X,B,1,K,F,h,u,ii,lA,p,sA),ce()),X[0]&16466|X[1]&6&&(V=K[1],ue(),g=Cn(g,X,H,1,K,V,b,u,ii,rA,_,iA),ce()),(!N||X[0]&16&&A!==(A=((z=(J=K[4].options)==null?void 0:J.mimeTypes)==null?void 0:z.join(","))||null))&&m(w,"accept",A),(!N||X[0]&64)&&(w.multiple=K[6]),(!N||X[0]&2048)&&(T.disabled=K[11])},i(K){if(!N){for(let X=0;X<F.length;X+=1)P(d[X]);for(let X=0;X<V.length;X+=1)P(g[X]);N=!0}},o(K){for(let X=0;X<d.length;X+=1)I(d[X]);for(let X=0;X<g.length;X+=1)I(g[X]);N=!1},d(K){K&&S(e),K&&S(f),K&&S(u);for(let X=0;X<d.length;X+=1)d[X].d();for(let X=0;X<g.length;X+=1)g[X].d();n[21](null),n[24](null),j=!1,Ke(L)}}}function F_e(n){let e,t,i,s,l;return t=new ze({props:{class:`
            form-field form-field-list form-field-file
            `+(n[4].required?"required":"")+`
            `+(n[9]?"dragover":"")+`
        `,name:n[4].name,$$slots:{default:[L_e,({uniqueId:r})=>({28:r}),({uniqueId:r})=>[r?268435456:0]]},$$scope:{ctx:n}}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","block")},m(r,o){C(r,e,o),q(t,e,null),i=!0,s||(l=[x(e,"dragover",qt(n[25])),x(e,"dragleave",n[26]),x(e,"drop",n[15])],s=!0)},p(r,o){const a={};o[0]&528&&(a.class=`
            form-field form-field-list form-field-file
            `+(r[4].required?"required":"")+`
            `+(r[9]?"dragover":"")+`
        `),o[0]&16&&(a.name=r[4].name),o[0]&268439039|o[1]&64&&(a.$$scope={dirty:o,ctx:r}),t.$set(a)},i(r){i||(P(t.$$.fragment,r),i=!0)},o(r){I(t.$$.fragment,r),i=!1},d(r){r&&S(e),W(t),s=!1,Ke(l)}}}function j_e(n,e,t){let i,s,l,{record:r}=e,{value:o=""}=e,{uploadedFiles:a=[]}=e,{deletedFileNames:f=[]}=e,{field:u=new Ns}=e,d,h,p=!1,g="";function b(H){ee.removeByValue(f,H),t(2,f)}function _(H){ee.pushUnique(f,H),t(2,f)}function y(H){ee.isEmpty(a[H])||a.splice(H,1),t(1,a)}function w(){h==null||h.dispatchEvent(new CustomEvent("change",{detail:{value:o,uploadedFiles:a,deletedFileNames:f},bubbles:!0}))}function A(H){var X,J;H.preventDefault(),t(9,p=!1);const K=((X=H.dataTransfer)==null?void 0:X.files)||[];if(!(l||!K.length)){for(const z of K){const Z=s.length+a.length-f.length;if(((J=u.options)==null?void 0:J.maxSelect)<=Z)break;a.push(z)}t(1,a)}}Pn(async()=>{t(10,g=await Re.getAdminFileToken(r.collectionId))});const M=H=>b(H),T=H=>_(H);function O(H){o=H,t(0,o),t(6,i),t(4,u)}const E=H=>y(H);function R(H){a=H,t(1,a)}function N(H){de[H?"unshift":"push"](()=>{d=H,t(7,d)})}const j=()=>{for(let H of d.files)a.push(H);t(1,a),t(7,d.value=null,d)},L=()=>d==null?void 0:d.click();function F(H){de[H?"unshift":"push"](()=>{h=H,t(8,h)})}const B=()=>{t(9,p=!0)},V=()=>{t(9,p=!1)};return n.$$set=H=>{"record"in H&&t(3,r=H.record),"value"in H&&t(0,o=H.value),"uploadedFiles"in H&&t(1,a=H.uploadedFiles),"deletedFileNames"in H&&t(2,f=H.deletedFileNames),"field"in H&&t(4,u=H.field)},n.$$.update=()=>{var H,K;n.$$.dirty[0]&2&&(Array.isArray(a)||t(1,a=ee.toArray(a))),n.$$.dirty[0]&4&&(Array.isArray(f)||t(2,f=ee.toArray(f))),n.$$.dirty[0]&16&&t(6,i=((H=u.options)==null?void 0:H.maxSelect)>1),n.$$.dirty[0]&65&&ee.isEmpty(o)&&t(0,o=i?[]:""),n.$$.dirty[0]&1&&t(5,s=ee.toArray(o)),n.$$.dirty[0]&54&&t(11,l=(s.length||a.length)&&((K=u.options)==null?void 0:K.maxSelect)<=s.length+a.length-f.length),n.$$.dirty[0]&6&&(a!==-1||f!==-1)&&w()},[o,a,f,r,u,s,i,d,h,p,g,l,b,_,y,A,M,T,O,E,R,N,j,L,F,B,V]}class B_e extends ke{constructor(e){super(),ve(this,e,j_e,F_e,De,{record:3,value:0,uploadedFiles:1,deletedFileNames:2,field:4},null,[-1,-1])}}function oA(n){return typeof n=="function"?{threshold:100,callback:n}:n||{}}function V_e(n,e){e=oA(e),e!=null&&e.callback&&e.callback();function t(i){if(!(e!=null&&e.callback))return;i.target.scrollHeight-i.target.clientHeight-i.target.scrollTop<=e.threshold&&e.callback()}return n.addEventListener("scroll",t),n.addEventListener("resize",t),{update(i){e=oA(i)},destroy(){n.removeEventListener("scroll",t),n.removeEventListener("resize",t)}}}function aA(n,e,t){const i=n.slice();i[6]=e[t];const s=ee.toArray(i[0][i[6]]).slice(0,5);return i[7]=s,i}function fA(n,e,t){const i=n.slice();return i[10]=e[t],i}function uA(n){let e,t;return e=new ev({props:{record:n[0],filename:n[10],size:"xs"}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&1&&(l.record=i[0]),s&3&&(l.filename=i[10]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function cA(n){let e=!ee.isEmpty(n[10]),t,i,s=e&&uA(n);return{c(){s&&s.c(),t=Ee()},m(l,r){s&&s.m(l,r),C(l,t,r),i=!0},p(l,r){r&3&&(e=!ee.isEmpty(l[10])),e?s?(s.p(l,r),r&3&&P(s,1)):(s=uA(l),s.c(),P(s,1),s.m(t.parentNode,t)):s&&(ue(),I(s,1,1,()=>{s=null}),ce())},i(l){i||(P(s),i=!0)},o(l){I(s),i=!1},d(l){s&&s.d(l),l&&S(t)}}}function dA(n){let e,t,i=n[7],s=[];for(let r=0;r<i.length;r+=1)s[r]=cA(fA(n,i,r));const l=r=>I(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=Ee()},m(r,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,o);C(r,e,o),t=!0},p(r,o){if(o&3){i=r[7];let a;for(a=0;a<i.length;a+=1){const f=fA(r,i,a);s[a]?(s[a].p(f,o),P(s[a],1)):(s[a]=cA(f),s[a].c(),P(s[a],1),s[a].m(e.parentNode,e))}for(ue(),a=i.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!t){for(let o=0;o<i.length;o+=1)P(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)I(s[o]);t=!1},d(r){Ot(s,r),r&&S(e)}}}function z_e(n){let e,t,i,s,l,r,o=ee.truncate(ee.displayValue(n[0],n[2]),70)+"",a,f,u,d,h=n[1],p=[];for(let b=0;b<h.length;b+=1)p[b]=dA(aA(n,h,b));const g=b=>I(p[b],1,1,()=>{p[b]=null});return{c(){e=k("div"),t=k("i"),s=D();for(let b=0;b<p.length;b+=1)p[b].c();l=D(),r=k("span"),a=G(o),m(t,"class","link-hint txt-sm ri-information-line svelte-fhw3qk"),m(r,"class","txt txt-ellipsis svelte-fhw3qk"),m(e,"class","record-info svelte-fhw3qk")},m(b,_){C(b,e,_),v(e,t),v(e,s);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(e,null);v(e,l),v(e,r),v(r,a),f=!0,u||(d=xe(i=Mt.call(null,t,{text:ee.truncate(JSON.stringify(ee.truncateObject(n[0]),null,2),800,!0),class:"code",position:"left"})),u=!0)},p(b,[_]){if(i&&fn(i.update)&&_&1&&i.update.call(null,{text:ee.truncate(JSON.stringify(ee.truncateObject(b[0]),null,2),800,!0),class:"code",position:"left"}),_&3){h=b[1];let y;for(y=0;y<h.length;y+=1){const w=aA(b,h,y);p[y]?(p[y].p(w,_),P(p[y],1)):(p[y]=dA(w),p[y].c(),P(p[y],1),p[y].m(e,l))}for(ue(),y=h.length;y<p.length;y+=1)g(y);ce()}(!f||_&5)&&o!==(o=ee.truncate(ee.displayValue(b[0],b[2]),70)+"")&&pe(a,o)},i(b){if(!f){for(let _=0;_<h.length;_+=1)P(p[_]);f=!0}},o(b){p=p.filter(Boolean);for(let _=0;_<p.length;_+=1)I(p[_]);f=!1},d(b){b&&S(e),Ot(p,b),u=!1,d()}}}function H_e(n,e,t){let i,s,l,r;Ht(n,Cr,f=>t(5,r=f));let{record:o}=e,{displayFields:a=[]}=e;return n.$$set=f=>{"record"in f&&t(0,o=f.record),"displayFields"in f&&t(3,a=f.displayFields)},n.$$.update=()=>{n.$$.dirty&33&&t(4,i=r==null?void 0:r.find(f=>f.id==(o==null?void 0:o.collectionId))),n.$$.dirty&24&&t(1,s=(a==null?void 0:a.filter(f=>{var u;return!!((u=i==null?void 0:i.schema)!=null&&u.find(d=>d.name==f&&d.type=="file"))}))||[]),n.$$.dirty&10&&t(2,l=(s.length?a==null?void 0:a.filter(f=>!s.includes(f)):a)||[])},[o,s,l,a,i,r]}class n1 extends ke{constructor(e){super(),ve(this,e,H_e,z_e,De,{record:0,displayFields:3})}}function hA(n,e,t){const i=n.slice();return i[49]=e[t],i[51]=t,i}function pA(n,e,t){const i=n.slice();i[49]=e[t];const s=i[8](i[49]);return i[6]=s,i}function mA(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<div class="txt">New record</div>',m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint p-l-sm p-r-sm")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[31]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function gA(n){let e,t;function i(r,o){return r[12]?W_e:q_e}let s=i(n),l=s(n);return{c(){e=k("div"),l.c(),t=D(),m(e,"class","list-item")},m(r,o){C(r,e,o),l.m(e,null),v(e,t)},p(r,o){s===(s=i(r))&&l?l.p(r,o):(l.d(1),l=s(r),l&&(l.c(),l.m(e,t)))},d(r){r&&S(e),l.d()}}}function q_e(n){var l;let e,t,i,s=((l=n[2])==null?void 0:l.length)&&bA(n);return{c(){e=k("span"),e.textContent="No records found.",t=D(),s&&s.c(),i=Ee(),m(e,"class","txt txt-hint")},m(r,o){C(r,e,o),C(r,t,o),s&&s.m(r,o),C(r,i,o)},p(r,o){var a;(a=r[2])!=null&&a.length?s?s.p(r,o):(s=bA(r),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(r){r&&S(e),r&&S(t),s&&s.d(r),r&&S(i)}}}function W_e(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="loader loader-sm active"></span>',m(e,"class","block txt-center")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function bA(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Clear filters</span>',m(e,"type","button"),m(e,"class","btn btn-hint btn-sm")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[35]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function U_e(n){let e;return{c(){e=k("i"),m(e,"class","ri-checkbox-blank-circle-line txt-disabled")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function K_e(n){let e;return{c(){e=k("i"),m(e,"class","ri-checkbox-circle-fill txt-success")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function _A(n){let e,t,i,s;function l(){return n[32](n[49])}return{c(){e=k("div"),t=k("button"),t.innerHTML='<i class="ri-pencil-line"></i>',m(t,"type","button"),m(t,"class","btn btn-sm btn-circle btn-transparent btn-hint m-l-auto"),m(e,"class","actions nonintrusive")},m(r,o){C(r,e,o),v(e,t),i||(s=[xe(Mt.call(null,t,"Edit")),x(t,"keydown",Ei(n[27])),x(t,"click",Ei(l))],i=!0)},p(r,o){n=r},d(r){r&&S(e),i=!1,Ke(s)}}}function yA(n,e){var y;let t,i,s,l,r,o,a,f,u;function d(w,A){return w[6]?K_e:U_e}let h=d(e),p=h(e);l=new n1({props:{record:e[49],displayFields:e[13]}});let g=!((y=e[10])!=null&&y.$isView)&&_A(e);function b(){return e[33](e[49])}function _(...w){return e[34](e[49],...w)}return{key:n,first:null,c(){t=k("div"),p.c(),i=D(),s=k("div"),U(l.$$.fragment),r=D(),g&&g.c(),o=D(),m(s,"class","content"),m(t,"tabindex","0"),m(t,"class","list-item handle"),$(t,"selected",e[6]),$(t,"disabled",!e[6]&&e[5]>1&&!e[9]),this.first=t},m(w,A){C(w,t,A),p.m(t,null),v(t,i),v(t,s),q(l,s,null),v(t,r),g&&g.m(t,null),v(t,o),a=!0,f||(u=[x(t,"click",b),x(t,"keydown",_)],f=!0)},p(w,A){var T;e=w,h!==(h=d(e))&&(p.d(1),p=h(e),p&&(p.c(),p.m(t,i)));const M={};A[0]&8&&(M.record=e[49]),A[0]&8192&&(M.displayFields=e[13]),l.$set(M),(T=e[10])!=null&&T.$isView?g&&(g.d(1),g=null):g?g.p(e,A):(g=_A(e),g.c(),g.m(t,o)),(!a||A[0]&264)&&$(t,"selected",e[6]),(!a||A[0]&808)&&$(t,"disabled",!e[6]&&e[5]>1&&!e[9])},i(w){a||(P(l.$$.fragment,w),a=!0)},o(w){I(l.$$.fragment,w),a=!1},d(w){w&&S(t),p.d(),W(l),g&&g.d(),f=!1,Ke(u)}}}function vA(n){let e,t=n[6].length+"",i,s,l,r;return{c(){e=G("("),i=G(t),s=G(" of MAX "),l=G(n[5]),r=G(")")},m(o,a){C(o,e,a),C(o,i,a),C(o,s,a),C(o,l,a),C(o,r,a)},p(o,a){a[0]&64&&t!==(t=o[6].length+"")&&pe(i,t),a[0]&32&&pe(l,o[5])},d(o){o&&S(e),o&&S(i),o&&S(s),o&&S(l),o&&S(r)}}}function J_e(n){let e;return{c(){e=k("p"),e.textContent="No selected records.",m(e,"class","txt-hint")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function x_e(n){let e,t,i=n[6],s=[];for(let r=0;r<i.length;r+=1)s[r]=kA(hA(n,i,r));const l=r=>I(s[r],1,1,()=>{s[r]=null});return{c(){e=k("div");for(let r=0;r<s.length;r+=1)s[r].c();m(e,"class","selected-list svelte-1u8jhky")},m(r,o){C(r,e,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);t=!0},p(r,o){if(o[0]&73792|o[1]&6291456){i=r[6];let a;for(a=0;a<i.length;a+=1){const f=hA(r,i,a);s[a]?(s[a].p(f,o),P(s[a],1)):(s[a]=kA(f),s[a].c(),P(s[a],1),s[a].m(e,null))}for(ue(),a=i.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!t){for(let o=0;o<i.length;o+=1)P(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)I(s[o]);t=!1},d(r){r&&S(e),Ot(s,r)}}}function Y_e(n){let e,t,i,s,l,r,o,a;t=new n1({props:{record:n[49],displayFields:n[13]}});function f(){return n[37](n[49])}return{c(){e=k("span"),U(t.$$.fragment),i=D(),s=k("button"),s.innerHTML='<i class="ri-close-line"></i>',l=D(),m(s,"type","button"),m(s,"title","Remove"),m(s,"class","btn btn-circle btn-transparent btn-hint btn-xs"),m(e,"class","label"),$(e,"label-danger",n[52]),$(e,"label-warning",n[53])},m(u,d){C(u,e,d),q(t,e,null),v(e,i),v(e,s),C(u,l,d),r=!0,o||(a=x(s,"click",f),o=!0)},p(u,d){n=u;const h={};d[0]&64&&(h.record=n[49]),d[0]&8192&&(h.displayFields=n[13]),t.$set(h),(!r||d[1]&2097152)&&$(e,"label-danger",n[52]),(!r||d[1]&4194304)&&$(e,"label-warning",n[53])},i(u){r||(P(t.$$.fragment,u),r=!0)},o(u){I(t.$$.fragment,u),r=!1},d(u){u&&S(e),W(t),u&&S(l),o=!1,a()}}}function kA(n){let e,t,i;function s(r){n[38](r)}let l={index:n[51],$$slots:{default:[Y_e,({dragging:r,dragover:o})=>({52:r,53:o}),({dragging:r,dragover:o})=>[0,(r?2097152:0)|(o?4194304:0)]]},$$scope:{ctx:n}};return n[6]!==void 0&&(l.list=n[6]),e=new Ld({props:l}),de.push(()=>Ne(e,"list",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};o[0]&8256|o[1]&39845888&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&64&&(t=!0,a.list=r[6],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function G_e(n){var L;let e,t,i,s,l,r=[],o=new Map,a,f,u,d,h,p,g,b,_,y,w;t=new tg({props:{value:n[2],autocompleteCollection:n[10]}}),t.$on("submit",n[30]);let A=!((L=n[10])!=null&&L.$isView)&&mA(n),M=n[3];const T=F=>F[49].id;for(let F=0;F<M.length;F+=1){let B=pA(n,M,F),V=T(B);o.set(V,r[F]=yA(V,B))}let O=null;M.length||(O=gA(n));let E=n[5]>1&&vA(n);const R=[x_e,J_e],N=[];function j(F,B){return F[6].length?0:1}return p=j(n),g=N[p]=R[p](n),{c(){e=k("div"),U(t.$$.fragment),i=D(),A&&A.c(),s=D(),l=k("div");for(let F=0;F<r.length;F+=1)r[F].c();O&&O.c(),f=D(),u=k("h5"),d=G(`Selected
        `),E&&E.c(),h=D(),g.c(),b=Ee(),m(e,"class","flex m-b-base flex-gap-10"),m(l,"class","list picker-list m-b-base svelte-1u8jhky"),m(u,"class","section-title")},m(F,B){C(F,e,B),q(t,e,null),v(e,i),A&&A.m(e,null),C(F,s,B),C(F,l,B);for(let V=0;V<r.length;V+=1)r[V]&&r[V].m(l,null);O&&O.m(l,null),C(F,f,B),C(F,u,B),v(u,d),E&&E.m(u,null),C(F,h,B),N[p].m(F,B),C(F,b,B),_=!0,y||(w=xe(a=V_e.call(null,l,n[36])),y=!0)},p(F,B){var K;const V={};B[0]&4&&(V.value=F[2]),B[0]&1024&&(V.autocompleteCollection=F[10]),t.$set(V),(K=F[10])!=null&&K.$isView?A&&(A.d(1),A=null):A?A.p(F,B):(A=mA(F),A.c(),A.m(e,null)),B[0]&145324&&(M=F[3],ue(),r=Cn(r,B,T,1,F,M,o,l,ii,yA,null,pA),ce(),!M.length&&O?O.p(F,B):M.length?O&&(O.d(1),O=null):(O=gA(F),O.c(),O.m(l,null))),a&&fn(a.update)&&B[0]&2064&&a.update.call(null,F[36]),F[5]>1?E?E.p(F,B):(E=vA(F),E.c(),E.m(u,null)):E&&(E.d(1),E=null);let H=p;p=j(F),p===H?N[p].p(F,B):(ue(),I(N[H],1,1,()=>{N[H]=null}),ce(),g=N[p],g?g.p(F,B):(g=N[p]=R[p](F),g.c()),P(g,1),g.m(b.parentNode,b))},i(F){if(!_){P(t.$$.fragment,F);for(let B=0;B<M.length;B+=1)P(r[B]);P(g),_=!0}},o(F){I(t.$$.fragment,F);for(let B=0;B<r.length;B+=1)I(r[B]);I(g),_=!1},d(F){F&&S(e),W(t),A&&A.d(),F&&S(s),F&&S(l);for(let B=0;B<r.length;B+=1)r[B].d();O&&O.d(),F&&S(f),F&&S(u),E&&E.d(),F&&S(h),N[p].d(F),F&&S(b),y=!1,w()}}}function X_e(n){var o;let e,t,i,s=(((o=n[10])==null?void 0:o.name)||"")+"",l,r;return{c(){e=k("h4"),t=G("Select "),i=k("strong"),l=G(s),r=G(" records")},m(a,f){C(a,e,f),v(e,t),v(e,i),v(i,l),v(e,r)},p(a,f){var u;f[0]&1024&&s!==(s=(((u=a[10])==null?void 0:u.name)||"")+"")&&pe(l,s)},d(a){a&&S(e)}}}function Z_e(n){let e,t,i,s,l;return{c(){e=k("button"),e.innerHTML='<span class="txt">Cancel</span>',t=D(),i=k("button"),i.innerHTML='<span class="txt">Set selection</span>',m(e,"type","button"),m(e,"class","btn btn-transparent"),m(i,"type","button"),m(i,"class","btn")},m(r,o){C(r,e,o),C(r,t,o),C(r,i,o),s||(l=[x(e,"click",n[28]),x(i,"click",n[29])],s=!0)},p:te,d(r){r&&S(e),r&&S(t),r&&S(i),s=!1,Ke(l)}}}function Q_e(n){let e,t,i,s;const l=[{popup:!0},{class:"overlay-panel-xl"},n[19]];let r={$$slots:{footer:[Z_e],header:[X_e],default:[G_e]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)r=ft(r,l[a]);e=new rs({props:r}),n[39](e),e.$on("hide",n[40]),e.$on("show",n[41]);let o={collection:n[10]};return i=new vL({props:o}),n[42](i),i.$on("save",n[43]),i.$on("delete",n[44]),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment)},m(a,f){q(e,a,f),C(a,t,f),q(i,a,f),s=!0},p(a,f){const u=f[0]&524288?kn(l,[l[0],l[1],ri(a[19])]):{};f[0]&16380|f[1]&33554432&&(u.$$scope={dirty:f,ctx:a}),e.$set(u);const d={};f[0]&1024&&(d.collection=a[10]),i.$set(d)},i(a){s||(P(e.$$.fragment,a),P(i.$$.fragment,a),s=!0)},o(a){I(e.$$.fragment,a),I(i.$$.fragment,a),s=!1},d(a){n[39](null),W(e,a),a&&S(t),n[42](null),W(i,a)}}}const O0=100;function $_e(n,e,t){let i,s,l,r,o,a,f,u;const d=["value","field","show","hide"];let h=Jt(e,d),p;Ht(n,Cr,Oe=>t(26,p=Oe));const g=Hn(),b="picker_"+ee.randomString(5);let{value:_}=e,{field:y}=e,w,A,M="",T=[],O=[],E=1,R=0,N=!1,j=!1;function L(){return t(2,M=""),t(3,T=[]),t(6,O=[]),B(),V(!0),w==null?void 0:w.show()}function F(){return w==null?void 0:w.hide()}async function B(){const Oe=ee.toArray(_);if(!s||!Oe.length)return;t(24,j=!0);let _e=[];const Ye=Oe.slice(),St=[];for(;Ye.length>0;){const Et=[];for(const Fe of Ye.splice(0,O0))Et.push(`id="${Fe}"`);St.push(Re.collection(s).getFullList(O0,{filter:Et.join("||"),$autoCancel:!1}))}try{await Promise.all(St).then(Et=>{_e=_e.concat(...Et)}),t(6,O=[]);for(const Et of Oe){const Fe=ee.findByKey(_e,"id",Et);Fe&&O.push(Fe)}M.trim()||t(3,T=ee.filterDuplicatesByKey(O.concat(T)))}catch(Et){Re.error(Et)}t(24,j=!1)}async function V(Oe=!1){if(s){t(4,N=!0),Oe&&(M.trim()?t(3,T=[]):t(3,T=ee.toArray(O).slice()));try{const _e=Oe?1:E+1,Ye=ee.getAllCollectionIdentifiers(r),St=await Re.collection(s).getList(_e,O0,{filter:ee.normalizeSearchFilter(M,Ye),sort:r!=null&&r.$isView?"":"-created",$cancelKey:b+"loadList"});t(3,T=ee.filterDuplicatesByKey(T.concat(St.items))),E=St.page,t(23,R=St.totalItems)}catch(_e){Re.error(_e)}t(4,N=!1)}}function H(Oe){i==1?t(6,O=[Oe]):f&&(ee.pushOrReplaceByKey(O,Oe),t(6,O))}function K(Oe){ee.removeByKey(O,"id",Oe.id),t(6,O)}function X(Oe){u(Oe)?K(Oe):H(Oe)}function J(){var Oe;i!=1?t(20,_=O.map(_e=>_e.id)):t(20,_=((Oe=O==null?void 0:O[0])==null?void 0:Oe.id)||""),g("save",O),F()}function z(Oe){ht.call(this,n,Oe)}const Z=()=>F(),Y=()=>J(),oe=Oe=>t(2,M=Oe.detail),re=()=>A==null?void 0:A.show(),Q=Oe=>A==null?void 0:A.show(Oe),me=Oe=>X(Oe),qe=(Oe,_e)=>{(_e.code==="Enter"||_e.code==="Space")&&(_e.preventDefault(),_e.stopPropagation(),X(Oe))},be=()=>t(2,M=""),Ie=()=>{a&&!N&&V()},he=Oe=>K(Oe);function Ve(Oe){O=Oe,t(6,O)}function Qe(Oe){de[Oe?"unshift":"push"](()=>{w=Oe,t(1,w)})}function it(Oe){ht.call(this,n,Oe)}function ye(Oe){ht.call(this,n,Oe)}function ie(Oe){de[Oe?"unshift":"push"](()=>{A=Oe,t(7,A)})}const we=Oe=>{ee.removeByKey(T,"id",Oe.detail.id),T.unshift(Oe.detail),t(3,T),H(Oe.detail)},Ue=Oe=>{ee.removeByKey(T,"id",Oe.detail.id),t(3,T),K(Oe.detail)};return n.$$set=Oe=>{e=ft(ft({},e),Pi(Oe)),t(19,h=Jt(e,d)),"value"in Oe&&t(20,_=Oe.value),"field"in Oe&&t(21,y=Oe.field)},n.$$.update=()=>{var Oe,_e,Ye;n.$$.dirty[0]&2097152&&t(5,i=((Oe=y==null?void 0:y.options)==null?void 0:Oe.maxSelect)||null),n.$$.dirty[0]&2097152&&t(25,s=(_e=y==null?void 0:y.options)==null?void 0:_e.collectionId),n.$$.dirty[0]&2097152&&t(13,l=(Ye=y==null?void 0:y.options)==null?void 0:Ye.displayFields),n.$$.dirty[0]&100663296&&t(10,r=p.find(St=>St.id==s)||null),n.$$.dirty[0]&16777222&&typeof M<"u"&&!j&&w!=null&&w.isActive()&&V(!0),n.$$.dirty[0]&16777232&&t(12,o=N||j),n.$$.dirty[0]&8388616&&t(11,a=R>T.length),n.$$.dirty[0]&96&&t(9,f=i===null||i>O.length),n.$$.dirty[0]&64&&t(8,u=function(St){return ee.findByKey(O,"id",St.id)})},[F,w,M,T,N,i,O,A,u,f,r,a,o,l,V,H,K,X,J,h,_,y,L,R,j,s,p,z,Z,Y,oe,re,Q,me,qe,be,Ie,he,Ve,Qe,it,ye,ie,we,Ue]}class e2e extends ke{constructor(e){super(),ve(this,e,$_e,Q_e,De,{value:20,field:21,show:22,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[22]}get hide(){return this.$$.ctx[0]}}function wA(n,e,t){const i=n.slice();return i[20]=e[t],i[22]=t,i}function SA(n,e,t){const i=n.slice();return i[25]=e[t],i}function CA(n){let e,t=n[5]&&MA(n);return{c(){t&&t.c(),e=Ee()},m(i,s){t&&t.m(i,s),C(i,e,s)},p(i,s){i[5]?t?t.p(i,s):(t=MA(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){t&&t.d(i),i&&S(e)}}}function MA(n){let e,t=ee.toArray(n[0]).slice(0,10),i=[];for(let s=0;s<t.length;s+=1)i[s]=TA(SA(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Ee()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);C(s,e,l)},p(s,l){if(l&1){t=ee.toArray(s[0]).slice(0,10);let r;for(r=0;r<t.length;r+=1){const o=SA(s,t,r);i[r]?i[r].p(o,l):(i[r]=TA(),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(s){Ot(i,s),s&&S(e)}}}function TA(n){let e;return{c(){e=k("div"),e.innerHTML=`<div class="skeleton-loader"></div> 
                        `,m(e,"class","list-item")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function t2e(n){var h;let e,t,i,s,l,r,o,a,f,u;i=new n1({props:{record:n[20],displayFields:(h=n[2].options)==null?void 0:h.displayFields}});function d(){return n[10](n[20])}return{c(){e=k("div"),t=k("div"),U(i.$$.fragment),s=D(),l=k("div"),r=k("button"),r.innerHTML='<i class="ri-close-line"></i>',o=D(),m(t,"class","content"),m(r,"type","button"),m(r,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),m(l,"class","actions"),m(e,"class","list-item"),$(e,"dragging",n[23]),$(e,"dragover",n[24])},m(p,g){C(p,e,g),v(e,t),q(i,t,null),v(e,s),v(e,l),v(l,r),C(p,o,g),a=!0,f||(u=[xe(Mt.call(null,r,"Remove")),x(r,"click",d)],f=!0)},p(p,g){var _;n=p;const b={};g&16&&(b.record=n[20]),g&4&&(b.displayFields=(_=n[2].options)==null?void 0:_.displayFields),i.$set(b),(!a||g&8388608)&&$(e,"dragging",n[23]),(!a||g&16777216)&&$(e,"dragover",n[24])},i(p){a||(P(i.$$.fragment,p),a=!0)},o(p){I(i.$$.fragment,p),a=!1},d(p){p&&S(e),W(i),p&&S(o),f=!1,Ke(u)}}}function AA(n,e){let t,i,s,l;function r(a){e[11](a)}let o={group:e[2].name+"_relation",index:e[22],disabled:!e[6],$$slots:{default:[t2e,({dragging:a,dragover:f})=>({23:a,24:f}),({dragging:a,dragover:f})=>(a?8388608:0)|(f?16777216:0)]},$$scope:{ctx:e}};return e[4]!==void 0&&(o.list=e[4]),i=new Ld({props:o}),de.push(()=>Ne(i,"list",r)),i.$on("sort",e[12]),{key:n,first:null,c(){t=Ee(),U(i.$$.fragment),this.first=t},m(a,f){C(a,t,f),q(i,a,f),l=!0},p(a,f){e=a;const u={};f&4&&(u.group=e[2].name+"_relation"),f&16&&(u.index=e[22]),f&64&&(u.disabled=!e[6]),f&293601300&&(u.$$scope={dirty:f,ctx:e}),!s&&f&16&&(s=!0,u.list=e[4],Be(()=>s=!1)),i.$set(u)},i(a){l||(P(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&S(t),W(i,a)}}}function n2e(n){let e,t,i,s,l,r=n[2].name+"",o,a,f,u,d,h=[],p=new Map,g,b,_,y,w,A,M=n[4];const T=E=>E[20].id;for(let E=0;E<M.length;E+=1){let R=wA(n,M,E),N=T(R);p.set(N,h[E]=AA(N,R))}let O=null;return M.length||(O=CA(n)),{c(){e=k("label"),t=k("i"),s=D(),l=k("span"),o=G(r),f=D(),u=k("div"),d=k("div");for(let E=0;E<h.length;E+=1)h[E].c();O&&O.c(),g=D(),b=k("div"),_=k("button"),_.innerHTML=`<i class="ri-magic-line"></i> 
                
                <span class="txt">Open picker</span>`,m(t,"class",i=vn(ee.getFieldTypeIcon(n[2].type))+" svelte-1ynw0pc"),m(l,"class","txt"),m(e,"for",a=n[19]),m(d,"class","relations-list svelte-1ynw0pc"),m(_,"type","button"),m(_,"class","btn btn-transparent btn-sm btn-block"),m(b,"class","list-item list-item-btn"),m(u,"class","list")},m(E,R){C(E,e,R),v(e,t),v(e,s),v(e,l),v(l,o),C(E,f,R),C(E,u,R),v(u,d);for(let N=0;N<h.length;N+=1)h[N]&&h[N].m(d,null);O&&O.m(d,null),v(u,g),v(u,b),v(b,_),y=!0,w||(A=x(_,"click",n[13]),w=!0)},p(E,R){(!y||R&4&&i!==(i=vn(ee.getFieldTypeIcon(E[2].type))+" svelte-1ynw0pc"))&&m(t,"class",i),(!y||R&4)&&r!==(r=E[2].name+"")&&pe(o,r),(!y||R&524288&&a!==(a=E[19]))&&m(e,"for",a),R&25166325&&(M=E[4],ue(),h=Cn(h,R,T,1,E,M,p,d,ii,AA,null,wA),ce(),!M.length&&O?O.p(E,R):M.length?O&&(O.d(1),O=null):(O=CA(E),O.c(),O.m(d,null)))},i(E){if(!y){for(let R=0;R<M.length;R+=1)P(h[R]);y=!0}},o(E){for(let R=0;R<h.length;R+=1)I(h[R]);y=!1},d(E){E&&S(e),E&&S(f),E&&S(u);for(let R=0;R<h.length;R+=1)h[R].d();O&&O.d(),w=!1,A()}}}function i2e(n){let e,t,i,s,l={class:"form-field form-field-list "+(n[2].required?"required":""),name:n[2].name,$$slots:{default:[n2e,({uniqueId:o})=>({19:o}),({uniqueId:o})=>o?524288:0]},$$scope:{ctx:n}};e=new ze({props:l}),n[14](e);let r={value:n[0],field:n[2]};return i=new e2e({props:r}),n[15](i),i.$on("save",n[16]),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment)},m(o,a){q(e,o,a),C(o,t,a),q(i,o,a),s=!0},p(o,[a]){const f={};a&4&&(f.class="form-field form-field-list "+(o[2].required?"required":"")),a&4&&(f.name=o[2].name),a&268959863&&(f.$$scope={dirty:a,ctx:o}),e.$set(f);const u={};a&1&&(u.value=o[0]),a&4&&(u.field=o[2]),i.$set(u)},i(o){s||(P(e.$$.fragment,o),P(i.$$.fragment,o),s=!0)},o(o){I(e.$$.fragment,o),I(i.$$.fragment,o),s=!1},d(o){n[14](null),W(e,o),o&&S(t),n[15](null),W(i,o)}}}const OA=100;function s2e(n,e,t){let i,{value:s}=e,{picker:l}=e,{field:r=new Ns}=e,o,a=[],f=!1,u;function d(){if(f)return!1;const O=ee.toArray(s);return t(4,a=a.filter(E=>O.includes(E.id))),O.length!=a.length}async function h(){var N,j;const O=ee.toArray(s);if(t(4,a=[]),!((N=r==null?void 0:r.options)!=null&&N.collectionId)||!O.length){t(5,f=!1);return}t(5,f=!0);const E=O.slice(),R=[];for(;E.length>0;){const L=[];for(const F of E.splice(0,OA))L.push(`id="${F}"`);R.push(Re.collection((j=r==null?void 0:r.options)==null?void 0:j.collectionId).getFullList(OA,{filter:L.join("||"),$autoCancel:!1}))}try{let L=[];await Promise.all(R).then(F=>{L=L.concat(...F)});for(const F of O){const B=ee.findByKey(L,"id",F);B&&a.push(B)}t(4,a)}catch(L){Re.error(L)}t(5,f=!1)}function p(O){ee.removeByKey(a,"id",O.id),t(4,a),g()}function g(){var O;i?t(0,s=a.map(E=>E.id)):t(0,s=((O=a[0])==null?void 0:O.id)||"")}ls(()=>{clearTimeout(u)});const b=O=>p(O);function _(O){a=O,t(4,a)}const y=()=>{g()},w=()=>l==null?void 0:l.show();function A(O){de[O?"unshift":"push"](()=>{o=O,t(3,o)})}function M(O){de[O?"unshift":"push"](()=>{l=O,t(1,l)})}const T=O=>{var E;t(4,a=O.detail||[]),t(0,s=i?a.map(R=>R.id):((E=a[0])==null?void 0:E.id)||"")};return n.$$set=O=>{"value"in O&&t(0,s=O.value),"picker"in O&&t(1,l=O.picker),"field"in O&&t(2,r=O.field)},n.$$.update=()=>{var O;n.$$.dirty&4&&t(6,i=((O=r.options)==null?void 0:O.maxSelect)!=1),n.$$.dirty&9&&typeof s<"u"&&(o==null||o.changed()),n.$$.dirty&529&&d()&&(clearTimeout(u),t(9,u=setTimeout(h,0)))},[s,l,r,o,a,f,i,p,g,u,b,_,y,w,A,M,T]}class l2e extends ke{constructor(e){super(),ve(this,e,s2e,i2e,De,{value:0,picker:1,field:2})}}const r2e=["Activate","AddUndo","BeforeAddUndo","BeforeExecCommand","BeforeGetContent","BeforeRenderUI","BeforeSetContent","BeforePaste","Blur","Change","ClearUndos","Click","ContextMenu","Copy","Cut","Dblclick","Deactivate","Dirty","Drag","DragDrop","DragEnd","DragGesture","DragOver","Drop","ExecCommand","Focus","FocusIn","FocusOut","GetContent","Hide","Init","KeyDown","KeyPress","KeyUp","LoadContent","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","NodeChange","ObjectResizeStart","ObjectResized","ObjectSelected","Paste","PostProcess","PostRender","PreProcess","ProgressState","Redo","Remove","Reset","ResizeEditor","SaveContent","SelectionChange","SetAttrib","SetContent","Show","Submit","Undo","VisualAid"],o2e=(n,e)=>{r2e.forEach(t=>{n.on(t,i=>{e(t.toLowerCase(),{eventName:t,event:i,editor:n})})})};function a2e(n){let e;return{c(){e=k("textarea"),m(e,"id",n[0]),Il(e,"visibility","hidden")},m(t,i){C(t,e,i),n[18](e)},p(t,i){i&1&&m(e,"id",t[0])},d(t){t&&S(e),n[18](null)}}}function f2e(n){let e;return{c(){e=k("div"),m(e,"id",n[0])},m(t,i){C(t,e,i),n[17](e)},p(t,i){i&1&&m(e,"id",t[0])},d(t){t&&S(e),n[17](null)}}}function u2e(n){let e;function t(l,r){return l[1]?f2e:a2e}let i=t(n),s=i(n);return{c(){e=k("div"),s.c(),m(e,"class",n[2])},m(l,r){C(l,e,r),s.m(e,null),n[19](e)},p(l,[r]){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e,null))),r&4&&m(e,"class",l[2])},i:te,o:te,d(l){l&&S(e),s.d(),n[19](null)}}}const yL=n=>n+"_"+Math.floor(Math.random()*1e9)+String(Date.now()),c2e=()=>{let n={listeners:[],scriptId:yL("tiny-script"),scriptLoaded:!1,injected:!1};const e=(i,s,l,r)=>{n.injected=!0;const o=s.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.src=l,o.onload=()=>{r()},s.head&&s.head.appendChild(o)};return{load:(i,s,l)=>{n.scriptLoaded?l():(n.listeners.push(l),n.injected||e(n.scriptId,i,s,()=>{n.listeners.forEach(r=>r()),n.scriptLoaded=!0}))}}};let d2e=c2e();function h2e(n,e,t){var i;let{id:s=yL("tinymce-svelte")}=e,{inline:l=void 0}=e,{disabled:r=!1}=e,{apiKey:o="no-api-key"}=e,{channel:a="6"}=e,{scriptSrc:f=void 0}=e,{conf:u={}}=e,{modelEvents:d="change input undo redo"}=e,{value:h=""}=e,{text:p=""}=e,{cssClass:g="tinymce-wrapper"}=e,b,_,y,w=h,A=r;const M=Hn(),T=()=>{const L=(()=>typeof window<"u"?window:global)();return L&&L.tinymce?L.tinymce:null},O=()=>{const j=Object.assign(Object.assign({},u),{target:_,inline:l!==void 0?l:u.inline!==void 0?u.inline:!1,readonly:r,setup:L=>{t(14,y=L),L.on("init",()=>{L.setContent(h),L.on(d,()=>{t(15,w=L.getContent()),w!==h&&(t(5,h=w),t(6,p=L.getContent({format:"text"})))})}),o2e(L,M),typeof u.setup=="function"&&u.setup(L)}});t(4,_.style.visibility="",_),T().init(j)};Pn(()=>{if(T()!==null)O();else{const j=f||`https://cdn.tiny.cloud/1/${o}/tinymce/${a}/tinymce.min.js`;d2e.load(b.ownerDocument,j,()=>{O()})}}),ls(()=>{var j;y&&((j=T())===null||j===void 0||j.remove(y))});function E(j){de[j?"unshift":"push"](()=>{_=j,t(4,_)})}function R(j){de[j?"unshift":"push"](()=>{_=j,t(4,_)})}function N(j){de[j?"unshift":"push"](()=>{b=j,t(3,b)})}return n.$$set=j=>{"id"in j&&t(0,s=j.id),"inline"in j&&t(1,l=j.inline),"disabled"in j&&t(7,r=j.disabled),"apiKey"in j&&t(8,o=j.apiKey),"channel"in j&&t(9,a=j.channel),"scriptSrc"in j&&t(10,f=j.scriptSrc),"conf"in j&&t(11,u=j.conf),"modelEvents"in j&&t(12,d=j.modelEvents),"value"in j&&t(5,h=j.value),"text"in j&&t(6,p=j.text),"cssClass"in j&&t(2,g=j.cssClass)},n.$$.update=()=>{n.$$.dirty&123040&&(y&&w!==h&&(y.setContent(h),t(6,p=y.getContent({format:"text"}))),y&&r!==A&&(t(16,A=r),typeof(t(13,i=y.mode)===null||i===void 0?void 0:i.set)=="function"?y.mode.set(r?"readonly":"design"):y.setMode(r?"readonly":"design")))},[s,l,g,b,_,h,p,r,o,a,f,u,d,i,y,w,A,E,R,N]}class tv extends ke{constructor(e){super(),ve(this,e,h2e,u2e,De,{id:0,inline:1,disabled:7,apiKey:8,channel:9,scriptSrc:10,conf:11,modelEvents:12,value:5,text:6,cssClass:2})}}function p2e(n){let e,t,i,s,l,r=n[1].name+"",o,a,f,u,d,h;function p(b){n[2](b)}let g={id:n[3],scriptSrc:"./libs/tinymce/tinymce.min.js",conf:ee.defaultEditorOptions()};return n[0]!==void 0&&(g.value=n[0]),u=new tv({props:g}),de.push(()=>Ne(u,"value",p)),{c(){e=k("label"),t=k("i"),s=D(),l=k("span"),o=G(r),f=D(),U(u.$$.fragment),m(t,"class",i=ee.getFieldTypeIcon(n[1].type)),m(l,"class","txt"),m(e,"for",a=n[3])},m(b,_){C(b,e,_),v(e,t),v(e,s),v(e,l),v(l,o),C(b,f,_),q(u,b,_),h=!0},p(b,_){(!h||_&2&&i!==(i=ee.getFieldTypeIcon(b[1].type)))&&m(t,"class",i),(!h||_&2)&&r!==(r=b[1].name+"")&&pe(o,r),(!h||_&8&&a!==(a=b[3]))&&m(e,"for",a);const y={};_&8&&(y.id=b[3]),!d&&_&1&&(d=!0,y.value=b[0],Be(()=>d=!1)),u.$set(y)},i(b){h||(P(u.$$.fragment,b),h=!0)},o(b){I(u.$$.fragment,b),h=!1},d(b){b&&S(e),b&&S(f),W(u,b)}}}function m2e(n){let e,t;return e=new ze({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[p2e,({uniqueId:i})=>({3:i}),({uniqueId:i})=>i?8:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&2&&(l.class="form-field "+(i[1].required?"required":"")),s&2&&(l.name=i[1].name),s&27&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function g2e(n,e,t){let{field:i=new Ns}=e,{value:s=void 0}=e;function l(r){s=r,t(0,s)}return n.$$set=r=>{"field"in r&&t(1,i=r.field),"value"in r&&t(0,s=r.value)},[s,i,l]}class b2e extends ke{constructor(e){super(),ve(this,e,g2e,m2e,De,{field:1,value:0})}}function _2e(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Auth URL"),s=D(),l=k("input"),m(e,"for",i=n[5]),m(l,"type","url"),m(l,"id",r=n[5])},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].authUrl),o||(a=x(l,"input",n[2]),o=!0)},p(f,u){u&32&&i!==(i=f[5])&&m(e,"for",i),u&32&&r!==(r=f[5])&&m(l,"id",r),u&1&&l.value!==f[0].authUrl&&Ae(l,f[0].authUrl)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function y2e(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Token URL"),s=D(),l=k("input"),m(e,"for",i=n[5]),m(l,"type","url"),m(l,"id",r=n[5])},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].tokenUrl),o||(a=x(l,"input",n[3]),o=!0)},p(f,u){u&32&&i!==(i=f[5])&&m(e,"for",i),u&32&&r!==(r=f[5])&&m(l,"id",r),u&1&&l.value!==f[0].tokenUrl&&Ae(l,f[0].tokenUrl)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function v2e(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("User API URL"),s=D(),l=k("input"),m(e,"for",i=n[5]),m(l,"type","url"),m(l,"id",r=n[5])},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].userApiUrl),o||(a=x(l,"input",n[4]),o=!0)},p(f,u){u&32&&i!==(i=f[5])&&m(e,"for",i),u&32&&r!==(r=f[5])&&m(l,"id",r),u&1&&l.value!==f[0].userApiUrl&&Ae(l,f[0].userApiUrl)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function k2e(n){let e,t,i,s,l,r,o,a;return i=new ze({props:{class:"form-field",name:n[1]+".authUrl",$$slots:{default:[_2e,({uniqueId:f})=>({5:f}),({uniqueId:f})=>f?32:0]},$$scope:{ctx:n}}}),l=new ze({props:{class:"form-field",name:n[1]+".tokenUrl",$$slots:{default:[y2e,({uniqueId:f})=>({5:f}),({uniqueId:f})=>f?32:0]},$$scope:{ctx:n}}}),o=new ze({props:{class:"form-field",name:n[1]+".userApiUrl",$$slots:{default:[v2e,({uniqueId:f})=>({5:f}),({uniqueId:f})=>f?32:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),e.textContent="Selfhosted endpoints (optional)",t=D(),U(i.$$.fragment),s=D(),U(l.$$.fragment),r=D(),U(o.$$.fragment),m(e,"class","section-title")},m(f,u){C(f,e,u),C(f,t,u),q(i,f,u),C(f,s,u),q(l,f,u),C(f,r,u),q(o,f,u),a=!0},p(f,[u]){const d={};u&2&&(d.name=f[1]+".authUrl"),u&97&&(d.$$scope={dirty:u,ctx:f}),i.$set(d);const h={};u&2&&(h.name=f[1]+".tokenUrl"),u&97&&(h.$$scope={dirty:u,ctx:f}),l.$set(h);const p={};u&2&&(p.name=f[1]+".userApiUrl"),u&97&&(p.$$scope={dirty:u,ctx:f}),o.$set(p)},i(f){a||(P(i.$$.fragment,f),P(l.$$.fragment,f),P(o.$$.fragment,f),a=!0)},o(f){I(i.$$.fragment,f),I(l.$$.fragment,f),I(o.$$.fragment,f),a=!1},d(f){f&&S(e),f&&S(t),W(i,f),f&&S(s),W(l,f),f&&S(r),W(o,f)}}}function w2e(n,e,t){let{key:i=""}=e,{config:s={}}=e;function l(){s.authUrl=this.value,t(0,s)}function r(){s.tokenUrl=this.value,t(0,s)}function o(){s.userApiUrl=this.value,t(0,s)}return n.$$set=a=>{"key"in a&&t(1,i=a.key),"config"in a&&t(0,s=a.config)},[s,i,l,r,o]}class EA extends ke{constructor(e){super(),ve(this,e,w2e,k2e,De,{key:1,config:0})}}function S2e(n){let e,t,i,s,l,r,o,a,f,u,d;return{c(){e=k("label"),t=G("Auth URL"),s=D(),l=k("input"),a=D(),f=k("div"),f.textContent="Eg. https://login.microsoftonline.com/YOUR_DIRECTORY_TENANT_ID/oauth2/v2.0/authorize",m(e,"for",i=n[4]),m(l,"type","url"),m(l,"id",r=n[4]),l.required=o=n[0].enabled,m(f,"class","help-block")},m(h,p){C(h,e,p),v(e,t),C(h,s,p),C(h,l,p),Ae(l,n[0].authUrl),C(h,a,p),C(h,f,p),u||(d=x(l,"input",n[2]),u=!0)},p(h,p){p&16&&i!==(i=h[4])&&m(e,"for",i),p&16&&r!==(r=h[4])&&m(l,"id",r),p&1&&o!==(o=h[0].enabled)&&(l.required=o),p&1&&l.value!==h[0].authUrl&&Ae(l,h[0].authUrl)},d(h){h&&S(e),h&&S(s),h&&S(l),h&&S(a),h&&S(f),u=!1,d()}}}function C2e(n){let e,t,i,s,l,r,o,a,f,u,d;return{c(){e=k("label"),t=G("Token URL"),s=D(),l=k("input"),a=D(),f=k("div"),f.textContent="Eg. https://login.microsoftonline.com/YOUR_DIRECTORY_TENANT_ID/oauth2/v2.0/token",m(e,"for",i=n[4]),m(l,"type","url"),m(l,"id",r=n[4]),l.required=o=n[0].enabled,m(f,"class","help-block")},m(h,p){C(h,e,p),v(e,t),C(h,s,p),C(h,l,p),Ae(l,n[0].tokenUrl),C(h,a,p),C(h,f,p),u||(d=x(l,"input",n[3]),u=!0)},p(h,p){p&16&&i!==(i=h[4])&&m(e,"for",i),p&16&&r!==(r=h[4])&&m(l,"id",r),p&1&&o!==(o=h[0].enabled)&&(l.required=o),p&1&&l.value!==h[0].tokenUrl&&Ae(l,h[0].tokenUrl)},d(h){h&&S(e),h&&S(s),h&&S(l),h&&S(a),h&&S(f),u=!1,d()}}}function M2e(n){let e,t,i,s,l,r;return i=new ze({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".authUrl",$$slots:{default:[S2e,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),l=new ze({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".tokenUrl",$$slots:{default:[C2e,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),e.textContent="Azure AD endpoints",t=D(),U(i.$$.fragment),s=D(),U(l.$$.fragment),m(e,"class","section-title")},m(o,a){C(o,e,a),C(o,t,a),q(i,o,a),C(o,s,a),q(l,o,a),r=!0},p(o,[a]){const f={};a&1&&(f.class="form-field "+(o[0].enabled?"required":"")),a&2&&(f.name=o[1]+".authUrl"),a&49&&(f.$$scope={dirty:a,ctx:o}),i.$set(f);const u={};a&1&&(u.class="form-field "+(o[0].enabled?"required":"")),a&2&&(u.name=o[1]+".tokenUrl"),a&49&&(u.$$scope={dirty:a,ctx:o}),l.$set(u)},i(o){r||(P(i.$$.fragment,o),P(l.$$.fragment,o),r=!0)},o(o){I(i.$$.fragment,o),I(l.$$.fragment,o),r=!1},d(o){o&&S(e),o&&S(t),W(i,o),o&&S(s),W(l,o)}}}function T2e(n,e,t){let{key:i=""}=e,{config:s={}}=e;function l(){s.authUrl=this.value,t(0,s)}function r(){s.tokenUrl=this.value,t(0,s)}return n.$$set=o=>{"key"in o&&t(1,i=o.key),"config"in o&&t(0,s=o.config)},[s,i,l,r]}class A2e extends ke{constructor(e){super(),ve(this,e,T2e,M2e,De,{key:1,config:0})}}function O2e(n){let e,t,i,s,l,r,o,a,f,u,d;return{c(){e=k("label"),t=G("Auth URL"),s=D(),l=k("input"),a=D(),f=k("div"),f.textContent="Eg. https://example.com/authorize/",m(e,"for",i=n[5]),m(l,"type","url"),m(l,"id",r=n[5]),l.required=o=n[0].enabled,m(f,"class","help-block")},m(h,p){C(h,e,p),v(e,t),C(h,s,p),C(h,l,p),Ae(l,n[0].authUrl),C(h,a,p),C(h,f,p),u||(d=x(l,"input",n[2]),u=!0)},p(h,p){p&32&&i!==(i=h[5])&&m(e,"for",i),p&32&&r!==(r=h[5])&&m(l,"id",r),p&1&&o!==(o=h[0].enabled)&&(l.required=o),p&1&&l.value!==h[0].authUrl&&Ae(l,h[0].authUrl)},d(h){h&&S(e),h&&S(s),h&&S(l),h&&S(a),h&&S(f),u=!1,d()}}}function E2e(n){let e,t,i,s,l,r,o,a,f,u,d;return{c(){e=k("label"),t=G("Token URL"),s=D(),l=k("input"),a=D(),f=k("div"),f.textContent="Eg. https://example.com/token/",m(e,"for",i=n[5]),m(l,"type","url"),m(l,"id",r=n[5]),l.required=o=n[0].enabled,m(f,"class","help-block")},m(h,p){C(h,e,p),v(e,t),C(h,s,p),C(h,l,p),Ae(l,n[0].tokenUrl),C(h,a,p),C(h,f,p),u||(d=x(l,"input",n[3]),u=!0)},p(h,p){p&32&&i!==(i=h[5])&&m(e,"for",i),p&32&&r!==(r=h[5])&&m(l,"id",r),p&1&&o!==(o=h[0].enabled)&&(l.required=o),p&1&&l.value!==h[0].tokenUrl&&Ae(l,h[0].tokenUrl)},d(h){h&&S(e),h&&S(s),h&&S(l),h&&S(a),h&&S(f),u=!1,d()}}}function P2e(n){let e,t,i,s,l,r,o,a,f,u,d;return{c(){e=k("label"),t=G("User API URL"),s=D(),l=k("input"),a=D(),f=k("div"),f.textContent="Eg. https://example.com/userinfo/",m(e,"for",i=n[5]),m(l,"type","url"),m(l,"id",r=n[5]),l.required=o=n[0].enabled,m(f,"class","help-block")},m(h,p){C(h,e,p),v(e,t),C(h,s,p),C(h,l,p),Ae(l,n[0].userApiUrl),C(h,a,p),C(h,f,p),u||(d=x(l,"input",n[4]),u=!0)},p(h,p){p&32&&i!==(i=h[5])&&m(e,"for",i),p&32&&r!==(r=h[5])&&m(l,"id",r),p&1&&o!==(o=h[0].enabled)&&(l.required=o),p&1&&l.value!==h[0].userApiUrl&&Ae(l,h[0].userApiUrl)},d(h){h&&S(e),h&&S(s),h&&S(l),h&&S(a),h&&S(f),u=!1,d()}}}function D2e(n){let e,t,i,s,l,r,o,a;return i=new ze({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".authUrl",$$slots:{default:[O2e,({uniqueId:f})=>({5:f}),({uniqueId:f})=>f?32:0]},$$scope:{ctx:n}}}),l=new ze({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".tokenUrl",$$slots:{default:[E2e,({uniqueId:f})=>({5:f}),({uniqueId:f})=>f?32:0]},$$scope:{ctx:n}}}),o=new ze({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".userApiUrl",$$slots:{default:[P2e,({uniqueId:f})=>({5:f}),({uniqueId:f})=>f?32:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),e.textContent="Endpoints",t=D(),U(i.$$.fragment),s=D(),U(l.$$.fragment),r=D(),U(o.$$.fragment),m(e,"class","section-title")},m(f,u){C(f,e,u),C(f,t,u),q(i,f,u),C(f,s,u),q(l,f,u),C(f,r,u),q(o,f,u),a=!0},p(f,[u]){const d={};u&1&&(d.class="form-field "+(f[0].enabled?"required":"")),u&2&&(d.name=f[1]+".authUrl"),u&97&&(d.$$scope={dirty:u,ctx:f}),i.$set(d);const h={};u&1&&(h.class="form-field "+(f[0].enabled?"required":"")),u&2&&(h.name=f[1]+".tokenUrl"),u&97&&(h.$$scope={dirty:u,ctx:f}),l.$set(h);const p={};u&1&&(p.class="form-field "+(f[0].enabled?"required":"")),u&2&&(p.name=f[1]+".userApiUrl"),u&97&&(p.$$scope={dirty:u,ctx:f}),o.$set(p)},i(f){a||(P(i.$$.fragment,f),P(l.$$.fragment,f),P(o.$$.fragment,f),a=!0)},o(f){I(i.$$.fragment,f),I(l.$$.fragment,f),I(o.$$.fragment,f),a=!1},d(f){f&&S(e),f&&S(t),W(i,f),f&&S(s),W(l,f),f&&S(r),W(o,f)}}}function I2e(n,e,t){let{key:i=""}=e,{config:s={}}=e;function l(){s.authUrl=this.value,t(0,s)}function r(){s.tokenUrl=this.value,t(0,s)}function o(){s.userApiUrl=this.value,t(0,s)}return n.$$set=a=>{"key"in a&&t(1,i=a.key),"config"in a&&t(0,s=a.config)},[s,i,l,r,o]}class E0 extends ke{constructor(e){super(),ve(this,e,I2e,D2e,De,{key:1,config:0})}}function R2e(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Client ID"),s=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",r=n[23]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[2]),o||(a=x(l,"input",n[12]),o=!0)},p(f,u){u&8388608&&i!==(i=f[23])&&m(e,"for",i),u&8388608&&r!==(r=f[23])&&m(l,"id",r),u&4&&l.value!==f[2]&&Ae(l,f[2])},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function N2e(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Team ID"),s=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",r=n[23]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[3]),o||(a=x(l,"input",n[13]),o=!0)},p(f,u){u&8388608&&i!==(i=f[23])&&m(e,"for",i),u&8388608&&r!==(r=f[23])&&m(l,"id",r),u&8&&l.value!==f[3]&&Ae(l,f[3])},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function L2e(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Key ID"),s=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",r=n[23]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[4]),o||(a=x(l,"input",n[14]),o=!0)},p(f,u){u&8388608&&i!==(i=f[23])&&m(e,"for",i),u&8388608&&r!==(r=f[23])&&m(l,"id",r),u&16&&l.value!==f[4]&&Ae(l,f[4])},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function F2e(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("label"),t=k("span"),t.textContent="Duration (in seconds)",i=D(),s=k("i"),r=D(),o=k("input"),m(t,"class","txt"),m(s,"class","ri-information-line link-hint"),m(e,"for",l=n[23]),m(o,"type","text"),m(o,"id",a=n[23]),m(o,"max",Mp),o.required=!0},m(d,h){C(d,e,h),v(e,t),v(e,i),v(e,s),C(d,r,h),C(d,o,h),Ae(o,n[6]),f||(u=[xe(Mt.call(null,s,{text:`Max ${Mp} seconds (~${Mp/(60*60*24*30)<<0} months).`,position:"top"})),x(o,"input",n[15])],f=!0)},p(d,h){h&8388608&&l!==(l=d[23])&&m(e,"for",l),h&8388608&&a!==(a=d[23])&&m(o,"id",a),h&64&&o.value!==d[6]&&Ae(o,d[6])},d(d){d&&S(e),d&&S(r),d&&S(o),f=!1,Ke(u)}}}function j2e(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("label"),t=G("Private key"),s=D(),l=k("textarea"),o=D(),a=k("div"),a.textContent="The key is not stored on the server and it is used only for generating the signed JWT.",m(e,"for",i=n[23]),m(l,"id",r=n[23]),l.required=!0,m(l,"rows","8"),m(l,"placeholder",`-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----`),m(a,"class","help-block")},m(d,h){C(d,e,h),v(e,t),C(d,s,h),C(d,l,h),Ae(l,n[5]),C(d,o,h),C(d,a,h),f||(u=x(l,"input",n[16]),f=!0)},p(d,h){h&8388608&&i!==(i=d[23])&&m(e,"for",i),h&8388608&&r!==(r=d[23])&&m(l,"id",r),h&32&&Ae(l,d[5])},d(d){d&&S(e),d&&S(s),d&&S(l),d&&S(o),d&&S(a),f=!1,u()}}}function B2e(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w;return s=new ze({props:{class:"form-field required",name:"clientId",$$slots:{default:[R2e,({uniqueId:A})=>({23:A}),({uniqueId:A})=>A?8388608:0]},$$scope:{ctx:n}}}),o=new ze({props:{class:"form-field required",name:"teamId",$$slots:{default:[N2e,({uniqueId:A})=>({23:A}),({uniqueId:A})=>A?8388608:0]},$$scope:{ctx:n}}}),u=new ze({props:{class:"form-field required",name:"keyId",$$slots:{default:[L2e,({uniqueId:A})=>({23:A}),({uniqueId:A})=>A?8388608:0]},$$scope:{ctx:n}}}),p=new ze({props:{class:"form-field required",name:"duration",$$slots:{default:[F2e,({uniqueId:A})=>({23:A}),({uniqueId:A})=>A?8388608:0]},$$scope:{ctx:n}}}),b=new ze({props:{class:"form-field required",name:"privateKey",$$slots:{default:[j2e,({uniqueId:A})=>({23:A}),({uniqueId:A})=>A?8388608:0]},$$scope:{ctx:n}}}),{c(){e=k("form"),t=k("div"),i=k("div"),U(s.$$.fragment),l=D(),r=k("div"),U(o.$$.fragment),a=D(),f=k("div"),U(u.$$.fragment),d=D(),h=k("div"),U(p.$$.fragment),g=D(),U(b.$$.fragment),m(i,"class","col-lg-6"),m(r,"class","col-lg-6"),m(f,"class","col-lg-6"),m(h,"class","col-lg-6"),m(t,"class","grid"),m(e,"id",n[9]),m(e,"autocomplete","off")},m(A,M){C(A,e,M),v(e,t),v(t,i),q(s,i,null),v(t,l),v(t,r),q(o,r,null),v(t,a),v(t,f),q(u,f,null),v(t,d),v(t,h),q(p,h,null),v(t,g),q(b,t,null),_=!0,y||(w=x(e,"submit",qt(n[17])),y=!0)},p(A,M){const T={};M&25165828&&(T.$$scope={dirty:M,ctx:A}),s.$set(T);const O={};M&25165832&&(O.$$scope={dirty:M,ctx:A}),o.$set(O);const E={};M&25165840&&(E.$$scope={dirty:M,ctx:A}),u.$set(E);const R={};M&25165888&&(R.$$scope={dirty:M,ctx:A}),p.$set(R);const N={};M&25165856&&(N.$$scope={dirty:M,ctx:A}),b.$set(N)},i(A){_||(P(s.$$.fragment,A),P(o.$$.fragment,A),P(u.$$.fragment,A),P(p.$$.fragment,A),P(b.$$.fragment,A),_=!0)},o(A){I(s.$$.fragment,A),I(o.$$.fragment,A),I(u.$$.fragment,A),I(p.$$.fragment,A),I(b.$$.fragment,A),_=!1},d(A){A&&S(e),W(s),W(o),W(u),W(p),W(b),y=!1,w()}}}function V2e(n){let e;return{c(){e=k("h4"),e.textContent="Generate Apple client secret",m(e,"class","center txt-break")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function z2e(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("button"),t=G("Close"),i=D(),s=k("button"),l=k("i"),r=D(),o=k("span"),o.textContent="Generate and set secret",m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[7],m(l,"class","ri-key-line"),m(o,"class","txt"),m(s,"type","submit"),m(s,"form",n[9]),m(s,"class","btn btn-expanded"),s.disabled=a=!n[8]||n[7],$(s,"btn-loading",n[7])},m(d,h){C(d,e,h),v(e,t),C(d,i,h),C(d,s,h),v(s,l),v(s,r),v(s,o),f||(u=x(e,"click",n[0]),f=!0)},p(d,h){h&128&&(e.disabled=d[7]),h&384&&a!==(a=!d[8]||d[7])&&(s.disabled=a),h&128&&$(s,"btn-loading",d[7])},d(d){d&&S(e),d&&S(i),d&&S(s),f=!1,u()}}}function H2e(n){let e,t,i={overlayClose:!n[7],escClose:!n[7],beforeHide:n[18],popup:!0,$$slots:{footer:[z2e],header:[V2e],default:[B2e]},$$scope:{ctx:n}};return e=new rs({props:i}),n[19](e),e.$on("show",n[20]),e.$on("hide",n[21]),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,[l]){const r={};l&128&&(r.overlayClose=!s[7]),l&128&&(r.escClose=!s[7]),l&128&&(r.beforeHide=s[18]),l&16777724&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[19](null),W(e,s)}}}const Mp=15777e3;function q2e(n,e,t){let i;const s=Hn(),l="apple_secret_"+ee.randomString(5);let r,o,a,f,u,d,h=!1;function p(j={}){t(2,o=j.clientId||""),t(3,a=j.teamId||""),t(4,f=j.keyId||""),t(5,u=j.privateKey||""),t(6,d=j.duration||Mp),Ki({}),r==null||r.show()}function g(){return r==null?void 0:r.hide()}async function b(){t(7,h=!0);try{const j=await Re.settings.generateAppleClientSecret(o,a,f,u.trim(),d);t(7,h=!1),fi("Successfully generated client secret."),s("submit",j),r==null||r.hide()}catch(j){Re.error(j)}t(7,h=!1)}function _(){o=this.value,t(2,o)}function y(){a=this.value,t(3,a)}function w(){f=this.value,t(4,f)}function A(){d=this.value,t(6,d)}function M(){u=this.value,t(5,u)}const T=()=>b(),O=()=>!h;function E(j){de[j?"unshift":"push"](()=>{r=j,t(1,r)})}function R(j){ht.call(this,n,j)}function N(j){ht.call(this,n,j)}return t(8,i=!0),[g,r,o,a,f,u,d,h,i,l,b,p,_,y,w,A,M,T,O,E,R,N]}class W2e extends ke{constructor(e){super(),ve(this,e,q2e,H2e,De,{show:11,hide:0})}get show(){return this.$$.ctx[11]}get hide(){return this.$$.ctx[0]}}function U2e(n){let e,t,i,s,l,r,o,a,f,u,d={};return o=new W2e({props:d}),n[4](o),o.$on("submit",n[5]),{c(){e=k("button"),t=k("i"),i=D(),s=k("span"),s.textContent="Generate secret",r=D(),U(o.$$.fragment),m(t,"class","ri-key-line"),m(s,"class","txt"),m(e,"type","button"),m(e,"class",l="btn btn-sm btn-secondary btn-provider-"+n[1])},m(h,p){C(h,e,p),v(e,t),v(e,i),v(e,s),C(h,r,p),q(o,h,p),a=!0,f||(u=x(e,"click",n[3]),f=!0)},p(h,[p]){(!a||p&2&&l!==(l="btn btn-sm btn-secondary btn-provider-"+h[1]))&&m(e,"class",l);const g={};o.$set(g)},i(h){a||(P(o.$$.fragment,h),a=!0)},o(h){I(o.$$.fragment,h),a=!1},d(h){h&&S(e),h&&S(r),n[4](null),W(o,h),f=!1,u()}}}function K2e(n,e,t){let{key:i=""}=e,{config:s={}}=e,l;const r=()=>l==null?void 0:l.show({clientId:s.clientId});function o(f){de[f?"unshift":"push"](()=>{l=f,t(2,l)})}const a=f=>{var u;t(0,s.clientSecret=((u=f.detail)==null?void 0:u.secret)||"",s)};return n.$$set=f=>{"key"in f&&t(1,i=f.key),"config"in f&&t(0,s=f.config)},[s,i,l,r,o,a]}class J2e extends ke{constructor(e){super(),ve(this,e,K2e,U2e,De,{key:1,config:0})}}const Tp=[{key:"appleAuth",title:"Apple",logo:"apple.svg",optionsComponent:J2e},{key:"googleAuth",title:"Google",logo:"google.svg"},{key:"facebookAuth",title:"Facebook",logo:"facebook.svg"},{key:"microsoftAuth",title:"Microsoft",logo:"microsoft.svg",optionsComponent:A2e},{key:"githubAuth",title:"GitHub",logo:"github.svg"},{key:"gitlabAuth",title:"GitLab",logo:"gitlab.svg",optionsComponent:EA},{key:"giteeAuth",title:"Gitee",logo:"gitee.svg"},{key:"giteaAuth",title:"Gitea",logo:"gitea.svg",optionsComponent:EA},{key:"discordAuth",title:"Discord",logo:"discord.svg"},{key:"twitterAuth",title:"Twitter",logo:"twitter.svg"},{key:"kakaoAuth",title:"Kakao",logo:"kakao.svg"},{key:"spotifyAuth",title:"Spotify",logo:"spotify.svg"},{key:"twitchAuth",title:"Twitch",logo:"twitch.svg"},{key:"stravaAuth",title:"Strava",logo:"strava.svg"},{key:"livechatAuth",title:"LiveChat",logo:"livechat.svg"},{key:"oidcAuth",title:"OpenID Connect",logo:"oidc.svg",optionsComponent:E0},{key:"oidc2Auth",title:"(2) OpenID Connect",logo:"oidc.svg",optionsComponent:E0},{key:"oidc3Auth",title:"(3) OpenID Connect",logo:"oidc.svg",optionsComponent:E0}];function PA(n,e,t){const i=n.slice();return i[9]=e[t],i}function x2e(n){let e;return{c(){e=k("h6"),e.textContent="No linked OAuth2 providers.",m(e,"class","txt-hint txt-center m-t-sm m-b-sm")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function Y2e(n){let e,t=n[1],i=[];for(let s=0;s<t.length;s+=1)i[s]=DA(PA(n,t,s));return{c(){e=k("div");for(let s=0;s<i.length;s+=1)i[s].c();m(e,"class","list")},m(s,l){C(s,e,l);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null)},p(s,l){if(l&58){t=s[1];let r;for(r=0;r<t.length;r+=1){const o=PA(s,t,r);i[r]?i[r].p(o,l):(i[r]=DA(o),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(s){s&&S(e),Ot(i,s)}}}function G2e(n){let e;return{c(){e=k("div"),e.innerHTML='<span class="loader"></span>',m(e,"class","block txt-center")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function DA(n){let e,t,i,s,l,r,o=n[4](n[9].provider)+"",a,f,u,d,h=n[9].providerId+"",p,g,b,_,y,w;function A(){return n[6](n[9])}return{c(){var M;e=k("div"),t=k("figure"),i=k("img"),l=D(),r=k("span"),a=G(o),f=D(),u=k("div"),d=G("ID: "),p=G(h),g=D(),b=k("button"),b.innerHTML='<i class="ri-close-line"></i>',_=D(),Ss(i.src,s="./images/oauth2/"+((M=n[3](n[9].provider))==null?void 0:M.logo))||m(i,"src",s),m(i,"alt","Provider logo"),m(t,"class","provider-logo"),m(r,"class","txt"),m(u,"class","txt-hint"),m(b,"type","button"),m(b,"class","btn btn-transparent link-hint btn-circle btn-sm m-l-auto"),m(e,"class","list-item")},m(M,T){C(M,e,T),v(e,t),v(t,i),v(e,l),v(e,r),v(r,a),v(e,f),v(e,u),v(u,d),v(u,p),v(e,g),v(e,b),v(e,_),y||(w=x(b,"click",A),y=!0)},p(M,T){var O;n=M,T&2&&!Ss(i.src,s="./images/oauth2/"+((O=n[3](n[9].provider))==null?void 0:O.logo))&&m(i,"src",s),T&2&&o!==(o=n[4](n[9].provider)+"")&&pe(a,o),T&2&&h!==(h=n[9].providerId+"")&&pe(p,h)},d(M){M&&S(e),y=!1,w()}}}function X2e(n){let e;function t(l,r){var o;return l[2]?G2e:(o=l[0])!=null&&o.id&&l[1].length?Y2e:x2e}let i=t(n),s=i(n);return{c(){s.c(),e=Ee()},m(l,r){s.m(l,r),C(l,e,r)},p(l,[r]){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},i:te,o:te,d(l){s.d(l),l&&S(e)}}}function Z2e(n,e,t){const i=Hn();let{record:s}=e,l=[],r=!1;function o(h){return Tp.find(p=>p.key==h+"Auth")||{}}function a(h){var p;return((p=o(h))==null?void 0:p.title)||ee.sentenize(h,!1)}async function f(){if(!(s!=null&&s.id)){t(1,l=[]),t(2,r=!1);return}t(2,r=!0);try{t(1,l=await Re.collection(s.collectionId).listExternalAuths(s.id))}catch(h){Re.error(h)}t(2,r=!1)}function u(h){!(s!=null&&s.id)||!h||ds(`Do you really want to unlink the ${a(h)} provider?`,()=>Re.collection(s.collectionId).unlinkExternalAuth(s.id,h).then(()=>{fi(`Successfully unlinked the ${a(h)} provider.`),i("unlink",h),f()}).catch(p=>{Re.error(p)}))}f();const d=h=>u(h.provider);return n.$$set=h=>{"record"in h&&t(0,s=h.record)},[s,l,r,o,a,u,d]}class Q2e extends ke{constructor(e){super(),ve(this,e,Z2e,X2e,De,{record:0})}}function IA(n,e,t){const i=n.slice();return i[66]=e[t],i[67]=e,i[68]=t,i}function RA(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b;return{c(){e=k("div"),t=k("div"),i=k("div"),i.innerHTML='<i class="ri-information-line"></i>',s=D(),l=k("div"),r=G(`The record has previous unsaved changes.
                            `),o=k("button"),o.textContent="Restore draft",a=D(),f=k("button"),f.innerHTML='<i class="ri-close-line"></i>',u=D(),d=k("div"),m(i,"class","icon"),m(o,"type","button"),m(o,"class","btn btn-sm btn-secondary"),m(l,"class","flex flex-gap-xs"),m(f,"type","button"),m(f,"class","close"),m(f,"aria-label","Discard draft"),m(t,"class","alert alert-info m-0"),m(d,"class","clearfix p-b-base"),m(e,"class","block")},m(_,y){C(_,e,y),v(e,t),v(t,i),v(t,s),v(t,l),v(l,r),v(l,o),v(t,a),v(t,f),v(e,u),v(e,d),p=!0,g||(b=[x(o,"click",n[36]),xe(Mt.call(null,f,"Discard draft")),x(f,"click",qt(n[37]))],g=!0)},p:te,i(_){p||(h&&h.end(1),p=!0)},o(_){h=V_(e,gn,{duration:150}),p=!1},d(_){_&&S(e),_&&h&&h.end(),g=!1,Ke(b)}}}function NA(n){let e,t,i,s,l;return{c(){e=k("div"),t=k("i"),m(t,"class","ri-calendar-event-line txt-disabled"),m(e,"class","form-field-addon")},m(r,o){C(r,e,o),v(e,t),s||(l=xe(i=Mt.call(null,t,{text:`Created: ${n[3].created}
Updated: ${n[3].updated}`,position:"left"})),s=!0)},p(r,o){i&&fn(i.update)&&o[0]&8&&i.update.call(null,{text:`Created: ${r[3].created}
Updated: ${r[3].updated}`,position:"left"})},d(r){r&&S(e),s=!1,l()}}}function $2e(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b=!n[6]&&NA(n);return{c(){e=k("label"),t=k("i"),i=D(),s=k("span"),s.textContent="id",l=D(),r=k("span"),a=D(),b&&b.c(),f=D(),u=k("input"),m(t,"class",vn(ee.getFieldTypeIcon("primary"))+" svelte-qc5ngu"),m(s,"class","txt"),m(r,"class","flex-fill"),m(e,"for",o=n[69]),m(u,"type","text"),m(u,"id",d=n[69]),m(u,"placeholder","Leave empty to auto generate..."),m(u,"minlength","15"),u.readOnly=h=!n[6]},m(_,y){C(_,e,y),v(e,t),v(e,i),v(e,s),v(e,l),v(e,r),C(_,a,y),b&&b.m(_,y),C(_,f,y),C(_,u,y),Ae(u,n[3].id),p||(g=x(u,"input",n[38]),p=!0)},p(_,y){y[2]&128&&o!==(o=_[69])&&m(e,"for",o),_[6]?b&&(b.d(1),b=null):b?b.p(_,y):(b=NA(_),b.c(),b.m(f.parentNode,f)),y[2]&128&&d!==(d=_[69])&&m(u,"id",d),y[0]&64&&h!==(h=!_[6])&&(u.readOnly=h),y[0]&8&&u.value!==_[3].id&&Ae(u,_[3].id)},d(_){_&&S(e),_&&S(a),b&&b.d(_),_&&S(f),_&&S(u),p=!1,g()}}}function LA(n){var f,u;let e,t,i,s,l;function r(d){n[39](d)}let o={isNew:n[6],collection:n[0]};n[3]!==void 0&&(o.record=n[3]),e=new NY({props:o}),de.push(()=>Ne(e,"record",r));let a=((u=(f=n[0])==null?void 0:f.schema)==null?void 0:u.length)&&FA();return{c(){U(e.$$.fragment),i=D(),a&&a.c(),s=Ee()},m(d,h){q(e,d,h),C(d,i,h),a&&a.m(d,h),C(d,s,h),l=!0},p(d,h){var g,b;const p={};h[0]&64&&(p.isNew=d[6]),h[0]&1&&(p.collection=d[0]),!t&&h[0]&8&&(t=!0,p.record=d[3],Be(()=>t=!1)),e.$set(p),(b=(g=d[0])==null?void 0:g.schema)!=null&&b.length?a||(a=FA(),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},i(d){l||(P(e.$$.fragment,d),l=!0)},o(d){I(e.$$.fragment,d),l=!1},d(d){W(e,d),d&&S(i),a&&a.d(d),d&&S(s)}}}function FA(n){let e;return{c(){e=k("hr")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function eye(n){let e,t,i;function s(r){n[52](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new l2e({props:l}),de.push(()=>Ne(e,"value",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function tye(n){let e,t,i,s,l;function r(u){n[49](u,n[66])}function o(u){n[50](u,n[66])}function a(u){n[51](u,n[66])}let f={field:n[66],record:n[3]};return n[3][n[66].name]!==void 0&&(f.value=n[3][n[66].name]),n[4][n[66].name]!==void 0&&(f.uploadedFiles=n[4][n[66].name]),n[5][n[66].name]!==void 0&&(f.deletedFileNames=n[5][n[66].name]),e=new B_e({props:f}),de.push(()=>Ne(e,"value",r)),de.push(()=>Ne(e,"uploadedFiles",o)),de.push(()=>Ne(e,"deletedFileNames",a)),{c(){U(e.$$.fragment)},m(u,d){q(e,u,d),l=!0},p(u,d){n=u;const h={};d[0]&1&&(h.field=n[66]),d[0]&8&&(h.record=n[3]),!t&&d[0]&9&&(t=!0,h.value=n[3][n[66].name],Be(()=>t=!1)),!i&&d[0]&17&&(i=!0,h.uploadedFiles=n[4][n[66].name],Be(()=>i=!1)),!s&&d[0]&33&&(s=!0,h.deletedFileNames=n[5][n[66].name],Be(()=>s=!1)),e.$set(h)},i(u){l||(P(e.$$.fragment,u),l=!0)},o(u){I(e.$$.fragment,u),l=!1},d(u){W(e,u)}}}function nye(n){let e,t,i;function s(r){n[48](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new u_e({props:l}),de.push(()=>Ne(e,"value",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function iye(n){let e,t,i;function s(r){n[47](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new cG({props:l}),de.push(()=>Ne(e,"value",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function sye(n){let e,t,i;function s(r){n[46](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new oG({props:l}),de.push(()=>Ne(e,"value",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function lye(n){let e,t,i;function s(r){n[45](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new b2e({props:l}),de.push(()=>Ne(e,"value",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function rye(n){let e,t,i;function s(r){n[44](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new iG({props:l}),de.push(()=>Ne(e,"value",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function oye(n){let e,t,i;function s(r){n[43](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new $Y({props:l}),de.push(()=>Ne(e,"value",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function aye(n){let e,t,i;function s(r){n[42](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new GY({props:l}),de.push(()=>Ne(e,"value",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function fye(n){let e,t,i;function s(r){n[41](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new KY({props:l}),de.push(()=>Ne(e,"value",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function uye(n){let e,t,i;function s(r){n[40](r,n[66])}let l={field:n[66]};return n[3][n[66].name]!==void 0&&(l.value=n[3][n[66].name]),e=new HY({props:l}),de.push(()=>Ne(e,"value",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){n=r;const a={};o[0]&1&&(a.field=n[66]),!t&&o[0]&9&&(t=!0,a.value=n[3][n[66].name],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function jA(n,e){let t,i,s,l,r;const o=[uye,fye,aye,oye,rye,lye,sye,iye,nye,tye,eye],a=[];function f(u,d){return u[66].type==="text"?0:u[66].type==="number"?1:u[66].type==="bool"?2:u[66].type==="email"?3:u[66].type==="url"?4:u[66].type==="editor"?5:u[66].type==="date"?6:u[66].type==="select"?7:u[66].type==="json"?8:u[66].type==="file"?9:u[66].type==="relation"?10:-1}return~(i=f(e))&&(s=a[i]=o[i](e)),{key:n,first:null,c(){t=Ee(),s&&s.c(),l=Ee(),this.first=t},m(u,d){C(u,t,d),~i&&a[i].m(u,d),C(u,l,d),r=!0},p(u,d){e=u;let h=i;i=f(e),i===h?~i&&a[i].p(e,d):(s&&(ue(),I(a[h],1,1,()=>{a[h]=null}),ce()),~i?(s=a[i],s?s.p(e,d):(s=a[i]=o[i](e),s.c()),P(s,1),s.m(l.parentNode,l)):s=null)},i(u){r||(P(s),r=!0)},o(u){I(s),r=!1},d(u){u&&S(t),~i&&a[i].d(u),u&&S(l)}}}function BA(n){let e,t,i;return t=new Q2e({props:{record:n[3]}}),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","tab-item"),$(e,"active",n[12]===wd)},m(s,l){C(s,e,l),q(t,e,null),i=!0},p(s,l){const r={};l[0]&8&&(r.record=s[3]),t.$set(r),(!i||l[0]&4096)&&$(e,"active",s[12]===wd)},i(s){i||(P(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&S(e),W(t)}}}function cye(n){var w,A;let e,t,i,s,l,r,o=[],a=new Map,f,u,d,h,p=!n[7]&&n[9]&&RA(n);s=new ze({props:{class:"form-field "+(n[6]?"":"readonly"),name:"id",$$slots:{default:[$2e,({uniqueId:M})=>({69:M}),({uniqueId:M})=>[0,0,M?128:0]]},$$scope:{ctx:n}}});let g=((w=n[0])==null?void 0:w.isAuth)&&LA(n),b=((A=n[0])==null?void 0:A.schema)||[];const _=M=>M[66].name;for(let M=0;M<b.length;M+=1){let T=IA(n,b,M),O=_(T);a.set(O,o[M]=jA(O,T))}let y=n[0].$isAuth&&!n[6]&&BA(n);return{c(){e=k("div"),t=k("form"),p&&p.c(),i=D(),U(s.$$.fragment),l=D(),g&&g.c(),r=D();for(let M=0;M<o.length;M+=1)o[M].c();f=D(),y&&y.c(),m(t,"id",n[15]),m(t,"class","tab-item"),$(t,"active",n[12]===Ra),m(e,"class","tabs-content")},m(M,T){C(M,e,T),v(e,t),p&&p.m(t,null),v(t,i),q(s,t,null),v(t,l),g&&g.m(t,null),v(t,r);for(let O=0;O<o.length;O+=1)o[O]&&o[O].m(t,null);v(e,f),y&&y.m(e,null),u=!0,d||(h=[x(t,"submit",qt(n[18])),x(t,"keydown",n[23])],d=!0)},p(M,T){var E,R;!M[7]&&M[9]?p?(p.p(M,T),T[0]&640&&P(p,1)):(p=RA(M),p.c(),P(p,1),p.m(t,i)):p&&(ue(),I(p,1,1,()=>{p=null}),ce());const O={};T[0]&64&&(O.class="form-field "+(M[6]?"":"readonly")),T[0]&72|T[2]&384&&(O.$$scope={dirty:T,ctx:M}),s.$set(O),(E=M[0])!=null&&E.isAuth?g?(g.p(M,T),T[0]&1&&P(g,1)):(g=LA(M),g.c(),P(g,1),g.m(t,r)):g&&(ue(),I(g,1,1,()=>{g=null}),ce()),T[0]&57&&(b=((R=M[0])==null?void 0:R.schema)||[],ue(),o=Cn(o,T,_,1,M,b,a,t,ii,jA,null,IA),ce()),(!u||T[0]&4096)&&$(t,"active",M[12]===Ra),M[0].$isAuth&&!M[6]?y?(y.p(M,T),T[0]&65&&P(y,1)):(y=BA(M),y.c(),P(y,1),y.m(e,null)):y&&(ue(),I(y,1,1,()=>{y=null}),ce())},i(M){if(!u){P(p),P(s.$$.fragment,M),P(g);for(let T=0;T<b.length;T+=1)P(o[T]);P(y),u=!0}},o(M){I(p),I(s.$$.fragment,M),I(g);for(let T=0;T<o.length;T+=1)I(o[T]);I(y),u=!1},d(M){M&&S(e),p&&p.d(),W(s),g&&g.d();for(let T=0;T<o.length;T+=1)o[T].d();y&&y.d(),d=!1,Ke(h)}}}function VA(n){let e,t,i,s,l,r,o;return r=new kl({props:{class:"dropdown dropdown-right dropdown-nowrap",$$slots:{default:[dye]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=D(),i=k("button"),s=k("i"),l=D(),U(r.$$.fragment),m(e,"class","flex-fill"),m(s,"class","ri-more-line"),m(i,"type","button"),m(i,"aria-label","More"),m(i,"class","btn btn-sm btn-circle btn-transparent flex-gap-0")},m(a,f){C(a,e,f),C(a,t,f),C(a,i,f),v(i,s),v(i,l),q(r,i,null),o=!0},p(a,f){const u={};f[0]&5|f[2]&256&&(u.$$scope={dirty:f,ctx:a}),r.$set(u)},i(a){o||(P(r.$$.fragment,a),o=!0)},o(a){I(r.$$.fragment,a),o=!1},d(a){a&&S(e),a&&S(t),a&&S(i),W(r)}}}function zA(n){let e,t,i;return{c(){e=k("button"),e.innerHTML=`<i class="ri-mail-check-line"></i> 
                            <span class="txt">Send verification email</span>`,m(e,"type","button"),m(e,"class","dropdown-item closable")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[30]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function HA(n){let e,t,i;return{c(){e=k("button"),e.innerHTML=`<i class="ri-mail-lock-line"></i> 
                            <span class="txt">Send password reset email</span>`,m(e,"type","button"),m(e,"class","dropdown-item closable")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[31]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function dye(n){let e,t,i,s,l,r,o,a=n[0].$isAuth&&!n[2].verified&&n[2].email&&zA(n),f=n[0].$isAuth&&n[2].email&&HA(n);return{c(){a&&a.c(),e=D(),f&&f.c(),t=D(),i=k("button"),i.innerHTML=`<i class="ri-file-copy-line"></i> 
                        <span class="txt">Duplicate</span>`,s=D(),l=k("button"),l.innerHTML=`<i class="ri-delete-bin-7-line"></i> 
                        <span class="txt">Delete</span>`,m(i,"type","button"),m(i,"class","dropdown-item closable"),m(l,"type","button"),m(l,"class","dropdown-item txt-danger closable")},m(u,d){a&&a.m(u,d),C(u,e,d),f&&f.m(u,d),C(u,t,d),C(u,i,d),C(u,s,d),C(u,l,d),r||(o=[x(i,"click",n[32]),x(l,"click",Ei(qt(n[33])))],r=!0)},p(u,d){u[0].$isAuth&&!u[2].verified&&u[2].email?a?a.p(u,d):(a=zA(u),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),u[0].$isAuth&&u[2].email?f?f.p(u,d):(f=HA(u),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null)},d(u){a&&a.d(u),u&&S(e),f&&f.d(u),u&&S(t),u&&S(i),u&&S(s),u&&S(l),r=!1,Ke(o)}}}function qA(n){let e,t,i,s,l,r;return{c(){e=k("div"),t=k("button"),t.textContent="Account",i=D(),s=k("button"),s.textContent="Authorized providers",m(t,"type","button"),m(t,"class","tab-item"),$(t,"active",n[12]===Ra),m(s,"type","button"),m(s,"class","tab-item"),$(s,"active",n[12]===wd),m(e,"class","tabs-header stretched")},m(o,a){C(o,e,a),v(e,t),v(e,i),v(e,s),l||(r=[x(t,"click",n[34]),x(s,"click",n[35])],l=!0)},p(o,a){a[0]&4096&&$(t,"active",o[12]===Ra),a[0]&4096&&$(s,"active",o[12]===wd)},d(o){o&&S(e),l=!1,Ke(r)}}}function hye(n){var b;let e,t=n[6]?"New":"Edit",i,s,l,r=((b=n[0])==null?void 0:b.name)+"",o,a,f,u,d,h,p=!n[6]&&VA(n),g=n[0].$isAuth&&!n[6]&&qA(n);return{c(){e=k("h4"),i=G(t),s=D(),l=k("strong"),o=G(r),a=G(" record"),f=D(),p&&p.c(),u=D(),g&&g.c(),d=Ee(),m(e,"class","panel-title svelte-qc5ngu")},m(_,y){C(_,e,y),v(e,i),v(e,s),v(e,l),v(l,o),v(e,a),C(_,f,y),p&&p.m(_,y),C(_,u,y),g&&g.m(_,y),C(_,d,y),h=!0},p(_,y){var w;(!h||y[0]&64)&&t!==(t=_[6]?"New":"Edit")&&pe(i,t),(!h||y[0]&1)&&r!==(r=((w=_[0])==null?void 0:w.name)+"")&&pe(o,r),_[6]?p&&(ue(),I(p,1,1,()=>{p=null}),ce()):p?(p.p(_,y),y[0]&64&&P(p,1)):(p=VA(_),p.c(),P(p,1),p.m(u.parentNode,u)),_[0].$isAuth&&!_[6]?g?g.p(_,y):(g=qA(_),g.c(),g.m(d.parentNode,d)):g&&(g.d(1),g=null)},i(_){h||(P(p),h=!0)},o(_){I(p),h=!1},d(_){_&&S(e),_&&S(f),p&&p.d(_),_&&S(u),g&&g.d(_),_&&S(d)}}}function pye(n){let e,t,i,s,l,r=n[6]?"Create":"Save changes",o,a,f,u;return{c(){e=k("button"),t=k("span"),t.textContent="Cancel",i=D(),s=k("button"),l=k("span"),o=G(r),m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[10],m(l,"class","txt"),m(s,"type","submit"),m(s,"form",n[15]),m(s,"class","btn btn-expanded"),s.disabled=a=!n[13]||n[10],$(s,"btn-loading",n[10])},m(d,h){C(d,e,h),v(e,t),C(d,i,h),C(d,s,h),v(s,l),v(l,o),f||(u=x(e,"click",n[29]),f=!0)},p(d,h){h[0]&1024&&(e.disabled=d[10]),h[0]&64&&r!==(r=d[6]?"Create":"Save changes")&&pe(o,r),h[0]&9216&&a!==(a=!d[13]||d[10])&&(s.disabled=a),h[0]&1024&&$(s,"btn-loading",d[10])},d(d){d&&S(e),d&&S(i),d&&S(s),f=!1,u()}}}function mye(n){var s;let e,t,i={class:`
        record-panel
        `+(n[14]?"overlay-panel-xl":"overlay-panel-lg")+`
        `+((s=n[0])!=null&&s.$isAuth&&!n[6]?"colored-header":"")+`
    `,beforeHide:n[53],$$slots:{footer:[pye],header:[hye],default:[cye]},$$scope:{ctx:n}};return e=new rs({props:i}),n[54](e),e.$on("hide",n[55]),e.$on("show",n[56]),{c(){U(e.$$.fragment)},m(l,r){q(e,l,r),t=!0},p(l,r){var a;const o={};r[0]&16449&&(o.class=`
        record-panel
        `+(l[14]?"overlay-panel-xl":"overlay-panel-lg")+`
        `+((a=l[0])!=null&&a.$isAuth&&!l[6]?"colored-header":"")+`
    `),r[0]&2176&&(o.beforeHide=l[53]),r[0]&14077|r[2]&256&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){n[54](null),W(e,l)}}}const Ra="form",wd="providers";function gye(n,e,t){let i,s,l,r;const o=Hn(),a="record_"+ee.randomString(5);let{collection:f}=e,u,d=null,h=null,p=null,g=!1,b=!1,_={},y={},w=JSON.stringify(null),A=w,M=Ra,T=!0,O=!1;function E(je){return N(je),t(11,b=!0),t(12,M=Ra),u==null?void 0:u.show()}function R(){return u==null?void 0:u.hide()}async function N(je){t(27,O=!1),Ki({}),t(2,d=je||new qr),t(3,h=d.$clone()),t(4,_={}),t(5,y={}),await nn(),t(9,p=F()),!p||H(h,p)?t(9,p=null):(delete p.password,delete p.passwordConfirm),t(25,w=JSON.stringify(h)),t(27,O=!0)}async function j(je){var ot,Dt;Ki({}),t(2,d=je||new qr),t(4,_={}),t(5,y={});const Xe=((Dt=(ot=f==null?void 0:f.schema)==null?void 0:ot.filter(Te=>Te.type!="file"))==null?void 0:Dt.map(Te=>Te.name))||[];for(let Te in je.$export())Xe.includes(Te)||t(3,h[Te]=je[Te],h);await nn(),t(25,w=JSON.stringify(h)),K()}function L(){return"record_draft_"+((f==null?void 0:f.id)||"")+"_"+((d==null?void 0:d.id)||"")}function F(je){try{const Xe=window.localStorage.getItem(L());if(Xe)return new qr(JSON.parse(Xe))}catch{}return je}function B(je){window.localStorage.setItem(L(),je)}function V(){p&&(t(3,h=p),t(9,p=null))}function H(je,Xe){var qn;const ot=je==null?void 0:je.$clone(),Dt=Xe==null?void 0:Xe.$clone(),Te=(qn=f==null?void 0:f.schema)==null?void 0:qn.filter(Mn=>Mn.type==="file");for(let Mn of Te)ot==null||delete ot[Mn.name],Dt==null||delete Dt[Mn.name];return ot==null||delete ot.password,ot==null||delete ot.passwordConfirm,Dt==null||delete Dt.password,Dt==null||delete Dt.passwordConfirm,JSON.stringify(ot)==JSON.stringify(Dt)}function K(){t(9,p=null),window.localStorage.removeItem(L())}function X(je=!0){if(g||!r||!(f!=null&&f.id))return;t(10,g=!0);const Xe=z();let ot;T?ot=Re.collection(f.id).create(Xe):ot=Re.collection(f.id).update(h.id,Xe),ot.then(Dt=>{fi(T?"Successfully created record.":"Successfully updated record."),K(),je?(t(11,b=!1),R()):j(Dt),o("save",Dt)}).catch(Dt=>{Re.error(Dt)}).finally(()=>{t(10,g=!1)})}function J(){d!=null&&d.id&&ds("Do you really want to delete the selected record?",()=>Re.collection(d.collectionId).delete(d.id).then(()=>{R(),fi("Successfully deleted record."),o("delete",d)}).catch(je=>{Re.error(je)}))}function z(){const je=(h==null?void 0:h.$export())||{},Xe=new FormData,ot={id:je.id};for(const Dt of(f==null?void 0:f.schema)||[])ot[Dt.name]=!0;f!=null&&f.isAuth&&(ot.username=!0,ot.email=!0,ot.emailVisibility=!0,ot.password=!0,ot.passwordConfirm=!0,ot.verified=!0);for(const Dt in je)ot[Dt]&&(typeof je[Dt]>"u"&&(je[Dt]=null),ee.addValueToFormData(Xe,Dt,je[Dt]));for(const Dt in _){const Te=ee.toArray(_[Dt]);for(const qn of Te)Xe.append(Dt,qn)}for(const Dt in y){const Te=ee.toArray(y[Dt]);for(const qn of Te)Xe.append(Dt+"."+qn,"")}return Xe}function Z(){!(f!=null&&f.id)||!(d!=null&&d.email)||ds(`Do you really want to sent verification email to ${d.email}?`,()=>Re.collection(f.id).requestVerification(d.email).then(()=>{fi(`Successfully sent verification email to ${d.email}.`)}).catch(je=>{Re.error(je)}))}function Y(){!(f!=null&&f.id)||!(d!=null&&d.email)||ds(`Do you really want to sent password reset email to ${d.email}?`,()=>Re.collection(f.id).requestPasswordReset(d.email).then(()=>{fi(`Successfully sent password reset email to ${d.email}.`)}).catch(je=>{Re.error(je)}))}function oe(){l?ds("You have unsaved changes. Do you really want to discard them?",()=>{re()}):re()}async function re(){const je=d==null?void 0:d.$clone();if(je){je.id="",je.created="",je.updated="";const Xe=(f==null?void 0:f.schema)||[];for(const ot of Xe)ot.type==="file"&&delete je[ot.name]}K(),E(je),await nn(),t(25,w="")}function Q(je){(je.ctrlKey||je.metaKey)&&je.code=="KeyS"&&(je.preventDefault(),je.stopPropagation(),X(!1))}const me=()=>R(),qe=()=>Z(),be=()=>Y(),Ie=()=>oe(),he=()=>J(),Ve=()=>t(12,M=Ra),Qe=()=>t(12,M=wd),it=()=>V(),ye=()=>K();function ie(){h.id=this.value,t(3,h)}function we(je){h=je,t(3,h)}function Ue(je,Xe){n.$$.not_equal(h[Xe.name],je)&&(h[Xe.name]=je,t(3,h))}function Oe(je,Xe){n.$$.not_equal(h[Xe.name],je)&&(h[Xe.name]=je,t(3,h))}function _e(je,Xe){n.$$.not_equal(h[Xe.name],je)&&(h[Xe.name]=je,t(3,h))}function Ye(je,Xe){n.$$.not_equal(h[Xe.name],je)&&(h[Xe.name]=je,t(3,h))}function St(je,Xe){n.$$.not_equal(h[Xe.name],je)&&(h[Xe.name]=je,t(3,h))}function Et(je,Xe){n.$$.not_equal(h[Xe.name],je)&&(h[Xe.name]=je,t(3,h))}function Fe(je,Xe){n.$$.not_equal(h[Xe.name],je)&&(h[Xe.name]=je,t(3,h))}function Le(je,Xe){n.$$.not_equal(h[Xe.name],je)&&(h[Xe.name]=je,t(3,h))}function Pt(je,Xe){n.$$.not_equal(h[Xe.name],je)&&(h[Xe.name]=je,t(3,h))}function tn(je,Xe){n.$$.not_equal(h[Xe.name],je)&&(h[Xe.name]=je,t(3,h))}function ct(je,Xe){n.$$.not_equal(_[Xe.name],je)&&(_[Xe.name]=je,t(4,_))}function Se(je,Xe){n.$$.not_equal(y[Xe.name],je)&&(y[Xe.name]=je,t(5,y))}function Ut(je,Xe){n.$$.not_equal(h[Xe.name],je)&&(h[Xe.name]=je,t(3,h))}const un=()=>l&&b?(ds("You have unsaved changes. Do you really want to close the panel?",()=>{t(11,b=!1),R()}),!1):(Ki({}),K(),!0);function pt(je){de[je?"unshift":"push"](()=>{u=je,t(8,u)})}function rn(je){ht.call(this,n,je)}function bn(je){ht.call(this,n,je)}return n.$$set=je=>{"collection"in je&&t(0,f=je.collection)},n.$$.update=()=>{var je;n.$$.dirty[0]&1&&t(14,i=!!((je=f==null?void 0:f.schema)!=null&&je.find(Xe=>Xe.type==="editor"))),n.$$.dirty[0]&48&&t(28,s=ee.hasNonEmptyProps(_)||ee.hasNonEmptyProps(y)),n.$$.dirty[0]&8&&t(26,A=JSON.stringify(h)),n.$$.dirty[0]&369098752&&t(7,l=s||w!=A),n.$$.dirty[0]&4&&t(6,T=!d||d.$isNew),n.$$.dirty[0]&192&&t(13,r=T||l),n.$$.dirty[0]&201326592&&O&&B(A)},[f,R,d,h,_,y,T,l,u,p,g,b,M,r,i,a,V,K,X,J,Z,Y,oe,Q,E,w,A,O,s,me,qe,be,Ie,he,Ve,Qe,it,ye,ie,we,Ue,Oe,_e,Ye,St,Et,Fe,Le,Pt,tn,ct,Se,Ut,un,pt,rn,bn]}class vL extends ke{constructor(e){super(),ve(this,e,gye,mye,De,{collection:0,show:24,hide:1},null,[-1,-1,-1])}get show(){return this.$$.ctx[24]}get hide(){return this.$$.ctx[1]}}function bye(n){let e,t,i,s,l;return{c(){e=k("i"),m(e,"class",t=n[2]?n[1]:n[0])},m(r,o){C(r,e,o),s||(l=[xe(i=Mt.call(null,e,n[2]?"":"Copy")),x(e,"click",Ei(n[3]))],s=!0)},p(r,[o]){o&7&&t!==(t=r[2]?r[1]:r[0])&&m(e,"class",t),i&&fn(i.update)&&o&4&&i.update.call(null,r[2]?"":"Copy")},i:te,o:te,d(r){r&&S(e),s=!1,Ke(l)}}}function _ye(n,e,t){let{value:i=""}=e,{idleClasses:s="ri-file-copy-line txt-sm link-hint"}=e,{successClasses:l="ri-check-line txt-sm txt-success"}=e,{successDuration:r=500}=e,o;function a(){i&&(ee.copyToClipboard(i),clearTimeout(o),t(2,o=setTimeout(()=>{clearTimeout(o),t(2,o=null)},r)))}return Pn(()=>()=>{o&&clearTimeout(o)}),n.$$set=f=>{"value"in f&&t(4,i=f.value),"idleClasses"in f&&t(0,s=f.idleClasses),"successClasses"in f&&t(1,l=f.successClasses),"successDuration"in f&&t(5,r=f.successDuration)},[s,l,o,a,i,r]}class eh extends ke{constructor(e){super(),ve(this,e,_ye,bye,De,{value:4,idleClasses:0,successClasses:1,successDuration:5})}}function WA(n,e,t){const i=n.slice();return i[18]=e[t],i[8]=t,i}function UA(n,e,t){const i=n.slice();return i[13]=e[t],i}function KA(n,e,t){const i=n.slice();return i[6]=e[t],i[8]=t,i}function JA(n,e,t){const i=n.slice();return i[6]=e[t],i[8]=t,i}function yye(n){const e=n.slice(),t=ee.toArray(e[3]);e[16]=t;const i=e[2]?10:500;return e[17]=i,e}function vye(n){const e=n.slice(),t=ee.toArray(e[3]);e[9]=t;const i=ee.toArray(e[0].expand[e[1].name]);e[10]=i;const s=e[2]?20:500;return e[11]=s,e}function kye(n){const e=n.slice(),t=ee.trimQuotedValue(JSON.stringify(e[3]))||'""';return e[5]=t,e}function wye(n){let e,t;return{c(){e=k("div"),t=G(n[3]),m(e,"class","block txt-break fallback-block svelte-jdf51v")},m(i,s){C(i,e,s),v(e,t)},p(i,s){s&8&&pe(t,i[3])},i:te,o:te,d(i){i&&S(e)}}}function Sye(n){let e,t=ee.truncate(n[3])+"",i,s;return{c(){e=k("span"),i=G(t),m(e,"class","txt txt-ellipsis"),m(e,"title",s=ee.truncate(n[3]))},m(l,r){C(l,e,r),v(e,i)},p(l,r){r&8&&t!==(t=ee.truncate(l[3])+"")&&pe(i,t),r&8&&s!==(s=ee.truncate(l[3]))&&m(e,"title",s)},i:te,o:te,d(l){l&&S(e)}}}function Cye(n){let e,t=[],i=new Map,s,l,r=n[16].slice(0,n[17]);const o=f=>f[8]+f[18];for(let f=0;f<r.length;f+=1){let u=WA(n,r,f),d=o(u);i.set(d,t[f]=xA(d,u))}let a=n[16].length>n[17]&&YA();return{c(){e=k("div");for(let f=0;f<t.length;f+=1)t[f].c();s=D(),a&&a.c(),m(e,"class","inline-flex")},m(f,u){C(f,e,u);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);v(e,s),a&&a.m(e,null),l=!0},p(f,u){u&13&&(r=f[16].slice(0,f[17]),ue(),t=Cn(t,u,o,1,f,r,i,e,ii,xA,s,WA),ce()),f[16].length>f[17]?a||(a=YA(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(f){if(!l){for(let u=0;u<r.length;u+=1)P(t[u]);l=!0}},o(f){for(let u=0;u<t.length;u+=1)I(t[u]);l=!1},d(f){f&&S(e);for(let u=0;u<t.length;u+=1)t[u].d();a&&a.d()}}}function Mye(n){let e,t,i,s,l;const r=[Lye,Nye],o=[];function a(u,d){return u[10].length?0:1}t=a(n),i=o[t]=r[t](n);let f=n[9].length>n[11]&&ZA();return{c(){e=k("div"),i.c(),s=D(),f&&f.c(),m(e,"class","inline-flex")},m(u,d){C(u,e,d),o[t].m(e,null),v(e,s),f&&f.m(e,null),l=!0},p(u,d){let h=t;t=a(u),t===h?o[t].p(u,d):(ue(),I(o[h],1,1,()=>{o[h]=null}),ce(),i=o[t],i?i.p(u,d):(i=o[t]=r[t](u),i.c()),P(i,1),i.m(e,s)),u[9].length>u[11]?f||(f=ZA(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(u){l||(P(i),l=!0)},o(u){I(i),l=!1},d(u){u&&S(e),o[t].d(),f&&f.d()}}}function Tye(n){let e,t=[],i=new Map,s=ee.toArray(n[3]);const l=r=>r[8]+r[6];for(let r=0;r<s.length;r+=1){let o=JA(n,s,r),a=l(o);i.set(a,t[r]=QA(a,o))}return{c(){e=k("div");for(let r=0;r<t.length;r+=1)t[r].c();m(e,"class","inline-flex")},m(r,o){C(r,e,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(r,o){o&8&&(s=ee.toArray(r[3]),t=Cn(t,o,l,1,r,s,i,e,Ko,QA,null,JA))},i:te,o:te,d(r){r&&S(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Aye(n){let e,t;return e=new xr({props:{date:n[3]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&8&&(l.date=i[3]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Oye(n){let e,t,i,s;const l=[jye,Fye],r=[];function o(a,f){return a[2]?0:1}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),i=Ee()},m(a,f){r[e].m(a,f),C(a,i,f),s=!0},p(a,f){let u=e;e=o(a),e===u?r[e].p(a,f):(ue(),I(r[u],1,1,()=>{r[u]=null}),ce(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),P(t,1),t.m(i.parentNode,i))},i(a){s||(P(t),s=!0)},o(a){I(t),s=!1},d(a){r[e].d(a),a&&S(i)}}}function Eye(n){let e,t=ee.truncate(n[3])+"",i,s,l;return{c(){e=k("a"),i=G(t),m(e,"class","txt-ellipsis"),m(e,"href",n[3]),m(e,"target","_blank"),m(e,"rel","noopener noreferrer")},m(r,o){C(r,e,o),v(e,i),s||(l=[xe(Mt.call(null,e,"Open in new tab")),x(e,"click",Ei(n[4]))],s=!0)},p(r,o){o&8&&t!==(t=ee.truncate(r[3])+"")&&pe(i,t),o&8&&m(e,"href",r[3])},i:te,o:te,d(r){r&&S(e),s=!1,Ke(l)}}}function Pye(n){let e,t;return{c(){e=k("span"),t=G(n[3]),m(e,"class","txt")},m(i,s){C(i,e,s),v(e,t)},p(i,s){s&8&&pe(t,i[3])},i:te,o:te,d(i){i&&S(e)}}}function Dye(n){let e,t=n[3]?"True":"False",i;return{c(){e=k("span"),i=G(t),m(e,"class","txt")},m(s,l){C(s,e,l),v(e,i)},p(s,l){l&8&&t!==(t=s[3]?"True":"False")&&pe(i,t)},i:te,o:te,d(s){s&&S(e)}}}function Iye(n){let e;return{c(){e=k("span"),e.textContent="N/A",m(e,"class","txt-hint")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function Rye(n){let e,t,i,s;const l=[Vye,Bye],r=[];function o(a,f){return a[2]?0:1}return e=o(n),t=r[e]=l[e](n),{c(){t.c(),i=Ee()},m(a,f){r[e].m(a,f),C(a,i,f),s=!0},p(a,f){let u=e;e=o(a),e===u?r[e].p(a,f):(ue(),I(r[u],1,1,()=>{r[u]=null}),ce(),t=r[e],t?t.p(a,f):(t=r[e]=l[e](a),t.c()),P(t,1),t.m(i.parentNode,i))},i(a){s||(P(t),s=!0)},o(a){I(t),s=!1},d(a){r[e].d(a),a&&S(i)}}}function xA(n,e){let t,i,s;return i=new ev({props:{record:e[0],filename:e[18],size:"sm"}}),{key:n,first:null,c(){t=Ee(),U(i.$$.fragment),this.first=t},m(l,r){C(l,t,r),q(i,l,r),s=!0},p(l,r){e=l;const o={};r&1&&(o.record=e[0]),r&12&&(o.filename=e[18]),i.$set(o)},i(l){s||(P(i.$$.fragment,l),s=!0)},o(l){I(i.$$.fragment,l),s=!1},d(l){l&&S(t),W(i,l)}}}function YA(n){let e;return{c(){e=G("...")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Nye(n){let e,t=n[9].slice(0,n[11]),i=[];for(let s=0;s<t.length;s+=1)i[s]=GA(UA(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Ee()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);C(s,e,l)},p(s,l){if(l&12){t=s[9].slice(0,s[11]);let r;for(r=0;r<t.length;r+=1){const o=UA(s,t,r);i[r]?i[r].p(o,l):(i[r]=GA(o),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},i:te,o:te,d(s){Ot(i,s),s&&S(e)}}}function Lye(n){let e=[],t=new Map,i,s,l=n[10].slice(0,n[11]);const r=o=>o[8]+o[6];for(let o=0;o<l.length;o+=1){let a=KA(n,l,o),f=r(a);t.set(f,e[o]=XA(f,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();i=Ee()},m(o,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,a);C(o,i,a),s=!0},p(o,a){a&7&&(l=o[10].slice(0,o[11]),ue(),e=Cn(e,a,r,1,o,l,t,i.parentNode,ii,XA,i,KA),ce())},i(o){if(!s){for(let a=0;a<l.length;a+=1)P(e[a]);s=!0}},o(o){for(let a=0;a<e.length;a+=1)I(e[a]);s=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&S(i)}}}function GA(n){let e,t=n[13]+"",i;return{c(){e=k("span"),i=G(t),m(e,"class","label")},m(s,l){C(s,e,l),v(e,i)},p(s,l){l&12&&t!==(t=s[13]+"")&&pe(i,t)},d(s){s&&S(e)}}}function XA(n,e){var r;let t,i,s,l;return i=new n1({props:{record:e[6],displayFields:(r=e[1].options)==null?void 0:r.displayFields}}),{key:n,first:null,c(){t=k("span"),U(i.$$.fragment),s=D(),m(t,"class","label"),this.first=t},m(o,a){C(o,t,a),q(i,t,null),v(t,s),l=!0},p(o,a){var u;e=o;const f={};a&7&&(f.record=e[6]),a&2&&(f.displayFields=(u=e[1].options)==null?void 0:u.displayFields),i.$set(f)},i(o){l||(P(i.$$.fragment,o),l=!0)},o(o){I(i.$$.fragment,o),l=!1},d(o){o&&S(t),W(i)}}}function ZA(n){let e;return{c(){e=G("...")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function QA(n,e){let t,i=e[6]+"",s;return{key:n,first:null,c(){t=k("span"),s=G(i),m(t,"class","label"),this.first=t},m(l,r){C(l,t,r),v(t,s)},p(l,r){e=l,r&8&&i!==(i=e[6]+"")&&pe(s,i)},d(l){l&&S(t)}}}function Fye(n){let e,t;return e=new tv({props:{scriptSrc:"./libs/tinymce/tinymce.min.js",cssClass:"tinymce-preview",conf:{branding:!1,promotion:!1,menubar:!1,min_height:30,statusbar:!1,height:59,max_height:500,autoresize_bottom_margin:5,resize:!1,skin:"pocketbase",content_style:"body { font-size: 14px }",toolbar:"",plugins:["autoresize"]},value:n[3],disabled:!0}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&8&&(l.value=i[3]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function jye(n){let e,t=ee.truncate(ee.plainText(n[3]),250)+"",i;return{c(){e=k("span"),i=G(t),m(e,"class","txt")},m(s,l){C(s,e,l),v(e,i)},p(s,l){l&8&&t!==(t=ee.truncate(ee.plainText(s[3]),250)+"")&&pe(i,t)},i:te,o:te,d(s){s&&S(e)}}}function Bye(n){let e,t=ee.truncate(n[5],500,!0)+"",i,s,l,r,o=n[5].length>500&&$A(n);return{c(){e=k("span"),i=G(t),s=D(),o&&o.c(),l=Ee(),m(e,"class","txt")},m(a,f){C(a,e,f),v(e,i),C(a,s,f),o&&o.m(a,f),C(a,l,f),r=!0},p(a,f){(!r||f&8)&&t!==(t=ee.truncate(a[5],500,!0)+"")&&pe(i,t),a[5].length>500?o?(o.p(a,f),f&8&&P(o,1)):(o=$A(a),o.c(),P(o,1),o.m(l.parentNode,l)):o&&(ue(),I(o,1,1,()=>{o=null}),ce())},i(a){r||(P(o),r=!0)},o(a){I(o),r=!1},d(a){a&&S(e),a&&S(s),o&&o.d(a),a&&S(l)}}}function Vye(n){let e,t=ee.truncate(n[5])+"",i;return{c(){e=k("span"),i=G(t),m(e,"class","txt txt-ellipsis")},m(s,l){C(s,e,l),v(e,i)},p(s,l){l&8&&t!==(t=ee.truncate(s[5])+"")&&pe(i,t)},i:te,o:te,d(s){s&&S(e)}}}function $A(n){let e,t;return e=new eh({props:{value:JSON.stringify(n[3],null,2)}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&8&&(l.value=JSON.stringify(i[3],null,2)),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function zye(n){let e,t,i,s,l;const r=[Rye,Iye,Dye,Pye,Eye,Oye,Aye,Tye,Mye,Cye,Sye,wye],o=[];function a(u,d){return d&8&&(e=null),u[1].type==="json"?0:(e==null&&(e=!!ee.isEmpty(u[3])),e?1:u[1].type==="bool"?2:u[1].type==="number"?3:u[1].type==="url"?4:u[1].type==="editor"?5:u[1].type==="date"?6:u[1].type==="select"?7:u[1].type==="relation"?8:u[1].type==="file"?9:u[2]?10:11)}function f(u,d){return d===0?kye(u):d===8?vye(u):d===9?yye(u):u}return t=a(n,-1),i=o[t]=r[t](f(n,t)),{c(){i.c(),s=Ee()},m(u,d){o[t].m(u,d),C(u,s,d),l=!0},p(u,[d]){let h=t;t=a(u,d),t===h?o[t].p(f(u,t),d):(ue(),I(o[h],1,1,()=>{o[h]=null}),ce(),i=o[t],i?i.p(f(u,t),d):(i=o[t]=r[t](f(u,t)),i.c()),P(i,1),i.m(s.parentNode,s))},i(u){l||(P(i),l=!0)},o(u){I(i),l=!1},d(u){o[t].d(u),u&&S(s)}}}function Hye(n,e,t){let i,{record:s}=e,{field:l}=e,{short:r=!1}=e;function o(a){ht.call(this,n,a)}return n.$$set=a=>{"record"in a&&t(0,s=a.record),"field"in a&&t(1,l=a.field),"short"in a&&t(2,r=a.short)},n.$$.update=()=>{n.$$.dirty&3&&t(3,i=s[l.name])},[s,l,r,i,o]}class kL extends ke{constructor(e){super(),ve(this,e,Hye,zye,De,{record:0,field:1,short:2})}}function eO(n,e,t){const i=n.slice();return i[10]=e[t],i}function tO(n){let e,t,i=n[10].name+"",s,l,r,o,a;return o=new kL({props:{field:n[10],record:n[3]}}),{c(){e=k("tr"),t=k("td"),s=G(i),l=D(),r=k("td"),U(o.$$.fragment),m(t,"class","min-width txt-hint txt-bold"),m(r,"class","col-field svelte-1nt58f7")},m(f,u){C(f,e,u),v(e,t),v(t,s),v(e,l),v(e,r),q(o,r,null),a=!0},p(f,u){(!a||u&1)&&i!==(i=f[10].name+"")&&pe(s,i);const d={};u&1&&(d.field=f[10]),u&8&&(d.record=f[3]),o.$set(d)},i(f){a||(P(o.$$.fragment,f),a=!0)},o(f){I(o.$$.fragment,f),a=!1},d(f){f&&S(e),W(o)}}}function nO(n){let e,t,i,s,l,r;return l=new xr({props:{date:n[3].created}}),{c(){e=k("tr"),t=k("td"),t.textContent="created",i=D(),s=k("td"),U(l.$$.fragment),m(t,"class","min-width txt-hint txt-bold"),m(s,"class","col-field svelte-1nt58f7")},m(o,a){C(o,e,a),v(e,t),v(e,i),v(e,s),q(l,s,null),r=!0},p(o,a){const f={};a&8&&(f.date=o[3].created),l.$set(f)},i(o){r||(P(l.$$.fragment,o),r=!0)},o(o){I(l.$$.fragment,o),r=!1},d(o){o&&S(e),W(l)}}}function iO(n){let e,t,i,s,l,r;return l=new xr({props:{date:n[3].updated}}),{c(){e=k("tr"),t=k("td"),t.textContent="updated",i=D(),s=k("td"),U(l.$$.fragment),m(t,"class","min-width txt-hint txt-bold"),m(s,"class","col-field svelte-1nt58f7")},m(o,a){C(o,e,a),v(e,t),v(e,i),v(e,s),q(l,s,null),r=!0},p(o,a){const f={};a&8&&(f.date=o[3].updated),l.$set(f)},i(o){r||(P(l.$$.fragment,o),r=!0)},o(o){I(l.$$.fragment,o),r=!1},d(o){o&&S(e),W(l)}}}function qye(n){var O;let e,t,i,s,l,r,o,a,f,u,d=n[3].id+"",h,p,g,b,_;a=new eh({props:{value:n[3].id}});let y=(O=n[0])==null?void 0:O.schema,w=[];for(let E=0;E<y.length;E+=1)w[E]=tO(eO(n,y,E));const A=E=>I(w[E],1,1,()=>{w[E]=null});let M=n[3].created&&nO(n),T=n[3].updated&&iO(n);return{c(){e=k("table"),t=k("tbody"),i=k("tr"),s=k("td"),s.textContent="id",l=D(),r=k("td"),o=k("div"),U(a.$$.fragment),f=D(),u=k("span"),h=G(d),p=D();for(let E=0;E<w.length;E+=1)w[E].c();g=D(),M&&M.c(),b=D(),T&&T.c(),m(s,"class","min-width txt-hint txt-bold"),m(u,"class","txt"),m(o,"class","label"),m(r,"class","col-field svelte-1nt58f7"),m(e,"class","table-border preview-table")},m(E,R){C(E,e,R),v(e,t),v(t,i),v(i,s),v(i,l),v(i,r),v(r,o),q(a,o,null),v(o,f),v(o,u),v(u,h),v(t,p);for(let N=0;N<w.length;N+=1)w[N]&&w[N].m(t,null);v(t,g),M&&M.m(t,null),v(t,b),T&&T.m(t,null),_=!0},p(E,R){var j;const N={};if(R&8&&(N.value=E[3].id),a.$set(N),(!_||R&8)&&d!==(d=E[3].id+"")&&pe(h,d),R&9){y=(j=E[0])==null?void 0:j.schema;let L;for(L=0;L<y.length;L+=1){const F=eO(E,y,L);w[L]?(w[L].p(F,R),P(w[L],1)):(w[L]=tO(F),w[L].c(),P(w[L],1),w[L].m(t,g))}for(ue(),L=y.length;L<w.length;L+=1)A(L);ce()}E[3].created?M?(M.p(E,R),R&8&&P(M,1)):(M=nO(E),M.c(),P(M,1),M.m(t,b)):M&&(ue(),I(M,1,1,()=>{M=null}),ce()),E[3].updated?T?(T.p(E,R),R&8&&P(T,1)):(T=iO(E),T.c(),P(T,1),T.m(t,null)):T&&(ue(),I(T,1,1,()=>{T=null}),ce())},i(E){if(!_){P(a.$$.fragment,E);for(let R=0;R<y.length;R+=1)P(w[R]);P(M),P(T),_=!0}},o(E){I(a.$$.fragment,E),w=w.filter(Boolean);for(let R=0;R<w.length;R+=1)I(w[R]);I(M),I(T),_=!1},d(E){E&&S(e),W(a),Ot(w,E),M&&M.d(),T&&T.d()}}}function Wye(n){var r;let e,t,i=((r=n[0])==null?void 0:r.name)+"",s,l;return{c(){e=k("h4"),t=k("strong"),s=G(i),l=G(" record preview")},m(o,a){C(o,e,a),v(e,t),v(t,s),v(e,l)},p(o,a){var f;a&1&&i!==(i=((f=o[0])==null?void 0:f.name)+"")&&pe(s,i)},d(o){o&&S(e)}}}function Uye(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Close</span>',m(e,"type","button"),m(e,"class","btn btn-transparent")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[6]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function Kye(n){let e,t,i={class:"record-preview-panel "+(n[4]?"overlay-panel-xl":"overlay-panel-lg"),$$slots:{footer:[Uye],header:[Wye],default:[qye]},$$scope:{ctx:n}};return e=new rs({props:i}),n[7](e),e.$on("hide",n[8]),e.$on("show",n[9]),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,[l]){const r={};l&16&&(r.class="record-preview-panel "+(s[4]?"overlay-panel-xl":"overlay-panel-lg")),l&8201&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[7](null),W(e,s)}}}function Jye(n,e,t){let i,{collection:s}=e,l,r=new qr;function o(p){return t(3,r=p),l==null?void 0:l.show()}function a(){return l==null?void 0:l.hide()}const f=()=>a();function u(p){de[p?"unshift":"push"](()=>{l=p,t(2,l)})}function d(p){ht.call(this,n,p)}function h(p){ht.call(this,n,p)}return n.$$set=p=>{"collection"in p&&t(0,s=p.collection)},n.$$.update=()=>{var p;n.$$.dirty&1&&t(4,i=!!((p=s==null?void 0:s.schema)!=null&&p.find(g=>g.type==="editor")))},[s,a,l,r,i,o,f,u,d,h]}class xye extends ke{constructor(e){super(),ve(this,e,Jye,Kye,De,{collection:0,show:5,hide:1})}get show(){return this.$$.ctx[5]}get hide(){return this.$$.ctx[1]}}function sO(n,e,t){const i=n.slice();return i[59]=e[t],i}function lO(n,e,t){const i=n.slice();return i[62]=e[t],i}function rO(n,e,t){const i=n.slice();return i[62]=e[t],i}function oO(n,e,t){const i=n.slice();return i[55]=e[t],i}function aO(n){let e;function t(l,r){return l[12]?Gye:Yye}let i=t(n),s=i(n);return{c(){e=k("th"),s.c(),m(e,"class","bulk-select-col min-width")},m(l,r){C(l,e,r),s.m(e,null)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e,null)))},d(l){l&&S(e),s.d()}}}function Yye(n){let e,t,i,s,l,r,o;return{c(){e=k("div"),t=k("input"),s=D(),l=k("label"),m(t,"type","checkbox"),m(t,"id","checkbox_0"),t.disabled=i=!n[4].length,t.checked=n[16],m(l,"for","checkbox_0"),m(e,"class","form-field")},m(a,f){C(a,e,f),v(e,t),v(e,s),v(e,l),r||(o=x(t,"change",n[30]),r=!0)},p(a,f){f[0]&16&&i!==(i=!a[4].length)&&(t.disabled=i),f[0]&65536&&(t.checked=a[16])},d(a){a&&S(e),r=!1,o()}}}function Gye(n){let e;return{c(){e=k("span"),m(e,"class","loader loader-sm")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function fO(n){let e,t,i;function s(r){n[31](r)}let l={class:"col-type-text col-field-id",name:"id",$$slots:{default:[Xye]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new cs({props:l}),de.push(()=>Ne(e,"sort",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};o[2]&32&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function Xye(n){let e,t,i,s;return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),s.textContent="id",m(t,"class",ee.getFieldTypeIcon("primary")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p:te,d(l){l&&S(e)}}}function uO(n){let e=!n[7].includes("@username"),t,i=!n[7].includes("@email"),s,l,r=e&&cO(n),o=i&&dO(n);return{c(){r&&r.c(),t=D(),o&&o.c(),s=Ee()},m(a,f){r&&r.m(a,f),C(a,t,f),o&&o.m(a,f),C(a,s,f),l=!0},p(a,f){f[0]&128&&(e=!a[7].includes("@username")),e?r?(r.p(a,f),f[0]&128&&P(r,1)):(r=cO(a),r.c(),P(r,1),r.m(t.parentNode,t)):r&&(ue(),I(r,1,1,()=>{r=null}),ce()),f[0]&128&&(i=!a[7].includes("@email")),i?o?(o.p(a,f),f[0]&128&&P(o,1)):(o=dO(a),o.c(),P(o,1),o.m(s.parentNode,s)):o&&(ue(),I(o,1,1,()=>{o=null}),ce())},i(a){l||(P(r),P(o),l=!0)},o(a){I(r),I(o),l=!1},d(a){r&&r.d(a),a&&S(t),o&&o.d(a),a&&S(s)}}}function cO(n){let e,t,i;function s(r){n[32](r)}let l={class:"col-type-text col-field-id",name:"username",$$slots:{default:[Zye]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new cs({props:l}),de.push(()=>Ne(e,"sort",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};o[2]&32&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function Zye(n){let e,t,i,s;return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),s.textContent="username",m(t,"class",ee.getFieldTypeIcon("user")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p:te,d(l){l&&S(e)}}}function dO(n){let e,t,i;function s(r){n[33](r)}let l={class:"col-type-email col-field-email",name:"email",$$slots:{default:[Qye]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new cs({props:l}),de.push(()=>Ne(e,"sort",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};o[2]&32&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function Qye(n){let e,t,i,s;return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),s.textContent="email",m(t,"class",ee.getFieldTypeIcon("email")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p:te,d(l){l&&S(e)}}}function $ye(n){let e,t,i,s,l,r=n[62].name+"",o;return{c(){e=k("div"),t=k("i"),s=D(),l=k("span"),o=G(r),m(t,"class",i=ee.getFieldTypeIcon(n[62].type)),m(l,"class","txt"),m(e,"class","col-header-content")},m(a,f){C(a,e,f),v(e,t),v(e,s),v(e,l),v(l,o)},p(a,f){f[0]&262144&&i!==(i=ee.getFieldTypeIcon(a[62].type))&&m(t,"class",i),f[0]&262144&&r!==(r=a[62].name+"")&&pe(o,r)},d(a){a&&S(e)}}}function hO(n,e){let t,i,s,l;function r(a){e[34](a)}let o={class:"col-type-"+e[62].type+" col-field-"+e[62].name,name:e[62].name,$$slots:{default:[$ye]},$$scope:{ctx:e}};return e[0]!==void 0&&(o.sort=e[0]),i=new cs({props:o}),de.push(()=>Ne(i,"sort",r)),{key:n,first:null,c(){t=Ee(),U(i.$$.fragment),this.first=t},m(a,f){C(a,t,f),q(i,a,f),l=!0},p(a,f){e=a;const u={};f[0]&262144&&(u.class="col-type-"+e[62].type+" col-field-"+e[62].name),f[0]&262144&&(u.name=e[62].name),f[0]&262144|f[2]&32&&(u.$$scope={dirty:f,ctx:e}),!s&&f[0]&1&&(s=!0,u.sort=e[0],Be(()=>s=!1)),i.$set(u)},i(a){l||(P(i.$$.fragment,a),l=!0)},o(a){I(i.$$.fragment,a),l=!1},d(a){a&&S(t),W(i,a)}}}function pO(n){let e,t,i;function s(r){n[35](r)}let l={class:"col-type-date col-field-created",name:"created",$$slots:{default:[eve]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new cs({props:l}),de.push(()=>Ne(e,"sort",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};o[2]&32&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function eve(n){let e,t,i,s;return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),s.textContent="created",m(t,"class",ee.getFieldTypeIcon("date")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p:te,d(l){l&&S(e)}}}function mO(n){let e,t,i;function s(r){n[36](r)}let l={class:"col-type-date col-field-updated",name:"updated",$$slots:{default:[tve]},$$scope:{ctx:n}};return n[0]!==void 0&&(l.sort=n[0]),e=new cs({props:l}),de.push(()=>Ne(e,"sort",s)),{c(){U(e.$$.fragment)},m(r,o){q(e,r,o),i=!0},p(r,o){const a={};o[2]&32&&(a.$$scope={dirty:o,ctx:r}),!t&&o[0]&1&&(t=!0,a.sort=r[0],Be(()=>t=!1)),e.$set(a)},i(r){i||(P(e.$$.fragment,r),i=!0)},o(r){I(e.$$.fragment,r),i=!1},d(r){W(e,r)}}}function tve(n){let e,t,i,s;return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),s.textContent="updated",m(t,"class",ee.getFieldTypeIcon("date")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p:te,d(l){l&&S(e)}}}function gO(n){let e;return{c(){e=k("button"),e.innerHTML='<i class="ri-more-line"></i>',m(e,"type","button"),m(e,"aria-label","Toggle columns"),m(e,"class","btn btn-sm btn-transparent p-0")},m(t,i){C(t,e,i),n[37](e)},p:te,d(t){t&&S(e),n[37](null)}}}function bO(n){let e;function t(l,r){return l[12]?ive:nve}let i=t(n),s=i(n);return{c(){s.c(),e=Ee()},m(l,r){s.m(l,r),C(l,e,r)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&S(e)}}}function nve(n){let e,t,i,s,l;function r(f,u){var d,h;if((d=f[1])!=null&&d.length)return lve;if(!((h=f[2])!=null&&h.$isView))return sve}let o=r(n),a=o&&o(n);return{c(){e=k("tr"),t=k("td"),i=k("h6"),i.textContent="No records found.",s=D(),a&&a.c(),l=D(),m(t,"colspan","99"),m(t,"class","txt-center txt-hint p-xs")},m(f,u){C(f,e,u),v(e,t),v(t,i),v(t,s),a&&a.m(t,null),v(e,l)},p(f,u){o===(o=r(f))&&a?a.p(f,u):(a&&a.d(1),a=o&&o(f),a&&(a.c(),a.m(t,null)))},d(f){f&&S(e),a&&a.d()}}}function ive(n){let e;return{c(){e=k("tr"),e.innerHTML=`<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td> 
                    `},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function sve(n){let e,t,i;return{c(){e=k("button"),e.innerHTML=`<i class="ri-add-line"></i> 
                                    <span class="txt">New record</span>`,m(e,"type","button"),m(e,"class","btn btn-secondary btn-expanded m-t-sm")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[42]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function lve(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Clear filters</span>',m(e,"type","button"),m(e,"class","btn btn-hint btn-expanded m-t-sm")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[41]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function _O(n){let e,t,i,s,l,r,o,a,f,u;function d(){return n[38](n[59])}return{c(){e=k("td"),t=k("div"),i=k("input"),r=D(),o=k("label"),m(i,"type","checkbox"),m(i,"id",s="checkbox_"+n[59].id),i.checked=l=n[6][n[59].id],m(o,"for",a="checkbox_"+n[59].id),m(t,"class","form-field"),m(e,"class","bulk-select-col min-width")},m(h,p){C(h,e,p),v(e,t),v(t,i),v(t,r),v(t,o),f||(u=[x(i,"change",d),x(t,"click",Ei(n[28]))],f=!0)},p(h,p){n=h,p[0]&16&&s!==(s="checkbox_"+n[59].id)&&m(i,"id",s),p[0]&80&&l!==(l=n[6][n[59].id])&&(i.checked=l),p[0]&16&&a!==(a="checkbox_"+n[59].id)&&m(o,"for",a)},d(h){h&&S(e),f=!1,Ke(u)}}}function yO(n){let e,t,i,s,l,r,o=n[59].id+"",a,f,u;s=new eh({props:{value:n[59].id}});let d=n[2].$isAuth&&vO(n);return{c(){e=k("td"),t=k("div"),i=k("div"),U(s.$$.fragment),l=D(),r=k("div"),a=G(o),f=D(),d&&d.c(),m(r,"class","txt"),m(i,"class","label"),m(t,"class","flex flex-gap-5"),m(e,"class","col-type-text col-field-id")},m(h,p){C(h,e,p),v(e,t),v(t,i),q(s,i,null),v(i,l),v(i,r),v(r,a),v(t,f),d&&d.m(t,null),u=!0},p(h,p){const g={};p[0]&16&&(g.value=h[59].id),s.$set(g),(!u||p[0]&16)&&o!==(o=h[59].id+"")&&pe(a,o),h[2].$isAuth?d?d.p(h,p):(d=vO(h),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},i(h){u||(P(s.$$.fragment,h),u=!0)},o(h){I(s.$$.fragment,h),u=!1},d(h){h&&S(e),W(s),d&&d.d()}}}function vO(n){let e;function t(l,r){return l[59].verified?ove:rve}let i=t(n),s=i(n);return{c(){s.c(),e=Ee()},m(l,r){s.m(l,r),C(l,e,r)},p(l,r){i!==(i=t(l))&&(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&S(e)}}}function rve(n){let e,t,i;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-sm txt-hint")},m(s,l){C(s,e,l),t||(i=xe(Mt.call(null,e,"Unverified")),t=!0)},d(s){s&&S(e),t=!1,i()}}}function ove(n){let e,t,i;return{c(){e=k("i"),m(e,"class","ri-checkbox-circle-fill txt-sm txt-success")},m(s,l){C(s,e,l),t||(i=xe(Mt.call(null,e,"Verified")),t=!0)},d(s){s&&S(e),t=!1,i()}}}function kO(n){let e=!n[7].includes("@username"),t,i=!n[7].includes("@email"),s,l=e&&wO(n),r=i&&SO(n);return{c(){l&&l.c(),t=D(),r&&r.c(),s=Ee()},m(o,a){l&&l.m(o,a),C(o,t,a),r&&r.m(o,a),C(o,s,a)},p(o,a){a[0]&128&&(e=!o[7].includes("@username")),e?l?l.p(o,a):(l=wO(o),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),a[0]&128&&(i=!o[7].includes("@email")),i?r?r.p(o,a):(r=SO(o),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},d(o){l&&l.d(o),o&&S(t),r&&r.d(o),o&&S(s)}}}function wO(n){let e,t;function i(r,o){return o[0]&16&&(t=null),t==null&&(t=!!ee.isEmpty(r[59].username)),t?fve:ave}let s=i(n,[-1,-1,-1]),l=s(n);return{c(){e=k("td"),l.c(),m(e,"class","col-type-text col-field-username")},m(r,o){C(r,e,o),l.m(e,null)},p(r,o){s===(s=i(r,o))&&l?l.p(r,o):(l.d(1),l=s(r),l&&(l.c(),l.m(e,null)))},d(r){r&&S(e),l.d()}}}function ave(n){let e,t=n[59].username+"",i,s;return{c(){e=k("span"),i=G(t),m(e,"class","txt txt-ellipsis"),m(e,"title",s=n[59].username)},m(l,r){C(l,e,r),v(e,i)},p(l,r){r[0]&16&&t!==(t=l[59].username+"")&&pe(i,t),r[0]&16&&s!==(s=l[59].username)&&m(e,"title",s)},d(l){l&&S(e)}}}function fve(n){let e;return{c(){e=k("span"),e.textContent="N/A",m(e,"class","txt-hint")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function SO(n){let e,t;function i(r,o){return o[0]&16&&(t=null),t==null&&(t=!!ee.isEmpty(r[59].email)),t?cve:uve}let s=i(n,[-1,-1,-1]),l=s(n);return{c(){e=k("td"),l.c(),m(e,"class","col-type-text col-field-email")},m(r,o){C(r,e,o),l.m(e,null)},p(r,o){s===(s=i(r,o))&&l?l.p(r,o):(l.d(1),l=s(r),l&&(l.c(),l.m(e,null)))},d(r){r&&S(e),l.d()}}}function uve(n){let e,t=n[59].email+"",i,s;return{c(){e=k("span"),i=G(t),m(e,"class","txt txt-ellipsis"),m(e,"title",s=n[59].email)},m(l,r){C(l,e,r),v(e,i)},p(l,r){r[0]&16&&t!==(t=l[59].email+"")&&pe(i,t),r[0]&16&&s!==(s=l[59].email)&&m(e,"title",s)},d(l){l&&S(e)}}}function cve(n){let e;return{c(){e=k("span"),e.textContent="N/A",m(e,"class","txt-hint")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function CO(n,e){let t,i,s,l;return i=new kL({props:{short:!0,record:e[59],field:e[62]}}),{key:n,first:null,c(){t=k("td"),U(i.$$.fragment),m(t,"class",s="col-type-"+e[62].type+" col-field-"+e[62].name),this.first=t},m(r,o){C(r,t,o),q(i,t,null),l=!0},p(r,o){e=r;const a={};o[0]&16&&(a.record=e[59]),o[0]&262144&&(a.field=e[62]),i.$set(a),(!l||o[0]&262144&&s!==(s="col-type-"+e[62].type+" col-field-"+e[62].name))&&m(t,"class",s)},i(r){l||(P(i.$$.fragment,r),l=!0)},o(r){I(i.$$.fragment,r),l=!1},d(r){r&&S(t),W(i)}}}function MO(n){let e,t,i;return t=new xr({props:{date:n[59].created}}),{c(){e=k("td"),U(t.$$.fragment),m(e,"class","col-type-date col-field-created")},m(s,l){C(s,e,l),q(t,e,null),i=!0},p(s,l){const r={};l[0]&16&&(r.date=s[59].created),t.$set(r)},i(s){i||(P(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&S(e),W(t)}}}function TO(n){let e,t,i;return t=new xr({props:{date:n[59].updated}}),{c(){e=k("td"),U(t.$$.fragment),m(e,"class","col-type-date col-field-updated")},m(s,l){C(s,e,l),q(t,e,null),i=!0},p(s,l){const r={};l[0]&16&&(r.date=s[59].updated),t.$set(r)},i(s){i||(P(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&S(e),W(t)}}}function AO(n,e){let t,i,s=!e[7].includes("@id"),l,r,o=[],a=new Map,f,u=e[10]&&!e[7].includes("@created"),d,h=e[9]&&!e[7].includes("@updated"),p,g,b,_,y,w,A=!e[2].$isView&&_O(e),M=s&&yO(e),T=e[2].$isAuth&&kO(e),O=e[18];const E=F=>F[62].name;for(let F=0;F<O.length;F+=1){let B=lO(e,O,F),V=E(B);a.set(V,o[F]=CO(V,B))}let R=u&&MO(e),N=h&&TO(e);function j(){return e[39](e[59])}function L(...F){return e[40](e[59],...F)}return{key:n,first:null,c(){t=k("tr"),A&&A.c(),i=D(),M&&M.c(),l=D(),T&&T.c(),r=D();for(let F=0;F<o.length;F+=1)o[F].c();f=D(),R&&R.c(),d=D(),N&&N.c(),p=D(),g=k("td"),g.innerHTML='<i class="ri-arrow-right-line"></i>',b=D(),m(g,"class","col-type-action min-width"),m(t,"tabindex","0"),m(t,"class","row-handle"),this.first=t},m(F,B){C(F,t,B),A&&A.m(t,null),v(t,i),M&&M.m(t,null),v(t,l),T&&T.m(t,null),v(t,r);for(let V=0;V<o.length;V+=1)o[V]&&o[V].m(t,null);v(t,f),R&&R.m(t,null),v(t,d),N&&N.m(t,null),v(t,p),v(t,g),v(t,b),_=!0,y||(w=[x(t,"click",j),x(t,"keydown",L)],y=!0)},p(F,B){e=F,e[2].$isView?A&&(A.d(1),A=null):A?A.p(e,B):(A=_O(e),A.c(),A.m(t,i)),B[0]&128&&(s=!e[7].includes("@id")),s?M?(M.p(e,B),B[0]&128&&P(M,1)):(M=yO(e),M.c(),P(M,1),M.m(t,l)):M&&(ue(),I(M,1,1,()=>{M=null}),ce()),e[2].$isAuth?T?T.p(e,B):(T=kO(e),T.c(),T.m(t,r)):T&&(T.d(1),T=null),B[0]&262160&&(O=e[18],ue(),o=Cn(o,B,E,1,e,O,a,t,ii,CO,f,lO),ce()),B[0]&1152&&(u=e[10]&&!e[7].includes("@created")),u?R?(R.p(e,B),B[0]&1152&&P(R,1)):(R=MO(e),R.c(),P(R,1),R.m(t,d)):R&&(ue(),I(R,1,1,()=>{R=null}),ce()),B[0]&640&&(h=e[9]&&!e[7].includes("@updated")),h?N?(N.p(e,B),B[0]&640&&P(N,1)):(N=TO(e),N.c(),P(N,1),N.m(t,p)):N&&(ue(),I(N,1,1,()=>{N=null}),ce())},i(F){if(!_){P(M);for(let B=0;B<O.length;B+=1)P(o[B]);P(R),P(N),_=!0}},o(F){I(M);for(let B=0;B<o.length;B+=1)I(o[B]);I(R),I(N),_=!1},d(F){F&&S(t),A&&A.d(),M&&M.d(),T&&T.d();for(let B=0;B<o.length;B+=1)o[B].d();R&&R.d(),N&&N.d(),y=!1,Ke(w)}}}function dve(n){let e,t,i,s,l=!n[7].includes("@id"),r,o,a=[],f=new Map,u,d=n[10]&&!n[7].includes("@created"),h,p=n[9]&&!n[7].includes("@updated"),g,b,_,y,w=[],A=new Map,M,T=!n[2].$isView&&aO(n),O=l&&fO(n),E=n[2].$isAuth&&uO(n),R=n[18];const N=K=>K[62].name;for(let K=0;K<R.length;K+=1){let X=rO(n,R,K),J=N(X);f.set(J,a[K]=hO(J,X))}let j=d&&pO(n),L=p&&mO(n),F=n[15].length&&gO(n),B=n[4];const V=K=>K[2].$isView?K[59]:K[59].id;for(let K=0;K<B.length;K+=1){let X=sO(n,B,K),J=V(X);A.set(J,w[K]=AO(J,X))}let H=null;return B.length||(H=bO(n)),{c(){e=k("table"),t=k("thead"),i=k("tr"),T&&T.c(),s=D(),O&&O.c(),r=D(),E&&E.c(),o=D();for(let K=0;K<a.length;K+=1)a[K].c();u=D(),j&&j.c(),h=D(),L&&L.c(),g=D(),b=k("th"),F&&F.c(),_=D(),y=k("tbody");for(let K=0;K<w.length;K+=1)w[K].c();H&&H.c(),m(b,"class","col-type-action min-width"),m(e,"class","table"),$(e,"table-loading",n[12])},m(K,X){C(K,e,X),v(e,t),v(t,i),T&&T.m(i,null),v(i,s),O&&O.m(i,null),v(i,r),E&&E.m(i,null),v(i,o);for(let J=0;J<a.length;J+=1)a[J]&&a[J].m(i,null);v(i,u),j&&j.m(i,null),v(i,h),L&&L.m(i,null),v(i,g),v(i,b),F&&F.m(b,null),v(e,_),v(e,y);for(let J=0;J<w.length;J+=1)w[J]&&w[J].m(y,null);H&&H.m(y,null),M=!0},p(K,X){K[2].$isView?T&&(T.d(1),T=null):T?T.p(K,X):(T=aO(K),T.c(),T.m(i,s)),X[0]&128&&(l=!K[7].includes("@id")),l?O?(O.p(K,X),X[0]&128&&P(O,1)):(O=fO(K),O.c(),P(O,1),O.m(i,r)):O&&(ue(),I(O,1,1,()=>{O=null}),ce()),K[2].$isAuth?E?(E.p(K,X),X[0]&4&&P(E,1)):(E=uO(K),E.c(),P(E,1),E.m(i,o)):E&&(ue(),I(E,1,1,()=>{E=null}),ce()),X[0]&262145&&(R=K[18],ue(),a=Cn(a,X,N,1,K,R,f,i,ii,hO,u,rO),ce()),X[0]&1152&&(d=K[10]&&!K[7].includes("@created")),d?j?(j.p(K,X),X[0]&1152&&P(j,1)):(j=pO(K),j.c(),P(j,1),j.m(i,h)):j&&(ue(),I(j,1,1,()=>{j=null}),ce()),X[0]&640&&(p=K[9]&&!K[7].includes("@updated")),p?L?(L.p(K,X),X[0]&640&&P(L,1)):(L=mO(K),L.c(),P(L,1),L.m(i,g)):L&&(ue(),I(L,1,1,()=>{L=null}),ce()),K[15].length?F?F.p(K,X):(F=gO(K),F.c(),F.m(b,null)):F&&(F.d(1),F=null),X[0]&9705174&&(B=K[4],ue(),w=Cn(w,X,V,1,K,B,A,y,ii,AO,null,sO),ce(),!B.length&&H?H.p(K,X):B.length?H&&(H.d(1),H=null):(H=bO(K),H.c(),H.m(y,null))),(!M||X[0]&4096)&&$(e,"table-loading",K[12])},i(K){if(!M){P(O),P(E);for(let X=0;X<R.length;X+=1)P(a[X]);P(j),P(L);for(let X=0;X<B.length;X+=1)P(w[X]);M=!0}},o(K){I(O),I(E);for(let X=0;X<a.length;X+=1)I(a[X]);I(j),I(L);for(let X=0;X<w.length;X+=1)I(w[X]);M=!1},d(K){K&&S(e),T&&T.d(),O&&O.d(),E&&E.d();for(let X=0;X<a.length;X+=1)a[X].d();j&&j.d(),L&&L.d(),F&&F.d();for(let X=0;X<w.length;X+=1)w[X].d();H&&H.d()}}}function OO(n){let e,t;return e=new kl({props:{class:"dropdown dropdown-right dropdown-nowrap columns-dropdown",trigger:n[14],$$slots:{default:[pve]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&16384&&(l.trigger=i[14]),s[0]&32896|s[2]&32&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function hve(n){let e,t,i,s,l,r=n[55].name+"",o,a,f,u,d;function h(...p){return n[29](n[55],...p)}return{c(){e=k("input"),s=D(),l=k("label"),o=G(r),f=D(),m(e,"type","checkbox"),m(e,"id",t=n[58]),e.checked=i=!n[7].includes(n[55].id),m(l,"for",a=n[58])},m(p,g){C(p,e,g),C(p,s,g),C(p,l,g),v(l,o),C(p,f,g),u||(d=x(e,"change",h),u=!0)},p(p,g){n=p,g[1]&134217728&&t!==(t=n[58])&&m(e,"id",t),g[0]&32896&&i!==(i=!n[7].includes(n[55].id))&&(e.checked=i),g[0]&32768&&r!==(r=n[55].name+"")&&pe(o,r),g[1]&134217728&&a!==(a=n[58])&&m(l,"for",a)},d(p){p&&S(e),p&&S(s),p&&S(l),p&&S(f),u=!1,d()}}}function EO(n,e){let t,i,s;return i=new ze({props:{class:"form-field form-field-sm form-field-toggle m-0 p-5",$$slots:{default:[hve,({uniqueId:l})=>({58:l}),({uniqueId:l})=>[0,l?134217728:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=Ee(),U(i.$$.fragment),this.first=t},m(l,r){C(l,t,r),q(i,l,r),s=!0},p(l,r){e=l;const o={};r[0]&32896|r[1]&134217728|r[2]&32&&(o.$$scope={dirty:r,ctx:e}),i.$set(o)},i(l){s||(P(i.$$.fragment,l),s=!0)},o(l){I(i.$$.fragment,l),s=!1},d(l){l&&S(t),W(i,l)}}}function pve(n){let e,t,i=[],s=new Map,l,r,o=n[15];const a=f=>f[55].id+f[55].name;for(let f=0;f<o.length;f+=1){let u=oO(n,o,f),d=a(u);s.set(d,i[f]=EO(d,u))}return{c(){e=k("div"),e.textContent="Toggle columns",t=D();for(let f=0;f<i.length;f+=1)i[f].c();l=Ee(),m(e,"class","txt-hint txt-sm p-5 m-b-5")},m(f,u){C(f,e,u),C(f,t,u);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(f,u);C(f,l,u),r=!0},p(f,u){u[0]&32896|u[1]&134217728&&(o=f[15],ue(),i=Cn(i,u,a,1,f,o,s,l.parentNode,ii,EO,l,oO),ce())},i(f){if(!r){for(let u=0;u<o.length;u+=1)P(i[u]);r=!0}},o(f){for(let u=0;u<i.length;u+=1)I(i[u]);r=!1},d(f){f&&S(e),f&&S(t);for(let u=0;u<i.length;u+=1)i[u].d(f);f&&S(l)}}}function mve(n){let e,t,i=n[14]&&OO(n);return{c(){i&&i.c(),e=Ee()},m(s,l){i&&i.m(s,l),C(s,e,l),t=!0},p(s,l){s[14]?i?(i.p(s,l),l[0]&16384&&P(i,1)):(i=OO(s),i.c(),P(i,1),i.m(e.parentNode,e)):i&&(ue(),I(i,1,1,()=>{i=null}),ce())},i(s){t||(P(i),t=!0)},o(s){I(i),t=!1},d(s){i&&i.d(s),s&&S(e)}}}function PO(n){let e,t,i=n[4].length+"",s,l,r;return{c(){e=k("small"),t=G("Showing "),s=G(i),l=G(" of "),r=G(n[5]),m(e,"class","block txt-hint txt-right m-t-sm")},m(o,a){C(o,e,a),v(e,t),v(e,s),v(e,l),v(e,r)},p(o,a){a[0]&16&&i!==(i=o[4].length+"")&&pe(s,i),a[0]&32&&pe(r,o[5])},d(o){o&&S(e)}}}function DO(n){let e,t,i,s,l=n[5]-n[4].length+"",r,o,a,f;return{c(){e=k("div"),t=k("button"),i=k("span"),s=G("Load more ("),r=G(l),o=G(")"),m(i,"class","txt"),m(t,"type","button"),m(t,"class","btn btn-lg btn-secondary btn-expanded"),$(t,"btn-loading",n[12]),$(t,"btn-disabled",n[12]),m(e,"class","block txt-center m-t-xs")},m(u,d){C(u,e,d),v(e,t),v(t,i),v(i,s),v(i,r),v(i,o),a||(f=x(t,"click",n[43]),a=!0)},p(u,d){d[0]&48&&l!==(l=u[5]-u[4].length+"")&&pe(r,l),d[0]&4096&&$(t,"btn-loading",u[12]),d[0]&4096&&$(t,"btn-disabled",u[12])},d(u){u&&S(e),a=!1,f()}}}function IO(n){var T;let e,t,i,s,l,r,o=n[8]===1?"record":"records",a,f,u,d,h,p,g,b,_,y,w,A,M=((T=n[19])==null?void 0:T.email)==="glam@glamlabs.app"&&RO(n);return{c(){e=k("div"),t=k("div"),i=G("Selected "),s=k("strong"),l=G(n[8]),r=D(),a=G(o),f=D(),M&&M.c(),u=D(),d=k("div"),h=D(),p=k("button"),p.innerHTML='<span class="txt">Reset</span>',g=D(),b=k("button"),b.innerHTML='<span class="txt">Delete selected</span>',m(t,"class","txt"),m(d,"class","flex-fill"),m(p,"type","button"),m(p,"class","btn btn-xs btn-transparent btn-outline p-l-5 p-r-5"),$(p,"btn-disabled",n[13]),m(b,"type","button"),m(b,"class","btn btn-sm btn-transparent btn-danger"),$(b,"btn-loading",n[13]),$(b,"btn-disabled",n[13]),m(e,"class","bulkbar")},m(O,E){C(O,e,E),v(e,t),v(t,i),v(t,s),v(s,l),v(t,r),v(t,a),v(e,f),M&&M.m(e,null),v(e,u),v(e,d),v(e,h),v(e,p),v(e,g),v(e,b),y=!0,w||(A=[x(p,"click",n[46]),x(b,"click",n[47])],w=!0)},p(O,E){var R;(!y||E[0]&256)&&pe(l,O[8]),(!y||E[0]&256)&&o!==(o=O[8]===1?"record":"records")&&pe(a,o),((R=O[19])==null?void 0:R.email)==="glam@glamlabs.app"?M?M.p(O,E):(M=RO(O),M.c(),M.m(e,u)):M&&(M.d(1),M=null),(!y||E[0]&8192)&&$(p,"btn-disabled",O[13]),(!y||E[0]&8192)&&$(b,"btn-loading",O[13]),(!y||E[0]&8192)&&$(b,"btn-disabled",O[13])},i(O){y||(O&&Yt(()=>{y&&(_||(_=gt(e,vr,{duration:150,y:5},!0)),_.run(1))}),y=!0)},o(O){O&&(_||(_=gt(e,vr,{duration:150,y:5},!1)),_.run(0)),y=!1},d(O){O&&S(e),M&&M.d(),O&&_&&_.end(),w=!1,Ke(A)}}}function RO(n){let e,t,i,s,l;return{c(){e=k("button"),e.textContent="Migrate to staging",t=D(),i=k("button"),i.textContent="Migrate to prod",m(e,"class","btn btn-xs btn-transparent"),m(i,"class","btn btn-xs btn-transparent")},m(r,o){C(r,e,o),C(r,t,o),C(r,i,o),s||(l=[x(e,"click",n[44]),x(i,"click",n[45])],s=!0)},p:te,d(r){r&&S(e),r&&S(t),r&&S(i),s=!1,Ke(l)}}}function gve(n){let e,t,i,s,l,r;e=new $_({props:{class:"table-wrapper",$$slots:{before:[mve],default:[dve]},$$scope:{ctx:n}}});let o=n[4].length&&PO(n),a=n[4].length&&n[17]&&DO(n),f=n[8]&&IO(n);return{c(){U(e.$$.fragment),t=D(),o&&o.c(),i=D(),a&&a.c(),s=D(),f&&f.c(),l=Ee()},m(u,d){q(e,u,d),C(u,t,d),o&&o.m(u,d),C(u,i,d),a&&a.m(u,d),C(u,s,d),f&&f.m(u,d),C(u,l,d),r=!0},p(u,d){const h={};d[0]&382679|d[2]&32&&(h.$$scope={dirty:d,ctx:u}),e.$set(h),u[4].length?o?o.p(u,d):(o=PO(u),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null),u[4].length&&u[17]?a?a.p(u,d):(a=DO(u),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null),u[8]?f?(f.p(u,d),d[0]&256&&P(f,1)):(f=IO(u),f.c(),P(f,1),f.m(l.parentNode,l)):f&&(ue(),I(f,1,1,()=>{f=null}),ce())},i(u){r||(P(e.$$.fragment,u),P(f),r=!0)},o(u){I(e.$$.fragment,u),I(f),r=!1},d(u){W(e,u),u&&S(t),o&&o.d(u),u&&S(i),a&&a.d(u),u&&S(s),f&&f.d(u),u&&S(l)}}}const bve=/^([\+\-])?(\w+)$/;function _ve(n,e,t){let i,s,l,r,o,a,f,u,d;Ht(n,Ed,Fe=>t(19,d=Fe));const h=Hn();let{collection:p}=e,{sort:g=""}=e,{filter:b=""}=e,_=[],y=1,w=0,A={},M=!0,T=!1,O=0,E,R=[],N=[];function j(){p!=null&&p.id&&localStorage.setItem((p==null?void 0:p.id)+"@hiddenCollumns",JSON.stringify(R))}function L(){if(t(7,R=[]),!!(p!=null&&p.id))try{const Fe=localStorage.getItem(p.id+"@hiddenCollumns");Fe&&t(7,R=JSON.parse(Fe)||[])}catch{}}async function F(){const Fe=y;for(let Le=1;Le<=Fe;Le++)(Le===1||r)&&await B(Le,!1)}async function B(Fe=1,Le=!0){var Ut,un;if(!(p!=null&&p.id))return;t(12,M=!0);let Pt=g;const tn=Pt.match(bve),ct=tn?s.find(pt=>pt.name===tn[2]):null;if(tn&&((un=(Ut=ct==null?void 0:ct.options)==null?void 0:Ut.displayFields)==null?void 0:un.length)>0){const pt=[];for(const rn of ct.options.displayFields)pt.push((tn[1]||"")+tn[2]+"."+rn);Pt=pt.join(",")}const Se=ee.getAllCollectionIdentifiers(p);return Re.collection(p.id).getList(Fe,30,{sort:Pt,filter:ee.normalizeSearchFilter(b,Se),expand:s.map(pt=>pt.name).join(","),$cancelKey:"records_list"}).then(async pt=>{if(Fe<=1&&V(),t(12,M=!1),t(11,y=pt.page),t(5,w=pt.totalItems),h("load",_.concat(pt.items)),Le){const rn=++O;for(;pt.items.length&&O==rn;)t(4,_=_.concat(pt.items.splice(0,15))),await ee.yieldToMain()}else t(4,_=_.concat(pt.items))}).catch(pt=>{pt!=null&&pt.isAbort||(t(12,M=!1),console.warn(pt),V(),Re.error(pt,!1))})}function V(){t(4,_=[]),t(11,y=1),t(5,w=0),t(6,A={})}function H(){a?K():X()}function K(){t(6,A={})}function X(){for(const Fe of _)t(6,A[Fe.id]=Fe,A);t(6,A)}function J(Fe){A[Fe.id]?delete A[Fe.id]:t(6,A[Fe.id]=Fe,A),t(6,A)}function z(){ds(`Do you really want to delete the selected ${o===1?"record":"records"}?`,Z)}async function Z(){if(T||!o||!(p!=null&&p.id))return;let Fe=[];for(const Le of Object.keys(A))Fe.push(Re.collection(p.id).delete(Le));return t(13,T=!0),Promise.all(Fe).then(()=>{fi(`Successfully deleted the selected ${o===1?"record":"records"}.`),K()}).catch(Le=>{Re.error(Le)}).finally(()=>(t(13,T=!1),F()))}function Y(Fe){K(),Re.migrateItems(Object.keys(A),p.id,Fe).then(Le=>{Le.ok?fi(`Successfully migrated items to ${Fe}`):br("There was an error")}).catch(Le=>{br("Failed to migrate")})}function oe(Fe){ht.call(this,n,Fe)}const re=(Fe,Le)=>{Le.target.checked?ee.removeByValue(R,Fe.id):ee.pushUnique(R,Fe.id),t(7,R)},Q=()=>H();function me(Fe){g=Fe,t(0,g)}function qe(Fe){g=Fe,t(0,g)}function be(Fe){g=Fe,t(0,g)}function Ie(Fe){g=Fe,t(0,g)}function he(Fe){g=Fe,t(0,g)}function Ve(Fe){g=Fe,t(0,g)}function Qe(Fe){de[Fe?"unshift":"push"](()=>{E=Fe,t(14,E)})}const it=Fe=>J(Fe),ye=Fe=>h("select",Fe),ie=(Fe,Le)=>{Le.code==="Enter"&&(Le.preventDefault(),h("select",Fe))},we=()=>t(1,b=""),Ue=()=>h("new"),Oe=()=>B(y+1),_e=()=>Y("staging"),Ye=()=>Y("production"),St=()=>K(),Et=()=>z();return n.$$set=Fe=>{"collection"in Fe&&t(2,p=Fe.collection),"sort"in Fe&&t(0,g=Fe.sort),"filter"in Fe&&t(1,b=Fe.filter)},n.$$.update=()=>{n.$$.dirty[0]&4&&p!=null&&p.id&&(L(),V()),n.$$.dirty[0]&4&&t(27,i=(p==null?void 0:p.schema)||[]),n.$$.dirty[0]&134217728&&(s=i.filter(Fe=>Fe.type==="relation")),n.$$.dirty[0]&134217856&&t(18,l=i.filter(Fe=>!R.includes(Fe.id))),n.$$.dirty[0]&7&&p!=null&&p.id&&g!==-1&&b!==-1&&B(1),n.$$.dirty[0]&48&&t(17,r=w>_.length),n.$$.dirty[0]&64&&t(8,o=Object.keys(A).length),n.$$.dirty[0]&272&&t(16,a=_.length&&o===_.length),n.$$.dirty[0]&128&&R!==-1&&j(),n.$$.dirty[0]&20&&t(10,f=!(p!=null&&p.$isView)||_.length>0&&_[0].created!=""),n.$$.dirty[0]&20&&t(9,u=!(p!=null&&p.$isView)||_.length>0&&_[0].updated!=""),n.$$.dirty[0]&134219268&&t(15,N=[].concat(p.$isAuth?[{id:"@username",name:"username"},{id:"@email",name:"email"}]:[],i.map(Fe=>({id:Fe.id,name:Fe.name})),f?{id:"@created",name:"created"}:[],u?{id:"@updated",name:"updated"}:[]))},[g,b,p,B,_,w,A,R,o,u,f,y,M,T,E,N,a,r,l,d,h,H,K,J,z,Y,F,i,oe,re,Q,me,qe,be,Ie,he,Ve,Qe,it,ye,ie,we,Ue,Oe,_e,Ye,St,Et]}class yve extends ke{constructor(e){super(),ve(this,e,_ve,gve,De,{collection:2,sort:0,filter:1,reloadLoadedPages:26,load:3},null,[-1,-1,-1])}get reloadLoadedPages(){return this.$$.ctx[26]}get load(){return this.$$.ctx[3]}}function vve(n){let e,t,i,s;return e=new bY({}),i=new Ls({props:{$$slots:{default:[Sve]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment)},m(l,r){q(e,l,r),C(l,t,r),q(i,l,r),s=!0},p(l,r){const o={};r[0]&1527|r[1]&16&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(P(e.$$.fragment,l),P(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){W(e,l),l&&S(t),W(i,l)}}}function kve(n){let e,t;return e=new Ls({props:{center:!0,$$slots:{default:[Tve]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&1040|s[1]&16&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function wve(n){let e,t;return e=new Ls({props:{center:!0,$$slots:{default:[Ave]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[1]&16&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function NO(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<i class="ri-settings-4-line"></i>',m(e,"type","button"),m(e,"aria-label","Edit collection"),m(e,"class","btn btn-transparent btn-circle")},m(s,l){C(s,e,l),t||(i=[xe(Mt.call(null,e,{text:"Edit collection",position:"right"})),x(e,"click",n[15])],t=!0)},p:te,d(s){s&&S(e),t=!1,Ke(i)}}}function LO(n){let e,t,i;return{c(){e=k("button"),e.innerHTML=`<i class="ri-add-line"></i> 
                        <span class="txt">New record</span>`,m(e,"type","button"),m(e,"class","btn btn-expanded")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[18]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function Sve(n){let e,t,i,s,l,r=n[2].name+"",o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E,R,N,j,L=!n[10]&&NO(n);d=new ng({}),d.$on("refresh",n[16]);let F=!n[2].$isView&&LO(n);y=new tg({props:{value:n[0],autocompleteCollection:n[2]}}),y.$on("submit",n[19]);function B(K){n[21](K)}function V(K){n[22](K)}let H={collection:n[2]};return n[0]!==void 0&&(H.filter=n[0]),n[1]!==void 0&&(H.sort=n[1]),T=new yve({props:H}),n[20](T),de.push(()=>Ne(T,"filter",B)),de.push(()=>Ne(T,"sort",V)),T.$on("select",n[23]),T.$on("new",n[24]),{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Collections",s=D(),l=k("div"),o=G(r),a=D(),f=k("div"),L&&L.c(),u=D(),U(d.$$.fragment),h=D(),p=k("div"),g=k("button"),g.innerHTML=`<i class="ri-code-s-slash-line"></i> 
                    <span class="txt">API Preview</span>`,b=D(),F&&F.c(),_=D(),U(y.$$.fragment),w=D(),A=k("div"),M=D(),U(T.$$.fragment),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(f,"class","inline-flex gap-5"),m(g,"type","button"),m(g,"class","btn btn-outline"),m(p,"class","btns-group"),m(e,"class","page-header"),m(A,"class","clearfix m-b-base")},m(K,X){C(K,e,X),v(e,t),v(t,i),v(t,s),v(t,l),v(l,o),v(e,a),v(e,f),L&&L.m(f,null),v(f,u),q(d,f,null),v(e,h),v(e,p),v(p,g),v(p,b),F&&F.m(p,null),C(K,_,X),q(y,K,X),C(K,w,X),C(K,A,X),C(K,M,X),q(T,K,X),R=!0,N||(j=x(g,"click",n[17]),N=!0)},p(K,X){(!R||X[0]&4)&&r!==(r=K[2].name+"")&&pe(o,r),K[10]?L&&(L.d(1),L=null):L?L.p(K,X):(L=NO(K),L.c(),L.m(f,u)),K[2].$isView?F&&(F.d(1),F=null):F?F.p(K,X):(F=LO(K),F.c(),F.m(p,null));const J={};X[0]&1&&(J.value=K[0]),X[0]&4&&(J.autocompleteCollection=K[2]),y.$set(J);const z={};X[0]&4&&(z.collection=K[2]),!O&&X[0]&1&&(O=!0,z.filter=K[0],Be(()=>O=!1)),!E&&X[0]&2&&(E=!0,z.sort=K[1],Be(()=>E=!1)),T.$set(z)},i(K){R||(P(d.$$.fragment,K),P(y.$$.fragment,K),P(T.$$.fragment,K),R=!0)},o(K){I(d.$$.fragment,K),I(y.$$.fragment,K),I(T.$$.fragment,K),R=!1},d(K){K&&S(e),L&&L.d(),W(d),F&&F.d(),K&&S(_),W(y,K),K&&S(w),K&&S(A),K&&S(M),n[20](null),W(T,K),N=!1,j()}}}function Cve(n){let e,t,i,s,l;return{c(){e=k("h1"),e.textContent="Create your first collection to add records!",t=D(),i=k("button"),i.innerHTML=`<i class="ri-add-line"></i> 
                    <span class="txt">Create new collection</span>`,m(e,"class","m-b-10"),m(i,"type","button"),m(i,"class","btn btn-expanded-lg btn-lg")},m(r,o){C(r,e,o),C(r,t,o),C(r,i,o),s||(l=x(i,"click",n[14]),s=!0)},p:te,d(r){r&&S(e),r&&S(t),r&&S(i),s=!1,l()}}}function Mve(n){let e;return{c(){e=k("h1"),e.textContent="You don't have any collections yet.",m(e,"class","m-b-10")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function Tve(n){let e,t,i;function s(o,a){return o[10]?Mve:Cve}let l=s(n),r=l(n);return{c(){e=k("div"),t=k("div"),t.innerHTML='<i class="ri-database-2-line"></i>',i=D(),r.c(),m(t,"class","icon"),m(e,"class","placeholder-section m-b-base")},m(o,a){C(o,e,a),v(e,t),v(e,i),r.m(e,null)},p(o,a){l===(l=s(o))&&r?r.p(o,a):(r.d(1),r=l(o),r&&(r.c(),r.m(e,null)))},d(o){o&&S(e),r.d()}}}function Ave(n){let e;return{c(){e=k("div"),e.innerHTML=`<span class="loader loader-lg"></span> 
            <h1>Loading collections...</h1>`,m(e,"class","placeholder-section m-b-base")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function Ove(n){let e,t,i,s,l,r,o,a,f,u,d;const h=[wve,kve,vve],p=[];function g(A,M){return A[3]&&!A[9].length?0:A[9].length?2:1}e=g(n),t=p[e]=h[e](n);let b={};s=new M2({props:b}),n[25](s);let _={};r=new MY({props:_}),n[26](r);let y={collection:n[2]};a=new vL({props:y}),n[27](a),a.$on("save",n[28]),a.$on("delete",n[29]);let w={collection:n[2]};return u=new xye({props:w}),n[30](u),{c(){t.c(),i=D(),U(s.$$.fragment),l=D(),U(r.$$.fragment),o=D(),U(a.$$.fragment),f=D(),U(u.$$.fragment)},m(A,M){p[e].m(A,M),C(A,i,M),q(s,A,M),C(A,l,M),q(r,A,M),C(A,o,M),q(a,A,M),C(A,f,M),q(u,A,M),d=!0},p(A,M){let T=e;e=g(A),e===T?p[e].p(A,M):(ue(),I(p[T],1,1,()=>{p[T]=null}),ce(),t=p[e],t?t.p(A,M):(t=p[e]=h[e](A),t.c()),P(t,1),t.m(i.parentNode,i));const O={};s.$set(O);const E={};r.$set(E);const R={};M[0]&4&&(R.collection=A[2]),a.$set(R);const N={};M[0]&4&&(N.collection=A[2]),u.$set(N)},i(A){d||(P(t),P(s.$$.fragment,A),P(r.$$.fragment,A),P(a.$$.fragment,A),P(u.$$.fragment,A),d=!0)},o(A){I(t),I(s.$$.fragment,A),I(r.$$.fragment,A),I(a.$$.fragment,A),I(u.$$.fragment,A),d=!1},d(A){p[e].d(A),A&&S(i),n[25](null),W(s,A),A&&S(l),n[26](null),W(r,A),A&&S(o),n[27](null),W(a,A),A&&S(f),n[30](null),W(u,A)}}}function Eve(n,e,t){let i,s,l,r,o,a,f;Ht(n,yr,oe=>t(2,s=oe)),Ht(n,si,oe=>t(31,l=oe)),Ht(n,Rp,oe=>t(3,r=oe)),Ht(n,z_,oe=>t(13,o=oe)),Ht(n,Cr,oe=>t(9,a=oe)),Ht(n,Xf,oe=>t(10,f=oe));const u=new URLSearchParams(o);let d,h,p,g,b,_=u.get("filter")||"",y=u.get("sort")||"-created",w=u.get("collectionId")||(s==null?void 0:s.id);function A(){t(11,w=s==null?void 0:s.id),t(0,_=""),t(1,y="-created"),M()}async function M(){if(!y)return;const oe=ee.getAllCollectionIdentifiers(s),re=y.split(",").map(Q=>Q.startsWith("+")||Q.startsWith("-")?Q.substring(1):Q);re.filter(Q=>oe.includes(Q)).length!=re.length&&(oe.includes("created")?t(1,y="-created"):t(1,y=""))}TB(w);const T=()=>d==null?void 0:d.show(),O=()=>d==null?void 0:d.show(s),E=()=>b==null?void 0:b.load(),R=()=>h==null?void 0:h.show(s),N=()=>p==null?void 0:p.show(),j=oe=>t(0,_=oe.detail);function L(oe){de[oe?"unshift":"push"](()=>{b=oe,t(8,b)})}function F(oe){_=oe,t(0,_)}function B(oe){y=oe,t(1,y)}const V=oe=>{s.$isView?g.show(oe==null?void 0:oe.detail):p==null||p.show(oe==null?void 0:oe.detail)},H=()=>p==null?void 0:p.show();function K(oe){de[oe?"unshift":"push"](()=>{d=oe,t(4,d)})}function X(oe){de[oe?"unshift":"push"](()=>{h=oe,t(5,h)})}function J(oe){de[oe?"unshift":"push"](()=>{p=oe,t(6,p)})}const z=()=>b==null?void 0:b.reloadLoadedPages(),Z=()=>b==null?void 0:b.reloadLoadedPages();function Y(oe){de[oe?"unshift":"push"](()=>{g=oe,t(7,g)})}return n.$$.update=()=>{if(n.$$.dirty[0]&8192&&t(12,i=new URLSearchParams(o)),n.$$.dirty[0]&6152&&!r&&i.get("collectionId")&&i.get("collectionId")!=w&&SB(i.get("collectionId")),n.$$.dirty[0]&2052&&s!=null&&s.id&&w!=s.id&&A(),n.$$.dirty[0]&4&&s!=null&&s.id&&M(),n.$$.dirty[0]&7&&(y||_||s!=null&&s.id)){const oe=new URLSearchParams({collectionId:(s==null?void 0:s.id)||"",filter:_,sort:y}).toString();Jo("/collections?"+oe)}n.$$.dirty[0]&4&&ss(si,l=(s==null?void 0:s.name)||"Collections",l)},[_,y,s,r,d,h,p,g,b,a,f,w,i,o,T,O,E,R,N,j,L,F,B,V,H,K,X,J,z,Z,Y]}class Pve extends ke{constructor(e){super(),ve(this,e,Eve,Ove,De,{},null,[-1,-1])}}function Dve(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E,R,N,j,L;return{c(){e=k("aside"),t=k("div"),i=k("div"),i.textContent="System",s=D(),l=k("a"),l.innerHTML=`<i class="ri-home-gear-line"></i> 
            <span class="txt">Application</span>`,r=D(),o=k("a"),o.innerHTML=`<i class="ri-send-plane-2-line"></i> 
            <span class="txt">Mail settings</span>`,a=D(),f=k("a"),f.innerHTML=`<i class="ri-archive-drawer-line"></i> 
            <span class="txt">Files storage</span>`,u=D(),d=k("a"),d.innerHTML=`<i class="ri-archive-line"></i> 
            <span class="txt">Backups</span>`,h=D(),p=k("div"),p.innerHTML='<span class="txt">Sync</span>',g=D(),b=k("a"),b.innerHTML=`<i class="ri-uninstall-line"></i> 
            <span class="txt">Export collections</span>`,_=D(),y=k("a"),y.innerHTML=`<i class="ri-install-line"></i> 
            <span class="txt">Import collections</span>`,w=D(),A=k("div"),A.textContent="Authentication",M=D(),T=k("a"),T.innerHTML=`<i class="ri-lock-password-line"></i> 
            <span class="txt">Auth providers</span>`,O=D(),E=k("a"),E.innerHTML=`<i class="ri-key-line"></i> 
            <span class="txt">Token options</span>`,R=D(),N=k("a"),N.innerHTML=`<i class="ri-shield-user-line"></i> 
            <span class="txt">Admins</span>`,m(i,"class","sidebar-title"),m(l,"href","/settings"),m(l,"class","sidebar-list-item"),m(o,"href","/settings/mail"),m(o,"class","sidebar-list-item"),m(f,"href","/settings/storage"),m(f,"class","sidebar-list-item"),m(d,"href","/settings/backups"),m(d,"class","sidebar-list-item"),m(p,"class","sidebar-title"),m(b,"href","/settings/export-collections"),m(b,"class","sidebar-list-item"),m(y,"href","/settings/import-collections"),m(y,"class","sidebar-list-item"),m(A,"class","sidebar-title"),m(T,"href","/settings/auth-providers"),m(T,"class","sidebar-list-item"),m(E,"href","/settings/tokens"),m(E,"class","sidebar-list-item"),m(N,"href","/settings/admins"),m(N,"class","sidebar-list-item"),m(t,"class","sidebar-content"),m(e,"class","page-sidebar settings-sidebar")},m(F,B){C(F,e,B),v(e,t),v(t,i),v(t,s),v(t,l),v(t,r),v(t,o),v(t,a),v(t,f),v(t,u),v(t,d),v(t,h),v(t,p),v(t,g),v(t,b),v(t,_),v(t,y),v(t,w),v(t,A),v(t,M),v(t,T),v(t,O),v(t,E),v(t,R),v(t,N),j||(L=[xe(tl.call(null,l,{path:"/settings"})),xe(os.call(null,l)),xe(tl.call(null,o,{path:"/settings/mail/?.*"})),xe(os.call(null,o)),xe(tl.call(null,f,{path:"/settings/storage/?.*"})),xe(os.call(null,f)),xe(tl.call(null,d,{path:"/settings/backups/?.*"})),xe(os.call(null,d)),xe(tl.call(null,b,{path:"/settings/export-collections/?.*"})),xe(os.call(null,b)),xe(tl.call(null,y,{path:"/settings/import-collections/?.*"})),xe(os.call(null,y)),xe(tl.call(null,T,{path:"/settings/auth-providers/?.*"})),xe(os.call(null,T)),xe(tl.call(null,E,{path:"/settings/tokens/?.*"})),xe(os.call(null,E)),xe(tl.call(null,N,{path:"/settings/admins/?.*"})),xe(os.call(null,N))],j=!0)},p:te,i:te,o:te,d(F){F&&S(e),j=!1,Ke(L)}}}class ro extends ke{constructor(e){super(),ve(this,e,null,Dve,De,{})}}function FO(n,e,t){const i=n.slice();return i[30]=e[t],i}function jO(n){let e,t;return e=new ze({props:{class:"form-field readonly",name:"id",$$slots:{default:[Ive,({uniqueId:i})=>({29:i}),({uniqueId:i})=>[i?536870912:0]]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&536870914|s[1]&4&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Ive(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b;return{c(){e=k("label"),t=k("i"),i=D(),s=k("span"),s.textContent="id",r=D(),o=k("div"),a=k("i"),u=D(),d=k("input"),m(t,"class",ee.getFieldTypeIcon("primary")),m(s,"class","txt"),m(e,"for",l=n[29]),m(a,"class","ri-calendar-event-line txt-disabled"),m(o,"class","form-field-addon"),m(d,"type","text"),m(d,"id",h=n[29]),d.value=p=n[1].id,d.readOnly=!0},m(_,y){C(_,e,y),v(e,t),v(e,i),v(e,s),C(_,r,y),C(_,o,y),v(o,a),C(_,u,y),C(_,d,y),g||(b=xe(f=Mt.call(null,a,{text:`Created: ${n[1].created}
Updated: ${n[1].updated}`,position:"left"})),g=!0)},p(_,y){y[0]&536870912&&l!==(l=_[29])&&m(e,"for",l),f&&fn(f.update)&&y[0]&2&&f.update.call(null,{text:`Created: ${_[1].created}
Updated: ${_[1].updated}`,position:"left"}),y[0]&536870912&&h!==(h=_[29])&&m(d,"id",h),y[0]&2&&p!==(p=_[1].id)&&d.value!==p&&(d.value=p)},d(_){_&&S(e),_&&S(r),_&&S(o),_&&S(u),_&&S(d),g=!1,b()}}}function BO(n){let e,t,i,s,l,r,o;function a(){return n[17](n[30])}return{c(){e=k("button"),t=k("img"),s=D(),Ss(t.src,i="./images/avatars/avatar"+n[30]+".svg")||m(t,"src",i),m(t,"alt","Avatar "+n[30]),m(e,"type","button"),m(e,"class",l="link-fade thumb thumb-circle "+(n[30]==n[2]?"thumb-active":"thumb-sm"))},m(f,u){C(f,e,u),v(e,t),v(e,s),r||(o=x(e,"click",a),r=!0)},p(f,u){n=f,u[0]&4&&l!==(l="link-fade thumb thumb-circle "+(n[30]==n[2]?"thumb-active":"thumb-sm"))&&m(e,"class",l)},d(f){f&&S(e),r=!1,o()}}}function Rve(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("label"),t=k("i"),i=D(),s=k("span"),s.textContent="Email",r=D(),o=k("input"),m(t,"class",ee.getFieldTypeIcon("email")),m(s,"class","txt"),m(e,"for",l=n[29]),m(o,"type","email"),m(o,"autocomplete","off"),m(o,"id",a=n[29]),o.required=!0},m(d,h){C(d,e,h),v(e,t),v(e,i),v(e,s),C(d,r,h),C(d,o,h),Ae(o,n[3]),f||(u=x(o,"input",n[18]),f=!0)},p(d,h){h[0]&536870912&&l!==(l=d[29])&&m(e,"for",l),h[0]&536870912&&a!==(a=d[29])&&m(o,"id",a),h[0]&8&&o.value!==d[3]&&Ae(o,d[3])},d(d){d&&S(e),d&&S(r),d&&S(o),f=!1,u()}}}function VO(n){let e,t;return e=new ze({props:{class:"form-field form-field-toggle",$$slots:{default:[Nve,({uniqueId:i})=>({29:i}),({uniqueId:i})=>[i?536870912:0]]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s[0]&536870928|s[1]&4&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Nve(n){let e,t,i,s,l,r,o,a;return{c(){e=k("input"),i=D(),s=k("label"),l=G("Change password"),m(e,"type","checkbox"),m(e,"id",t=n[29]),m(s,"for",r=n[29])},m(f,u){C(f,e,u),e.checked=n[4],C(f,i,u),C(f,s,u),v(s,l),o||(a=x(e,"change",n[19]),o=!0)},p(f,u){u[0]&536870912&&t!==(t=f[29])&&m(e,"id",t),u[0]&16&&(e.checked=f[4]),u[0]&536870912&&r!==(r=f[29])&&m(s,"for",r)},d(f){f&&S(e),f&&S(i),f&&S(s),o=!1,a()}}}function zO(n){let e,t,i,s,l,r,o,a,f;return s=new ze({props:{class:"form-field required",name:"password",$$slots:{default:[Lve,({uniqueId:u})=>({29:u}),({uniqueId:u})=>[u?536870912:0]]},$$scope:{ctx:n}}}),o=new ze({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[Fve,({uniqueId:u})=>({29:u}),({uniqueId:u})=>[u?536870912:0]]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),i=k("div"),U(s.$$.fragment),l=D(),r=k("div"),U(o.$$.fragment),m(i,"class","col-sm-6"),m(r,"class","col-sm-6"),m(t,"class","grid"),m(e,"class","col-12")},m(u,d){C(u,e,d),v(e,t),v(t,i),q(s,i,null),v(t,l),v(t,r),q(o,r,null),f=!0},p(u,d){const h={};d[0]&536871168|d[1]&4&&(h.$$scope={dirty:d,ctx:u}),s.$set(h);const p={};d[0]&536871424|d[1]&4&&(p.$$scope={dirty:d,ctx:u}),o.$set(p)},i(u){f||(P(s.$$.fragment,u),P(o.$$.fragment,u),u&&Yt(()=>{f&&(a||(a=gt(t,gn,{duration:150},!0)),a.run(1))}),f=!0)},o(u){I(s.$$.fragment,u),I(o.$$.fragment,u),u&&(a||(a=gt(t,gn,{duration:150},!1)),a.run(0)),f=!1},d(u){u&&S(e),W(s),W(o),u&&a&&a.end()}}}function Lve(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("label"),t=k("i"),i=D(),s=k("span"),s.textContent="Password",r=D(),o=k("input"),m(t,"class","ri-lock-line"),m(s,"class","txt"),m(e,"for",l=n[29]),m(o,"type","password"),m(o,"autocomplete","new-password"),m(o,"id",a=n[29]),o.required=!0},m(d,h){C(d,e,h),v(e,t),v(e,i),v(e,s),C(d,r,h),C(d,o,h),Ae(o,n[8]),f||(u=x(o,"input",n[20]),f=!0)},p(d,h){h[0]&536870912&&l!==(l=d[29])&&m(e,"for",l),h[0]&536870912&&a!==(a=d[29])&&m(o,"id",a),h[0]&256&&o.value!==d[8]&&Ae(o,d[8])},d(d){d&&S(e),d&&S(r),d&&S(o),f=!1,u()}}}function Fve(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("label"),t=k("i"),i=D(),s=k("span"),s.textContent="Password confirm",r=D(),o=k("input"),m(t,"class","ri-lock-line"),m(s,"class","txt"),m(e,"for",l=n[29]),m(o,"type","password"),m(o,"autocomplete","new-password"),m(o,"id",a=n[29]),o.required=!0},m(d,h){C(d,e,h),v(e,t),v(e,i),v(e,s),C(d,r,h),C(d,o,h),Ae(o,n[9]),f||(u=x(o,"input",n[21]),f=!0)},p(d,h){h[0]&536870912&&l!==(l=d[29])&&m(e,"for",l),h[0]&536870912&&a!==(a=d[29])&&m(o,"id",a),h[0]&512&&o.value!==d[9]&&Ae(o,d[9])},d(d){d&&S(e),d&&S(r),d&&S(o),f=!1,u()}}}function jve(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g=!n[1].$isNew&&jO(n),b=[0,1,2,3,4,5,6,7,8,9],_=[];for(let A=0;A<10;A+=1)_[A]=BO(FO(n,b,A));a=new ze({props:{class:"form-field required",name:"email",$$slots:{default:[Rve,({uniqueId:A})=>({29:A}),({uniqueId:A})=>[A?536870912:0]]},$$scope:{ctx:n}}});let y=!n[1].$isNew&&VO(n),w=(n[1].$isNew||n[4])&&zO(n);return{c(){e=k("form"),g&&g.c(),t=D(),i=k("div"),s=k("p"),s.textContent="Avatar",l=D(),r=k("div");for(let A=0;A<10;A+=1)_[A].c();o=D(),U(a.$$.fragment),f=D(),y&&y.c(),u=D(),w&&w.c(),m(s,"class","section-title"),m(r,"class","flex flex-gap-xs flex-wrap"),m(i,"class","content"),m(e,"id",n[11]),m(e,"class","grid"),m(e,"autocomplete","off")},m(A,M){C(A,e,M),g&&g.m(e,null),v(e,t),v(e,i),v(i,s),v(i,l),v(i,r);for(let T=0;T<10;T+=1)_[T]&&_[T].m(r,null);v(e,o),q(a,e,null),v(e,f),y&&y.m(e,null),v(e,u),w&&w.m(e,null),d=!0,h||(p=x(e,"submit",qt(n[12])),h=!0)},p(A,M){if(A[1].$isNew?g&&(ue(),I(g,1,1,()=>{g=null}),ce()):g?(g.p(A,M),M[0]&2&&P(g,1)):(g=jO(A),g.c(),P(g,1),g.m(e,t)),M[0]&4){b=[0,1,2,3,4,5,6,7,8,9];let O;for(O=0;O<10;O+=1){const E=FO(A,b,O);_[O]?_[O].p(E,M):(_[O]=BO(E),_[O].c(),_[O].m(r,null))}for(;O<10;O+=1)_[O].d(1)}const T={};M[0]&536870920|M[1]&4&&(T.$$scope={dirty:M,ctx:A}),a.$set(T),A[1].$isNew?y&&(ue(),I(y,1,1,()=>{y=null}),ce()):y?(y.p(A,M),M[0]&2&&P(y,1)):(y=VO(A),y.c(),P(y,1),y.m(e,u)),A[1].$isNew||A[4]?w?(w.p(A,M),M[0]&18&&P(w,1)):(w=zO(A),w.c(),P(w,1),w.m(e,null)):w&&(ue(),I(w,1,1,()=>{w=null}),ce())},i(A){d||(P(g),P(a.$$.fragment,A),P(y),P(w),d=!0)},o(A){I(g),I(a.$$.fragment,A),I(y),I(w),d=!1},d(A){A&&S(e),g&&g.d(),Ot(_,A),W(a),y&&y.d(),w&&w.d(),h=!1,p()}}}function Bve(n){let e,t=n[1].$isNew?"New admin":"Edit admin",i;return{c(){e=k("h4"),i=G(t)},m(s,l){C(s,e,l),v(e,i)},p(s,l){l[0]&2&&t!==(t=s[1].$isNew?"New admin":"Edit admin")&&pe(i,t)},d(s){s&&S(e)}}}function HO(n){let e,t,i,s,l,r,o,a,f;return r=new kl({props:{class:"dropdown dropdown-upside dropdown-left dropdown-nowrap",$$slots:{default:[Vve]},$$scope:{ctx:n}}}),{c(){e=k("button"),t=k("span"),i=D(),s=k("i"),l=D(),U(r.$$.fragment),o=D(),a=k("div"),m(s,"class","ri-more-line"),m(e,"type","button"),m(e,"aria-label","More"),m(e,"class","btn btn-sm btn-circle btn-transparent"),m(a,"class","flex-fill")},m(u,d){C(u,e,d),v(e,t),v(e,i),v(e,s),v(e,l),q(r,e,null),C(u,o,d),C(u,a,d),f=!0},p(u,d){const h={};d[1]&4&&(h.$$scope={dirty:d,ctx:u}),r.$set(h)},i(u){f||(P(r.$$.fragment,u),f=!0)},o(u){I(r.$$.fragment,u),f=!1},d(u){u&&S(e),W(r),u&&S(o),u&&S(a)}}}function Vve(n){let e,t,i;return{c(){e=k("button"),e.innerHTML=`<i class="ri-delete-bin-7-line"></i> 
                        <span class="txt">Delete</span>`,m(e,"type","button"),m(e,"class","dropdown-item txt-danger")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[15]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function zve(n){let e,t,i,s,l,r,o=n[1].$isNew?"Create":"Save changes",a,f,u,d,h,p=!n[1].$isNew&&HO(n);return{c(){p&&p.c(),e=D(),t=k("button"),i=k("span"),i.textContent="Cancel",s=D(),l=k("button"),r=k("span"),a=G(o),m(i,"class","txt"),m(t,"type","button"),m(t,"class","btn btn-transparent"),t.disabled=n[6],m(r,"class","txt"),m(l,"type","submit"),m(l,"form",n[11]),m(l,"class","btn btn-expanded"),l.disabled=f=!n[10]||n[6],$(l,"btn-loading",n[6])},m(g,b){p&&p.m(g,b),C(g,e,b),C(g,t,b),v(t,i),C(g,s,b),C(g,l,b),v(l,r),v(r,a),u=!0,d||(h=x(t,"click",n[16]),d=!0)},p(g,b){g[1].$isNew?p&&(ue(),I(p,1,1,()=>{p=null}),ce()):p?(p.p(g,b),b[0]&2&&P(p,1)):(p=HO(g),p.c(),P(p,1),p.m(e.parentNode,e)),(!u||b[0]&64)&&(t.disabled=g[6]),(!u||b[0]&2)&&o!==(o=g[1].$isNew?"Create":"Save changes")&&pe(a,o),(!u||b[0]&1088&&f!==(f=!g[10]||g[6]))&&(l.disabled=f),(!u||b[0]&64)&&$(l,"btn-loading",g[6])},i(g){u||(P(p),u=!0)},o(g){I(p),u=!1},d(g){p&&p.d(g),g&&S(e),g&&S(t),g&&S(s),g&&S(l),d=!1,h()}}}function Hve(n){let e,t,i={popup:!0,class:"admin-panel",beforeHide:n[22],$$slots:{footer:[zve],header:[Bve],default:[jve]},$$scope:{ctx:n}};return e=new rs({props:i}),n[23](e),e.$on("hide",n[24]),e.$on("show",n[25]),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,l){const r={};l[0]&1152&&(r.beforeHide=s[22]),l[0]&1886|l[1]&4&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[23](null),W(e,s)}}}function qve(n,e,t){let i;const s=Hn(),l="admin_"+ee.randomString(5);let r,o=new Na,a=!1,f=!1,u=0,d="",h="",p="",g=!1;function b(K){return y(K),t(7,f=!0),r==null?void 0:r.show()}function _(){return r==null?void 0:r.hide()}function y(K){t(1,o=K!=null&&K.$clone?K.$clone():new Na),w()}function w(){t(4,g=!1),t(3,d=(o==null?void 0:o.email)||""),t(2,u=(o==null?void 0:o.avatar)||0),t(8,h=""),t(9,p=""),Ki({})}function A(){if(a||!i)return;t(6,a=!0);const K={email:d,avatar:u};(o.$isNew||g)&&(K.password=h,K.passwordConfirm=p);let X;o.$isNew?X=Re.admins.create(K):X=Re.admins.update(o.id,K),X.then(async J=>{var z;t(7,f=!1),_(),fi(o.$isNew?"Successfully created admin.":"Successfully updated admin."),((z=Re.authStore.model)==null?void 0:z.id)===J.id&&Re.authStore.save(Re.authStore.token,J),s("save",J)}).catch(J=>{Re.error(J)}).finally(()=>{t(6,a=!1)})}function M(){o!=null&&o.id&&ds("Do you really want to delete the selected admin?",()=>Re.admins.delete(o.id).then(()=>{t(7,f=!1),_(),fi("Successfully deleted admin."),s("delete",o)}).catch(K=>{Re.error(K)}))}const T=()=>M(),O=()=>_(),E=K=>t(2,u=K);function R(){d=this.value,t(3,d)}function N(){g=this.checked,t(4,g)}function j(){h=this.value,t(8,h)}function L(){p=this.value,t(9,p)}const F=()=>i&&f?(ds("You have unsaved changes. Do you really want to close the panel?",()=>{t(7,f=!1),_()}),!1):!0;function B(K){de[K?"unshift":"push"](()=>{r=K,t(5,r)})}function V(K){ht.call(this,n,K)}function H(K){ht.call(this,n,K)}return n.$$.update=()=>{n.$$.dirty[0]&30&&t(10,i=o.$isNew&&d!=""||g||d!==o.email||u!==o.avatar)},[_,o,u,d,g,r,a,f,h,p,i,l,A,M,b,T,O,E,R,N,j,L,F,B,V,H]}class Wve extends ke{constructor(e){super(),ve(this,e,qve,Hve,De,{show:14,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[14]}get hide(){return this.$$.ctx[0]}}function qO(n,e,t){const i=n.slice();return i[24]=e[t],i}function Uve(n){let e,t,i,s;return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),s.textContent="id",m(t,"class",ee.getFieldTypeIcon("primary")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p:te,d(l){l&&S(e)}}}function Kve(n){let e,t,i,s;return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),s.textContent="email",m(t,"class",ee.getFieldTypeIcon("email")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p:te,d(l){l&&S(e)}}}function Jve(n){let e,t,i,s;return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),s.textContent="created",m(t,"class",ee.getFieldTypeIcon("date")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p:te,d(l){l&&S(e)}}}function xve(n){let e,t,i,s;return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),s.textContent="updated",m(t,"class",ee.getFieldTypeIcon("date")),m(s,"class","txt"),m(e,"class","col-header-content")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(e,s)},p:te,d(l){l&&S(e)}}}function WO(n){let e;function t(l,r){return l[5]?Gve:Yve}let i=t(n),s=i(n);return{c(){s.c(),e=Ee()},m(l,r){s.m(l,r),C(l,e,r)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&S(e)}}}function Yve(n){var o;let e,t,i,s,l,r=((o=n[1])==null?void 0:o.length)&&UO(n);return{c(){e=k("tr"),t=k("td"),i=k("h6"),i.textContent="No admins found.",s=D(),r&&r.c(),l=D(),m(t,"colspan","99"),m(t,"class","txt-center txt-hint p-xs")},m(a,f){C(a,e,f),v(e,t),v(t,i),v(t,s),r&&r.m(t,null),v(e,l)},p(a,f){var u;(u=a[1])!=null&&u.length?r?r.p(a,f):(r=UO(a),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(a){a&&S(e),r&&r.d()}}}function Gve(n){let e;return{c(){e=k("tr"),e.innerHTML=`<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td> 
                        `},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function UO(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Clear filters</span>',m(e,"type","button"),m(e,"class","btn btn-hint btn-expanded m-t-sm")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[17]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function KO(n){let e;return{c(){e=k("span"),e.textContent="You",m(e,"class","label label-warning m-l-5")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function JO(n,e){let t,i,s,l,r,o,a,f,u,d,h,p=e[24].id+"",g,b,_,y,w,A=e[24].email+"",M,T,O,E,R,N,j,L,F,B,V,H,K,X;u=new eh({props:{value:e[24].id}});let J=e[24].id===e[7].id&&KO();R=new xr({props:{date:e[24].created}}),L=new xr({props:{date:e[24].updated}});function z(){return e[15](e[24])}function Z(...Y){return e[16](e[24],...Y)}return{key:n,first:null,c(){t=k("tr"),i=k("td"),s=k("figure"),l=k("img"),o=D(),a=k("td"),f=k("div"),U(u.$$.fragment),d=D(),h=k("span"),g=G(p),b=D(),J&&J.c(),_=D(),y=k("td"),w=k("span"),M=G(A),O=D(),E=k("td"),U(R.$$.fragment),N=D(),j=k("td"),U(L.$$.fragment),F=D(),B=k("td"),B.innerHTML='<i class="ri-arrow-right-line"></i>',V=D(),Ss(l.src,r="./images/avatars/avatar"+(e[24].avatar||0)+".svg")||m(l,"src",r),m(l,"alt","Admin avatar"),m(s,"class","thumb thumb-sm thumb-circle"),m(i,"class","min-width"),m(h,"class","txt"),m(f,"class","label"),m(a,"class","col-type-text col-field-id"),m(w,"class","txt txt-ellipsis"),m(w,"title",T=e[24].email),m(y,"class","col-type-email col-field-email"),m(E,"class","col-type-date col-field-created"),m(j,"class","col-type-date col-field-updated"),m(B,"class","col-type-action min-width"),m(t,"tabindex","0"),m(t,"class","row-handle"),this.first=t},m(Y,oe){C(Y,t,oe),v(t,i),v(i,s),v(s,l),v(t,o),v(t,a),v(a,f),q(u,f,null),v(f,d),v(f,h),v(h,g),v(a,b),J&&J.m(a,null),v(t,_),v(t,y),v(y,w),v(w,M),v(t,O),v(t,E),q(R,E,null),v(t,N),v(t,j),q(L,j,null),v(t,F),v(t,B),v(t,V),H=!0,K||(X=[x(t,"click",z),x(t,"keydown",Z)],K=!0)},p(Y,oe){e=Y,(!H||oe&16&&!Ss(l.src,r="./images/avatars/avatar"+(e[24].avatar||0)+".svg"))&&m(l,"src",r);const re={};oe&16&&(re.value=e[24].id),u.$set(re),(!H||oe&16)&&p!==(p=e[24].id+"")&&pe(g,p),e[24].id===e[7].id?J||(J=KO(),J.c(),J.m(a,null)):J&&(J.d(1),J=null),(!H||oe&16)&&A!==(A=e[24].email+"")&&pe(M,A),(!H||oe&16&&T!==(T=e[24].email))&&m(w,"title",T);const Q={};oe&16&&(Q.date=e[24].created),R.$set(Q);const me={};oe&16&&(me.date=e[24].updated),L.$set(me)},i(Y){H||(P(u.$$.fragment,Y),P(R.$$.fragment,Y),P(L.$$.fragment,Y),H=!0)},o(Y){I(u.$$.fragment,Y),I(R.$$.fragment,Y),I(L.$$.fragment,Y),H=!1},d(Y){Y&&S(t),W(u),J&&J.d(),W(R),W(L),K=!1,Ke(X)}}}function Xve(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T=[],O=new Map,E;function R(z){n[11](z)}let N={class:"col-type-text",name:"id",$$slots:{default:[Uve]},$$scope:{ctx:n}};n[2]!==void 0&&(N.sort=n[2]),r=new cs({props:N}),de.push(()=>Ne(r,"sort",R));function j(z){n[12](z)}let L={class:"col-type-email col-field-email",name:"email",$$slots:{default:[Kve]},$$scope:{ctx:n}};n[2]!==void 0&&(L.sort=n[2]),f=new cs({props:L}),de.push(()=>Ne(f,"sort",j));function F(z){n[13](z)}let B={class:"col-type-date col-field-created",name:"created",$$slots:{default:[Jve]},$$scope:{ctx:n}};n[2]!==void 0&&(B.sort=n[2]),h=new cs({props:B}),de.push(()=>Ne(h,"sort",F));function V(z){n[14](z)}let H={class:"col-type-date col-field-updated",name:"updated",$$slots:{default:[xve]},$$scope:{ctx:n}};n[2]!==void 0&&(H.sort=n[2]),b=new cs({props:H}),de.push(()=>Ne(b,"sort",V));let K=n[4];const X=z=>z[24].id;for(let z=0;z<K.length;z+=1){let Z=qO(n,K,z),Y=X(Z);O.set(Y,T[z]=JO(Y,Z))}let J=null;return K.length||(J=WO(n)),{c(){e=k("table"),t=k("thead"),i=k("tr"),s=k("th"),l=D(),U(r.$$.fragment),a=D(),U(f.$$.fragment),d=D(),U(h.$$.fragment),g=D(),U(b.$$.fragment),y=D(),w=k("th"),A=D(),M=k("tbody");for(let z=0;z<T.length;z+=1)T[z].c();J&&J.c(),m(s,"class","min-width"),m(w,"class","col-type-action min-width"),m(e,"class","table"),$(e,"table-loading",n[5])},m(z,Z){C(z,e,Z),v(e,t),v(t,i),v(i,s),v(i,l),q(r,i,null),v(i,a),q(f,i,null),v(i,d),q(h,i,null),v(i,g),q(b,i,null),v(i,y),v(i,w),v(e,A),v(e,M);for(let Y=0;Y<T.length;Y+=1)T[Y]&&T[Y].m(M,null);J&&J.m(M,null),E=!0},p(z,Z){const Y={};Z&134217728&&(Y.$$scope={dirty:Z,ctx:z}),!o&&Z&4&&(o=!0,Y.sort=z[2],Be(()=>o=!1)),r.$set(Y);const oe={};Z&134217728&&(oe.$$scope={dirty:Z,ctx:z}),!u&&Z&4&&(u=!0,oe.sort=z[2],Be(()=>u=!1)),f.$set(oe);const re={};Z&134217728&&(re.$$scope={dirty:Z,ctx:z}),!p&&Z&4&&(p=!0,re.sort=z[2],Be(()=>p=!1)),h.$set(re);const Q={};Z&134217728&&(Q.$$scope={dirty:Z,ctx:z}),!_&&Z&4&&(_=!0,Q.sort=z[2],Be(()=>_=!1)),b.$set(Q),Z&186&&(K=z[4],ue(),T=Cn(T,Z,X,1,z,K,O,M,ii,JO,null,qO),ce(),!K.length&&J?J.p(z,Z):K.length?J&&(J.d(1),J=null):(J=WO(z),J.c(),J.m(M,null))),(!E||Z&32)&&$(e,"table-loading",z[5])},i(z){if(!E){P(r.$$.fragment,z),P(f.$$.fragment,z),P(h.$$.fragment,z),P(b.$$.fragment,z);for(let Z=0;Z<K.length;Z+=1)P(T[Z]);E=!0}},o(z){I(r.$$.fragment,z),I(f.$$.fragment,z),I(h.$$.fragment,z),I(b.$$.fragment,z);for(let Z=0;Z<T.length;Z+=1)I(T[Z]);E=!1},d(z){z&&S(e),W(r),W(f),W(h),W(b);for(let Z=0;Z<T.length;Z+=1)T[Z].d();J&&J.d()}}}function xO(n){let e,t,i=n[4].length+"",s,l,r=n[4].length+"",o;return{c(){e=k("small"),t=G("Showing "),s=G(i),l=G(" of "),o=G(r),m(e,"class","block txt-hint txt-right m-t-sm")},m(a,f){C(a,e,f),v(e,t),v(e,s),v(e,l),v(e,o)},p(a,f){f&16&&i!==(i=a[4].length+"")&&pe(s,i),f&16&&r!==(r=a[4].length+"")&&pe(o,r)},d(a){a&&S(e)}}}function Zve(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E;a=new ng({}),a.$on("refresh",n[8]),g=new tg({props:{value:n[1],placeholder:"Search term or filter like email='test@example.com'",extraAutocompleteKeys:["email"]}}),g.$on("submit",n[10]),w=new $_({props:{class:"table-wrapper",$$slots:{default:[Xve]},$$scope:{ctx:n}}});let R=n[4].length&&xO(n);return{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Settings",s=D(),l=k("div"),r=G(n[6]),o=D(),U(a.$$.fragment),f=D(),u=k("div"),d=D(),h=k("button"),h.innerHTML=`<i class="ri-add-line"></i> 
            <span class="txt">New admin</span>`,p=D(),U(g.$$.fragment),b=D(),_=k("div"),y=D(),U(w.$$.fragment),A=D(),R&&R.c(),M=Ee(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(u,"class","flex-fill"),m(h,"type","button"),m(h,"class","btn btn-expanded"),m(e,"class","page-header"),m(_,"class","clearfix m-b-base")},m(N,j){C(N,e,j),v(e,t),v(t,i),v(t,s),v(t,l),v(l,r),v(e,o),q(a,e,null),v(e,f),v(e,u),v(e,d),v(e,h),C(N,p,j),q(g,N,j),C(N,b,j),C(N,_,j),C(N,y,j),q(w,N,j),C(N,A,j),R&&R.m(N,j),C(N,M,j),T=!0,O||(E=x(h,"click",n[9]),O=!0)},p(N,j){(!T||j&64)&&pe(r,N[6]);const L={};j&2&&(L.value=N[1]),g.$set(L);const F={};j&134217918&&(F.$$scope={dirty:j,ctx:N}),w.$set(F),N[4].length?R?R.p(N,j):(R=xO(N),R.c(),R.m(M.parentNode,M)):R&&(R.d(1),R=null)},i(N){T||(P(a.$$.fragment,N),P(g.$$.fragment,N),P(w.$$.fragment,N),T=!0)},o(N){I(a.$$.fragment,N),I(g.$$.fragment,N),I(w.$$.fragment,N),T=!1},d(N){N&&S(e),W(a),N&&S(p),W(g,N),N&&S(b),N&&S(_),N&&S(y),W(w,N),N&&S(A),R&&R.d(N),N&&S(M),O=!1,E()}}}function Qve(n){let e,t,i,s,l,r;e=new ro({}),i=new Ls({props:{$$slots:{default:[Zve]},$$scope:{ctx:n}}});let o={};return l=new Wve({props:o}),n[18](l),l.$on("save",n[19]),l.$on("delete",n[20]),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment),s=D(),U(l.$$.fragment)},m(a,f){q(e,a,f),C(a,t,f),q(i,a,f),C(a,s,f),q(l,a,f),r=!0},p(a,[f]){const u={};f&134217982&&(u.$$scope={dirty:f,ctx:a}),i.$set(u);const d={};l.$set(d)},i(a){r||(P(e.$$.fragment,a),P(i.$$.fragment,a),P(l.$$.fragment,a),r=!0)},o(a){I(e.$$.fragment,a),I(i.$$.fragment,a),I(l.$$.fragment,a),r=!1},d(a){W(e,a),a&&S(t),W(i,a),a&&S(s),n[18](null),W(l,a)}}}function $ve(n,e,t){let i,s,l;Ht(n,z_,L=>t(21,i=L)),Ht(n,si,L=>t(6,s=L)),Ht(n,Ed,L=>t(7,l=L)),ss(si,s="Admins",s);const r=new URLSearchParams(i);let o,a=[],f=!1,u=r.get("filter")||"",d=r.get("sort")||"-created";function h(){t(5,f=!0),t(4,a=[]);const L=ee.normalizeSearchFilter(u,["id","email","created","updated"]);return Re.admins.getFullList(100,{sort:d||"-created",filter:L}).then(F=>{t(4,a=F),t(5,f=!1)}).catch(F=>{F!=null&&F.isAbort||(t(5,f=!1),console.warn(F),p(),Re.error(F,!1))})}function p(){t(4,a=[])}const g=()=>h(),b=()=>o==null?void 0:o.show(),_=L=>t(1,u=L.detail);function y(L){d=L,t(2,d)}function w(L){d=L,t(2,d)}function A(L){d=L,t(2,d)}function M(L){d=L,t(2,d)}const T=L=>o==null?void 0:o.show(L),O=(L,F)=>{(F.code==="Enter"||F.code==="Space")&&(F.preventDefault(),o==null||o.show(L))},E=()=>t(1,u="");function R(L){de[L?"unshift":"push"](()=>{o=L,t(3,o)})}const N=()=>h(),j=()=>h();return n.$$.update=()=>{if(n.$$.dirty&6&&d!==-1&&u!==-1){const L=new URLSearchParams({filter:u,sort:d}).toString();Jo("/settings/admins?"+L),h()}},[h,u,d,o,a,f,s,l,g,b,_,y,w,A,M,T,O,E,R,N,j]}class eke extends ke{constructor(e){super(),ve(this,e,$ve,Qve,De,{loadAdmins:0})}get loadAdmins(){return this.$$.ctx[0]}}function tke(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Email"),s=D(),l=k("input"),m(e,"for",i=n[8]),m(l,"type","email"),m(l,"id",r=n[8]),l.required=!0,l.autofocus=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0]),l.focus(),o||(a=x(l,"input",n[4]),o=!0)},p(f,u){u&256&&i!==(i=f[8])&&m(e,"for",i),u&256&&r!==(r=f[8])&&m(l,"id",r),u&1&&l.value!==f[0]&&Ae(l,f[0])},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function nke(n){let e,t,i,s,l,r,o,a,f,u,d;return{c(){e=k("label"),t=G("Password"),s=D(),l=k("input"),o=D(),a=k("div"),f=k("a"),f.textContent="Forgotten password?",m(e,"for",i=n[8]),m(l,"type","password"),m(l,"id",r=n[8]),l.required=!0,m(f,"href","/request-password-reset"),m(f,"class","link-hint"),m(a,"class","help-block")},m(h,p){C(h,e,p),v(e,t),C(h,s,p),C(h,l,p),Ae(l,n[1]),C(h,o,p),C(h,a,p),v(a,f),u||(d=[x(l,"input",n[5]),xe(os.call(null,f))],u=!0)},p(h,p){p&256&&i!==(i=h[8])&&m(e,"for",i),p&256&&r!==(r=h[8])&&m(l,"id",r),p&2&&l.value!==h[1]&&Ae(l,h[1])},d(h){h&&S(e),h&&S(s),h&&S(l),h&&S(o),h&&S(a),u=!1,Ke(d)}}}function ike(n){let e,t,i,s,l,r,o,a,f,u,d;return s=new ze({props:{class:"form-field required",name:"identity",$$slots:{default:[tke,({uniqueId:h})=>({8:h}),({uniqueId:h})=>h?256:0]},$$scope:{ctx:n}}}),r=new ze({props:{class:"form-field required",name:"password",$$slots:{default:[nke,({uniqueId:h})=>({8:h}),({uniqueId:h})=>h?256:0]},$$scope:{ctx:n}}}),{c(){e=k("form"),t=k("div"),t.innerHTML="<h4>Admin sign in</h4>",i=D(),U(s.$$.fragment),l=D(),U(r.$$.fragment),o=D(),a=k("button"),a.innerHTML=`<span class="txt">Login</span> 
            <i class="ri-arrow-right-line"></i>`,m(t,"class","content txt-center m-b-base"),m(a,"type","submit"),m(a,"class","btn btn-lg btn-block btn-next"),$(a,"btn-disabled",n[2]),$(a,"btn-loading",n[2]),m(e,"class","block")},m(h,p){C(h,e,p),v(e,t),v(e,i),q(s,e,null),v(e,l),q(r,e,null),v(e,o),v(e,a),f=!0,u||(d=x(e,"submit",qt(n[3])),u=!0)},p(h,p){const g={};p&769&&(g.$$scope={dirty:p,ctx:h}),s.$set(g);const b={};p&770&&(b.$$scope={dirty:p,ctx:h}),r.$set(b),(!f||p&4)&&$(a,"btn-disabled",h[2]),(!f||p&4)&&$(a,"btn-loading",h[2])},i(h){f||(P(s.$$.fragment,h),P(r.$$.fragment,h),f=!0)},o(h){I(s.$$.fragment,h),I(r.$$.fragment,h),f=!1},d(h){h&&S(e),W(s),W(r),u=!1,d()}}}function ske(n){let e,t;return e=new jP({props:{$$slots:{default:[ike]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&519&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function lke(n,e,t){let i;Ht(n,z_,d=>t(6,i=d));const s=new URLSearchParams(i);let l=s.get("demoEmail")||"",r=s.get("demoPassword")||"",o=!1;function a(){if(!o)return t(2,o=!0),Re.admins.authWithPassword(l,r).then(()=>{X_(),Jo("/")}).catch(()=>{br("Invalid login credentials.")}).finally(()=>{t(2,o=!1)})}function f(){l=this.value,t(0,l)}function u(){r=this.value,t(1,r)}return[l,r,o,a,f,u]}class rke extends ke{constructor(e){super(),ve(this,e,lke,ske,De,{})}}function YO(n){let e,t,i,s,l,r,o,a,f,u,d;return{c(){e=k("div"),t=k("div"),t.innerHTML="<p>Migrations</p>",i=D(),s=k("div"),l=k("div"),r=k("button"),r.textContent="Beta -> Staging",o=D(),a=k("div"),f=k("button"),f.textContent="Staging -> Production",m(t,"class","content txt-xl m-b-base"),m(r,"class","btn btn-expanded"),m(l,"class","col"),m(f,"class","btn btn-expanded"),m(a,"class","col"),m(s,"class","grid"),m(e,"class","panel top svelte-3p89rr")},m(h,p){C(h,e,p),v(e,t),v(e,i),v(e,s),v(s,l),v(l,r),v(s,o),v(s,a),v(a,f),u||(d=[x(r,"click",n[10]),x(f,"click",n[11])],u=!0)},p:te,d(h){h&&S(e),u=!1,Ke(d)}}}function oke(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T;i=new ze({props:{class:"form-field required",name:"meta.appName",$$slots:{default:[fke,({uniqueId:E})=>({23:E}),({uniqueId:E})=>E?8388608:0]},$$scope:{ctx:n}}}),r=new ze({props:{class:"form-field required",name:"meta.appUrl",$$slots:{default:[uke,({uniqueId:E})=>({23:E}),({uniqueId:E})=>E?8388608:0]},$$scope:{ctx:n}}}),a=new ze({props:{class:"form-field required",name:"logs.maxDays",$$slots:{default:[cke,({uniqueId:E})=>({23:E}),({uniqueId:E})=>E?8388608:0]},$$scope:{ctx:n}}}),u=new ze({props:{class:"form-field form-field-toggle",name:"meta.hideControls",$$slots:{default:[dke,({uniqueId:E})=>({23:E}),({uniqueId:E})=>E?8388608:0]},$$scope:{ctx:n}}});let O=n[3]&&GO(n);return{c(){e=k("div"),t=k("div"),U(i.$$.fragment),s=D(),l=k("div"),U(r.$$.fragment),o=D(),U(a.$$.fragment),f=D(),U(u.$$.fragment),d=D(),h=k("div"),p=k("div"),g=D(),O&&O.c(),b=D(),_=k("button"),y=k("span"),y.textContent="Save changes",m(t,"class","col-lg-6"),m(l,"class","col-lg-6"),m(p,"class","flex-fill"),m(y,"class","txt"),m(_,"type","submit"),m(_,"class","btn btn-expanded"),_.disabled=w=!n[3]||n[2],$(_,"btn-loading",n[2]),m(h,"class","col-lg-12 flex"),m(e,"class","grid")},m(E,R){C(E,e,R),v(e,t),q(i,t,null),v(e,s),v(e,l),q(r,l,null),v(e,o),q(a,e,null),v(e,f),q(u,e,null),v(e,d),v(e,h),v(h,p),v(h,g),O&&O.m(h,null),v(h,b),v(h,_),v(_,y),A=!0,M||(T=x(_,"click",n[17]),M=!0)},p(E,R){const N={};R&25165825&&(N.$$scope={dirty:R,ctx:E}),i.$set(N);const j={};R&25165825&&(j.$$scope={dirty:R,ctx:E}),r.$set(j);const L={};R&25165825&&(L.$$scope={dirty:R,ctx:E}),a.$set(L);const F={};R&25165825&&(F.$$scope={dirty:R,ctx:E}),u.$set(F),E[3]?O?O.p(E,R):(O=GO(E),O.c(),O.m(h,b)):O&&(O.d(1),O=null),(!A||R&12&&w!==(w=!E[3]||E[2]))&&(_.disabled=w),(!A||R&4)&&$(_,"btn-loading",E[2])},i(E){A||(P(i.$$.fragment,E),P(r.$$.fragment,E),P(a.$$.fragment,E),P(u.$$.fragment,E),A=!0)},o(E){I(i.$$.fragment,E),I(r.$$.fragment,E),I(a.$$.fragment,E),I(u.$$.fragment,E),A=!1},d(E){E&&S(e),W(i),W(r),W(a),W(u),O&&O.d(),M=!1,T()}}}function ake(n){let e;return{c(){e=k("div"),m(e,"class","loader")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function fke(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Application name"),s=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",r=n[23]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].meta.appName),o||(a=x(l,"input",n[12]),o=!0)},p(f,u){u&8388608&&i!==(i=f[23])&&m(e,"for",i),u&8388608&&r!==(r=f[23])&&m(l,"id",r),u&1&&l.value!==f[0].meta.appName&&Ae(l,f[0].meta.appName)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function uke(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Application url"),s=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","text"),m(l,"id",r=n[23]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].meta.appUrl),o||(a=x(l,"input",n[13]),o=!0)},p(f,u){u&8388608&&i!==(i=f[23])&&m(e,"for",i),u&8388608&&r!==(r=f[23])&&m(l,"id",r),u&1&&l.value!==f[0].meta.appUrl&&Ae(l,f[0].meta.appUrl)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function cke(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Logs max days retention"),s=D(),l=k("input"),m(e,"for",i=n[23]),m(l,"type","number"),m(l,"id",r=n[23]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].logs.maxDays),o||(a=x(l,"input",n[14]),o=!0)},p(f,u){u&8388608&&i!==(i=f[23])&&m(e,"for",i),u&8388608&&r!==(r=f[23])&&m(l,"id",r),u&1&&jn(l.value)!==f[0].logs.maxDays&&Ae(l,f[0].logs.maxDays)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function dke(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("input"),i=D(),s=k("label"),l=k("span"),l.textContent="Hide collection create and edit controls",r=D(),o=k("i"),m(e,"type","checkbox"),m(e,"id",t=n[23]),m(l,"class","txt"),m(o,"class","ri-information-line link-hint"),m(s,"for",a=n[23])},m(d,h){C(d,e,h),e.checked=n[0].meta.hideControls,C(d,i,h),C(d,s,h),v(s,l),v(s,r),v(s,o),f||(u=[x(e,"change",n[15]),xe(Mt.call(null,o,{text:"This could prevent making accidental schema changes when in production environment.",position:"right"}))],f=!0)},p(d,h){h&8388608&&t!==(t=d[23])&&m(e,"id",t),h&1&&(e.checked=d[0].meta.hideControls),h&8388608&&a!==(a=d[23])&&m(s,"for",a)},d(d){d&&S(e),d&&S(i),d&&S(s),f=!1,Ke(u)}}}function GO(n){let e,t,i,s;return{c(){e=k("button"),t=k("span"),t.textContent="Cancel",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint"),e.disabled=n[2]},m(l,r){C(l,e,r),v(e,t),i||(s=x(e,"click",n[16]),i=!0)},p(l,r){r&4&&(e.disabled=l[2])},d(l){l&&S(e),i=!1,s()}}}function hke(n){var b;let e,t,i,s,l,r,o,a,f,u,d=((b=n[4])==null?void 0:b.email)==="glam@glamlabs.app"&&YO(n);const h=[ake,oke],p=[];function g(_,y){return _[1]?0:1}return r=g(n),o=p[r]=h[r](n),{c(){e=k("header"),e.innerHTML=`<nav class="breadcrumbs"><div class="breadcrumb-item">Settings</div> 
            <div class="breadcrumb-item">Application</div></nav>`,t=D(),i=k("div"),d&&d.c(),s=D(),l=k("form"),o.c(),m(e,"class","page-header"),m(l,"class","panel"),m(l,"autocomplete","off"),m(i,"class","wrapper")},m(_,y){C(_,e,y),C(_,t,y),C(_,i,y),d&&d.m(i,null),v(i,s),v(i,l),p[r].m(l,null),a=!0,f||(u=x(l,"submit",qt(n[5])),f=!0)},p(_,y){var A;((A=_[4])==null?void 0:A.email)==="glam@glamlabs.app"?d?d.p(_,y):(d=YO(_),d.c(),d.m(i,s)):d&&(d.d(1),d=null);let w=r;r=g(_),r===w?p[r].p(_,y):(ue(),I(p[w],1,1,()=>{p[w]=null}),ce(),o=p[r],o?o.p(_,y):(o=p[r]=h[r](_),o.c()),P(o,1),o.m(l,null))},i(_){a||(P(o),a=!0)},o(_){I(o),a=!1},d(_){_&&S(e),_&&S(t),_&&S(i),d&&d.d(),p[r].d(),f=!1,u()}}}function pke(n){let e,t,i,s;return e=new ro({}),i=new Ls({props:{$$slots:{default:[hke]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment)},m(l,r){q(e,l,r),C(l,t,r),q(i,l,r),s=!0},p(l,[r]){const o={};r&16777247&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(P(e.$$.fragment,l),P(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){W(e,l),l&&S(t),W(i,l)}}}function mke(n,e,t){let i,s,l,r,o;Ht(n,Xf,j=>t(18,s=j)),Ht(n,Fp,j=>t(19,l=j)),Ht(n,si,j=>t(20,r=j)),Ht(n,Ed,j=>t(4,o=j)),ss(si,r="Application settings",r);let a={},f={},u=!1,d=!1,h="";p();async function p(){t(1,u=!0);try{const j=await Re.settings.getAll()||{};b(j)}catch(j){Re.error(j)}t(1,u=!1)}async function g(){if(!(d||!i)){t(2,d=!0);try{const j=await Re.settings.update(ee.filterRedactedProps(f));b(j),fi("Successfully saved application settings.")}catch(j){Re.error(j)}t(2,d=!1)}}function b(j={}){var L,F;ss(Fp,l=(L=j==null?void 0:j.meta)==null?void 0:L.appName,l),ss(Xf,s=!!((F=j==null?void 0:j.meta)!=null&&F.hideControls),s),t(0,f={meta:(j==null?void 0:j.meta)||{},logs:(j==null?void 0:j.logs)||{}}),t(8,a=JSON.parse(JSON.stringify(f)))}function _(){t(0,f=JSON.parse(JSON.stringify(a||{})))}function y(j){ds(`Are you sure? This will overwrite all data in ${j}`,()=>{Re.migrate(j).then(L=>{L.ok?fi("Successfully migrated data"):br("There was an error")}).catch(L=>br("There was an error"))})}const w=()=>y("staging"),A=()=>y("production");function M(){f.meta.appName=this.value,t(0,f)}function T(){f.meta.appUrl=this.value,t(0,f)}function O(){f.logs.maxDays=jn(this.value),t(0,f)}function E(){f.meta.hideControls=this.checked,t(0,f)}const R=()=>_(),N=()=>g();return n.$$.update=()=>{n.$$.dirty&256&&t(9,h=JSON.stringify(a)),n.$$.dirty&513&&t(3,i=h!=JSON.stringify(f))},[f,u,d,i,o,g,_,y,a,h,w,A,M,T,O,E,R,N]}class gke extends ke{constructor(e){super(),ve(this,e,mke,pke,De,{})}}function bke(n){let e,t,i,s=[{type:"password"},{autocomplete:"new-password"},n[5]],l={};for(let r=0;r<s.length;r+=1)l=ft(l,s[r]);return{c(){e=k("input"),bl(e,l)},m(r,o){C(r,e,o),e.autofocus&&e.focus(),n[7](e),Ae(e,n[0]),t||(i=x(e,"input",n[8]),t=!0)},p(r,o){bl(e,l=kn(s,[{type:"password"},{autocomplete:"new-password"},o&32&&r[5]])),o&1&&e.value!==r[0]&&Ae(e,r[0])},d(r){r&&S(e),n[7](null),t=!1,i()}}}function _ke(n){let e,t,i,s,l,r,o=[{readOnly:!0},{type:"text"},{placeholder:n[1]},n[5]],a={};for(let f=0;f<o.length;f+=1)a=ft(a,o[f]);return{c(){e=k("div"),t=k("button"),t.innerHTML='<i class="ri-key-line"></i>',i=D(),s=k("input"),m(t,"type","button"),m(t,"class","btn btn-transparent btn-circle"),m(e,"class","form-field-addon"),bl(s,a)},m(f,u){C(f,e,u),v(e,t),C(f,i,u),C(f,s,u),s.autofocus&&s.focus(),l||(r=[xe(Mt.call(null,t,{position:"left",text:"Set new value"})),x(t,"click",n[6])],l=!0)},p(f,u){bl(s,a=kn(o,[{readOnly:!0},{type:"text"},u&2&&{placeholder:f[1]},u&32&&f[5]]))},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,Ke(r)}}}function yke(n){let e;function t(l,r){return l[3]?_ke:bke}let i=t(n),s=i(n);return{c(){s.c(),e=Ee()},m(l,r){s.m(l,r),C(l,e,r)},p(l,[r]){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},i:te,o:te,d(l){s.d(l),l&&S(e)}}}function vke(n,e,t){const i=["value","mask"];let s=Jt(e,i),{value:l=""}=e,{mask:r="******"}=e,o,a=!1;async function f(){t(0,l=""),t(3,a=!1),await nn(),o==null||o.focus()}const u=()=>f();function d(p){de[p?"unshift":"push"](()=>{o=p,t(2,o)})}function h(){l=this.value,t(0,l)}return n.$$set=p=>{e=ft(ft({},e),Pi(p)),t(5,s=Jt(e,i)),"value"in p&&t(0,l=p.value),"mask"in p&&t(1,r=p.mask)},n.$$.update=()=>{n.$$.dirty&3&&t(3,a=l===r)},[l,r,o,a,f,s,u,d,h]}class nv extends ke{constructor(e){super(),ve(this,e,vke,yke,De,{value:0,mask:1})}}function kke(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b;return{c(){e=k("label"),t=G("Subject"),s=D(),l=k("input"),o=D(),a=k("div"),f=G(`Available placeholder parameters:
            `),u=k("button"),u.textContent=`{APP_NAME} 
            `,d=G(`,
            `),h=k("button"),h.textContent=`{APP_URL} 
            `,p=G("."),m(e,"for",i=n[31]),m(l,"type","text"),m(l,"id",r=n[31]),m(l,"spellcheck","false"),l.required=!0,m(u,"type","button"),m(u,"class","label label-sm link-primary txt-mono"),m(h,"type","button"),m(h,"class","label label-sm link-primary txt-mono"),m(a,"class","help-block")},m(_,y){C(_,e,y),v(e,t),C(_,s,y),C(_,l,y),Ae(l,n[0].subject),C(_,o,y),C(_,a,y),v(a,f),v(a,u),v(a,d),v(a,h),v(a,p),g||(b=[x(l,"input",n[13]),x(u,"click",n[14]),x(h,"click",n[15])],g=!0)},p(_,y){y[1]&1&&i!==(i=_[31])&&m(e,"for",i),y[1]&1&&r!==(r=_[31])&&m(l,"id",r),y[0]&1&&l.value!==_[0].subject&&Ae(l,_[0].subject)},d(_){_&&S(e),_&&S(s),_&&S(l),_&&S(o),_&&S(a),g=!1,Ke(b)}}}function wke(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y;return{c(){e=k("label"),t=G("Action URL"),s=D(),l=k("input"),o=D(),a=k("div"),f=G(`Available placeholder parameters:
            `),u=k("button"),u.textContent=`{APP_NAME} 
            `,d=G(`,
            `),h=k("button"),h.textContent=`{APP_URL} 
            `,p=G(`,
            `),g=k("button"),g.textContent=`{TOKEN} 
            `,b=G("."),m(e,"for",i=n[31]),m(l,"type","text"),m(l,"id",r=n[31]),m(l,"spellcheck","false"),l.required=!0,m(u,"type","button"),m(u,"class","label label-sm link-primary txt-mono"),m(h,"type","button"),m(h,"class","label label-sm link-primary txt-mono"),m(g,"type","button"),m(g,"class","label label-sm link-primary txt-mono"),m(g,"title","Required parameter"),m(a,"class","help-block")},m(w,A){C(w,e,A),v(e,t),C(w,s,A),C(w,l,A),Ae(l,n[0].actionUrl),C(w,o,A),C(w,a,A),v(a,f),v(a,u),v(a,d),v(a,h),v(a,p),v(a,g),v(a,b),_||(y=[x(l,"input",n[16]),x(u,"click",n[17]),x(h,"click",n[18]),x(g,"click",n[19])],_=!0)},p(w,A){A[1]&1&&i!==(i=w[31])&&m(e,"for",i),A[1]&1&&r!==(r=w[31])&&m(l,"id",r),A[0]&1&&l.value!==w[0].actionUrl&&Ae(l,w[0].actionUrl)},d(w){w&&S(e),w&&S(s),w&&S(l),w&&S(o),w&&S(a),_=!1,Ke(y)}}}function Ske(n){let e,t,i,s;return{c(){e=k("textarea"),m(e,"id",t=n[31]),m(e,"class","txt-mono"),m(e,"spellcheck","false"),m(e,"rows","14"),e.required=!0},m(l,r){C(l,e,r),Ae(e,n[0].body),i||(s=x(e,"input",n[21]),i=!0)},p(l,r){r[1]&1&&t!==(t=l[31])&&m(e,"id",t),r[0]&1&&Ae(e,l[0].body)},i:te,o:te,d(l){l&&S(e),i=!1,s()}}}function Cke(n){let e,t,i,s;function l(a){n[20](a)}var r=n[4];function o(a){let f={id:a[31],language:"html"};return a[0].body!==void 0&&(f.value=a[0].body),{props:f}}return r&&(e=Sn(r,o(n)),de.push(()=>Ne(e,"value",l))),{c(){e&&U(e.$$.fragment),i=Ee()},m(a,f){e&&q(e,a,f),C(a,i,f),s=!0},p(a,f){const u={};if(f[1]&1&&(u.id=a[31]),!t&&f[0]&1&&(t=!0,u.value=a[0].body,Be(()=>t=!1)),f[0]&16&&r!==(r=a[4])){if(e){ue();const d=e;I(d.$$.fragment,1,0,()=>{W(d,1)}),ce()}r?(e=Sn(r,o(a)),de.push(()=>Ne(e,"value",l)),U(e.$$.fragment),P(e.$$.fragment,1),q(e,i.parentNode,i)):e=null}else r&&e.$set(u)},i(a){s||(e&&P(e.$$.fragment,a),s=!0)},o(a){e&&I(e.$$.fragment,a),s=!1},d(a){a&&S(i),e&&W(e,a)}}}function Mke(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M;const T=[Cke,Ske],O=[];function E(R,N){return R[4]&&!R[5]?0:1}return l=E(n),r=O[l]=T[l](n),{c(){e=k("label"),t=G("Body (HTML)"),s=D(),r.c(),o=D(),a=k("div"),f=G(`Available placeholder parameters:
            `),u=k("button"),u.textContent=`{APP_NAME} 
            `,d=G(`,
            `),h=k("button"),h.textContent=`{APP_URL} 
            `,p=G(`,
            `),g=k("button"),g.textContent=`{TOKEN} 
            `,b=G(`,
            `),_=k("button"),_.textContent=`{ACTION_URL} 
            `,y=G("."),m(e,"for",i=n[31]),m(u,"type","button"),m(u,"class","label label-sm link-primary txt-mono"),m(h,"type","button"),m(h,"class","label label-sm link-primary txt-mono"),m(g,"type","button"),m(g,"class","label label-sm link-primary txt-mono"),m(_,"type","button"),m(_,"class","label label-sm link-primary txt-mono"),m(_,"title","Required parameter"),m(a,"class","help-block")},m(R,N){C(R,e,N),v(e,t),C(R,s,N),O[l].m(R,N),C(R,o,N),C(R,a,N),v(a,f),v(a,u),v(a,d),v(a,h),v(a,p),v(a,g),v(a,b),v(a,_),v(a,y),w=!0,A||(M=[x(u,"click",n[22]),x(h,"click",n[23]),x(g,"click",n[24]),x(_,"click",n[25])],A=!0)},p(R,N){(!w||N[1]&1&&i!==(i=R[31]))&&m(e,"for",i);let j=l;l=E(R),l===j?O[l].p(R,N):(ue(),I(O[j],1,1,()=>{O[j]=null}),ce(),r=O[l],r?r.p(R,N):(r=O[l]=T[l](R),r.c()),P(r,1),r.m(o.parentNode,o))},i(R){w||(P(r),w=!0)},o(R){I(r),w=!1},d(R){R&&S(e),R&&S(s),O[l].d(R),R&&S(o),R&&S(a),A=!1,Ke(M)}}}function Tke(n){let e,t,i,s,l,r;return e=new ze({props:{class:"form-field required",name:n[1]+".subject",$$slots:{default:[kke,({uniqueId:o})=>({31:o}),({uniqueId:o})=>[0,o?1:0]]},$$scope:{ctx:n}}}),i=new ze({props:{class:"form-field required",name:n[1]+".actionUrl",$$slots:{default:[wke,({uniqueId:o})=>({31:o}),({uniqueId:o})=>[0,o?1:0]]},$$scope:{ctx:n}}}),l=new ze({props:{class:"form-field m-0 required",name:n[1]+".body",$$slots:{default:[Mke,({uniqueId:o})=>({31:o}),({uniqueId:o})=>[0,o?1:0]]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment),s=D(),U(l.$$.fragment)},m(o,a){q(e,o,a),C(o,t,a),q(i,o,a),C(o,s,a),q(l,o,a),r=!0},p(o,a){const f={};a[0]&2&&(f.name=o[1]+".subject"),a[0]&1|a[1]&3&&(f.$$scope={dirty:a,ctx:o}),e.$set(f);const u={};a[0]&2&&(u.name=o[1]+".actionUrl"),a[0]&1|a[1]&3&&(u.$$scope={dirty:a,ctx:o}),i.$set(u);const d={};a[0]&2&&(d.name=o[1]+".body"),a[0]&49|a[1]&3&&(d.$$scope={dirty:a,ctx:o}),l.$set(d)},i(o){r||(P(e.$$.fragment,o),P(i.$$.fragment,o),P(l.$$.fragment,o),r=!0)},o(o){I(e.$$.fragment,o),I(i.$$.fragment,o),I(l.$$.fragment,o),r=!1},d(o){W(e,o),o&&S(t),W(i,o),o&&S(s),W(l,o)}}}function XO(n){let e,t,i,s,l;return{c(){e=k("i"),m(e,"class","ri-error-warning-fill txt-danger")},m(r,o){C(r,e,o),i=!0,s||(l=xe(Mt.call(null,e,{text:"Has errors",position:"left"})),s=!0)},i(r){i||(r&&Yt(()=>{i&&(t||(t=gt(e,ji,{duration:150,start:.7},!0)),t.run(1))}),i=!0)},o(r){r&&(t||(t=gt(e,ji,{duration:150,start:.7},!1)),t.run(0)),i=!1},d(r){r&&S(e),r&&t&&t.end(),s=!1,l()}}}function Ake(n){let e,t,i,s,l,r,o,a,f,u=n[6]&&XO();return{c(){e=k("div"),t=k("i"),i=D(),s=k("span"),l=G(n[2]),r=D(),o=k("div"),a=D(),u&&u.c(),f=Ee(),m(t,"class","ri-draft-line"),m(s,"class","txt"),m(e,"class","inline-flex"),m(o,"class","flex-fill")},m(d,h){C(d,e,h),v(e,t),v(e,i),v(e,s),v(s,l),C(d,r,h),C(d,o,h),C(d,a,h),u&&u.m(d,h),C(d,f,h)},p(d,h){h[0]&4&&pe(l,d[2]),d[6]?u?h[0]&64&&P(u,1):(u=XO(),u.c(),P(u,1),u.m(f.parentNode,f)):u&&(ue(),I(u,1,1,()=>{u=null}),ce())},d(d){d&&S(e),d&&S(r),d&&S(o),d&&S(a),u&&u.d(d),d&&S(f)}}}function Oke(n){let e,t;const i=[n[8]];let s={$$slots:{header:[Ake],default:[Tke]},$$scope:{ctx:n}};for(let l=0;l<i.length;l+=1)s=ft(s,i[l]);return e=new cp({props:s}),n[26](e),e.$on("expand",n[27]),e.$on("collapse",n[28]),e.$on("toggle",n[29]),{c(){U(e.$$.fragment)},m(l,r){q(e,l,r),t=!0},p(l,r){const o=r[0]&256?kn(i,[ri(l[8])]):{};r[0]&119|r[1]&2&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){n[26](null),W(e,l)}}}let ZO;function Eke(n,e,t){let i;const s=["key","title","config","expand","collapse","collapseSiblings"];let l=Jt(e,s),r;Ht(n,to,z=>t(12,r=z));let{key:o}=e,{title:a}=e,{config:f={}}=e,u,d=ZO,h=!1;function p(){u==null||u.expand()}function g(){u==null||u.collapse()}function b(){u==null||u.collapseSiblings()}async function _(){d||h||(t(5,h=!0),t(4,d=(await _n(()=>import("./CodeEditor-af13d208.js"),[],import.meta.url)).default),ZO=d,t(5,h=!1))}function y(z){ee.copyToClipboard(z),Ip(`Copied ${z} to clipboard`,2e3)}_();function w(){f.subject=this.value,t(0,f)}const A=()=>y("{APP_NAME}"),M=()=>y("{APP_URL}");function T(){f.actionUrl=this.value,t(0,f)}const O=()=>y("{APP_NAME}"),E=()=>y("{APP_URL}"),R=()=>y("{TOKEN}");function N(z){n.$$.not_equal(f.body,z)&&(f.body=z,t(0,f))}function j(){f.body=this.value,t(0,f)}const L=()=>y("{APP_NAME}"),F=()=>y("{APP_URL}"),B=()=>y("{TOKEN}"),V=()=>y("{ACTION_URL}");function H(z){de[z?"unshift":"push"](()=>{u=z,t(3,u)})}function K(z){ht.call(this,n,z)}function X(z){ht.call(this,n,z)}function J(z){ht.call(this,n,z)}return n.$$set=z=>{e=ft(ft({},e),Pi(z)),t(8,l=Jt(e,s)),"key"in z&&t(1,o=z.key),"title"in z&&t(2,a=z.title),"config"in z&&t(0,f=z.config)},n.$$.update=()=>{n.$$.dirty[0]&4098&&t(6,i=!ee.isEmpty(ee.getNestedVal(r,o))),n.$$.dirty[0]&3&&(f.enabled||_r(o))},[f,o,a,u,d,h,i,y,l,p,g,b,r,w,A,M,T,O,E,R,N,j,L,F,B,V,H,K,X,J]}class P0 extends ke{constructor(e){super(),ve(this,e,Eke,Oke,De,{key:1,title:2,config:0,expand:9,collapse:10,collapseSiblings:11},null,[-1,-1])}get expand(){return this.$$.ctx[9]}get collapse(){return this.$$.ctx[10]}get collapseSiblings(){return this.$$.ctx[11]}}function QO(n,e,t){const i=n.slice();return i[21]=e[t],i}function $O(n,e){let t,i,s,l,r,o=e[21].label+"",a,f,u,d,h,p;return d=jL(e[11][0]),{key:n,first:null,c(){t=k("div"),i=k("input"),l=D(),r=k("label"),a=G(o),u=D(),m(i,"type","radio"),m(i,"name","template"),m(i,"id",s=e[20]+e[21].value),i.__value=e[21].value,i.value=i.__value,m(r,"for",f=e[20]+e[21].value),m(t,"class","form-field-block"),d.p(i),this.first=t},m(g,b){C(g,t,b),v(t,i),i.checked=i.__value===e[2],v(t,l),v(t,r),v(r,a),v(t,u),h||(p=x(i,"change",e[10]),h=!0)},p(g,b){e=g,b&1048576&&s!==(s=e[20]+e[21].value)&&m(i,"id",s),b&4&&(i.checked=i.__value===e[2]),b&1048576&&f!==(f=e[20]+e[21].value)&&m(r,"for",f)},d(g){g&&S(t),d.r(),h=!1,p()}}}function Pke(n){let e=[],t=new Map,i,s=n[7];const l=r=>r[21].value;for(let r=0;r<s.length;r+=1){let o=QO(n,s,r),a=l(o);t.set(a,e[r]=$O(a,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Ee()},m(r,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,o);C(r,i,o)},p(r,o){o&1048708&&(s=r[7],e=Cn(e,o,l,1,r,s,t,i.parentNode,Ko,$O,i,QO))},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&S(i)}}}function Dke(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("To email address"),s=D(),l=k("input"),m(e,"for",i=n[20]),m(l,"type","email"),m(l,"id",r=n[20]),l.autofocus=!0,l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[1]),l.focus(),o||(a=x(l,"input",n[12]),o=!0)},p(f,u){u&1048576&&i!==(i=f[20])&&m(e,"for",i),u&1048576&&r!==(r=f[20])&&m(l,"id",r),u&2&&l.value!==f[1]&&Ae(l,f[1])},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function Ike(n){let e,t,i,s,l,r,o;return t=new ze({props:{class:"form-field required",name:"template",$$slots:{default:[Pke,({uniqueId:a})=>({20:a}),({uniqueId:a})=>a?1048576:0]},$$scope:{ctx:n}}}),s=new ze({props:{class:"form-field required m-0",name:"email",$$slots:{default:[Dke,({uniqueId:a})=>({20:a}),({uniqueId:a})=>a?1048576:0]},$$scope:{ctx:n}}}),{c(){e=k("form"),U(t.$$.fragment),i=D(),U(s.$$.fragment),m(e,"id",n[6]),m(e,"autocomplete","off")},m(a,f){C(a,e,f),q(t,e,null),v(e,i),q(s,e,null),l=!0,r||(o=x(e,"submit",qt(n[13])),r=!0)},p(a,f){const u={};f&17825796&&(u.$$scope={dirty:f,ctx:a}),t.$set(u);const d={};f&17825794&&(d.$$scope={dirty:f,ctx:a}),s.$set(d)},i(a){l||(P(t.$$.fragment,a),P(s.$$.fragment,a),l=!0)},o(a){I(t.$$.fragment,a),I(s.$$.fragment,a),l=!1},d(a){a&&S(e),W(t),W(s),r=!1,o()}}}function Rke(n){let e;return{c(){e=k("h4"),e.textContent="Send test email",m(e,"class","center txt-break")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function Nke(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("button"),t=G("Close"),i=D(),s=k("button"),l=k("i"),r=D(),o=k("span"),o.textContent="Send",m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[4],m(l,"class","ri-mail-send-line"),m(o,"class","txt"),m(s,"type","submit"),m(s,"form",n[6]),m(s,"class","btn btn-expanded"),s.disabled=a=!n[5]||n[4],$(s,"btn-loading",n[4])},m(d,h){C(d,e,h),v(e,t),C(d,i,h),C(d,s,h),v(s,l),v(s,r),v(s,o),f||(u=x(e,"click",n[0]),f=!0)},p(d,h){h&16&&(e.disabled=d[4]),h&48&&a!==(a=!d[5]||d[4])&&(s.disabled=a),h&16&&$(s,"btn-loading",d[4])},d(d){d&&S(e),d&&S(i),d&&S(s),f=!1,u()}}}function Lke(n){let e,t,i={class:"overlay-panel-sm email-test-popup",overlayClose:!n[4],escClose:!n[4],beforeHide:n[14],popup:!0,$$slots:{footer:[Nke],header:[Rke],default:[Ike]},$$scope:{ctx:n}};return e=new rs({props:i}),n[15](e),e.$on("show",n[16]),e.$on("hide",n[17]),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,[l]){const r={};l&16&&(r.overlayClose=!s[4]),l&16&&(r.escClose=!s[4]),l&16&&(r.beforeHide=s[14]),l&16777270&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[15](null),W(e,s)}}}const D0="last_email_test",e8="email_test_request";function Fke(n,e,t){let i;const s=Hn(),l="email_test_"+ee.randomString(5),r=[{label:'"Verification" template',value:"verification"},{label:'"Password reset" template',value:"password-reset"},{label:'"Confirm email change" template',value:"email-change"}];let o,a=localStorage.getItem(D0),f=r[0].value,u=!1,d=null;function h(E="",R=""){t(1,a=E||localStorage.getItem(D0)),t(2,f=R||r[0].value),Ki({}),o==null||o.show()}function p(){return clearTimeout(d),o==null?void 0:o.hide()}async function g(){if(!(!i||u)){t(4,u=!0),localStorage==null||localStorage.setItem(D0,a),clearTimeout(d),d=setTimeout(()=>{Re.cancelRequest(e8),br("Test email send timeout.")},3e4);try{await Re.settings.testEmail(a,f,{$cancelKey:e8}),fi("Successfully sent test email."),s("submit"),t(4,u=!1),await nn(),p()}catch(E){t(4,u=!1),Re.error(E)}clearTimeout(d)}}const b=[[]];function _(){f=this.__value,t(2,f)}function y(){a=this.value,t(1,a)}const w=()=>g(),A=()=>!u;function M(E){de[E?"unshift":"push"](()=>{o=E,t(3,o)})}function T(E){ht.call(this,n,E)}function O(E){ht.call(this,n,E)}return n.$$.update=()=>{n.$$.dirty&6&&t(5,i=!!a&&!!f)},[p,a,f,o,u,i,l,r,g,h,_,b,y,w,A,M,T,O]}class jke extends ke{constructor(e){super(),ve(this,e,Fke,Lke,De,{show:9,hide:0})}get show(){return this.$$.ctx[9]}get hide(){return this.$$.ctx[0]}}function Bke(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E,R,N,j;i=new ze({props:{class:"form-field required",name:"meta.senderName",$$slots:{default:[zke,({uniqueId:Y})=>({31:Y}),({uniqueId:Y})=>[0,Y?1:0]]},$$scope:{ctx:n}}}),r=new ze({props:{class:"form-field required",name:"meta.senderAddress",$$slots:{default:[Hke,({uniqueId:Y})=>({31:Y}),({uniqueId:Y})=>[0,Y?1:0]]},$$scope:{ctx:n}}});function L(Y){n[14](Y)}let F={single:!0,key:"meta.verificationTemplate",title:'Default "Verification" email template'};n[0].meta.verificationTemplate!==void 0&&(F.config=n[0].meta.verificationTemplate),f=new P0({props:F}),de.push(()=>Ne(f,"config",L));function B(Y){n[15](Y)}let V={single:!0,key:"meta.resetPasswordTemplate",title:'Default "Password reset" email template'};n[0].meta.resetPasswordTemplate!==void 0&&(V.config=n[0].meta.resetPasswordTemplate),h=new P0({props:V}),de.push(()=>Ne(h,"config",B));function H(Y){n[16](Y)}let K={single:!0,key:"meta.confirmEmailChangeTemplate",title:'Default "Confirm email change" email template'};n[0].meta.confirmEmailChangeTemplate!==void 0&&(K.config=n[0].meta.confirmEmailChangeTemplate),b=new P0({props:K}),de.push(()=>Ne(b,"config",H)),M=new ze({props:{class:"form-field form-field-toggle m-b-sm",$$slots:{default:[qke,({uniqueId:Y})=>({31:Y}),({uniqueId:Y})=>[0,Y?1:0]]},$$scope:{ctx:n}}});let X=n[0].smtp.enabled&&t8(n);function J(Y,oe){return Y[4]?Xke:Gke}let z=J(n),Z=z(n);return{c(){e=k("div"),t=k("div"),U(i.$$.fragment),s=D(),l=k("div"),U(r.$$.fragment),o=D(),a=k("div"),U(f.$$.fragment),d=D(),U(h.$$.fragment),g=D(),U(b.$$.fragment),y=D(),w=k("hr"),A=D(),U(M.$$.fragment),T=D(),X&&X.c(),O=D(),E=k("div"),R=k("div"),N=D(),Z.c(),m(t,"class","col-lg-6"),m(l,"class","col-lg-6"),m(e,"class","grid m-b-base"),m(a,"class","accordions"),m(R,"class","flex-fill"),m(E,"class","flex")},m(Y,oe){C(Y,e,oe),v(e,t),q(i,t,null),v(e,s),v(e,l),q(r,l,null),C(Y,o,oe),C(Y,a,oe),q(f,a,null),v(a,d),q(h,a,null),v(a,g),q(b,a,null),C(Y,y,oe),C(Y,w,oe),C(Y,A,oe),q(M,Y,oe),C(Y,T,oe),X&&X.m(Y,oe),C(Y,O,oe),C(Y,E,oe),v(E,R),v(E,N),Z.m(E,null),j=!0},p(Y,oe){const re={};oe[0]&1|oe[1]&3&&(re.$$scope={dirty:oe,ctx:Y}),i.$set(re);const Q={};oe[0]&1|oe[1]&3&&(Q.$$scope={dirty:oe,ctx:Y}),r.$set(Q);const me={};!u&&oe[0]&1&&(u=!0,me.config=Y[0].meta.verificationTemplate,Be(()=>u=!1)),f.$set(me);const qe={};!p&&oe[0]&1&&(p=!0,qe.config=Y[0].meta.resetPasswordTemplate,Be(()=>p=!1)),h.$set(qe);const be={};!_&&oe[0]&1&&(_=!0,be.config=Y[0].meta.confirmEmailChangeTemplate,Be(()=>_=!1)),b.$set(be);const Ie={};oe[0]&1|oe[1]&3&&(Ie.$$scope={dirty:oe,ctx:Y}),M.$set(Ie),Y[0].smtp.enabled?X?(X.p(Y,oe),oe[0]&1&&P(X,1)):(X=t8(Y),X.c(),P(X,1),X.m(O.parentNode,O)):X&&(ue(),I(X,1,1,()=>{X=null}),ce()),z===(z=J(Y))&&Z?Z.p(Y,oe):(Z.d(1),Z=z(Y),Z&&(Z.c(),Z.m(E,null)))},i(Y){j||(P(i.$$.fragment,Y),P(r.$$.fragment,Y),P(f.$$.fragment,Y),P(h.$$.fragment,Y),P(b.$$.fragment,Y),P(M.$$.fragment,Y),P(X),j=!0)},o(Y){I(i.$$.fragment,Y),I(r.$$.fragment,Y),I(f.$$.fragment,Y),I(h.$$.fragment,Y),I(b.$$.fragment,Y),I(M.$$.fragment,Y),I(X),j=!1},d(Y){Y&&S(e),W(i),W(r),Y&&S(o),Y&&S(a),W(f),W(h),W(b),Y&&S(y),Y&&S(w),Y&&S(A),W(M,Y),Y&&S(T),X&&X.d(Y),Y&&S(O),Y&&S(E),Z.d()}}}function Vke(n){let e;return{c(){e=k("div"),m(e,"class","loader")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function zke(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Sender name"),s=D(),l=k("input"),m(e,"for",i=n[31]),m(l,"type","text"),m(l,"id",r=n[31]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].meta.senderName),o||(a=x(l,"input",n[12]),o=!0)},p(f,u){u[1]&1&&i!==(i=f[31])&&m(e,"for",i),u[1]&1&&r!==(r=f[31])&&m(l,"id",r),u[0]&1&&l.value!==f[0].meta.senderName&&Ae(l,f[0].meta.senderName)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function Hke(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Sender address"),s=D(),l=k("input"),m(e,"for",i=n[31]),m(l,"type","email"),m(l,"id",r=n[31]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].meta.senderAddress),o||(a=x(l,"input",n[13]),o=!0)},p(f,u){u[1]&1&&i!==(i=f[31])&&m(e,"for",i),u[1]&1&&r!==(r=f[31])&&m(l,"id",r),u[0]&1&&l.value!==f[0].meta.senderAddress&&Ae(l,f[0].meta.senderAddress)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function qke(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("input"),i=D(),s=k("label"),l=k("span"),l.innerHTML="Use SMTP mail server <strong>(recommended)</strong>",r=D(),o=k("i"),m(e,"type","checkbox"),m(e,"id",t=n[31]),e.required=!0,m(l,"class","txt"),m(o,"class","ri-information-line link-hint"),m(s,"for",a=n[31])},m(d,h){C(d,e,h),e.checked=n[0].smtp.enabled,C(d,i,h),C(d,s,h),v(s,l),v(s,r),v(s,o),f||(u=[x(e,"change",n[17]),xe(Mt.call(null,o,{text:'By default PocketBase uses the unix "sendmail" command for sending emails. For better emails deliverability it is recommended to use a SMTP mail server.',position:"top"}))],f=!0)},p(d,h){h[1]&1&&t!==(t=d[31])&&m(e,"id",t),h[0]&1&&(e.checked=d[0].smtp.enabled),h[1]&1&&a!==(a=d[31])&&m(s,"for",a)},d(d){d&&S(e),d&&S(i),d&&S(s),f=!1,Ke(u)}}}function t8(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O;return i=new ze({props:{class:"form-field required",name:"smtp.host",$$slots:{default:[Wke,({uniqueId:E})=>({31:E}),({uniqueId:E})=>[0,E?1:0]]},$$scope:{ctx:n}}}),r=new ze({props:{class:"form-field required",name:"smtp.port",$$slots:{default:[Uke,({uniqueId:E})=>({31:E}),({uniqueId:E})=>[0,E?1:0]]},$$scope:{ctx:n}}}),f=new ze({props:{class:"form-field required",name:"smtp.tls",$$slots:{default:[Kke,({uniqueId:E})=>({31:E}),({uniqueId:E})=>[0,E?1:0]]},$$scope:{ctx:n}}}),h=new ze({props:{class:"form-field",name:"smtp.authMethod",$$slots:{default:[Jke,({uniqueId:E})=>({31:E}),({uniqueId:E})=>[0,E?1:0]]},$$scope:{ctx:n}}}),b=new ze({props:{class:"form-field",name:"smtp.username",$$slots:{default:[xke,({uniqueId:E})=>({31:E}),({uniqueId:E})=>[0,E?1:0]]},$$scope:{ctx:n}}}),w=new ze({props:{class:"form-field",name:"smtp.password",$$slots:{default:[Yke,({uniqueId:E})=>({31:E}),({uniqueId:E})=>[0,E?1:0]]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),U(i.$$.fragment),s=D(),l=k("div"),U(r.$$.fragment),o=D(),a=k("div"),U(f.$$.fragment),u=D(),d=k("div"),U(h.$$.fragment),p=D(),g=k("div"),U(b.$$.fragment),_=D(),y=k("div"),U(w.$$.fragment),A=D(),M=k("div"),m(t,"class","col-lg-4"),m(l,"class","col-lg-2"),m(a,"class","col-lg-3"),m(d,"class","col-lg-3"),m(g,"class","col-lg-6"),m(y,"class","col-lg-6"),m(M,"class","col-lg-12"),m(e,"class","grid")},m(E,R){C(E,e,R),v(e,t),q(i,t,null),v(e,s),v(e,l),q(r,l,null),v(e,o),v(e,a),q(f,a,null),v(e,u),v(e,d),q(h,d,null),v(e,p),v(e,g),q(b,g,null),v(e,_),v(e,y),q(w,y,null),v(e,A),v(e,M),O=!0},p(E,R){const N={};R[0]&1|R[1]&3&&(N.$$scope={dirty:R,ctx:E}),i.$set(N);const j={};R[0]&1|R[1]&3&&(j.$$scope={dirty:R,ctx:E}),r.$set(j);const L={};R[0]&1|R[1]&3&&(L.$$scope={dirty:R,ctx:E}),f.$set(L);const F={};R[0]&1|R[1]&3&&(F.$$scope={dirty:R,ctx:E}),h.$set(F);const B={};R[0]&1|R[1]&3&&(B.$$scope={dirty:R,ctx:E}),b.$set(B);const V={};R[0]&1|R[1]&3&&(V.$$scope={dirty:R,ctx:E}),w.$set(V)},i(E){O||(P(i.$$.fragment,E),P(r.$$.fragment,E),P(f.$$.fragment,E),P(h.$$.fragment,E),P(b.$$.fragment,E),P(w.$$.fragment,E),E&&Yt(()=>{O&&(T||(T=gt(e,gn,{duration:150},!0)),T.run(1))}),O=!0)},o(E){I(i.$$.fragment,E),I(r.$$.fragment,E),I(f.$$.fragment,E),I(h.$$.fragment,E),I(b.$$.fragment,E),I(w.$$.fragment,E),E&&(T||(T=gt(e,gn,{duration:150},!1)),T.run(0)),O=!1},d(E){E&&S(e),W(i),W(r),W(f),W(h),W(b),W(w),E&&T&&T.end()}}}function Wke(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("SMTP server host"),s=D(),l=k("input"),m(e,"for",i=n[31]),m(l,"type","text"),m(l,"id",r=n[31]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].smtp.host),o||(a=x(l,"input",n[18]),o=!0)},p(f,u){u[1]&1&&i!==(i=f[31])&&m(e,"for",i),u[1]&1&&r!==(r=f[31])&&m(l,"id",r),u[0]&1&&l.value!==f[0].smtp.host&&Ae(l,f[0].smtp.host)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function Uke(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Port"),s=D(),l=k("input"),m(e,"for",i=n[31]),m(l,"type","number"),m(l,"id",r=n[31]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].smtp.port),o||(a=x(l,"input",n[19]),o=!0)},p(f,u){u[1]&1&&i!==(i=f[31])&&m(e,"for",i),u[1]&1&&r!==(r=f[31])&&m(l,"id",r),u[0]&1&&jn(l.value)!==f[0].smtp.port&&Ae(l,f[0].smtp.port)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function Kke(n){let e,t,i,s,l,r,o;function a(u){n[20](u)}let f={id:n[31],items:n[6]};return n[0].smtp.tls!==void 0&&(f.keyOfSelected=n[0].smtp.tls),l=new Go({props:f}),de.push(()=>Ne(l,"keyOfSelected",a)),{c(){e=k("label"),t=G("TLS encryption"),s=D(),U(l.$$.fragment),m(e,"for",i=n[31])},m(u,d){C(u,e,d),v(e,t),C(u,s,d),q(l,u,d),o=!0},p(u,d){(!o||d[1]&1&&i!==(i=u[31]))&&m(e,"for",i);const h={};d[1]&1&&(h.id=u[31]),!r&&d[0]&1&&(r=!0,h.keyOfSelected=u[0].smtp.tls,Be(()=>r=!1)),l.$set(h)},i(u){o||(P(l.$$.fragment,u),o=!0)},o(u){I(l.$$.fragment,u),o=!1},d(u){u&&S(e),u&&S(s),W(l,u)}}}function Jke(n){let e,t,i,s,l,r,o;function a(u){n[21](u)}let f={id:n[31],items:n[7]};return n[0].smtp.authMethod!==void 0&&(f.keyOfSelected=n[0].smtp.authMethod),l=new Go({props:f}),de.push(()=>Ne(l,"keyOfSelected",a)),{c(){e=k("label"),t=G("AUTH method"),s=D(),U(l.$$.fragment),m(e,"for",i=n[31])},m(u,d){C(u,e,d),v(e,t),C(u,s,d),q(l,u,d),o=!0},p(u,d){(!o||d[1]&1&&i!==(i=u[31]))&&m(e,"for",i);const h={};d[1]&1&&(h.id=u[31]),!r&&d[0]&1&&(r=!0,h.keyOfSelected=u[0].smtp.authMethod,Be(()=>r=!1)),l.$set(h)},i(u){o||(P(l.$$.fragment,u),o=!0)},o(u){I(l.$$.fragment,u),o=!1},d(u){u&&S(e),u&&S(s),W(l,u)}}}function xke(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Username"),s=D(),l=k("input"),m(e,"for",i=n[31]),m(l,"type","text"),m(l,"id",r=n[31])},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].smtp.username),o||(a=x(l,"input",n[22]),o=!0)},p(f,u){u[1]&1&&i!==(i=f[31])&&m(e,"for",i),u[1]&1&&r!==(r=f[31])&&m(l,"id",r),u[0]&1&&l.value!==f[0].smtp.username&&Ae(l,f[0].smtp.username)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function Yke(n){let e,t,i,s,l,r,o;function a(u){n[23](u)}let f={id:n[31]};return n[0].smtp.password!==void 0&&(f.value=n[0].smtp.password),l=new nv({props:f}),de.push(()=>Ne(l,"value",a)),{c(){e=k("label"),t=G("Password"),s=D(),U(l.$$.fragment),m(e,"for",i=n[31])},m(u,d){C(u,e,d),v(e,t),C(u,s,d),q(l,u,d),o=!0},p(u,d){(!o||d[1]&1&&i!==(i=u[31]))&&m(e,"for",i);const h={};d[1]&1&&(h.id=u[31]),!r&&d[0]&1&&(r=!0,h.value=u[0].smtp.password,Be(()=>r=!1)),l.$set(h)},i(u){o||(P(l.$$.fragment,u),o=!0)},o(u){I(l.$$.fragment,u),o=!1},d(u){u&&S(e),u&&S(s),W(l,u)}}}function Gke(n){let e,t,i;return{c(){e=k("button"),e.innerHTML=`<i class="ri-mail-check-line"></i> 
                            <span class="txt">Send test email</span>`,m(e,"type","button"),m(e,"class","btn btn-expanded btn-outline")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[26]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function Xke(n){let e,t,i,s,l,r,o,a;return{c(){e=k("button"),t=k("span"),t.textContent="Cancel",i=D(),s=k("button"),l=k("span"),l.textContent="Save changes",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint"),e.disabled=n[3],m(l,"class","txt"),m(s,"type","submit"),m(s,"class","btn btn-expanded"),s.disabled=r=!n[4]||n[3],$(s,"btn-loading",n[3])},m(f,u){C(f,e,u),v(e,t),C(f,i,u),C(f,s,u),v(s,l),o||(a=[x(e,"click",n[24]),x(s,"click",n[25])],o=!0)},p(f,u){u[0]&8&&(e.disabled=f[3]),u[0]&24&&r!==(r=!f[4]||f[3])&&(s.disabled=r),u[0]&8&&$(s,"btn-loading",f[3])},d(f){f&&S(e),f&&S(i),f&&S(s),o=!1,Ke(a)}}}function Zke(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_;const y=[Vke,Bke],w=[];function A(M,T){return M[2]?0:1}return h=A(n),p=w[h]=y[h](n),{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Settings",s=D(),l=k("div"),r=G(n[5]),o=D(),a=k("div"),f=k("form"),u=k("div"),u.innerHTML="<p>Configure common settings for sending emails.</p>",d=D(),p.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(u,"class","content txt-xl m-b-base"),m(f,"class","panel"),m(f,"autocomplete","off"),m(a,"class","wrapper")},m(M,T){C(M,e,T),v(e,t),v(t,i),v(t,s),v(t,l),v(l,r),C(M,o,T),C(M,a,T),v(a,f),v(f,u),v(f,d),w[h].m(f,null),g=!0,b||(_=x(f,"submit",qt(n[27])),b=!0)},p(M,T){(!g||T[0]&32)&&pe(r,M[5]);let O=h;h=A(M),h===O?w[h].p(M,T):(ue(),I(w[O],1,1,()=>{w[O]=null}),ce(),p=w[h],p?p.p(M,T):(p=w[h]=y[h](M),p.c()),P(p,1),p.m(f,null))},i(M){g||(P(p),g=!0)},o(M){I(p),g=!1},d(M){M&&S(e),M&&S(o),M&&S(a),w[h].d(),b=!1,_()}}}function Qke(n){let e,t,i,s,l,r;e=new ro({}),i=new Ls({props:{$$slots:{default:[Zke]},$$scope:{ctx:n}}});let o={};return l=new jke({props:o}),n[28](l),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment),s=D(),U(l.$$.fragment)},m(a,f){q(e,a,f),C(a,t,f),q(i,a,f),C(a,s,f),q(l,a,f),r=!0},p(a,f){const u={};f[0]&63|f[1]&2&&(u.$$scope={dirty:f,ctx:a}),i.$set(u);const d={};l.$set(d)},i(a){r||(P(e.$$.fragment,a),P(i.$$.fragment,a),P(l.$$.fragment,a),r=!0)},o(a){I(e.$$.fragment,a),I(i.$$.fragment,a),I(l.$$.fragment,a),r=!1},d(a){W(e,a),a&&S(t),W(i,a),a&&S(s),n[28](null),W(l,a)}}}function $ke(n,e,t){let i,s,l;Ht(n,si,J=>t(5,l=J));const r=[{label:"Auto (StartTLS)",value:!1},{label:"Always",value:!0}],o=[{label:"PLAIN (default)",value:"PLAIN"},{label:"LOGIN",value:"LOGIN"}];ss(si,l="Mail settings",l);let a,f={},u={},d=!1,h=!1;p();async function p(){t(2,d=!0);try{const J=await Re.settings.getAll()||{};b(J)}catch(J){Re.error(J)}t(2,d=!1)}async function g(){if(!(h||!s)){t(3,h=!0);try{const J=await Re.settings.update(ee.filterRedactedProps(u));b(J),Ki({}),fi("Successfully saved mail settings.")}catch(J){Re.error(J)}t(3,h=!1)}}function b(J={}){t(0,u={meta:(J==null?void 0:J.meta)||{},smtp:(J==null?void 0:J.smtp)||{}}),u.smtp.authMethod||t(0,u.smtp.authMethod=o[0].value,u),t(10,f=JSON.parse(JSON.stringify(u)))}function _(){t(0,u=JSON.parse(JSON.stringify(f||{})))}function y(){u.meta.senderName=this.value,t(0,u)}function w(){u.meta.senderAddress=this.value,t(0,u)}function A(J){n.$$.not_equal(u.meta.verificationTemplate,J)&&(u.meta.verificationTemplate=J,t(0,u))}function M(J){n.$$.not_equal(u.meta.resetPasswordTemplate,J)&&(u.meta.resetPasswordTemplate=J,t(0,u))}function T(J){n.$$.not_equal(u.meta.confirmEmailChangeTemplate,J)&&(u.meta.confirmEmailChangeTemplate=J,t(0,u))}function O(){u.smtp.enabled=this.checked,t(0,u)}function E(){u.smtp.host=this.value,t(0,u)}function R(){u.smtp.port=jn(this.value),t(0,u)}function N(J){n.$$.not_equal(u.smtp.tls,J)&&(u.smtp.tls=J,t(0,u))}function j(J){n.$$.not_equal(u.smtp.authMethod,J)&&(u.smtp.authMethod=J,t(0,u))}function L(){u.smtp.username=this.value,t(0,u)}function F(J){n.$$.not_equal(u.smtp.password,J)&&(u.smtp.password=J,t(0,u))}const B=()=>_(),V=()=>g(),H=()=>a==null?void 0:a.show(),K=()=>g();function X(J){de[J?"unshift":"push"](()=>{a=J,t(1,a)})}return n.$$.update=()=>{n.$$.dirty[0]&1024&&t(11,i=JSON.stringify(f)),n.$$.dirty[0]&2049&&t(4,s=i!=JSON.stringify(u))},[u,a,d,h,s,l,r,o,g,_,f,i,y,w,A,M,T,O,E,R,N,j,L,F,B,V,H,K,X]}class ewe extends ke{constructor(e){super(),ve(this,e,$ke,Qke,De,{},null,[-1,-1])}}const twe=n=>({isTesting:n&4,testError:n&2,enabled:n&1}),n8=n=>({isTesting:n[2],testError:n[1],enabled:n[0].enabled});function nwe(n){let e,t,i,s,l,r,o,a;return{c(){e=k("input"),i=D(),s=k("label"),l=G(n[4]),m(e,"type","checkbox"),m(e,"id",t=n[20]),e.required=!0,m(s,"for",r=n[20])},m(f,u){C(f,e,u),e.checked=n[0].enabled,C(f,i,u),C(f,s,u),v(s,l),o||(a=x(e,"change",n[8]),o=!0)},p(f,u){u&1048576&&t!==(t=f[20])&&m(e,"id",t),u&1&&(e.checked=f[0].enabled),u&16&&pe(l,f[4]),u&1048576&&r!==(r=f[20])&&m(s,"for",r)},d(f){f&&S(e),f&&S(i),f&&S(s),o=!1,a()}}}function i8(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O;return i=new ze({props:{class:"form-field required",name:n[3]+".endpoint",$$slots:{default:[iwe,({uniqueId:E})=>({20:E}),({uniqueId:E})=>E?1048576:0]},$$scope:{ctx:n}}}),r=new ze({props:{class:"form-field required",name:n[3]+".bucket",$$slots:{default:[swe,({uniqueId:E})=>({20:E}),({uniqueId:E})=>E?1048576:0]},$$scope:{ctx:n}}}),f=new ze({props:{class:"form-field required",name:n[3]+".region",$$slots:{default:[lwe,({uniqueId:E})=>({20:E}),({uniqueId:E})=>E?1048576:0]},$$scope:{ctx:n}}}),h=new ze({props:{class:"form-field required",name:n[3]+".accessKey",$$slots:{default:[rwe,({uniqueId:E})=>({20:E}),({uniqueId:E})=>E?1048576:0]},$$scope:{ctx:n}}}),b=new ze({props:{class:"form-field required",name:n[3]+".secret",$$slots:{default:[owe,({uniqueId:E})=>({20:E}),({uniqueId:E})=>E?1048576:0]},$$scope:{ctx:n}}}),w=new ze({props:{class:"form-field",name:n[3]+".forcePathStyle",$$slots:{default:[awe,({uniqueId:E})=>({20:E}),({uniqueId:E})=>E?1048576:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),U(i.$$.fragment),s=D(),l=k("div"),U(r.$$.fragment),o=D(),a=k("div"),U(f.$$.fragment),u=D(),d=k("div"),U(h.$$.fragment),p=D(),g=k("div"),U(b.$$.fragment),_=D(),y=k("div"),U(w.$$.fragment),A=D(),M=k("div"),m(t,"class","col-lg-6"),m(l,"class","col-lg-3"),m(a,"class","col-lg-3"),m(d,"class","col-lg-6"),m(g,"class","col-lg-6"),m(y,"class","col-lg-12"),m(M,"class","col-lg-12"),m(e,"class","grid")},m(E,R){C(E,e,R),v(e,t),q(i,t,null),v(e,s),v(e,l),q(r,l,null),v(e,o),v(e,a),q(f,a,null),v(e,u),v(e,d),q(h,d,null),v(e,p),v(e,g),q(b,g,null),v(e,_),v(e,y),q(w,y,null),v(e,A),v(e,M),O=!0},p(E,R){const N={};R&8&&(N.name=E[3]+".endpoint"),R&1081345&&(N.$$scope={dirty:R,ctx:E}),i.$set(N);const j={};R&8&&(j.name=E[3]+".bucket"),R&1081345&&(j.$$scope={dirty:R,ctx:E}),r.$set(j);const L={};R&8&&(L.name=E[3]+".region"),R&1081345&&(L.$$scope={dirty:R,ctx:E}),f.$set(L);const F={};R&8&&(F.name=E[3]+".accessKey"),R&1081345&&(F.$$scope={dirty:R,ctx:E}),h.$set(F);const B={};R&8&&(B.name=E[3]+".secret"),R&1081345&&(B.$$scope={dirty:R,ctx:E}),b.$set(B);const V={};R&8&&(V.name=E[3]+".forcePathStyle"),R&1081345&&(V.$$scope={dirty:R,ctx:E}),w.$set(V)},i(E){O||(P(i.$$.fragment,E),P(r.$$.fragment,E),P(f.$$.fragment,E),P(h.$$.fragment,E),P(b.$$.fragment,E),P(w.$$.fragment,E),E&&Yt(()=>{O&&(T||(T=gt(e,gn,{duration:150},!0)),T.run(1))}),O=!0)},o(E){I(i.$$.fragment,E),I(r.$$.fragment,E),I(f.$$.fragment,E),I(h.$$.fragment,E),I(b.$$.fragment,E),I(w.$$.fragment,E),E&&(T||(T=gt(e,gn,{duration:150},!1)),T.run(0)),O=!1},d(E){E&&S(e),W(i),W(r),W(f),W(h),W(b),W(w),E&&T&&T.end()}}}function iwe(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Endpoint"),s=D(),l=k("input"),m(e,"for",i=n[20]),m(l,"type","text"),m(l,"id",r=n[20]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].endpoint),o||(a=x(l,"input",n[9]),o=!0)},p(f,u){u&1048576&&i!==(i=f[20])&&m(e,"for",i),u&1048576&&r!==(r=f[20])&&m(l,"id",r),u&1&&l.value!==f[0].endpoint&&Ae(l,f[0].endpoint)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function swe(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Bucket"),s=D(),l=k("input"),m(e,"for",i=n[20]),m(l,"type","text"),m(l,"id",r=n[20]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].bucket),o||(a=x(l,"input",n[10]),o=!0)},p(f,u){u&1048576&&i!==(i=f[20])&&m(e,"for",i),u&1048576&&r!==(r=f[20])&&m(l,"id",r),u&1&&l.value!==f[0].bucket&&Ae(l,f[0].bucket)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function lwe(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Region"),s=D(),l=k("input"),m(e,"for",i=n[20]),m(l,"type","text"),m(l,"id",r=n[20]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].region),o||(a=x(l,"input",n[11]),o=!0)},p(f,u){u&1048576&&i!==(i=f[20])&&m(e,"for",i),u&1048576&&r!==(r=f[20])&&m(l,"id",r),u&1&&l.value!==f[0].region&&Ae(l,f[0].region)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function rwe(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Access key"),s=D(),l=k("input"),m(e,"for",i=n[20]),m(l,"type","text"),m(l,"id",r=n[20]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[0].accessKey),o||(a=x(l,"input",n[12]),o=!0)},p(f,u){u&1048576&&i!==(i=f[20])&&m(e,"for",i),u&1048576&&r!==(r=f[20])&&m(l,"id",r),u&1&&l.value!==f[0].accessKey&&Ae(l,f[0].accessKey)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function owe(n){let e,t,i,s,l,r,o;function a(u){n[13](u)}let f={id:n[20],required:!0};return n[0].secret!==void 0&&(f.value=n[0].secret),l=new nv({props:f}),de.push(()=>Ne(l,"value",a)),{c(){e=k("label"),t=G("Secret"),s=D(),U(l.$$.fragment),m(e,"for",i=n[20])},m(u,d){C(u,e,d),v(e,t),C(u,s,d),q(l,u,d),o=!0},p(u,d){(!o||d&1048576&&i!==(i=u[20]))&&m(e,"for",i);const h={};d&1048576&&(h.id=u[20]),!r&&d&1&&(r=!0,h.value=u[0].secret,Be(()=>r=!1)),l.$set(h)},i(u){o||(P(l.$$.fragment,u),o=!0)},o(u){I(l.$$.fragment,u),o=!1},d(u){u&&S(e),u&&S(s),W(l,u)}}}function awe(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("input"),i=D(),s=k("label"),l=k("span"),l.textContent="Force path-style addressing",r=D(),o=k("i"),m(e,"type","checkbox"),m(e,"id",t=n[20]),m(l,"class","txt"),m(o,"class","ri-information-line link-hint"),m(s,"for",a=n[20])},m(d,h){C(d,e,h),e.checked=n[0].forcePathStyle,C(d,i,h),C(d,s,h),v(s,l),v(s,r),v(s,o),f||(u=[x(e,"change",n[14]),xe(Mt.call(null,o,{text:'Forces the request to use path-style addressing, eg. "https://s3.amazonaws.com/BUCKET/KEY" instead of the default "https://BUCKET.s3.amazonaws.com/KEY".',position:"top"}))],f=!0)},p(d,h){h&1048576&&t!==(t=d[20])&&m(e,"id",t),h&1&&(e.checked=d[0].forcePathStyle),h&1048576&&a!==(a=d[20])&&m(s,"for",a)},d(d){d&&S(e),d&&S(i),d&&S(s),f=!1,Ke(u)}}}function fwe(n){let e,t,i,s,l;e=new ze({props:{class:"form-field form-field-toggle",$$slots:{default:[nwe,({uniqueId:f})=>({20:f}),({uniqueId:f})=>f?1048576:0]},$$scope:{ctx:n}}});const r=n[7].default,o=It(r,n,n[15],n8);let a=n[0].enabled&&i8(n);return{c(){U(e.$$.fragment),t=D(),o&&o.c(),i=D(),a&&a.c(),s=Ee()},m(f,u){q(e,f,u),C(f,t,u),o&&o.m(f,u),C(f,i,u),a&&a.m(f,u),C(f,s,u),l=!0},p(f,[u]){const d={};u&1081361&&(d.$$scope={dirty:u,ctx:f}),e.$set(d),o&&o.p&&(!l||u&32775)&&Nt(o,r,f,f[15],l?Rt(r,f[15],u,twe):Lt(f[15]),n8),f[0].enabled?a?(a.p(f,u),u&1&&P(a,1)):(a=i8(f),a.c(),P(a,1),a.m(s.parentNode,s)):a&&(ue(),I(a,1,1,()=>{a=null}),ce())},i(f){l||(P(e.$$.fragment,f),P(o,f),P(a),l=!0)},o(f){I(e.$$.fragment,f),I(o,f),I(a),l=!1},d(f){W(e,f),f&&S(t),o&&o.d(f),f&&S(i),a&&a.d(f),f&&S(s)}}}const I0="s3_test_request";function uwe(n,e,t){let{$$slots:i={},$$scope:s}=e,{originalConfig:l={}}=e,{config:r={}}=e,{configKey:o="s3"}=e,{toggleLabel:a="Enable S3"}=e,{testFilesystem:f="storage"}=e,{testError:u=null}=e,{isTesting:d=!1}=e,h=null,p=null;function g(E){t(2,d=!0),clearTimeout(p),p=setTimeout(()=>{b()},E)}async function b(){if(t(1,u=null),!r.enabled)return t(2,d=!1),u;Re.cancelRequest(I0),clearTimeout(h),h=setTimeout(()=>{Re.cancelRequest(I0),t(1,u=new Error("S3 test connection timeout.")),t(2,d=!1)},3e4),t(2,d=!0);let E;try{await Re.settings.testS3(f,{$cancelKey:I0})}catch(R){E=R}return E!=null&&E.isAbort||(t(1,u=E),t(2,d=!1),clearTimeout(h)),u}Pn(()=>()=>{clearTimeout(h),clearTimeout(p)});function _(){r.enabled=this.checked,t(0,r)}function y(){r.endpoint=this.value,t(0,r)}function w(){r.bucket=this.value,t(0,r)}function A(){r.region=this.value,t(0,r)}function M(){r.accessKey=this.value,t(0,r)}function T(E){n.$$.not_equal(r.secret,E)&&(r.secret=E,t(0,r))}function O(){r.forcePathStyle=this.checked,t(0,r)}return n.$$set=E=>{"originalConfig"in E&&t(5,l=E.originalConfig),"config"in E&&t(0,r=E.config),"configKey"in E&&t(3,o=E.configKey),"toggleLabel"in E&&t(4,a=E.toggleLabel),"testFilesystem"in E&&t(6,f=E.testFilesystem),"testError"in E&&t(1,u=E.testError),"isTesting"in E&&t(2,d=E.isTesting),"$$scope"in E&&t(15,s=E.$$scope)},n.$$.update=()=>{n.$$.dirty&32&&l!=null&&l.enabled&&g(100),n.$$.dirty&9&&(r.enabled||_r(o))},[r,u,d,o,a,l,f,i,_,y,w,A,M,T,O,s]}class wL extends ke{constructor(e){super(),ve(this,e,uwe,fwe,De,{originalConfig:5,config:0,configKey:3,toggleLabel:4,testFilesystem:6,testError:1,isTesting:2})}}function cwe(n){var E;let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_;function y(R){n[11](R)}function w(R){n[12](R)}function A(R){n[13](R)}let M={toggleLabel:"Use S3 storage",originalConfig:n[0].s3,$$slots:{default:[hwe]},$$scope:{ctx:n}};n[1].s3!==void 0&&(M.config=n[1].s3),n[4]!==void 0&&(M.isTesting=n[4]),n[5]!==void 0&&(M.testError=n[5]),e=new wL({props:M}),de.push(()=>Ne(e,"config",y)),de.push(()=>Ne(e,"isTesting",w)),de.push(()=>Ne(e,"testError",A));let T=((E=n[1].s3)==null?void 0:E.enabled)&&!n[6]&&!n[3]&&l8(n),O=n[6]&&r8(n);return{c(){U(e.$$.fragment),l=D(),r=k("div"),o=k("div"),a=D(),T&&T.c(),f=D(),O&&O.c(),u=D(),d=k("button"),h=k("span"),h.textContent="Save changes",m(o,"class","flex-fill"),m(h,"class","txt"),m(d,"type","submit"),m(d,"class","btn btn-expanded"),d.disabled=p=!n[6]||n[3],$(d,"btn-loading",n[3]),m(r,"class","flex")},m(R,N){q(e,R,N),C(R,l,N),C(R,r,N),v(r,o),v(r,a),T&&T.m(r,null),v(r,f),O&&O.m(r,null),v(r,u),v(r,d),v(d,h),g=!0,b||(_=x(d,"click",n[15]),b=!0)},p(R,N){var L;const j={};N&1&&(j.originalConfig=R[0].s3),N&524291&&(j.$$scope={dirty:N,ctx:R}),!t&&N&2&&(t=!0,j.config=R[1].s3,Be(()=>t=!1)),!i&&N&16&&(i=!0,j.isTesting=R[4],Be(()=>i=!1)),!s&&N&32&&(s=!0,j.testError=R[5],Be(()=>s=!1)),e.$set(j),(L=R[1].s3)!=null&&L.enabled&&!R[6]&&!R[3]?T?T.p(R,N):(T=l8(R),T.c(),T.m(r,f)):T&&(T.d(1),T=null),R[6]?O?O.p(R,N):(O=r8(R),O.c(),O.m(r,u)):O&&(O.d(1),O=null),(!g||N&72&&p!==(p=!R[6]||R[3]))&&(d.disabled=p),(!g||N&8)&&$(d,"btn-loading",R[3])},i(R){g||(P(e.$$.fragment,R),g=!0)},o(R){I(e.$$.fragment,R),g=!1},d(R){W(e,R),R&&S(l),R&&S(r),T&&T.d(),O&&O.d(),b=!1,_()}}}function dwe(n){let e;return{c(){e=k("div"),m(e,"class","loader")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function s8(n){var N;let e,t,i,s,l,r,o,a=(N=n[0].s3)!=null&&N.enabled?"S3 storage":"local file system",f,u,d,h=n[1].s3.enabled?"S3 storage":"local file system",p,g,b,_,y,w,A,M,T,O,E,R;return{c(){e=k("div"),t=k("div"),i=k("div"),i.innerHTML='<i class="ri-error-warning-line"></i>',s=D(),l=k("div"),r=G(`If you have existing uploaded files, you'll have to migrate them manually
                                    from the
                                    `),o=k("strong"),f=G(a),u=G(`
                                    to the
                                    `),d=k("strong"),p=G(h),g=G(`.
                                    `),b=k("br"),_=G(`
                                    There are numerous command line tools that can help you, such as:
                                    `),y=k("a"),y.textContent=`rclone
                                    `,w=G(`,
                                    `),A=k("a"),A.textContent=`s5cmd
                                    `,M=G(", etc."),T=D(),O=k("div"),m(i,"class","icon"),m(y,"href","https://github.com/rclone/rclone"),m(y,"target","_blank"),m(y,"rel","noopener noreferrer"),m(y,"class","txt-bold"),m(A,"href","https://github.com/peak/s5cmd"),m(A,"target","_blank"),m(A,"rel","noopener noreferrer"),m(A,"class","txt-bold"),m(l,"class","content"),m(t,"class","alert alert-warning m-0"),m(O,"class","clearfix m-t-base")},m(j,L){C(j,e,L),v(e,t),v(t,i),v(t,s),v(t,l),v(l,r),v(l,o),v(o,f),v(l,u),v(l,d),v(d,p),v(l,g),v(l,b),v(l,_),v(l,y),v(l,w),v(l,A),v(l,M),v(e,T),v(e,O),R=!0},p(j,L){var F;(!R||L&1)&&a!==(a=(F=j[0].s3)!=null&&F.enabled?"S3 storage":"local file system")&&pe(f,a),(!R||L&2)&&h!==(h=j[1].s3.enabled?"S3 storage":"local file system")&&pe(p,h)},i(j){R||(j&&Yt(()=>{R&&(E||(E=gt(e,gn,{duration:150},!0)),E.run(1))}),R=!0)},o(j){j&&(E||(E=gt(e,gn,{duration:150},!1)),E.run(0)),R=!1},d(j){j&&S(e),j&&E&&E.end()}}}function hwe(n){var i;let e,t=((i=n[0].s3)==null?void 0:i.enabled)!=n[1].s3.enabled&&s8(n);return{c(){t&&t.c(),e=Ee()},m(s,l){t&&t.m(s,l),C(s,e,l)},p(s,l){var r;((r=s[0].s3)==null?void 0:r.enabled)!=s[1].s3.enabled?t?(t.p(s,l),l&3&&P(t,1)):(t=s8(s),t.c(),P(t,1),t.m(e.parentNode,e)):t&&(ue(),I(t,1,1,()=>{t=null}),ce())},d(s){t&&t.d(s),s&&S(e)}}}function l8(n){let e;function t(l,r){return l[4]?gwe:l[5]?mwe:pwe}let i=t(n),s=i(n);return{c(){s.c(),e=Ee()},m(l,r){s.m(l,r),C(l,e,r)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&S(e)}}}function pwe(n){let e;return{c(){e=k("div"),e.innerHTML=`<i class="ri-checkbox-circle-line txt-success"></i> 
                                <span class="txt">S3 connected successfully</span>`,m(e,"class","label label-sm label-success entrance-right")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function mwe(n){let e,t,i,s;return{c(){e=k("div"),e.innerHTML=`<i class="ri-error-warning-line txt-warning"></i> 
                                <span class="txt">Failed to establish S3 connection</span>`,m(e,"class","label label-sm label-warning entrance-right")},m(l,r){var o;C(l,e,r),i||(s=xe(t=Mt.call(null,e,(o=n[5].data)==null?void 0:o.message)),i=!0)},p(l,r){var o;t&&fn(t.update)&&r&32&&t.update.call(null,(o=l[5].data)==null?void 0:o.message)},d(l){l&&S(e),i=!1,s()}}}function gwe(n){let e;return{c(){e=k("span"),m(e,"class","loader loader-sm")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function r8(n){let e,t,i,s;return{c(){e=k("button"),t=k("span"),t.textContent="Reset",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint"),e.disabled=n[3]},m(l,r){C(l,e,r),v(e,t),i||(s=x(e,"click",n[14]),i=!0)},p(l,r){r&8&&(e.disabled=l[3])},d(l){l&&S(e),i=!1,s()}}}function bwe(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_;const y=[dwe,cwe],w=[];function A(M,T){return M[2]?0:1}return h=A(n),p=w[h]=y[h](n),{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Settings",s=D(),l=k("div"),r=G(n[7]),o=D(),a=k("div"),f=k("form"),u=k("div"),u.innerHTML=`<p>By default PocketBase uses the local file system to store uploaded files.</p> 
                <p>If you have limited disk space, you could optionally connect to a S3 compatible storage.</p>`,d=D(),p.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(u,"class","content txt-xl m-b-base"),m(f,"class","panel"),m(f,"autocomplete","off"),m(a,"class","wrapper")},m(M,T){C(M,e,T),v(e,t),v(t,i),v(t,s),v(t,l),v(l,r),C(M,o,T),C(M,a,T),v(a,f),v(f,u),v(f,d),w[h].m(f,null),g=!0,b||(_=x(f,"submit",qt(n[16])),b=!0)},p(M,T){(!g||T&128)&&pe(r,M[7]);let O=h;h=A(M),h===O?w[h].p(M,T):(ue(),I(w[O],1,1,()=>{w[O]=null}),ce(),p=w[h],p?p.p(M,T):(p=w[h]=y[h](M),p.c()),P(p,1),p.m(f,null))},i(M){g||(P(p),g=!0)},o(M){I(p),g=!1},d(M){M&&S(e),M&&S(o),M&&S(a),w[h].d(),b=!1,_()}}}function _we(n){let e,t,i,s;return e=new ro({}),i=new Ls({props:{$$slots:{default:[bwe]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment)},m(l,r){q(e,l,r),C(l,t,r),q(i,l,r),s=!0},p(l,[r]){const o={};r&524543&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(P(e.$$.fragment,l),P(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){W(e,l),l&&S(t),W(i,l)}}}const ywe="s3_test_request";function vwe(n,e,t){let i,s,l;Ht(n,si,O=>t(7,l=O)),ss(si,l="Files storage",l);let r={},o={},a=!1,f=!1,u=!1,d=null;h();async function h(){t(2,a=!0);try{const O=await Re.settings.getAll()||{};g(O)}catch(O){Re.error(O)}t(2,a=!1)}async function p(){if(!(f||!s)){t(3,f=!0);try{Re.cancelRequest(ywe);const O=await Re.settings.update(ee.filterRedactedProps(o));Ki({}),await g(O),X_(),d?wB("Successfully saved but failed to establish S3 connection."):fi("Successfully saved files storage settings.")}catch(O){Re.error(O)}t(3,f=!1)}}async function g(O={}){t(1,o={s3:(O==null?void 0:O.s3)||{}}),t(0,r=JSON.parse(JSON.stringify(o)))}async function b(){t(1,o=JSON.parse(JSON.stringify(r||{})))}function _(O){n.$$.not_equal(o.s3,O)&&(o.s3=O,t(1,o))}function y(O){u=O,t(4,u)}function w(O){d=O,t(5,d)}const A=()=>b(),M=()=>p(),T=()=>p();return n.$$.update=()=>{n.$$.dirty&1&&t(10,i=JSON.stringify(r)),n.$$.dirty&1026&&t(6,s=i!=JSON.stringify(o))},[r,o,a,f,u,d,s,l,p,b,i,_,y,w,A,M,T]}class kwe extends ke{constructor(e){super(),ve(this,e,vwe,_we,De,{})}}function wwe(n){let e,t,i,s,l,r,o,a;return{c(){e=k("input"),i=D(),s=k("label"),l=G("Enable"),m(e,"type","checkbox"),m(e,"id",t=n[20]),m(s,"for",r=n[20])},m(f,u){C(f,e,u),e.checked=n[1].enabled,C(f,i,u),C(f,s,u),v(s,l),o||(a=x(e,"change",n[11]),o=!0)},p(f,u){u&1048576&&t!==(t=f[20])&&m(e,"id",t),u&2&&(e.checked=f[1].enabled),u&1048576&&r!==(r=f[20])&&m(s,"for",r)},d(f){f&&S(e),f&&S(i),f&&S(s),o=!1,a()}}}function Swe(n){let e,t,i,s,l,r,o,a,f;return{c(){e=k("label"),t=G("Client ID"),s=D(),l=k("input"),m(e,"for",i=n[20]),m(l,"type","text"),m(l,"id",r=n[20]),l.required=o=n[1].enabled},m(u,d){C(u,e,d),v(e,t),C(u,s,d),C(u,l,d),Ae(l,n[1].clientId),a||(f=x(l,"input",n[12]),a=!0)},p(u,d){d&1048576&&i!==(i=u[20])&&m(e,"for",i),d&1048576&&r!==(r=u[20])&&m(l,"id",r),d&2&&o!==(o=u[1].enabled)&&(l.required=o),d&2&&l.value!==u[1].clientId&&Ae(l,u[1].clientId)},d(u){u&&S(e),u&&S(s),u&&S(l),a=!1,f()}}}function Cwe(n){let e,t,i,s,l,r,o;function a(u){n[13](u)}let f={id:n[20],required:n[1].enabled};return n[1].clientSecret!==void 0&&(f.value=n[1].clientSecret),l=new nv({props:f}),de.push(()=>Ne(l,"value",a)),{c(){e=k("label"),t=G("Client secret"),s=D(),U(l.$$.fragment),m(e,"for",i=n[20])},m(u,d){C(u,e,d),v(e,t),C(u,s,d),q(l,u,d),o=!0},p(u,d){(!o||d&1048576&&i!==(i=u[20]))&&m(e,"for",i);const h={};d&1048576&&(h.id=u[20]),d&2&&(h.required=u[1].enabled),!r&&d&2&&(r=!0,h.value=u[1].clientSecret,Be(()=>r=!1)),l.$set(h)},i(u){o||(P(l.$$.fragment,u),o=!0)},o(u){I(l.$$.fragment,u),o=!1},d(u){u&&S(e),u&&S(s),W(l,u)}}}function o8(n){let e,t,i,s;function l(a){n[14](a)}var r=n[3].optionsComponent;function o(a){let f={key:a[3].key};return a[1]!==void 0&&(f.config=a[1]),{props:f}}return r&&(t=Sn(r,o(n)),de.push(()=>Ne(t,"config",l))),{c(){e=k("div"),t&&U(t.$$.fragment),m(e,"class","col-lg-12")},m(a,f){C(a,e,f),t&&q(t,e,null),s=!0},p(a,f){const u={};if(f&8&&(u.key=a[3].key),!i&&f&2&&(i=!0,u.config=a[1],Be(()=>i=!1)),f&8&&r!==(r=a[3].optionsComponent)){if(t){ue();const d=t;I(d.$$.fragment,1,0,()=>{W(d,1)}),ce()}r?(t=Sn(r,o(a)),de.push(()=>Ne(t,"config",l)),U(t.$$.fragment),P(t.$$.fragment,1),q(t,e,null)):t=null}else r&&t.$set(u)},i(a){s||(t&&P(t.$$.fragment,a),s=!0)},o(a){t&&I(t.$$.fragment,a),s=!1},d(a){a&&S(e),t&&W(t)}}}function Mwe(n){let e,t,i,s,l,r,o,a,f,u,d,h,p;i=new ze({props:{class:"form-field form-field-toggle m-b-0",name:n[3].key+".enabled",$$slots:{default:[wwe,({uniqueId:b})=>({20:b}),({uniqueId:b})=>b?1048576:0]},$$scope:{ctx:n}}}),o=new ze({props:{class:"form-field "+(n[1].enabled?"required":""),name:n[3].key+".clientId",$$slots:{default:[Swe,({uniqueId:b})=>({20:b}),({uniqueId:b})=>b?1048576:0]},$$scope:{ctx:n}}}),f=new ze({props:{class:"form-field "+(n[1].enabled?"required":""),name:n[3].key+".clientSecret",$$slots:{default:[Cwe,({uniqueId:b})=>({20:b}),({uniqueId:b})=>b?1048576:0]},$$scope:{ctx:n}}});let g=n[3].optionsComponent&&o8(n);return{c(){e=k("form"),t=k("div"),U(i.$$.fragment),s=D(),l=k("button"),l.innerHTML='<span class="txt">Clear all fields</span>',r=D(),U(o.$$.fragment),a=D(),U(f.$$.fragment),u=D(),g&&g.c(),m(l,"type","button"),m(l,"class","btn btn-sm btn-transparent btn-hint m-l-auto"),m(t,"class","flex m-b-base"),m(e,"id",n[6]),m(e,"autocomplete","off")},m(b,_){C(b,e,_),v(e,t),q(i,t,null),v(t,s),v(t,l),v(e,r),q(o,e,null),v(e,a),q(f,e,null),v(e,u),g&&g.m(e,null),d=!0,h||(p=[x(l,"click",n[8]),x(e,"submit",qt(n[15]))],h=!0)},p(b,_){const y={};_&8&&(y.name=b[3].key+".enabled"),_&3145730&&(y.$$scope={dirty:_,ctx:b}),i.$set(y);const w={};_&2&&(w.class="form-field "+(b[1].enabled?"required":"")),_&8&&(w.name=b[3].key+".clientId"),_&3145730&&(w.$$scope={dirty:_,ctx:b}),o.$set(w);const A={};_&2&&(A.class="form-field "+(b[1].enabled?"required":"")),_&8&&(A.name=b[3].key+".clientSecret"),_&3145730&&(A.$$scope={dirty:_,ctx:b}),f.$set(A),b[3].optionsComponent?g?(g.p(b,_),_&8&&P(g,1)):(g=o8(b),g.c(),P(g,1),g.m(e,null)):g&&(ue(),I(g,1,1,()=>{g=null}),ce())},i(b){d||(P(i.$$.fragment,b),P(o.$$.fragment,b),P(f.$$.fragment,b),P(g),d=!0)},o(b){I(i.$$.fragment,b),I(o.$$.fragment,b),I(f.$$.fragment,b),I(g),d=!1},d(b){b&&S(e),W(i),W(o),W(f),g&&g.d(),h=!1,Ke(p)}}}function Twe(n){let e,t=(n[3].title||n[3].key)+"",i,s;return{c(){e=k("h4"),i=G(t),s=G(" provider"),m(e,"class","center txt-break")},m(l,r){C(l,e,r),v(e,i),v(e,s)},p(l,r){r&8&&t!==(t=(l[3].title||l[3].key)+"")&&pe(i,t)},d(l){l&&S(e)}}}function Awe(n){let e,t,i,s,l,r,o,a;return{c(){e=k("button"),t=G("Close"),i=D(),s=k("button"),l=k("span"),l.textContent="Save changes",m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[4],m(l,"class","txt"),m(s,"type","submit"),m(s,"form",n[6]),m(s,"class","btn btn-expanded"),s.disabled=r=!n[5]||n[4],$(s,"btn-loading",n[4])},m(f,u){C(f,e,u),v(e,t),C(f,i,u),C(f,s,u),v(s,l),o||(a=x(e,"click",n[0]),o=!0)},p(f,u){u&16&&(e.disabled=f[4]),u&48&&r!==(r=!f[5]||f[4])&&(s.disabled=r),u&16&&$(s,"btn-loading",f[4])},d(f){f&&S(e),f&&S(i),f&&S(s),o=!1,a()}}}function Owe(n){let e,t,i={overlayClose:!n[4],escClose:!n[4],$$slots:{footer:[Awe],header:[Twe],default:[Mwe]},$$scope:{ctx:n}};return e=new rs({props:i}),n[16](e),e.$on("show",n[17]),e.$on("hide",n[18]),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,[l]){const r={};l&16&&(r.overlayClose=!s[4]),l&16&&(r.escClose=!s[4]),l&2097210&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[16](null),W(e,s)}}}function Ewe(n,e,t){let i;const s=Hn(),l="provider_popup_"+ee.randomString(5);let r,o={},a={},f=!1,u="";function d(E,R){Ki({}),t(3,o=Object.assign({},E)),t(1,a=Object.assign({enabled:!0},R)),t(10,u=JSON.stringify(a)),r==null||r.show()}function h(){return r==null?void 0:r.hide()}async function p(){t(4,f=!0);try{const E={};E[o.key]=ee.filterRedactedProps(a);const R=await Re.settings.update(E);Ki({}),fi("Successfully updated provider settings."),s("submit",R),h()}catch(E){Re.error(E)}t(4,f=!1)}function g(){for(let E in a)t(1,a[E]="",a);t(1,a.enabled=!1,a)}function b(){a.enabled=this.checked,t(1,a)}function _(){a.clientId=this.value,t(1,a)}function y(E){n.$$.not_equal(a.clientSecret,E)&&(a.clientSecret=E,t(1,a))}function w(E){a=E,t(1,a)}const A=()=>p();function M(E){de[E?"unshift":"push"](()=>{r=E,t(2,r)})}function T(E){ht.call(this,n,E)}function O(E){ht.call(this,n,E)}return n.$$.update=()=>{n.$$.dirty&1026&&t(5,i=JSON.stringify(a)!=u)},[h,a,r,o,f,i,l,p,g,d,u,b,_,y,w,A,M,T,O]}class Pwe extends ke{constructor(e){super(),ve(this,e,Ewe,Owe,De,{show:9,hide:0})}get show(){return this.$$.ctx[9]}get hide(){return this.$$.ctx[0]}}function a8(n){let e,t,i;return{c(){e=k("img"),Ss(e.src,t="./images/oauth2/"+n[1].logo)||m(e,"src",t),m(e,"alt",i=n[1].title+" logo")},m(s,l){C(s,e,l)},p(s,l){l&2&&!Ss(e.src,t="./images/oauth2/"+s[1].logo)&&m(e,"src",t),l&2&&i!==(i=s[1].title+" logo")&&m(e,"alt",i)},d(s){s&&S(e)}}}function f8(n){let e;return{c(){e=k("div"),e.textContent="Enabled",m(e,"class","label label-success")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function Dwe(n){let e,t,i,s,l=n[1].title+"",r,o,a,f,u=n[1].key.slice(0,-4)+"",d,h,p,g,b,_,y,w,A,M,T=n[1].logo&&a8(n),O=n[0].enabled&&f8(),E={};return y=new Pwe({props:E}),n[4](y),y.$on("submit",n[5]),{c(){e=k("div"),t=k("figure"),T&&T.c(),i=D(),s=k("div"),r=G(l),o=D(),a=k("em"),f=G("("),d=G(u),h=G(")"),p=D(),O&&O.c(),g=D(),b=k("button"),b.innerHTML='<i class="ri-settings-4-line"></i>',_=D(),U(y.$$.fragment),m(t,"class","provider-logo"),m(s,"class","title"),m(a,"class","txt-hint txt-sm m-r-auto"),m(b,"type","button"),m(b,"class","btn btn-circle btn-hint btn-transparent"),m(b,"aria-label","Provider settings"),m(e,"class","provider-card")},m(R,N){C(R,e,N),v(e,t),T&&T.m(t,null),v(e,i),v(e,s),v(s,r),v(e,o),v(e,a),v(a,f),v(a,d),v(a,h),v(e,p),O&&O.m(e,null),v(e,g),v(e,b),C(R,_,N),q(y,R,N),w=!0,A||(M=x(b,"click",n[3]),A=!0)},p(R,[N]){R[1].logo?T?T.p(R,N):(T=a8(R),T.c(),T.m(t,null)):T&&(T.d(1),T=null),(!w||N&2)&&l!==(l=R[1].title+"")&&pe(r,l),(!w||N&2)&&u!==(u=R[1].key.slice(0,-4)+"")&&pe(d,u),R[0].enabled?O||(O=f8(),O.c(),O.m(e,g)):O&&(O.d(1),O=null);const j={};y.$set(j)},i(R){w||(P(y.$$.fragment,R),w=!0)},o(R){I(y.$$.fragment,R),w=!1},d(R){R&&S(e),T&&T.d(),O&&O.d(),R&&S(_),n[4](null),W(y,R),A=!1,M()}}}function Iwe(n,e,t){let{provider:i={}}=e,{config:s={}}=e,l;const r=()=>{l==null||l.show(i,Object.assign({},s,{enabled:s.clientId?s.enabled:!0}))};function o(f){de[f?"unshift":"push"](()=>{l=f,t(2,l)})}const a=f=>{f.detail[i.key]&&t(0,s=f.detail[i.key])};return n.$$set=f=>{"provider"in f&&t(1,i=f.provider),"config"in f&&t(0,s=f.config)},[s,i,l,r,o,a]}class SL extends ke{constructor(e){super(),ve(this,e,Iwe,Dwe,De,{provider:1,config:0})}}function u8(n,e,t){const i=n.slice();return i[9]=e[t],i[10]=e,i[11]=t,i}function c8(n,e,t){const i=n.slice();return i[9]=e[t],i[12]=e,i[13]=t,i}function Rwe(n){let e,t=[],i=new Map,s,l,r,o=[],a=new Map,f,u=n[3];const d=b=>b[9].key;for(let b=0;b<u.length;b+=1){let _=c8(n,u,b),y=d(_);i.set(y,t[b]=d8(y,_))}let h=n[3].length>0&&n[2].length>0&&h8(),p=n[2];const g=b=>b[9].key;for(let b=0;b<p.length;b+=1){let _=u8(n,p,b),y=g(_);a.set(y,o[b]=p8(y,_))}return{c(){e=k("div");for(let b=0;b<t.length;b+=1)t[b].c();s=D(),h&&h.c(),l=D(),r=k("div");for(let b=0;b<o.length;b+=1)o[b].c();m(e,"class","grid grid-sm"),m(r,"class","grid grid-sm")},m(b,_){C(b,e,_);for(let y=0;y<t.length;y+=1)t[y]&&t[y].m(e,null);C(b,s,_),h&&h.m(b,_),C(b,l,_),C(b,r,_);for(let y=0;y<o.length;y+=1)o[y]&&o[y].m(r,null);f=!0},p(b,_){_&9&&(u=b[3],ue(),t=Cn(t,_,d,1,b,u,i,e,ii,d8,null,c8),ce()),b[3].length>0&&b[2].length>0?h||(h=h8(),h.c(),h.m(l.parentNode,l)):h&&(h.d(1),h=null),_&5&&(p=b[2],ue(),o=Cn(o,_,g,1,b,p,a,r,ii,p8,null,u8),ce())},i(b){if(!f){for(let _=0;_<u.length;_+=1)P(t[_]);for(let _=0;_<p.length;_+=1)P(o[_]);f=!0}},o(b){for(let _=0;_<t.length;_+=1)I(t[_]);for(let _=0;_<o.length;_+=1)I(o[_]);f=!1},d(b){b&&S(e);for(let _=0;_<t.length;_+=1)t[_].d();b&&S(s),h&&h.d(b),b&&S(l),b&&S(r);for(let _=0;_<o.length;_+=1)o[_].d()}}}function Nwe(n){let e;return{c(){e=k("div"),m(e,"class","loader")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function d8(n,e){let t,i,s,l,r;function o(f){e[5](f,e[9])}let a={provider:e[9]};return e[0][e[9].key]!==void 0&&(a.config=e[0][e[9].key]),i=new SL({props:a}),de.push(()=>Ne(i,"config",o)),{key:n,first:null,c(){t=k("div"),U(i.$$.fragment),l=D(),m(t,"class","col-lg-6"),this.first=t},m(f,u){C(f,t,u),q(i,t,null),v(t,l),r=!0},p(f,u){e=f;const d={};u&8&&(d.provider=e[9]),!s&&u&9&&(s=!0,d.config=e[0][e[9].key],Be(()=>s=!1)),i.$set(d)},i(f){r||(P(i.$$.fragment,f),r=!0)},o(f){I(i.$$.fragment,f),r=!1},d(f){f&&S(t),W(i)}}}function h8(n){let e;return{c(){e=k("hr")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function p8(n,e){let t,i,s,l,r;function o(f){e[6](f,e[9])}let a={provider:e[9]};return e[0][e[9].key]!==void 0&&(a.config=e[0][e[9].key]),i=new SL({props:a}),de.push(()=>Ne(i,"config",o)),{key:n,first:null,c(){t=k("div"),U(i.$$.fragment),l=D(),m(t,"class","col-lg-6"),this.first=t},m(f,u){C(f,t,u),q(i,t,null),v(t,l),r=!0},p(f,u){e=f;const d={};u&4&&(d.provider=e[9]),!s&&u&5&&(s=!0,d.config=e[0][e[9].key],Be(()=>s=!1)),i.$set(d)},i(f){r||(P(i.$$.fragment,f),r=!0)},o(f){I(i.$$.fragment,f),r=!1},d(f){f&&S(t),W(i)}}}function Lwe(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g;const b=[Nwe,Rwe],_=[];function y(w,A){return w[1]?0:1}return h=y(n),p=_[h]=b[h](n),{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Settings",s=D(),l=k("div"),r=G(n[4]),o=D(),a=k("div"),f=k("div"),u=k("h6"),u.textContent="Manage the allowed users OAuth2 sign-in/sign-up methods.",d=D(),p.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(u,"class","m-b-base"),m(f,"class","panel"),m(a,"class","wrapper")},m(w,A){C(w,e,A),v(e,t),v(t,i),v(t,s),v(t,l),v(l,r),C(w,o,A),C(w,a,A),v(a,f),v(f,u),v(f,d),_[h].m(f,null),g=!0},p(w,A){(!g||A&16)&&pe(r,w[4]);let M=h;h=y(w),h===M?_[h].p(w,A):(ue(),I(_[M],1,1,()=>{_[M]=null}),ce(),p=_[h],p?p.p(w,A):(p=_[h]=b[h](w),p.c()),P(p,1),p.m(f,null))},i(w){g||(P(p),g=!0)},o(w){I(p),g=!1},d(w){w&&S(e),w&&S(o),w&&S(a),_[h].d()}}}function Fwe(n){let e,t,i,s;return e=new ro({}),i=new Ls({props:{$$slots:{default:[Lwe]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment)},m(l,r){q(e,l,r),C(l,t,r),q(i,l,r),s=!0},p(l,[r]){const o={};r&16415&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(P(e.$$.fragment,l),P(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){W(e,l),l&&S(t),W(i,l)}}}function jwe(n,e,t){let i,s,l;Ht(n,si,h=>t(4,l=h)),ss(si,l="Auth providers",l);let r=!1,o={};a();async function a(){t(1,r=!0);try{const h=await Re.settings.getAll()||{};f(h)}catch(h){Re.error(h)}t(1,r=!1)}function f(h){h=h||{},t(0,o={});for(const p of Tp)t(0,o[p.key]=Object.assign({enabled:!1},h[p.key]),o)}function u(h,p){n.$$.not_equal(o[p.key],h)&&(o[p.key]=h,t(0,o))}function d(h,p){n.$$.not_equal(o[p.key],h)&&(o[p.key]=h,t(0,o))}return n.$$.update=()=>{n.$$.dirty&1&&t(3,i=Tp.filter(h=>{var p;return(p=o[h.key])==null?void 0:p.enabled})),n.$$.dirty&1&&t(2,s=Tp.filter(h=>{var p;return!((p=o[h.key])!=null&&p.enabled)}))},[o,r,s,i,l,u,d]}class Bwe extends ke{constructor(e){super(),ve(this,e,jwe,Fwe,De,{})}}function Vwe(n){let e,t,i,s,l,r,o,a,f,u,d,h;return{c(){e=k("label"),t=G(n[3]),i=G(" duration (in seconds)"),l=D(),r=k("input"),a=D(),f=k("div"),u=k("span"),u.textContent="Invalidate all previously issued tokens",m(e,"for",s=n[6]),m(r,"type","number"),m(r,"id",o=n[6]),r.required=!0,m(u,"class","link-primary"),$(u,"txt-success",!!n[1]),m(f,"class","help-block")},m(p,g){C(p,e,g),v(e,t),v(e,i),C(p,l,g),C(p,r,g),Ae(r,n[0]),C(p,a,g),C(p,f,g),v(f,u),d||(h=[x(r,"input",n[4]),x(u,"click",n[5])],d=!0)},p(p,g){g&8&&pe(t,p[3]),g&64&&s!==(s=p[6])&&m(e,"for",s),g&64&&o!==(o=p[6])&&m(r,"id",o),g&1&&jn(r.value)!==p[0]&&Ae(r,p[0]),g&2&&$(u,"txt-success",!!p[1])},d(p){p&&S(e),p&&S(l),p&&S(r),p&&S(a),p&&S(f),d=!1,Ke(h)}}}function zwe(n){let e,t;return e=new ze({props:{class:"form-field required",name:n[2]+".duration",$$slots:{default:[Vwe,({uniqueId:i})=>({6:i}),({uniqueId:i})=>i?64:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,[s]){const l={};s&4&&(l.name=i[2]+".duration"),s&203&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function Hwe(n,e,t){let{key:i}=e,{label:s}=e,{duration:l}=e,{secret:r}=e;function o(){l=jn(this.value),t(0,l)}const a=()=>{r?t(1,r=void 0):t(1,r=ee.randomString(50))};return n.$$set=f=>{"key"in f&&t(2,i=f.key),"label"in f&&t(3,s=f.label),"duration"in f&&t(0,l=f.duration),"secret"in f&&t(1,r=f.secret)},[l,r,i,s,o,a]}class CL extends ke{constructor(e){super(),ve(this,e,Hwe,zwe,De,{key:2,label:3,duration:0,secret:1})}}function m8(n,e,t){const i=n.slice();return i[19]=e[t],i[20]=e,i[21]=t,i}function g8(n,e,t){const i=n.slice();return i[19]=e[t],i[22]=e,i[23]=t,i}function qwe(n){let e,t,i=[],s=new Map,l,r,o,a,f,u=[],d=new Map,h,p,g,b,_,y,w,A,M,T,O,E=n[5];const R=F=>F[19].key;for(let F=0;F<E.length;F+=1){let B=g8(n,E,F),V=R(B);s.set(V,i[F]=b8(V,B))}let N=n[6];const j=F=>F[19].key;for(let F=0;F<N.length;F+=1){let B=m8(n,N,F),V=j(B);d.set(V,u[F]=_8(V,B))}let L=n[3]&&y8(n);return{c(){e=k("h3"),e.textContent="Record tokens",t=D();for(let F=0;F<i.length;F+=1)i[F].c();l=D(),r=k("hr"),o=D(),a=k("h3"),a.textContent="Admin tokens",f=D();for(let F=0;F<u.length;F+=1)u[F].c();h=D(),p=k("div"),g=k("div"),b=D(),L&&L.c(),_=D(),y=k("button"),w=k("span"),w.textContent="Save changes",m(e,"class","section-title"),m(a,"class","section-title"),m(g,"class","flex-fill"),m(w,"class","txt"),m(y,"type","submit"),m(y,"class","btn btn-expanded"),y.disabled=A=!n[3]||n[2],$(y,"btn-loading",n[2]),m(p,"class","flex")},m(F,B){C(F,e,B),C(F,t,B);for(let V=0;V<i.length;V+=1)i[V]&&i[V].m(F,B);C(F,l,B),C(F,r,B),C(F,o,B),C(F,a,B),C(F,f,B);for(let V=0;V<u.length;V+=1)u[V]&&u[V].m(F,B);C(F,h,B),C(F,p,B),v(p,g),v(p,b),L&&L.m(p,null),v(p,_),v(p,y),v(y,w),M=!0,T||(O=x(y,"click",n[16]),T=!0)},p(F,B){B&33&&(E=F[5],ue(),i=Cn(i,B,R,1,F,E,s,l.parentNode,ii,b8,l,g8),ce()),B&65&&(N=F[6],ue(),u=Cn(u,B,j,1,F,N,d,h.parentNode,ii,_8,h,m8),ce()),F[3]?L?L.p(F,B):(L=y8(F),L.c(),L.m(p,_)):L&&(L.d(1),L=null),(!M||B&12&&A!==(A=!F[3]||F[2]))&&(y.disabled=A),(!M||B&4)&&$(y,"btn-loading",F[2])},i(F){if(!M){for(let B=0;B<E.length;B+=1)P(i[B]);for(let B=0;B<N.length;B+=1)P(u[B]);M=!0}},o(F){for(let B=0;B<i.length;B+=1)I(i[B]);for(let B=0;B<u.length;B+=1)I(u[B]);M=!1},d(F){F&&S(e),F&&S(t);for(let B=0;B<i.length;B+=1)i[B].d(F);F&&S(l),F&&S(r),F&&S(o),F&&S(a),F&&S(f);for(let B=0;B<u.length;B+=1)u[B].d(F);F&&S(h),F&&S(p),L&&L.d(),T=!1,O()}}}function Wwe(n){let e;return{c(){e=k("div"),m(e,"class","loader")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function b8(n,e){let t,i,s,l,r;function o(u){e[11](u,e[19])}function a(u){e[12](u,e[19])}let f={key:e[19].key,label:e[19].label};return e[0][e[19].key].duration!==void 0&&(f.duration=e[0][e[19].key].duration),e[0][e[19].key].secret!==void 0&&(f.secret=e[0][e[19].key].secret),i=new CL({props:f}),de.push(()=>Ne(i,"duration",o)),de.push(()=>Ne(i,"secret",a)),{key:n,first:null,c(){t=Ee(),U(i.$$.fragment),this.first=t},m(u,d){C(u,t,d),q(i,u,d),r=!0},p(u,d){e=u;const h={};!s&&d&33&&(s=!0,h.duration=e[0][e[19].key].duration,Be(()=>s=!1)),!l&&d&33&&(l=!0,h.secret=e[0][e[19].key].secret,Be(()=>l=!1)),i.$set(h)},i(u){r||(P(i.$$.fragment,u),r=!0)},o(u){I(i.$$.fragment,u),r=!1},d(u){u&&S(t),W(i,u)}}}function _8(n,e){let t,i,s,l,r;function o(u){e[13](u,e[19])}function a(u){e[14](u,e[19])}let f={key:e[19].key,label:e[19].label};return e[0][e[19].key].duration!==void 0&&(f.duration=e[0][e[19].key].duration),e[0][e[19].key].secret!==void 0&&(f.secret=e[0][e[19].key].secret),i=new CL({props:f}),de.push(()=>Ne(i,"duration",o)),de.push(()=>Ne(i,"secret",a)),{key:n,first:null,c(){t=Ee(),U(i.$$.fragment),this.first=t},m(u,d){C(u,t,d),q(i,u,d),r=!0},p(u,d){e=u;const h={};!s&&d&65&&(s=!0,h.duration=e[0][e[19].key].duration,Be(()=>s=!1)),!l&&d&65&&(l=!0,h.secret=e[0][e[19].key].secret,Be(()=>l=!1)),i.$set(h)},i(u){r||(P(i.$$.fragment,u),r=!0)},o(u){I(i.$$.fragment,u),r=!1},d(u){u&&S(t),W(i,u)}}}function y8(n){let e,t,i,s;return{c(){e=k("button"),t=k("span"),t.textContent="Cancel",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent btn-hint"),e.disabled=n[2]},m(l,r){C(l,e,r),v(e,t),i||(s=x(e,"click",n[15]),i=!0)},p(l,r){r&4&&(e.disabled=l[2])},d(l){l&&S(e),i=!1,s()}}}function Uwe(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_;const y=[Wwe,qwe],w=[];function A(M,T){return M[1]?0:1}return h=A(n),p=w[h]=y[h](n),{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Settings",s=D(),l=k("div"),r=G(n[4]),o=D(),a=k("div"),f=k("form"),u=k("div"),u.innerHTML="<p>Adjust common token options.</p>",d=D(),p.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(u,"class","content m-b-sm txt-xl"),m(f,"class","panel"),m(f,"autocomplete","off"),m(a,"class","wrapper")},m(M,T){C(M,e,T),v(e,t),v(t,i),v(t,s),v(t,l),v(l,r),C(M,o,T),C(M,a,T),v(a,f),v(f,u),v(f,d),w[h].m(f,null),g=!0,b||(_=x(f,"submit",qt(n[7])),b=!0)},p(M,T){(!g||T&16)&&pe(r,M[4]);let O=h;h=A(M),h===O?w[h].p(M,T):(ue(),I(w[O],1,1,()=>{w[O]=null}),ce(),p=w[h],p?p.p(M,T):(p=w[h]=y[h](M),p.c()),P(p,1),p.m(f,null))},i(M){g||(P(p),g=!0)},o(M){I(p),g=!1},d(M){M&&S(e),M&&S(o),M&&S(a),w[h].d(),b=!1,_()}}}function Kwe(n){let e,t,i,s;return e=new ro({}),i=new Ls({props:{$$slots:{default:[Uwe]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment)},m(l,r){q(e,l,r),C(l,t,r),q(i,l,r),s=!0},p(l,[r]){const o={};r&16777247&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(P(e.$$.fragment,l),P(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){W(e,l),l&&S(t),W(i,l)}}}function Jwe(n,e,t){let i,s,l;Ht(n,si,O=>t(4,l=O));const r=[{key:"recordAuthToken",label:"Auth record authentication token"},{key:"recordVerificationToken",label:"Auth record email verification token"},{key:"recordPasswordResetToken",label:"Auth record password reset token"},{key:"recordEmailChangeToken",label:"Auth record email change token"},{key:"recordFileToken",label:"Records protected file access token"}],o=[{key:"adminAuthToken",label:"Admins auth token"},{key:"adminPasswordResetToken",label:"Admins password reset token"},{key:"adminFileToken",label:"Admins protected file access token"}];ss(si,l="Token options",l);let a={},f={},u=!1,d=!1;h();async function h(){t(1,u=!0);try{const O=await Re.settings.getAll()||{};g(O)}catch(O){Re.error(O)}t(1,u=!1)}async function p(){if(!(d||!s)){t(2,d=!0);try{const O=await Re.settings.update(ee.filterRedactedProps(f));g(O),fi("Successfully saved tokens options.")}catch(O){Re.error(O)}t(2,d=!1)}}function g(O){var R;O=O||{},t(0,f={});const E=r.concat(o);for(const N of E)t(0,f[N.key]={duration:((R=O[N.key])==null?void 0:R.duration)||0},f);t(9,a=JSON.parse(JSON.stringify(f)))}function b(){t(0,f=JSON.parse(JSON.stringify(a||{})))}function _(O,E){n.$$.not_equal(f[E.key].duration,O)&&(f[E.key].duration=O,t(0,f))}function y(O,E){n.$$.not_equal(f[E.key].secret,O)&&(f[E.key].secret=O,t(0,f))}function w(O,E){n.$$.not_equal(f[E.key].duration,O)&&(f[E.key].duration=O,t(0,f))}function A(O,E){n.$$.not_equal(f[E.key].secret,O)&&(f[E.key].secret=O,t(0,f))}const M=()=>b(),T=()=>p();return n.$$.update=()=>{n.$$.dirty&512&&t(10,i=JSON.stringify(a)),n.$$.dirty&1025&&t(3,s=i!=JSON.stringify(f))},[f,u,d,s,l,r,o,p,b,a,i,_,y,w,A,M,T]}class xwe extends ke{constructor(e){super(),ve(this,e,Jwe,Kwe,De,{})}}function Ywe(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g;return r=new BD({props:{content:n[2]}}),{c(){e=k("div"),e.innerHTML=`<p>Below you&#39;ll find your current collections configuration that you could import in
                        another PocketBase environment.</p>`,t=D(),i=k("div"),s=k("button"),s.innerHTML='<span class="txt">Copy</span>',l=D(),U(r.$$.fragment),o=D(),a=k("div"),f=k("div"),u=D(),d=k("button"),d.innerHTML=`<i class="ri-download-line"></i> 
                        <span class="txt">Download as JSON</span>`,m(e,"class","content txt-xl m-b-base"),m(s,"type","button"),m(s,"class","btn btn-sm btn-transparent fade copy-schema svelte-jm5c4z"),m(i,"tabindex","0"),m(i,"class","export-preview svelte-jm5c4z"),m(f,"class","flex-fill"),m(d,"type","button"),m(d,"class","btn btn-expanded"),m(a,"class","flex m-t-base")},m(b,_){C(b,e,_),C(b,t,_),C(b,i,_),v(i,s),v(i,l),q(r,i,null),n[8](i),C(b,o,_),C(b,a,_),v(a,f),v(a,u),v(a,d),h=!0,p||(g=[x(s,"click",n[7]),x(i,"keydown",n[9]),x(d,"click",n[10])],p=!0)},p(b,_){const y={};_&4&&(y.content=b[2]),r.$set(y)},i(b){h||(P(r.$$.fragment,b),h=!0)},o(b){I(r.$$.fragment,b),h=!1},d(b){b&&S(e),b&&S(t),b&&S(i),W(r),n[8](null),b&&S(o),b&&S(a),p=!1,Ke(g)}}}function Gwe(n){let e;return{c(){e=k("div"),m(e,"class","loader")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function Xwe(n){let e,t,i,s,l,r,o,a,f,u,d,h;const p=[Gwe,Ywe],g=[];function b(_,y){return _[1]?0:1}return u=b(n),d=g[u]=p[u](n),{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Settings",s=D(),l=k("div"),r=G(n[3]),o=D(),a=k("div"),f=k("div"),d.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(f,"class","panel"),m(a,"class","wrapper")},m(_,y){C(_,e,y),v(e,t),v(t,i),v(t,s),v(t,l),v(l,r),C(_,o,y),C(_,a,y),v(a,f),g[u].m(f,null),h=!0},p(_,y){(!h||y&8)&&pe(r,_[3]);let w=u;u=b(_),u===w?g[u].p(_,y):(ue(),I(g[w],1,1,()=>{g[w]=null}),ce(),d=g[u],d?d.p(_,y):(d=g[u]=p[u](_),d.c()),P(d,1),d.m(f,null))},i(_){h||(P(d),h=!0)},o(_){I(d),h=!1},d(_){_&&S(e),_&&S(o),_&&S(a),g[u].d()}}}function Zwe(n){let e,t,i,s;return e=new ro({}),i=new Ls({props:{$$slots:{default:[Xwe]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment)},m(l,r){q(e,l,r),C(l,t,r),q(i,l,r),s=!0},p(l,[r]){const o={};r&8207&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(P(e.$$.fragment,l),P(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){W(e,l),l&&S(t),W(i,l)}}}function Qwe(n,e,t){let i,s;Ht(n,si,_=>t(3,s=_)),ss(si,s="Export collections",s);const l="export_"+ee.randomString(5);let r,o=[],a=!1;f();async function f(){t(1,a=!0);try{t(6,o=await Re.collections.getFullList(100,{$cancelKey:l,sort:"updated"}));for(let _ of o)delete _.created,delete _.updated}catch(_){Re.error(_)}t(1,a=!1)}function u(){ee.downloadJson(o,"pb_schema")}function d(){ee.copyToClipboard(i),Ip("The configuration was copied to your clipboard!",3e3)}const h=()=>d();function p(_){de[_?"unshift":"push"](()=>{r=_,t(0,r)})}const g=_=>{if(_.ctrlKey&&_.code==="KeyA"){_.preventDefault();const y=window.getSelection(),w=document.createRange();w.selectNodeContents(r),y.removeAllRanges(),y.addRange(w)}},b=()=>u();return n.$$.update=()=>{n.$$.dirty&64&&t(2,i=JSON.stringify(o,null,4))},[r,a,i,s,u,d,o,h,p,g,b]}class $we extends ke{constructor(e){super(),ve(this,e,Qwe,Zwe,De,{})}}function v8(n,e,t){const i=n.slice();return i[14]=e[t],i}function k8(n,e,t){const i=n.slice();return i[17]=e[t][0],i[18]=e[t][1],i}function w8(n,e,t){const i=n.slice();return i[14]=e[t],i}function S8(n,e,t){const i=n.slice();return i[17]=e[t][0],i[23]=e[t][1],i}function C8(n,e,t){const i=n.slice();return i[14]=e[t],i}function M8(n,e,t){const i=n.slice();return i[17]=e[t][0],i[18]=e[t][1],i}function T8(n,e,t){const i=n.slice();return i[30]=e[t],i}function e3e(n){let e,t,i,s,l=n[1].name+"",r,o=n[9]&&A8(),a=n[0].name!==n[1].name&&O8(n);return{c(){e=k("div"),o&&o.c(),t=D(),a&&a.c(),i=D(),s=k("strong"),r=G(l),m(s,"class","txt"),m(e,"class","inline-flex fleg-gap-5")},m(f,u){C(f,e,u),o&&o.m(e,null),v(e,t),a&&a.m(e,null),v(e,i),v(e,s),v(s,r)},p(f,u){f[9]?o||(o=A8(),o.c(),o.m(e,t)):o&&(o.d(1),o=null),f[0].name!==f[1].name?a?a.p(f,u):(a=O8(f),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0]&2&&l!==(l=f[1].name+"")&&pe(r,l)},d(f){f&&S(e),o&&o.d(),a&&a.d()}}}function t3e(n){var r;let e,t,i,s=((r=n[0])==null?void 0:r.name)+"",l;return{c(){e=k("span"),e.textContent="Deleted",t=D(),i=k("strong"),l=G(s),m(e,"class","label label-danger")},m(o,a){C(o,e,a),C(o,t,a),C(o,i,a),v(i,l)},p(o,a){var f;a[0]&1&&s!==(s=((f=o[0])==null?void 0:f.name)+"")&&pe(l,s)},d(o){o&&S(e),o&&S(t),o&&S(i)}}}function n3e(n){var r;let e,t,i,s=((r=n[1])==null?void 0:r.name)+"",l;return{c(){e=k("span"),e.textContent="Added",t=D(),i=k("strong"),l=G(s),m(e,"class","label label-success")},m(o,a){C(o,e,a),C(o,t,a),C(o,i,a),v(i,l)},p(o,a){var f;a[0]&2&&s!==(s=((f=o[1])==null?void 0:f.name)+"")&&pe(l,s)},d(o){o&&S(e),o&&S(t),o&&S(i)}}}function A8(n){let e;return{c(){e=k("span"),e.textContent="Changed",m(e,"class","label label-warning")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function O8(n){let e,t=n[0].name+"",i,s,l;return{c(){e=k("strong"),i=G(t),s=D(),l=k("i"),m(e,"class","txt-strikethrough txt-hint"),m(l,"class","ri-arrow-right-line txt-sm")},m(r,o){C(r,e,o),v(e,i),C(r,s,o),C(r,l,o)},p(r,o){o[0]&1&&t!==(t=r[0].name+"")&&pe(i,t)},d(r){r&&S(e),r&&S(s),r&&S(l)}}}function E8(n){var _,y;let e,t,i,s=n[30]+"",l,r,o,a,f=n[12]((_=n[0])==null?void 0:_[n[30]])+"",u,d,h,p,g=n[12]((y=n[1])==null?void 0:y[n[30]])+"",b;return{c(){var w,A,M,T,O,E;e=k("tr"),t=k("td"),i=k("span"),l=G(s),r=D(),o=k("td"),a=k("pre"),u=G(f),d=D(),h=k("td"),p=k("pre"),b=G(g),m(t,"class","min-width svelte-lmkr38"),m(a,"class","txt"),m(o,"class","svelte-lmkr38"),$(o,"changed-old-col",!n[10]&&Ts((w=n[0])==null?void 0:w[n[30]],(A=n[1])==null?void 0:A[n[30]])),$(o,"changed-none-col",n[10]),m(p,"class","txt"),m(h,"class","svelte-lmkr38"),$(h,"changed-new-col",!n[5]&&Ts((M=n[0])==null?void 0:M[n[30]],(T=n[1])==null?void 0:T[n[30]])),$(h,"changed-none-col",n[5]),m(e,"class","svelte-lmkr38"),$(e,"txt-primary",Ts((O=n[0])==null?void 0:O[n[30]],(E=n[1])==null?void 0:E[n[30]]))},m(w,A){C(w,e,A),v(e,t),v(t,i),v(i,l),v(e,r),v(e,o),v(o,a),v(a,u),v(e,d),v(e,h),v(h,p),v(p,b)},p(w,A){var M,T,O,E,R,N,j,L;A[0]&1&&f!==(f=w[12]((M=w[0])==null?void 0:M[w[30]])+"")&&pe(u,f),A[0]&3075&&$(o,"changed-old-col",!w[10]&&Ts((T=w[0])==null?void 0:T[w[30]],(O=w[1])==null?void 0:O[w[30]])),A[0]&1024&&$(o,"changed-none-col",w[10]),A[0]&2&&g!==(g=w[12]((E=w[1])==null?void 0:E[w[30]])+"")&&pe(b,g),A[0]&2083&&$(h,"changed-new-col",!w[5]&&Ts((R=w[0])==null?void 0:R[w[30]],(N=w[1])==null?void 0:N[w[30]])),A[0]&32&&$(h,"changed-none-col",w[5]),A[0]&2051&&$(e,"txt-primary",Ts((j=w[0])==null?void 0:j[w[30]],(L=w[1])==null?void 0:L[w[30]]))},d(w){w&&S(e)}}}function P8(n){let e,t=n[6],i=[];for(let s=0;s<t.length;s+=1)i[s]=I8(C8(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Ee()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);C(s,e,l)},p(s,l){if(l[0]&4160){t=s[6];let r;for(r=0;r<t.length;r+=1){const o=C8(s,t,r);i[r]?i[r].p(o,l):(i[r]=I8(o),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(s){Ot(i,s),s&&S(e)}}}function D8(n){let e,t,i=n[17]+"",s,l,r,o,a=n[12](n[18])+"",f,u,d,h;return{c(){e=k("tr"),t=k("td"),s=G(i),l=D(),r=k("td"),o=k("pre"),f=G(a),u=D(),d=k("td"),h=D(),m(t,"class","min-width field-key-col svelte-lmkr38"),m(o,"class","txt"),m(r,"class","changed-old-col svelte-lmkr38"),m(d,"class","changed-none-col svelte-lmkr38"),m(e,"class","txt-primary svelte-lmkr38")},m(p,g){C(p,e,g),v(e,t),v(t,s),v(e,l),v(e,r),v(r,o),v(o,f),v(e,u),v(e,d),v(e,h)},p(p,g){g[0]&64&&i!==(i=p[17]+"")&&pe(s,i),g[0]&64&&a!==(a=p[12](p[18])+"")&&pe(f,a)},d(p){p&&S(e)}}}function I8(n){let e,t,i,s,l=n[14].name+"",r,o,a,f,u,d,h,p=n[14].name+"",g,b,_,y,w=Object.entries(n[14]),A=[];for(let M=0;M<w.length;M+=1)A[M]=D8(M8(n,w,M));return{c(){e=k("tr"),t=k("th"),i=k("span"),s=G("field: "),r=G(l),o=D(),a=k("span"),f=G("Deleted - "),u=k("small"),d=G("All stored data related to "),h=k("strong"),g=G(p),b=G(" will be deleted!"),_=D();for(let M=0;M<A.length;M+=1)A[M].c();y=Ee(),m(i,"class","txt"),m(a,"class","label label-danger m-l-5 svelte-lmkr38"),m(t,"class","min-width svelte-lmkr38"),m(t,"colspan","3"),m(e,"class","svelte-lmkr38")},m(M,T){C(M,e,T),v(e,t),v(t,i),v(i,s),v(i,r),v(t,o),v(t,a),v(a,f),v(a,u),v(u,d),v(u,h),v(h,g),v(u,b),C(M,_,T);for(let O=0;O<A.length;O+=1)A[O]&&A[O].m(M,T);C(M,y,T)},p(M,T){if(T[0]&64&&l!==(l=M[14].name+"")&&pe(r,l),T[0]&64&&p!==(p=M[14].name+"")&&pe(g,p),T[0]&4160){w=Object.entries(M[14]);let O;for(O=0;O<w.length;O+=1){const E=M8(M,w,O);A[O]?A[O].p(E,T):(A[O]=D8(E),A[O].c(),A[O].m(y.parentNode,y))}for(;O<A.length;O+=1)A[O].d(1);A.length=w.length}},d(M){M&&S(e),M&&S(_),Ot(A,M),M&&S(y)}}}function R8(n){let e;return{c(){e=k("span"),e.textContent="Changed",m(e,"class","label label-warning m-l-5 svelte-lmkr38")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function N8(n){var b;let e,t,i=n[17]+"",s,l,r,o,a=n[12]((b=nl(n[3],n[14].id))==null?void 0:b[n[17]])+"",f,u,d,h,p=n[12](n[23])+"",g;return{c(){var _,y,w;e=k("tr"),t=k("td"),s=G(i),l=D(),r=k("td"),o=k("pre"),f=G(a),u=D(),d=k("td"),h=k("pre"),g=G(p),m(t,"class","min-width field-key-col svelte-lmkr38"),m(o,"class","txt"),m(r,"class","svelte-lmkr38"),$(r,"changed-old-col",Ts((_=nl(n[3],n[14].id))==null?void 0:_[n[17]],n[23])),m(h,"class","txt"),m(d,"class","svelte-lmkr38"),$(d,"changed-new-col",Ts((y=nl(n[3],n[14].id))==null?void 0:y[n[17]],n[23])),m(e,"class","svelte-lmkr38"),$(e,"txt-primary",Ts((w=nl(n[3],n[14].id))==null?void 0:w[n[17]],n[23]))},m(_,y){C(_,e,y),v(e,t),v(t,s),v(e,l),v(e,r),v(r,o),v(o,f),v(e,u),v(e,d),v(d,h),v(h,g)},p(_,y){var w,A,M,T;y[0]&128&&i!==(i=_[17]+"")&&pe(s,i),y[0]&136&&a!==(a=_[12]((w=nl(_[3],_[14].id))==null?void 0:w[_[17]])+"")&&pe(f,a),y[0]&136&&$(r,"changed-old-col",Ts((A=nl(_[3],_[14].id))==null?void 0:A[_[17]],_[23])),y[0]&128&&p!==(p=_[12](_[23])+"")&&pe(g,p),y[0]&136&&$(d,"changed-new-col",Ts((M=nl(_[3],_[14].id))==null?void 0:M[_[17]],_[23])),y[0]&136&&$(e,"txt-primary",Ts((T=nl(_[3],_[14].id))==null?void 0:T[_[17]],_[23]))},d(_){_&&S(e)}}}function L8(n){let e,t,i,s,l=n[14].name+"",r,o,a=Ts(nl(n[3],n[14].id),nl(n[4],n[14].id)),f,u,d=a&&R8(),h=Object.entries(n[14]),p=[];for(let g=0;g<h.length;g+=1)p[g]=N8(S8(n,h,g));return{c(){e=k("tr"),t=k("th"),i=k("span"),s=G("field: "),r=G(l),o=D(),d&&d.c(),f=D();for(let g=0;g<p.length;g+=1)p[g].c();u=Ee(),m(i,"class","txt"),m(t,"class","min-width svelte-lmkr38"),m(t,"colspan","3"),m(e,"class","svelte-lmkr38")},m(g,b){C(g,e,b),v(e,t),v(t,i),v(i,s),v(i,r),v(t,o),d&&d.m(t,null),C(g,f,b);for(let _=0;_<p.length;_+=1)p[_]&&p[_].m(g,b);C(g,u,b)},p(g,b){if(b[0]&128&&l!==(l=g[14].name+"")&&pe(r,l),b[0]&152&&(a=Ts(nl(g[3],g[14].id),nl(g[4],g[14].id))),a?d||(d=R8(),d.c(),d.m(t,null)):d&&(d.d(1),d=null),b[0]&4232){h=Object.entries(g[14]);let _;for(_=0;_<h.length;_+=1){const y=S8(g,h,_);p[_]?p[_].p(y,b):(p[_]=N8(y),p[_].c(),p[_].m(u.parentNode,u))}for(;_<p.length;_+=1)p[_].d(1);p.length=h.length}},d(g){g&&S(e),d&&d.d(),g&&S(f),Ot(p,g),g&&S(u)}}}function F8(n){let e,t,i=n[17]+"",s,l,r,o,a,f,u=n[12](n[18])+"",d,h;return{c(){e=k("tr"),t=k("td"),s=G(i),l=D(),r=k("td"),o=D(),a=k("td"),f=k("pre"),d=G(u),h=D(),m(t,"class","min-width field-key-col svelte-lmkr38"),m(r,"class","changed-none-col svelte-lmkr38"),m(f,"class","txt"),m(a,"class","changed-new-col svelte-lmkr38"),m(e,"class","txt-primary svelte-lmkr38")},m(p,g){C(p,e,g),v(e,t),v(t,s),v(e,l),v(e,r),v(e,o),v(e,a),v(a,f),v(f,d),v(e,h)},p(p,g){g[0]&256&&i!==(i=p[17]+"")&&pe(s,i),g[0]&256&&u!==(u=p[12](p[18])+"")&&pe(d,u)},d(p){p&&S(e)}}}function j8(n){let e,t,i,s,l=n[14].name+"",r,o,a,f,u,d=Object.entries(n[14]),h=[];for(let p=0;p<d.length;p+=1)h[p]=F8(k8(n,d,p));return{c(){e=k("tr"),t=k("th"),i=k("span"),s=G("field: "),r=G(l),o=D(),a=k("span"),a.textContent="Added",f=D();for(let p=0;p<h.length;p+=1)h[p].c();u=Ee(),m(i,"class","txt"),m(a,"class","label label-success m-l-5 svelte-lmkr38"),m(t,"class","min-width svelte-lmkr38"),m(t,"colspan","3"),m(e,"class","svelte-lmkr38")},m(p,g){C(p,e,g),v(e,t),v(t,i),v(i,s),v(i,r),v(t,o),v(t,a),C(p,f,g);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(p,g);C(p,u,g)},p(p,g){if(g[0]&256&&l!==(l=p[14].name+"")&&pe(r,l),g[0]&4352){d=Object.entries(p[14]);let b;for(b=0;b<d.length;b+=1){const _=k8(p,d,b);h[b]?h[b].p(_,g):(h[b]=F8(_),h[b].c(),h[b].m(u.parentNode,u))}for(;b<h.length;b+=1)h[b].d(1);h.length=d.length}},d(p){p&&S(e),p&&S(f),Ot(h,p),p&&S(u)}}}function i3e(n){let e,t,i,s,l,r,o,a,f;function u(M,T){var O,E;return(O=M[0])!=null&&O.id?(E=M[1])!=null&&E.id?e3e:t3e:n3e}let d=u(n),h=d(n),p=n[11],g=[];for(let M=0;M<p.length;M+=1)g[M]=E8(T8(n,p,M));let b=(n[2]||n[5])&&P8(n),_=n[7],y=[];for(let M=0;M<_.length;M+=1)y[M]=L8(w8(n,_,M));let w=n[8],A=[];for(let M=0;M<w.length;M+=1)A[M]=j8(v8(n,w,M));return{c(){e=k("div"),h.c(),t=D(),i=k("table"),s=k("thead"),s.innerHTML=`<tr class="svelte-lmkr38"><th class="svelte-lmkr38">Props</th> 
            <th width="10%" class="svelte-lmkr38">Old</th> 
            <th width="10%" class="svelte-lmkr38">New</th></tr>`,l=D(),r=k("tbody");for(let M=0;M<g.length;M+=1)g[M].c();o=D(),b&&b.c(),a=D();for(let M=0;M<y.length;M+=1)y[M].c();f=D();for(let M=0;M<A.length;M+=1)A[M].c();m(e,"class","section-title"),m(i,"class","table collections-diff-table m-b-base svelte-lmkr38")},m(M,T){C(M,e,T),h.m(e,null),C(M,t,T),C(M,i,T),v(i,s),v(i,l),v(i,r);for(let O=0;O<g.length;O+=1)g[O]&&g[O].m(r,null);v(r,o),b&&b.m(r,null),v(r,a);for(let O=0;O<y.length;O+=1)y[O]&&y[O].m(r,null);v(r,f);for(let O=0;O<A.length;O+=1)A[O]&&A[O].m(r,null)},p(M,T){if(d===(d=u(M))&&h?h.p(M,T):(h.d(1),h=d(M),h&&(h.c(),h.m(e,null))),T[0]&7203){p=M[11];let O;for(O=0;O<p.length;O+=1){const E=T8(M,p,O);g[O]?g[O].p(E,T):(g[O]=E8(E),g[O].c(),g[O].m(r,o))}for(;O<g.length;O+=1)g[O].d(1);g.length=p.length}if(M[2]||M[5]?b?b.p(M,T):(b=P8(M),b.c(),b.m(r,a)):b&&(b.d(1),b=null),T[0]&4248){_=M[7];let O;for(O=0;O<_.length;O+=1){const E=w8(M,_,O);y[O]?y[O].p(E,T):(y[O]=L8(E),y[O].c(),y[O].m(r,f))}for(;O<y.length;O+=1)y[O].d(1);y.length=_.length}if(T[0]&4352){w=M[8];let O;for(O=0;O<w.length;O+=1){const E=v8(M,w,O);A[O]?A[O].p(E,T):(A[O]=j8(E),A[O].c(),A[O].m(r,null))}for(;O<A.length;O+=1)A[O].d(1);A.length=w.length}},i:te,o:te,d(M){M&&S(e),h.d(),M&&S(t),M&&S(i),Ot(g,M),b&&b.d(),Ot(y,M),Ot(A,M)}}}function nl(n,e){n=n||[];for(let t of n)if(t.id==e)return t;return null}function Ts(n,e){return n===e?!1:JSON.stringify(n)!==JSON.stringify(e)}function s3e(n,e,t){let i,s,l,{collectionA:r=new Is}=e,{collectionB:o=new Is}=e,{deleteMissing:a=!1}=e,f=[],u=[],d=[],h=[],p=[];const g=Object.keys(new Is().$export()).filter(y=>!["schema","created","updated"].includes(y));function b(){t(4,u=Array.isArray(o==null?void 0:o.schema)?o==null?void 0:o.schema.concat():[]),a||t(4,u=u.concat(f.filter(y=>!u.find(w=>y.id==w.id))))}function _(y){return typeof y>"u"?"":ee.isObject(y)?JSON.stringify(y,null,4):y}return n.$$set=y=>{"collectionA"in y&&t(0,r=y.collectionA),"collectionB"in y&&t(1,o=y.collectionB),"deleteMissing"in y&&t(2,a=y.deleteMissing)},n.$$.update=()=>{n.$$.dirty[0]&2&&t(5,i=!(o!=null&&o.id)&&!(o!=null&&o.name)),n.$$.dirty[0]&33&&t(10,s=!i&&!(r!=null&&r.id)),n.$$.dirty[0]&1&&t(3,f=Array.isArray(r==null?void 0:r.schema)?r==null?void 0:r.schema.concat():[]),n.$$.dirty[0]&7&&(typeof(r==null?void 0:r.schema)<"u"||typeof(o==null?void 0:o.schema)<"u"||typeof a<"u")&&b(),n.$$.dirty[0]&24&&t(6,d=f.filter(y=>!u.find(w=>y.id==w.id))),n.$$.dirty[0]&24&&t(7,h=u.filter(y=>f.find(w=>w.id==y.id))),n.$$.dirty[0]&24&&t(8,p=u.filter(y=>!f.find(w=>w.id==y.id))),n.$$.dirty[0]&7&&t(9,l=ee.hasCollectionChanges(r,o,a))},[r,o,a,f,u,i,d,h,p,l,s,g,_]}class l3e extends ke{constructor(e){super(),ve(this,e,s3e,i3e,De,{collectionA:0,collectionB:1,deleteMissing:2},null,[-1,-1])}}function B8(n,e,t){const i=n.slice();return i[17]=e[t],i}function V8(n){let e,t;return e=new l3e({props:{collectionA:n[17].old,collectionB:n[17].new,deleteMissing:n[3]}}),{c(){U(e.$$.fragment)},m(i,s){q(e,i,s),t=!0},p(i,s){const l={};s&4&&(l.collectionA=i[17].old),s&4&&(l.collectionB=i[17].new),s&8&&(l.deleteMissing=i[3]),e.$set(l)},i(i){t||(P(e.$$.fragment,i),t=!0)},o(i){I(e.$$.fragment,i),t=!1},d(i){W(e,i)}}}function r3e(n){let e,t,i=n[2],s=[];for(let r=0;r<i.length;r+=1)s[r]=V8(B8(n,i,r));const l=r=>I(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=Ee()},m(r,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(r,o);C(r,e,o),t=!0},p(r,o){if(o&12){i=r[2];let a;for(a=0;a<i.length;a+=1){const f=B8(r,i,a);s[a]?(s[a].p(f,o),P(s[a],1)):(s[a]=V8(f),s[a].c(),P(s[a],1),s[a].m(e.parentNode,e))}for(ue(),a=i.length;a<s.length;a+=1)l(a);ce()}},i(r){if(!t){for(let o=0;o<i.length;o+=1)P(s[o]);t=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)I(s[o]);t=!1},d(r){Ot(s,r),r&&S(e)}}}function o3e(n){let e;return{c(){e=k("h4"),e.textContent="Side-by-side diff",m(e,"class","center txt-break")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function a3e(n){let e,t,i,s,l,r,o;return{c(){e=k("button"),t=G("Close"),i=D(),s=k("button"),l=k("span"),l.textContent="Confirm and import",m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[4],m(l,"class","txt"),m(s,"type","button"),m(s,"class","btn btn-expanded"),s.disabled=n[4],$(s,"btn-loading",n[4])},m(a,f){C(a,e,f),v(e,t),C(a,i,f),C(a,s,f),v(s,l),r||(o=[x(e,"click",n[0]),x(s,"click",n[9])],r=!0)},p(a,f){f&16&&(e.disabled=a[4]),f&16&&(s.disabled=a[4]),f&16&&$(s,"btn-loading",a[4])},d(a){a&&S(e),a&&S(i),a&&S(s),r=!1,Ke(o)}}}function f3e(n){let e,t,i={class:"full-width-popup import-popup",overlayClose:!1,escClose:!n[4],beforeHide:n[10],popup:!0,$$slots:{footer:[a3e],header:[o3e],default:[r3e]},$$scope:{ctx:n}};return e=new rs({props:i}),n[11](e),e.$on("show",n[12]),e.$on("hide",n[13]),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,[l]){const r={};l&16&&(r.escClose=!s[4]),l&16&&(r.beforeHide=s[10]),l&1048604&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[11](null),W(e,s)}}}function u3e(n,e,t){const i=Hn();let s,l=[],r=[],o=[],a=!1,f=!1;function u(M,T,O=!1){t(7,l=M),t(8,r=T),t(3,a=O),s==null||s.show()}function d(){return s==null?void 0:s.hide()}function h(){t(2,o=[]);for(const M of l){const T=ee.findByKey(r,"id",M.id)||null;(a&&!(T!=null&&T.id)||T!=null&&T.id&&ee.hasCollectionChanges(M,T,a))&&o.push({old:M,new:T})}for(const M of r){const T=ee.findByKey(l,"id",M.id)||null;T!=null&&T.id||o.push({old:T,new:M})}}function p(){const M=[];if(a)for(const T of l){const O=ee.findByKey(r,"id",T.id);if(!O)M.push(T.name+".*");else{const E=Array.isArray(T.schema)?T.schema:[];for(const R of E)ee.findByKey(O.schema,"id",R.id)||M.push(`${T.name}.${R.name} (${R.id})`)}}M.length?ds(`Do you really want to delete the following collection fields and their related records data:
- ${M.join(`
- `)}`,()=>{g()}):g()}async function g(){if(!f){t(4,f=!0);try{await Re.collections.import(r,a),fi("Successfully imported collections configuration."),i("submit")}catch(M){Re.error(M)}t(4,f=!1),d()}}const b=()=>p(),_=()=>!f;function y(M){de[M?"unshift":"push"](()=>{s=M,t(1,s)})}function w(M){ht.call(this,n,M)}function A(M){ht.call(this,n,M)}return n.$$.update=()=>{n.$$.dirty&384&&Array.isArray(l)&&Array.isArray(r)&&h()},[d,s,o,a,f,p,u,l,r,b,_,y,w,A]}class c3e extends ke{constructor(e){super(),ve(this,e,u3e,f3e,De,{show:6,hide:0})}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[0]}}function z8(n,e,t){const i=n.slice();return i[32]=e[t],i}function H8(n,e,t){const i=n.slice();return i[35]=e[t],i}function q8(n,e,t){const i=n.slice();return i[32]=e[t],i}function d3e(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E;a=new ze({props:{class:"form-field "+(n[6]?"":"field-error"),name:"collections",$$slots:{default:[p3e,({uniqueId:B})=>({40:B}),({uniqueId:B})=>[0,B?512:0]]},$$scope:{ctx:n}}});let R=!1,N=n[6]&&n[1].length&&!n[7]&&U8(),j=n[6]&&n[1].length&&n[7]&&K8(n),L=n[13].length&&nE(n),F=!!n[0]&&iE(n);return{c(){e=k("input"),t=D(),i=k("div"),s=k("p"),l=G(`Paste below the collections configuration you want to import or
                        `),r=k("button"),r.innerHTML='<span class="txt">Load from JSON file</span>',o=D(),U(a.$$.fragment),f=D(),u=D(),N&&N.c(),d=D(),j&&j.c(),h=D(),L&&L.c(),p=D(),g=k("div"),F&&F.c(),b=D(),_=k("div"),y=D(),w=k("button"),A=k("span"),A.textContent="Review",m(e,"type","file"),m(e,"class","hidden"),m(e,"accept",".json"),m(r,"class","btn btn-outline btn-sm m-l-5"),$(r,"btn-loading",n[12]),m(i,"class","content txt-xl m-b-base"),m(_,"class","flex-fill"),m(A,"class","txt"),m(w,"type","button"),m(w,"class","btn btn-expanded btn-warning m-l-auto"),w.disabled=M=!n[14],m(g,"class","flex m-t-base")},m(B,V){C(B,e,V),n[19](e),C(B,t,V),C(B,i,V),v(i,s),v(s,l),v(s,r),C(B,o,V),q(a,B,V),C(B,f,V),C(B,u,V),N&&N.m(B,V),C(B,d,V),j&&j.m(B,V),C(B,h,V),L&&L.m(B,V),C(B,p,V),C(B,g,V),F&&F.m(g,null),v(g,b),v(g,_),v(g,y),v(g,w),v(w,A),T=!0,O||(E=[x(e,"change",n[20]),x(r,"click",n[21]),x(w,"click",n[26])],O=!0)},p(B,V){(!T||V[0]&4096)&&$(r,"btn-loading",B[12]);const H={};V[0]&64&&(H.class="form-field "+(B[6]?"":"field-error")),V[0]&65|V[1]&1536&&(H.$$scope={dirty:V,ctx:B}),a.$set(H),B[6]&&B[1].length&&!B[7]?N||(N=U8(),N.c(),N.m(d.parentNode,d)):N&&(N.d(1),N=null),B[6]&&B[1].length&&B[7]?j?j.p(B,V):(j=K8(B),j.c(),j.m(h.parentNode,h)):j&&(j.d(1),j=null),B[13].length?L?L.p(B,V):(L=nE(B),L.c(),L.m(p.parentNode,p)):L&&(L.d(1),L=null),B[0]?F?F.p(B,V):(F=iE(B),F.c(),F.m(g,b)):F&&(F.d(1),F=null),(!T||V[0]&16384&&M!==(M=!B[14]))&&(w.disabled=M)},i(B){T||(P(a.$$.fragment,B),P(R),T=!0)},o(B){I(a.$$.fragment,B),I(R),T=!1},d(B){B&&S(e),n[19](null),B&&S(t),B&&S(i),B&&S(o),W(a,B),B&&S(f),B&&S(u),N&&N.d(B),B&&S(d),j&&j.d(B),B&&S(h),L&&L.d(B),B&&S(p),B&&S(g),F&&F.d(),O=!1,Ke(E)}}}function h3e(n){let e;return{c(){e=k("div"),m(e,"class","loader")},m(t,i){C(t,e,i)},p:te,i:te,o:te,d(t){t&&S(e)}}}function W8(n){let e;return{c(){e=k("div"),e.textContent="Invalid collections configuration.",m(e,"class","help-block help-block-error")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function p3e(n){let e,t,i,s,l,r,o,a,f,u,d=!!n[0]&&!n[6]&&W8();return{c(){e=k("label"),t=G("Collections"),s=D(),l=k("textarea"),o=D(),d&&d.c(),a=Ee(),m(e,"for",i=n[40]),m(e,"class","p-b-10"),m(l,"id",r=n[40]),m(l,"class","code"),m(l,"spellcheck","false"),m(l,"rows","15"),l.required=!0},m(h,p){C(h,e,p),v(e,t),C(h,s,p),C(h,l,p),Ae(l,n[0]),C(h,o,p),d&&d.m(h,p),C(h,a,p),f||(u=x(l,"input",n[22]),f=!0)},p(h,p){p[1]&512&&i!==(i=h[40])&&m(e,"for",i),p[1]&512&&r!==(r=h[40])&&m(l,"id",r),p[0]&1&&Ae(l,h[0]),h[0]&&!h[6]?d||(d=W8(),d.c(),d.m(a.parentNode,a)):d&&(d.d(1),d=null)},d(h){h&&S(e),h&&S(s),h&&S(l),h&&S(o),d&&d.d(h),h&&S(a),f=!1,u()}}}function U8(n){let e;return{c(){e=k("div"),e.innerHTML=`<div class="icon"><i class="ri-information-line"></i></div> 
                        <div class="content"><string>Your collections configuration is already up-to-date!</string></div>`,m(e,"class","alert alert-info")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function K8(n){let e,t,i,s,l,r=n[9].length&&J8(n),o=n[4].length&&G8(n),a=n[8].length&&$8(n);return{c(){e=k("h5"),e.textContent="Detected changes",t=D(),i=k("div"),r&&r.c(),s=D(),o&&o.c(),l=D(),a&&a.c(),m(e,"class","section-title"),m(i,"class","list")},m(f,u){C(f,e,u),C(f,t,u),C(f,i,u),r&&r.m(i,null),v(i,s),o&&o.m(i,null),v(i,l),a&&a.m(i,null)},p(f,u){f[9].length?r?r.p(f,u):(r=J8(f),r.c(),r.m(i,s)):r&&(r.d(1),r=null),f[4].length?o?o.p(f,u):(o=G8(f),o.c(),o.m(i,l)):o&&(o.d(1),o=null),f[8].length?a?a.p(f,u):(a=$8(f),a.c(),a.m(i,null)):a&&(a.d(1),a=null)},d(f){f&&S(e),f&&S(t),f&&S(i),r&&r.d(),o&&o.d(),a&&a.d()}}}function J8(n){let e=[],t=new Map,i,s=n[9];const l=r=>r[32].id;for(let r=0;r<s.length;r+=1){let o=q8(n,s,r),a=l(o);t.set(a,e[r]=Y8(a,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Ee()},m(r,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,o);C(r,i,o)},p(r,o){o[0]&512&&(s=r[9],e=Cn(e,o,l,1,r,s,t,i.parentNode,Ko,Y8,i,q8))},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&S(i)}}}function x8(n){let e,t,i=n[32].id+"",s,l;return{c(){e=k("small"),t=G("("),s=G(i),l=G(")"),m(e,"class","txt-hint")},m(r,o){C(r,e,o),v(e,t),v(e,s),v(e,l)},p(r,o){o[0]&512&&i!==(i=r[32].id+"")&&pe(s,i)},d(r){r&&S(e)}}}function Y8(n,e){let t,i,s,l,r=e[32].name+"",o,a,f,u=e[32].id&&x8(e);return{key:n,first:null,c(){t=k("div"),i=k("span"),i.textContent="Deleted",s=D(),l=k("strong"),o=G(r),a=D(),u&&u.c(),f=D(),m(i,"class","label label-danger list-label svelte-1jx20fl"),m(t,"class","list-item"),this.first=t},m(d,h){C(d,t,h),v(t,i),v(t,s),v(t,l),v(l,o),v(t,a),u&&u.m(t,null),v(t,f)},p(d,h){e=d,h[0]&512&&r!==(r=e[32].name+"")&&pe(o,r),e[32].id?u?u.p(e,h):(u=x8(e),u.c(),u.m(t,f)):u&&(u.d(1),u=null)},d(d){d&&S(t),u&&u.d()}}}function G8(n){let e=[],t=new Map,i,s=n[4];const l=r=>r[35].old.id+r[35].new.id;for(let r=0;r<s.length;r+=1){let o=H8(n,s,r),a=l(o);t.set(a,e[r]=Q8(a,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Ee()},m(r,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,o);C(r,i,o)},p(r,o){o[0]&16&&(s=r[4],e=Cn(e,o,l,1,r,s,t,i.parentNode,Ko,Q8,i,H8))},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&S(i)}}}function X8(n){let e,t=n[35].old.name+"",i,s,l;return{c(){e=k("strong"),i=G(t),s=D(),l=k("i"),m(e,"class","txt-strikethrough txt-hint"),m(l,"class","ri-arrow-right-line txt-sm")},m(r,o){C(r,e,o),v(e,i),C(r,s,o),C(r,l,o)},p(r,o){o[0]&16&&t!==(t=r[35].old.name+"")&&pe(i,t)},d(r){r&&S(e),r&&S(s),r&&S(l)}}}function Z8(n){let e,t,i=n[35].new.id+"",s,l;return{c(){e=k("small"),t=G("("),s=G(i),l=G(")"),m(e,"class","txt-hint")},m(r,o){C(r,e,o),v(e,t),v(e,s),v(e,l)},p(r,o){o[0]&16&&i!==(i=r[35].new.id+"")&&pe(s,i)},d(r){r&&S(e)}}}function Q8(n,e){let t,i,s,l,r,o,a=e[35].new.name+"",f,u,d,h=e[35].old.name!==e[35].new.name&&X8(e),p=e[35].new.id&&Z8(e);return{key:n,first:null,c(){t=k("div"),i=k("span"),i.textContent="Changed",s=D(),l=k("div"),h&&h.c(),r=D(),o=k("strong"),f=G(a),u=D(),p&&p.c(),d=D(),m(i,"class","label label-warning list-label svelte-1jx20fl"),m(l,"class","inline-flex flex-gap-5"),m(t,"class","list-item"),this.first=t},m(g,b){C(g,t,b),v(t,i),v(t,s),v(t,l),h&&h.m(l,null),v(l,r),v(l,o),v(o,f),v(l,u),p&&p.m(l,null),v(t,d)},p(g,b){e=g,e[35].old.name!==e[35].new.name?h?h.p(e,b):(h=X8(e),h.c(),h.m(l,r)):h&&(h.d(1),h=null),b[0]&16&&a!==(a=e[35].new.name+"")&&pe(f,a),e[35].new.id?p?p.p(e,b):(p=Z8(e),p.c(),p.m(l,null)):p&&(p.d(1),p=null)},d(g){g&&S(t),h&&h.d(),p&&p.d()}}}function $8(n){let e=[],t=new Map,i,s=n[8];const l=r=>r[32].id;for(let r=0;r<s.length;r+=1){let o=z8(n,s,r),a=l(o);t.set(a,e[r]=tE(a,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Ee()},m(r,o){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,o);C(r,i,o)},p(r,o){o[0]&256&&(s=r[8],e=Cn(e,o,l,1,r,s,t,i.parentNode,Ko,tE,i,z8))},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&S(i)}}}function eE(n){let e,t,i=n[32].id+"",s,l;return{c(){e=k("small"),t=G("("),s=G(i),l=G(")"),m(e,"class","txt-hint")},m(r,o){C(r,e,o),v(e,t),v(e,s),v(e,l)},p(r,o){o[0]&256&&i!==(i=r[32].id+"")&&pe(s,i)},d(r){r&&S(e)}}}function tE(n,e){let t,i,s,l,r=e[32].name+"",o,a,f,u=e[32].id&&eE(e);return{key:n,first:null,c(){t=k("div"),i=k("span"),i.textContent="Added",s=D(),l=k("strong"),o=G(r),a=D(),u&&u.c(),f=D(),m(i,"class","label label-success list-label svelte-1jx20fl"),m(t,"class","list-item"),this.first=t},m(d,h){C(d,t,h),v(t,i),v(t,s),v(t,l),v(l,o),v(t,a),u&&u.m(t,null),v(t,f)},p(d,h){e=d,h[0]&256&&r!==(r=e[32].name+"")&&pe(o,r),e[32].id?u?u.p(e,h):(u=eE(e),u.c(),u.m(t,f)):u&&(u.d(1),u=null)},d(d){d&&S(t),u&&u.d()}}}function nE(n){let e,t,i,s,l,r,o,a;return{c(){e=k("div"),t=k("div"),t.innerHTML='<i class="ri-error-warning-line"></i>',i=D(),s=k("div"),s.innerHTML=`<string>Some of the imported collections share the same name and/or fields but are
                                imported with different IDs. You can replace them in the import if you want
                                to.</string>`,l=D(),r=k("button"),r.innerHTML='<span class="txt">Replace with original ids</span>',m(t,"class","icon"),m(s,"class","content"),m(r,"type","button"),m(r,"class","btn btn-warning btn-sm btn-outline"),m(e,"class","alert alert-warning m-t-base")},m(f,u){C(f,e,u),v(e,t),v(e,i),v(e,s),v(e,l),v(e,r),o||(a=x(r,"click",n[24]),o=!0)},p:te,d(f){f&&S(e),o=!1,a()}}}function iE(n){let e,t,i;return{c(){e=k("button"),e.innerHTML='<span class="txt">Clear</span>',m(e,"type","button"),m(e,"class","btn btn-transparent link-hint")},m(s,l){C(s,e,l),t||(i=x(e,"click",n[25]),t=!0)},p:te,d(s){s&&S(e),t=!1,i()}}}function m3e(n){let e,t,i,s,l,r,o,a,f,u,d,h;const p=[h3e,d3e],g=[];function b(_,y){return _[5]?0:1}return u=b(n),d=g[u]=p[u](n),{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Settings",s=D(),l=k("div"),r=G(n[15]),o=D(),a=k("div"),f=k("div"),d.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(f,"class","panel"),m(a,"class","wrapper")},m(_,y){C(_,e,y),v(e,t),v(t,i),v(t,s),v(t,l),v(l,r),C(_,o,y),C(_,a,y),v(a,f),g[u].m(f,null),h=!0},p(_,y){(!h||y[0]&32768)&&pe(r,_[15]);let w=u;u=b(_),u===w?g[u].p(_,y):(ue(),I(g[w],1,1,()=>{g[w]=null}),ce(),d=g[u],d?d.p(_,y):(d=g[u]=p[u](_),d.c()),P(d,1),d.m(f,null))},i(_){h||(P(d),h=!0)},o(_){I(d),h=!1},d(_){_&&S(e),_&&S(o),_&&S(a),g[u].d()}}}function g3e(n){let e,t,i,s,l,r;e=new ro({}),i=new Ls({props:{$$slots:{default:[m3e]},$$scope:{ctx:n}}});let o={};return l=new c3e({props:o}),n[27](l),l.$on("submit",n[28]),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment),s=D(),U(l.$$.fragment)},m(a,f){q(e,a,f),C(a,t,f),q(i,a,f),C(a,s,f),q(l,a,f),r=!0},p(a,f){const u={};f[0]&65535|f[1]&1024&&(u.$$scope={dirty:f,ctx:a}),i.$set(u);const d={};l.$set(d)},i(a){r||(P(e.$$.fragment,a),P(i.$$.fragment,a),P(l.$$.fragment,a),r=!0)},o(a){I(e.$$.fragment,a),I(i.$$.fragment,a),I(l.$$.fragment,a),r=!1},d(a){W(e,a),a&&S(t),W(i,a),a&&S(s),n[27](null),W(l,a)}}}function b3e(n,e,t){let i,s,l,r,o,a,f;Ht(n,si,z=>t(15,f=z)),ss(si,f="Import collections",f);let u,d,h="",p=!1,g=[],b=[],_=!0,y=[],w=!1;A();async function A(){t(5,w=!0);try{t(2,b=await Re.collections.getFullList(200));for(let z of b)delete z.created,delete z.updated}catch(z){Re.error(z)}t(5,w=!1)}function M(){if(t(4,y=[]),!!i)for(let z of g){const Z=ee.findByKey(b,"id",z.id);!(Z!=null&&Z.id)||!ee.hasCollectionChanges(Z,z,_)||y.push({new:z,old:Z})}}function T(){t(1,g=[]);try{t(1,g=JSON.parse(h))}catch{}Array.isArray(g)?t(1,g=ee.filterDuplicatesByKey(g)):t(1,g=[]);for(let z of g)delete z.created,delete z.updated,z.schema=ee.filterDuplicatesByKey(z.schema)}function O(){var z,Z;for(let Y of g){const oe=ee.findByKey(b,"name",Y.name)||ee.findByKey(b,"id",Y.id);if(!oe)continue;const re=Y.id,Q=oe.id;Y.id=Q;const me=Array.isArray(oe.schema)?oe.schema:[],qe=Array.isArray(Y.schema)?Y.schema:[];for(const be of qe){const Ie=ee.findByKey(me,"name",be.name);Ie&&Ie.id&&(be.id=Ie.id)}for(let be of g)if(Array.isArray(be.schema))for(let Ie of be.schema)(z=Ie.options)!=null&&z.collectionId&&((Z=Ie.options)==null?void 0:Z.collectionId)===re&&(Ie.options.collectionId=Q)}t(0,h=JSON.stringify(g,null,4))}function E(z){t(12,p=!0);const Z=new FileReader;Z.onload=async Y=>{t(12,p=!1),t(10,u.value="",u),t(0,h=Y.target.result),await nn(),g.length||(br("Invalid collections configuration."),R())},Z.onerror=Y=>{console.warn(Y),br("Failed to load the imported JSON."),t(12,p=!1),t(10,u.value="",u)},Z.readAsText(z)}function R(){t(0,h=""),t(10,u.value="",u),Ki({})}function N(z){de[z?"unshift":"push"](()=>{u=z,t(10,u)})}const j=()=>{u.files.length&&E(u.files[0])},L=()=>{u.click()};function F(){h=this.value,t(0,h)}function B(){_=this.checked,t(3,_)}const V=()=>O(),H=()=>R(),K=()=>d==null?void 0:d.show(b,g,_);function X(z){de[z?"unshift":"push"](()=>{d=z,t(11,d)})}const J=()=>R();return n.$$.update=()=>{n.$$.dirty[0]&1&&typeof h<"u"&&T(),n.$$.dirty[0]&3&&t(6,i=!!h&&g.length&&g.length===g.filter(z=>!!z.id&&!!z.name).length),n.$$.dirty[0]&78&&t(9,s=b.filter(z=>i&&_&&!ee.findByKey(g,"id",z.id))),n.$$.dirty[0]&70&&t(8,l=g.filter(z=>i&&!ee.findByKey(b,"id",z.id))),n.$$.dirty[0]&10&&(typeof g<"u"||typeof _<"u")&&M(),n.$$.dirty[0]&785&&t(7,r=!!h&&(s.length||l.length||y.length)),n.$$.dirty[0]&224&&t(14,o=!w&&i&&r),n.$$.dirty[0]&6&&t(13,a=g.filter(z=>{let Z=ee.findByKey(b,"name",z.name)||ee.findByKey(b,"id",z.id);if(!Z)return!1;if(Z.id!=z.id)return!0;const Y=Array.isArray(Z.schema)?Z.schema:[],oe=Array.isArray(z.schema)?z.schema:[];for(const re of oe){if(ee.findByKey(Y,"id",re.id))continue;const me=ee.findByKey(Y,"name",re.name);if(me&&re.id!=me.id)return!0}return!1}))},[h,g,b,_,y,w,i,r,l,s,u,d,p,a,o,f,O,E,R,N,j,L,F,B,V,H,K,X,J]}class _3e extends ke{constructor(e){super(),ve(this,e,b3e,g3e,De,{},null,[-1,-1])}}function y3e(n){let e,t,i,s,l,r,o,a,f,u;return{c(){e=k("label"),t=G("Backup name"),s=D(),l=k("input"),o=D(),a=k("em"),a.textContent="Must be in the format [a-z0-9_-].zip",m(e,"for",i=n[15]),m(l,"type","text"),m(l,"id",r=n[15]),m(l,"placeholder","Leave empty to autogenerate"),m(l,"pattern","^[a-z0-9_-]+\\.zip$"),m(a,"class","help-block")},m(d,h){C(d,e,h),v(e,t),C(d,s,h),C(d,l,h),Ae(l,n[2]),C(d,o,h),C(d,a,h),f||(u=x(l,"input",n[7]),f=!0)},p(d,h){h&32768&&i!==(i=d[15])&&m(e,"for",i),h&32768&&r!==(r=d[15])&&m(l,"id",r),h&4&&l.value!==d[2]&&Ae(l,d[2])},d(d){d&&S(e),d&&S(s),d&&S(l),d&&S(o),d&&S(a),f=!1,u()}}}function v3e(n){let e,t,i,s,l,r,o;return s=new ze({props:{class:"form-field m-0",name:"name",$$slots:{default:[y3e,({uniqueId:a})=>({15:a}),({uniqueId:a})=>a?32768:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),e.innerHTML=`<div class="icon"><i class="ri-information-line"></i></div> 
        <div class="content"><p>Please note that during the backup other concurrent write requests may fail since the
                database will be temporary &quot;locked&quot; (this usually happens only during the ZIP generation).</p> 
            <p class="txt-bold">If you are using S3 storage for the collections file upload, you&#39;ll have to backup them
                separately since they are not locally stored and will not be included in the final backup!</p></div>`,t=D(),i=k("form"),U(s.$$.fragment),m(e,"class","alert alert-info"),m(i,"id",n[4]),m(i,"autocomplete","off")},m(a,f){C(a,e,f),C(a,t,f),C(a,i,f),q(s,i,null),l=!0,r||(o=x(i,"submit",qt(n[5])),r=!0)},p(a,f){const u={};f&98308&&(u.$$scope={dirty:f,ctx:a}),s.$set(u)},i(a){l||(P(s.$$.fragment,a),l=!0)},o(a){I(s.$$.fragment,a),l=!1},d(a){a&&S(e),a&&S(t),a&&S(i),W(s),r=!1,o()}}}function k3e(n){let e;return{c(){e=k("h4"),e.textContent="Initialize new backup",m(e,"class","center txt-break")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function w3e(n){let e,t,i,s,l,r,o;return{c(){e=k("button"),t=k("span"),t.textContent="Cancel",i=D(),s=k("button"),l=k("span"),l.textContent="Start backup",m(t,"class","txt"),m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[3],m(l,"class","txt"),m(s,"type","submit"),m(s,"form",n[4]),m(s,"class","btn btn-expanded"),s.disabled=n[3],$(s,"btn-loading",n[3])},m(a,f){C(a,e,f),v(e,t),C(a,i,f),C(a,s,f),v(s,l),r||(o=x(e,"click",n[0]),r=!0)},p(a,f){f&8&&(e.disabled=a[3]),f&8&&(s.disabled=a[3]),f&8&&$(s,"btn-loading",a[3])},d(a){a&&S(e),a&&S(i),a&&S(s),r=!1,o()}}}function S3e(n){let e,t,i={class:"backup-create-panel",beforeOpen:n[8],beforeHide:n[9],popup:!0,$$slots:{footer:[w3e],header:[k3e],default:[v3e]},$$scope:{ctx:n}};return e=new rs({props:i}),n[10](e),e.$on("show",n[11]),e.$on("hide",n[12]),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,[l]){const r={};l&8&&(r.beforeOpen=s[8]),l&8&&(r.beforeHide=s[9]),l&65548&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[10](null),W(e,s)}}}function C3e(n,e,t){const i=Hn(),s="backup_create_"+ee.randomString(5);let l,r="",o=!1,a;function f(w){Ki({}),t(3,o=!1),t(2,r=w||""),l==null||l.show()}function u(){return l==null?void 0:l.hide()}async function d(){if(!o){t(3,o=!0),clearTimeout(a),a=setTimeout(()=>{u()},1500);try{await Re.backups.create(r,{$cancelKey:s}),t(3,o=!1),u(),i("submit"),fi("Successfully generated new backup.")}catch(w){w.isAbort||Re.error(w)}clearTimeout(a),t(3,o=!1)}}ls(()=>{clearTimeout(a)});function h(){r=this.value,t(2,r)}const p=()=>o?(Ip("A backup has already been started, please wait."),!1):!0,g=()=>(o&&Ip("The backup was started but may take a while to complete. You can come back later.",4500),!0);function b(w){de[w?"unshift":"push"](()=>{l=w,t(1,l)})}function _(w){ht.call(this,n,w)}function y(w){ht.call(this,n,w)}return[u,l,r,o,s,d,f,h,p,g,b,_,y]}class M3e extends ke{constructor(e){super(),ve(this,e,C3e,S3e,De,{show:6,hide:0})}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[0]}}function T3e(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Backup name"),s=D(),l=k("input"),m(e,"for",i=n[14]),m(l,"type","text"),m(l,"id",r=n[14]),l.required=!0},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[2]),o||(a=x(l,"input",n[9]),o=!0)},p(f,u){u&16384&&i!==(i=f[14])&&m(e,"for",i),u&16384&&r!==(r=f[14])&&m(l,"id",r),u&4&&l.value!==f[2]&&Ae(l,f[2])},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function A3e(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_;return f=new eh({props:{value:n[1]}}),p=new ze({props:{class:"form-field required m-0",name:"name",$$slots:{default:[T3e,({uniqueId:y})=>({14:y}),({uniqueId:y})=>y?16384:0]},$$scope:{ctx:n}}}),{c(){e=k("div"),e.innerHTML=`<div class="icon"><i class="ri-alert-line"></i></div> 
        <div class="content"><p>Please proceed with caution.</p> 
            <p>The restore operation will replace your existing <code>pb_data</code> with the one from the backup
                and will restart the application process!</p> 
            <p class="txt-bold">Backup restore is still experimental and currently works only on UNIX based systems.</p></div>`,t=D(),i=k("div"),s=G(`Type the backup name
        `),l=k("div"),r=k("span"),o=G(n[1]),a=D(),U(f.$$.fragment),u=G(`
        to confirm:`),d=D(),h=k("form"),U(p.$$.fragment),m(e,"class","alert alert-danger"),m(r,"class","txt"),m(l,"class","label"),m(i,"class","content m-b-sm"),m(h,"id",n[6]),m(h,"autocomplete","off")},m(y,w){C(y,e,w),C(y,t,w),C(y,i,w),v(i,s),v(i,l),v(l,r),v(r,o),v(l,a),q(f,l,null),v(i,u),C(y,d,w),C(y,h,w),q(p,h,null),g=!0,b||(_=x(h,"submit",qt(n[7])),b=!0)},p(y,w){(!g||w&2)&&pe(o,y[1]);const A={};w&2&&(A.value=y[1]),f.$set(A);const M={};w&49156&&(M.$$scope={dirty:w,ctx:y}),p.$set(M)},i(y){g||(P(f.$$.fragment,y),P(p.$$.fragment,y),g=!0)},o(y){I(f.$$.fragment,y),I(p.$$.fragment,y),g=!1},d(y){y&&S(e),y&&S(t),y&&S(i),W(f),y&&S(d),y&&S(h),W(p),b=!1,_()}}}function O3e(n){let e,t,i,s;return{c(){e=k("h4"),t=G("Restore "),i=k("strong"),s=G(n[1]),m(e,"class","center txt-break")},m(l,r){C(l,e,r),v(e,t),v(e,i),v(i,s)},p(l,r){r&2&&pe(s,l[1])},d(l){l&&S(e)}}}function E3e(n){let e,t,i,s,l,r,o,a;return{c(){e=k("button"),t=G("Cancel"),i=D(),s=k("button"),l=k("span"),l.textContent="Restore backup",m(e,"type","button"),m(e,"class","btn btn-transparent"),e.disabled=n[4],m(l,"class","txt"),m(s,"type","submit"),m(s,"form",n[6]),m(s,"class","btn btn-expanded"),s.disabled=r=!n[5]||n[4],$(s,"btn-loading",n[4])},m(f,u){C(f,e,u),v(e,t),C(f,i,u),C(f,s,u),v(s,l),o||(a=x(e,"click",n[0]),o=!0)},p(f,u){u&16&&(e.disabled=f[4]),u&48&&r!==(r=!f[5]||f[4])&&(s.disabled=r),u&16&&$(s,"btn-loading",f[4])},d(f){f&&S(e),f&&S(i),f&&S(s),o=!1,a()}}}function P3e(n){let e,t,i={class:"backup-restore-panel",overlayClose:!n[4],escClose:!n[4],beforeHide:n[10],popup:!0,$$slots:{footer:[E3e],header:[O3e],default:[A3e]},$$scope:{ctx:n}};return e=new rs({props:i}),n[11](e),e.$on("show",n[12]),e.$on("hide",n[13]),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,[l]){const r={};l&16&&(r.overlayClose=!s[4]),l&16&&(r.escClose=!s[4]),l&16&&(r.beforeHide=s[10]),l&32822&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[11](null),W(e,s)}}}function D3e(n,e,t){let i;const s="backup_restore_"+ee.randomString(5);let l,r="",o="",a=!1;function f(y){Ki({}),t(2,o=""),t(1,r=y),t(4,a=!1),l==null||l.show()}function u(){return l==null?void 0:l.hide()}async function d(){var y;if(!(!i||a)){t(4,a=!0);try{await Re.backups.restore(r),setTimeout(()=>{window.location.reload()},1e3)}catch(w){w!=null&&w.isAbort||(t(4,a=!1),br(((y=w.response)==null?void 0:y.message)||w.message))}}}function h(){o=this.value,t(2,o)}const p=()=>!a;function g(y){de[y?"unshift":"push"](()=>{l=y,t(3,l)})}function b(y){ht.call(this,n,y)}function _(y){ht.call(this,n,y)}return n.$$.update=()=>{n.$$.dirty&6&&t(5,i=o!=""&&r==o)},[u,r,o,l,a,i,s,d,f,h,p,g,b,_]}class I3e extends ke{constructor(e){super(),ve(this,e,D3e,P3e,De,{show:8,hide:0})}get show(){return this.$$.ctx[8]}get hide(){return this.$$.ctx[0]}}function sE(n,e,t){const i=n.slice();return i[22]=e[t],i}function lE(n,e,t){const i=n.slice();return i[19]=e[t],i}function R3e(n){let e=[],t=new Map,i,s,l=n[3];const r=a=>a[22].key;for(let a=0;a<l.length;a+=1){let f=sE(n,l,a),u=r(f);t.set(u,e[a]=oE(u,f))}let o=null;return l.length||(o=rE()),{c(){for(let a=0;a<e.length;a+=1)e[a].c();i=Ee(),o&&o.c()},m(a,f){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(a,f);C(a,i,f),o&&o.m(a,f),s=!0},p(a,f){f&876&&(l=a[3],ue(),e=Cn(e,f,r,1,a,l,t,i.parentNode,ii,oE,i,sE),ce(),!l.length&&o?o.p(a,f):l.length?o&&(o.d(1),o=null):(o=rE(),o.c(),o.m(i.parentNode,i)))},i(a){if(!s){for(let f=0;f<l.length;f+=1)P(e[f]);s=!0}},o(a){for(let f=0;f<e.length;f+=1)I(e[f]);s=!1},d(a){for(let f=0;f<e.length;f+=1)e[f].d(a);a&&S(i),o&&o.d(a)}}}function N3e(n){let e,t=Array(n[3].length||1),i=[];for(let s=0;s<t.length;s+=1)i[s]=aE(lE(n,t,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Ee()},m(s,l){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,l);C(s,e,l)},p(s,l){if(l&8){t=Array(s[3].length||1);let r;for(r=0;r<t.length;r+=1){const o=lE(s,t,r);i[r]?i[r].p(o,l):(i[r]=aE(),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},i:te,o:te,d(s){Ot(i,s),s&&S(e)}}}function rE(n){let e;return{c(){e=k("div"),e.innerHTML=`<span class="txt">No backups yet.</span> 
                `,m(e,"class","list-item list-item-placeholder svelte-1ulbkf5")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function oE(n,e){let t,i,s,l,r,o=e[22].key+"",a,f,u,d,h=ee.formattedFileSize(e[22].size)+"",p,g,b,_,y,w,A,M,T,O,E,R,N,j,L,F,B,V,H,K;function X(){return e[10](e[22])}function J(){return e[11](e[22])}function z(){return e[12](e[22])}return{key:n,first:null,c(){t=k("div"),i=k("i"),s=D(),l=k("div"),r=k("span"),a=G(o),f=D(),u=k("span"),d=G("("),p=G(h),g=G(")"),b=D(),_=k("div"),y=k("button"),w=k("i"),M=D(),T=k("button"),O=k("i"),R=D(),N=k("button"),j=k("i"),F=D(),m(i,"class","ri-folder-zip-line"),m(r,"class","name backup-name svelte-1ulbkf5"),m(u,"class","size txt-hint txt-nowrap"),m(l,"class","content"),m(w,"class","ri-download-line"),m(y,"type","button"),m(y,"class","btn btn-sm btn-circle btn-hint btn-transparent"),y.disabled=A=e[6][e[22].key]||e[5][e[22].key],m(y,"aria-label","Download"),$(y,"btn-loading",e[5][e[22].key]),m(O,"class","ri-restart-line"),m(T,"type","button"),m(T,"class","btn btn-sm btn-circle btn-hint btn-transparent"),T.disabled=E=e[6][e[22].key],m(T,"aria-label","Restore"),m(j,"class","ri-delete-bin-7-line"),m(N,"type","button"),m(N,"class","btn btn-sm btn-circle btn-hint btn-transparent"),N.disabled=L=e[6][e[22].key],m(N,"aria-label","Delete"),$(N,"btn-loading",e[6][e[22].key]),m(_,"class","actions nonintrusive"),m(t,"class","list-item svelte-1ulbkf5"),this.first=t},m(Z,Y){C(Z,t,Y),v(t,i),v(t,s),v(t,l),v(l,r),v(r,a),v(l,f),v(l,u),v(u,d),v(u,p),v(u,g),v(t,b),v(t,_),v(_,y),v(y,w),v(_,M),v(_,T),v(T,O),v(_,R),v(_,N),v(N,j),v(t,F),V=!0,H||(K=[xe(Mt.call(null,y,"Download")),x(y,"click",qt(X)),xe(Mt.call(null,T,"Restore")),x(T,"click",qt(J)),xe(Mt.call(null,N,"Delete")),x(N,"click",qt(z))],H=!0)},p(Z,Y){e=Z,(!V||Y&8)&&o!==(o=e[22].key+"")&&pe(a,o),(!V||Y&8)&&h!==(h=ee.formattedFileSize(e[22].size)+"")&&pe(p,h),(!V||Y&104&&A!==(A=e[6][e[22].key]||e[5][e[22].key]))&&(y.disabled=A),(!V||Y&40)&&$(y,"btn-loading",e[5][e[22].key]),(!V||Y&72&&E!==(E=e[6][e[22].key]))&&(T.disabled=E),(!V||Y&72&&L!==(L=e[6][e[22].key]))&&(N.disabled=L),(!V||Y&72)&&$(N,"btn-loading",e[6][e[22].key])},i(Z){V||(Z&&Yt(()=>{V&&(B||(B=gt(t,gn,{duration:150},!0)),B.run(1))}),V=!0)},o(Z){Z&&(B||(B=gt(t,gn,{duration:150},!1)),B.run(0)),V=!1},d(Z){Z&&S(t),Z&&B&&B.end(),H=!1,Ke(K)}}}function aE(n){let e;return{c(){e=k("div"),e.innerHTML=`<span class="skeleton-loader"></span> 
                `,m(e,"class","list-item list-item-loader svelte-1ulbkf5")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function L3e(n){let e,t,i;return{c(){e=k("span"),t=D(),i=k("span"),i.textContent="Backup/restore operation is in process",m(e,"class","loader loader-sm"),m(i,"class","txt")},m(s,l){C(s,e,l),C(s,t,l),C(s,i,l)},d(s){s&&S(e),s&&S(t),s&&S(i)}}}function F3e(n){let e,t,i;return{c(){e=k("i"),t=D(),i=k("span"),i.textContent="Initialize new backup",m(e,"class","ri-play-circle-line"),m(i,"class","txt")},m(s,l){C(s,e,l),C(s,t,l),C(s,i,l)},d(s){s&&S(e),s&&S(t),s&&S(i)}}}function j3e(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b;const _=[N3e,R3e],y=[];function w(R,N){return R[4]?0:1}i=w(n),s=y[i]=_[i](n);function A(R,N){return R[7]?F3e:L3e}let M=A(n),T=M(n),O={};u=new M3e({props:O}),n[14](u),u.$on("submit",n[15]);let E={};return h=new I3e({props:E}),n[16](h),{c(){e=k("div"),t=k("div"),s.c(),l=D(),r=k("div"),o=k("button"),T.c(),f=D(),U(u.$$.fragment),d=D(),U(h.$$.fragment),m(t,"class","list-content svelte-1ulbkf5"),m(o,"type","button"),m(o,"class","btn btn-block btn-transparent"),o.disabled=a=n[4]||!n[7],m(r,"class","list-item list-item-btn"),m(e,"class","list list-compact")},m(R,N){C(R,e,N),v(e,t),y[i].m(t,null),v(e,l),v(e,r),v(r,o),T.m(o,null),C(R,f,N),q(u,R,N),C(R,d,N),q(h,R,N),p=!0,g||(b=x(o,"click",n[13]),g=!0)},p(R,[N]){let j=i;i=w(R),i===j?y[i].p(R,N):(ue(),I(y[j],1,1,()=>{y[j]=null}),ce(),s=y[i],s?s.p(R,N):(s=y[i]=_[i](R),s.c()),P(s,1),s.m(t,null)),M!==(M=A(R))&&(T.d(1),T=M(R),T&&(T.c(),T.m(o,null))),(!p||N&144&&a!==(a=R[4]||!R[7]))&&(o.disabled=a);const L={};u.$set(L);const F={};h.$set(F)},i(R){p||(P(s),P(u.$$.fragment,R),P(h.$$.fragment,R),p=!0)},o(R){I(s),I(u.$$.fragment,R),I(h.$$.fragment,R),p=!1},d(R){R&&S(e),y[i].d(),T.d(),R&&S(f),n[14](null),W(u,R),R&&S(d),n[16](null),W(h,R),g=!1,b()}}}function B3e(n,e,t){let i,s,l=[],r=!1,o={},a={},f=!0;u(),g();async function u(){t(4,r=!0);try{t(3,l=await Re.backups.getFullList()),l.sort((O,E)=>O.modified<E.modified?1:O.modified>E.modified?-1:0),t(4,r=!1)}catch(O){O.isAbort||(Re.error(O),t(4,r=!1))}}async function d(O){if(!o[O]){t(5,o[O]=!0,o);try{const E=await Re.getAdminFileToken(),R=Re.backups.getDownloadUrl(E,O);ee.download(R)}catch(E){E.isAbort||Re.error(E)}delete o[O],t(5,o)}}function h(O){ds(`Do you really want to delete ${O}?`,()=>p(O))}async function p(O){if(!a[O]){t(6,a[O]=!0,a);try{await Re.backups.delete(O),ee.removeByKey(l,"name",O),u(),fi(`Successfully deleted ${O}.`)}catch(E){E.isAbort||Re.error(E)}delete a[O],t(6,a)}}async function g(){var O;try{const E=await Re.health.check({$autoCancel:!1}),R=f;t(7,f=((O=E==null?void 0:E.data)==null?void 0:O.canBackup)||!1),R!=f&&f&&u()}catch{}}Pn(()=>{let O=setInterval(()=>{g()},3e3);return()=>{clearInterval(O)}});const b=O=>d(O.key),_=O=>s.show(O.key),y=O=>h(O.key),w=()=>i==null?void 0:i.show();function A(O){de[O?"unshift":"push"](()=>{i=O,t(1,i)})}const M=()=>{u()};function T(O){de[O?"unshift":"push"](()=>{s=O,t(2,s)})}return[u,i,s,l,r,o,a,f,d,h,b,_,y,w,A,M,T]}class V3e extends ke{constructor(e){super(),ve(this,e,B3e,j3e,De,{loadBackups:0})}get loadBackups(){return this.$$.ctx[0]}}function z3e(n){let e;return{c(){e=k("i"),m(e,"class","ri-arrow-down-s-line")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function H3e(n){let e;return{c(){e=k("i"),m(e,"class","ri-arrow-up-s-line")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function fE(n){var H,K,X;let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E;t=new ze({props:{class:"form-field form-field-toggle m-t-base m-b-0",$$slots:{default:[q3e,({uniqueId:J})=>({32:J}),({uniqueId:J})=>[0,J?2:0]]},$$scope:{ctx:n}}});let R=n[2]&&uE(n);function N(J){n[25](J)}function j(J){n[26](J)}function L(J){n[27](J)}let F={toggleLabel:"Store backups in S3 storage",testFilesystem:"backups",configKey:"backups.s3",originalConfig:(H=n[0].backups)==null?void 0:H.s3};n[1].backups.s3!==void 0&&(F.config=n[1].backups.s3),n[7]!==void 0&&(F.isTesting=n[7]),n[8]!==void 0&&(F.testError=n[8]),o=new wL({props:F}),de.push(()=>Ne(o,"config",N)),de.push(()=>Ne(o,"isTesting",j)),de.push(()=>Ne(o,"testError",L));let B=((X=(K=n[1].backups)==null?void 0:K.s3)==null?void 0:X.enabled)&&!n[9]&&!n[5]&&cE(n),V=n[9]&&dE(n);return{c(){e=k("form"),U(t.$$.fragment),i=D(),R&&R.c(),s=D(),l=k("div"),r=D(),U(o.$$.fragment),d=D(),h=k("div"),p=k("div"),g=D(),B&&B.c(),b=D(),V&&V.c(),_=D(),y=k("button"),w=k("span"),w.textContent="Save changes",m(l,"class","clearfix m-b-base"),m(p,"class","flex-fill"),m(w,"class","txt"),m(y,"type","submit"),m(y,"class","btn btn-expanded"),y.disabled=A=!n[9]||n[5],$(y,"btn-loading",n[5]),m(h,"class","flex"),m(e,"class","block"),m(e,"autocomplete","off")},m(J,z){C(J,e,z),q(t,e,null),v(e,i),R&&R.m(e,null),v(e,s),v(e,l),v(e,r),q(o,e,null),v(e,d),v(e,h),v(h,p),v(h,g),B&&B.m(h,null),v(h,b),V&&V.m(h,null),v(h,_),v(h,y),v(y,w),T=!0,O||(E=[x(y,"click",n[29]),x(e,"submit",qt(n[11]))],O=!0)},p(J,z){var oe,re,Q;const Z={};z[0]&4|z[1]&6&&(Z.$$scope={dirty:z,ctx:J}),t.$set(Z),J[2]?R?(R.p(J,z),z[0]&4&&P(R,1)):(R=uE(J),R.c(),P(R,1),R.m(e,s)):R&&(ue(),I(R,1,1,()=>{R=null}),ce());const Y={};z[0]&1&&(Y.originalConfig=(oe=J[0].backups)==null?void 0:oe.s3),!a&&z[0]&2&&(a=!0,Y.config=J[1].backups.s3,Be(()=>a=!1)),!f&&z[0]&128&&(f=!0,Y.isTesting=J[7],Be(()=>f=!1)),!u&&z[0]&256&&(u=!0,Y.testError=J[8],Be(()=>u=!1)),o.$set(Y),(Q=(re=J[1].backups)==null?void 0:re.s3)!=null&&Q.enabled&&!J[9]&&!J[5]?B?B.p(J,z):(B=cE(J),B.c(),B.m(h,b)):B&&(B.d(1),B=null),J[9]?V?V.p(J,z):(V=dE(J),V.c(),V.m(h,_)):V&&(V.d(1),V=null),(!T||z[0]&544&&A!==(A=!J[9]||J[5]))&&(y.disabled=A),(!T||z[0]&32)&&$(y,"btn-loading",J[5])},i(J){T||(P(t.$$.fragment,J),P(R),P(o.$$.fragment,J),J&&Yt(()=>{T&&(M||(M=gt(e,gn,{duration:150},!0)),M.run(1))}),T=!0)},o(J){I(t.$$.fragment,J),I(R),I(o.$$.fragment,J),J&&(M||(M=gt(e,gn,{duration:150},!1)),M.run(0)),T=!1},d(J){J&&S(e),W(t),R&&R.d(),W(o),B&&B.d(),V&&V.d(),J&&M&&M.end(),O=!1,Ke(E)}}}function q3e(n){let e,t,i,s,l,r,o,a;return{c(){e=k("input"),i=D(),s=k("label"),l=G("Enable auto backups"),m(e,"type","checkbox"),m(e,"id",t=n[32]),e.required=!0,m(s,"for",r=n[32])},m(f,u){C(f,e,u),e.checked=n[2],C(f,i,u),C(f,s,u),v(s,l),o||(a=x(e,"change",n[18]),o=!0)},p(f,u){u[1]&2&&t!==(t=f[32])&&m(e,"id",t),u[0]&4&&(e.checked=f[2]),u[1]&2&&r!==(r=f[32])&&m(s,"for",r)},d(f){f&&S(e),f&&S(i),f&&S(s),o=!1,a()}}}function uE(n){let e,t,i,s,l,r,o,a,f;return s=new ze({props:{class:"form-field required",name:"backups.cron",$$slots:{default:[U3e,({uniqueId:u})=>({32:u}),({uniqueId:u})=>[0,u?2:0]]},$$scope:{ctx:n}}}),o=new ze({props:{class:"form-field required",name:"backups.cronMaxKeep",$$slots:{default:[K3e,({uniqueId:u})=>({32:u}),({uniqueId:u})=>[0,u?2:0]]},$$scope:{ctx:n}}}),{c(){e=k("div"),t=k("div"),i=k("div"),U(s.$$.fragment),l=D(),r=k("div"),U(o.$$.fragment),m(i,"class","col-lg-6"),m(r,"class","col-lg-6"),m(t,"class","grid p-t-base p-b-sm"),m(e,"class","block")},m(u,d){C(u,e,d),v(e,t),v(t,i),q(s,i,null),v(t,l),v(t,r),q(o,r,null),f=!0},p(u,d){const h={};d[0]&3|d[1]&6&&(h.$$scope={dirty:d,ctx:u}),s.$set(h);const p={};d[0]&2|d[1]&6&&(p.$$scope={dirty:d,ctx:u}),o.$set(p)},i(u){f||(P(s.$$.fragment,u),P(o.$$.fragment,u),u&&Yt(()=>{f&&(a||(a=gt(e,gn,{duration:150},!0)),a.run(1))}),f=!0)},o(u){I(s.$$.fragment,u),I(o.$$.fragment,u),u&&(a||(a=gt(e,gn,{duration:150},!1)),a.run(0)),f=!1},d(u){u&&S(e),W(s),W(o),u&&a&&a.end()}}}function W3e(n){let e,t,i,s,l,r,o,a,f;return{c(){e=k("button"),e.innerHTML='<span class="txt">Every day at 00:00h</span>',t=D(),i=k("button"),i.innerHTML='<span class="txt">Every sunday at 00:00h</span>',s=D(),l=k("button"),l.innerHTML='<span class="txt">Every Mon and Wed at 00:00h</span>',r=D(),o=k("button"),o.innerHTML='<span class="txt">Every first day of the month at 00:00h</span>',m(e,"type","button"),m(e,"class","dropdown-item closable"),m(i,"type","button"),m(i,"class","dropdown-item closable"),m(l,"type","button"),m(l,"class","dropdown-item closable"),m(o,"type","button"),m(o,"class","dropdown-item closable")},m(u,d){C(u,e,d),C(u,t,d),C(u,i,d),C(u,s,d),C(u,l,d),C(u,r,d),C(u,o,d),a||(f=[x(e,"click",n[20]),x(i,"click",n[21]),x(l,"click",n[22]),x(o,"click",n[23])],a=!0)},p:te,d(u){u&&S(e),u&&S(t),u&&S(i),u&&S(s),u&&S(l),u&&S(r),u&&S(o),a=!1,Ke(f)}}}function U3e(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M;return b=new kl({props:{class:"dropdown dropdown-nowrap dropdown-right",$$slots:{default:[W3e]},$$scope:{ctx:n}}}),{c(){var T,O;e=k("label"),t=G("Cron expression"),s=D(),l=k("input"),a=D(),f=k("div"),u=k("button"),d=k("span"),d.textContent="Presets",h=D(),p=k("i"),g=D(),U(b.$$.fragment),_=D(),y=k("div"),y.textContent="Only numeric list, steps or ranges are supported.",m(e,"for",i=n[32]),l.required=!0,m(l,"type","text"),m(l,"id",r=n[32]),m(l,"class","txt-lg txt-mono"),m(l,"placeholder","* * * * *"),l.autofocus=o=!((O=(T=n[0])==null?void 0:T.backups)!=null&&O.cron),m(d,"class","txt"),m(p,"class","ri-arrow-drop-down-fill"),m(u,"type","button"),m(u,"class","btn btn-sm btn-outline p-r-0"),m(f,"class","form-field-addon"),m(y,"class","help-block")},m(T,O){var E,R;C(T,e,O),v(e,t),C(T,s,O),C(T,l,O),Ae(l,n[1].backups.cron),C(T,a,O),C(T,f,O),v(f,u),v(u,d),v(u,h),v(u,p),v(u,g),q(b,u,null),C(T,_,O),C(T,y,O),w=!0,(R=(E=n[0])==null?void 0:E.backups)!=null&&R.cron||l.focus(),A||(M=x(l,"input",n[19]),A=!0)},p(T,O){var R,N;(!w||O[1]&2&&i!==(i=T[32]))&&m(e,"for",i),(!w||O[1]&2&&r!==(r=T[32]))&&m(l,"id",r),(!w||O[0]&1&&o!==(o=!((N=(R=T[0])==null?void 0:R.backups)!=null&&N.cron)))&&(l.autofocus=o),O[0]&2&&l.value!==T[1].backups.cron&&Ae(l,T[1].backups.cron);const E={};O[0]&2|O[1]&4&&(E.$$scope={dirty:O,ctx:T}),b.$set(E)},i(T){w||(P(b.$$.fragment,T),w=!0)},o(T){I(b.$$.fragment,T),w=!1},d(T){T&&S(e),T&&S(s),T&&S(l),T&&S(a),T&&S(f),W(b),T&&S(_),T&&S(y),A=!1,M()}}}function K3e(n){let e,t,i,s,l,r,o,a;return{c(){e=k("label"),t=G("Max @auto backups to keep"),s=D(),l=k("input"),m(e,"for",i=n[32]),m(l,"type","number"),m(l,"id",r=n[32]),m(l,"min","1")},m(f,u){C(f,e,u),v(e,t),C(f,s,u),C(f,l,u),Ae(l,n[1].backups.cronMaxKeep),o||(a=x(l,"input",n[24]),o=!0)},p(f,u){u[1]&2&&i!==(i=f[32])&&m(e,"for",i),u[1]&2&&r!==(r=f[32])&&m(l,"id",r),u[0]&2&&jn(l.value)!==f[1].backups.cronMaxKeep&&Ae(l,f[1].backups.cronMaxKeep)},d(f){f&&S(e),f&&S(s),f&&S(l),o=!1,a()}}}function cE(n){let e;function t(l,r){return l[7]?Y3e:l[8]?x3e:J3e}let i=t(n),s=i(n);return{c(){s.c(),e=Ee()},m(l,r){s.m(l,r),C(l,e,r)},p(l,r){i===(i=t(l))&&s?s.p(l,r):(s.d(1),s=i(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&S(e)}}}function J3e(n){let e;return{c(){e=k("div"),e.innerHTML=`<i class="ri-checkbox-circle-line txt-success"></i> 
                                    <span class="txt">S3 connected successfully</span>`,m(e,"class","label label-sm label-success entrance-right")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function x3e(n){let e,t,i,s;return{c(){e=k("div"),e.innerHTML=`<i class="ri-error-warning-line txt-warning"></i> 
                                    <span class="txt">Failed to establish S3 connection</span>`,m(e,"class","label label-sm label-warning entrance-right")},m(l,r){var o;C(l,e,r),i||(s=xe(t=Mt.call(null,e,(o=n[8].data)==null?void 0:o.message)),i=!0)},p(l,r){var o;t&&fn(t.update)&&r[0]&256&&t.update.call(null,(o=l[8].data)==null?void 0:o.message)},d(l){l&&S(e),i=!1,s()}}}function Y3e(n){let e;return{c(){e=k("span"),m(e,"class","loader loader-sm")},m(t,i){C(t,e,i)},p:te,d(t){t&&S(e)}}}function dE(n){let e,t,i,s,l;return{c(){e=k("button"),t=k("span"),t.textContent="Reset",m(t,"class","txt"),m(e,"type","submit"),m(e,"class","btn btn-hint btn-transparent"),e.disabled=i=!n[9]||n[5]},m(r,o){C(r,e,o),v(e,t),s||(l=x(e,"click",n[28]),s=!0)},p(r,o){o[0]&544&&i!==(i=!r[9]||r[5])&&(e.disabled=i)},d(r){r&&S(e),s=!1,l()}}}function G3e(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w,A,M,T,O,E,R,N;p=new ng({props:{class:"btn-sm",tooltip:"Reload backups list"}}),p.$on("refresh",n[15]);let j={};b=new V3e({props:j}),n[16](b);function L(H,K){return H[6]?H3e:z3e}let F=L(n),B=F(n),V=n[6]&&!n[4]&&fE(n);return{c(){e=k("header"),t=k("nav"),i=k("div"),i.textContent="Settings",s=D(),l=k("div"),r=G(n[10]),o=D(),a=k("div"),f=k("div"),u=k("div"),d=k("span"),d.textContent="Backup and restore your PocketBase data",h=D(),U(p.$$.fragment),g=D(),U(b.$$.fragment),_=D(),y=k("hr"),w=D(),A=k("button"),M=k("span"),M.textContent="Backups options",T=D(),B.c(),O=D(),V&&V.c(),m(i,"class","breadcrumb-item"),m(l,"class","breadcrumb-item"),m(t,"class","breadcrumbs"),m(e,"class","page-header"),m(d,"class","txt-xl"),m(u,"class","flex m-b-sm flex-gap-5"),m(M,"class","txt"),m(A,"type","button"),m(A,"class","btn btn-secondary"),A.disabled=n[4],$(A,"btn-loading",n[4]),m(f,"class","panel"),m(f,"autocomplete","off"),m(a,"class","wrapper")},m(H,K){C(H,e,K),v(e,t),v(t,i),v(t,s),v(t,l),v(l,r),C(H,o,K),C(H,a,K),v(a,f),v(f,u),v(u,d),v(u,h),q(p,u,null),v(f,g),q(b,f,null),v(f,_),v(f,y),v(f,w),v(f,A),v(A,M),v(A,T),B.m(A,null),v(f,O),V&&V.m(f,null),E=!0,R||(N=[x(A,"click",n[17]),x(f,"submit",qt(n[11]))],R=!0)},p(H,K){(!E||K[0]&1024)&&pe(r,H[10]);const X={};b.$set(X),F!==(F=L(H))&&(B.d(1),B=F(H),B&&(B.c(),B.m(A,null))),(!E||K[0]&16)&&(A.disabled=H[4]),(!E||K[0]&16)&&$(A,"btn-loading",H[4]),H[6]&&!H[4]?V?(V.p(H,K),K[0]&80&&P(V,1)):(V=fE(H),V.c(),P(V,1),V.m(f,null)):V&&(ue(),I(V,1,1,()=>{V=null}),ce())},i(H){E||(P(p.$$.fragment,H),P(b.$$.fragment,H),P(V),E=!0)},o(H){I(p.$$.fragment,H),I(b.$$.fragment,H),I(V),E=!1},d(H){H&&S(e),H&&S(o),H&&S(a),W(p),n[16](null),W(b),B.d(),V&&V.d(),R=!1,Ke(N)}}}function X3e(n){let e,t,i,s;return e=new ro({}),i=new Ls({props:{$$slots:{default:[G3e]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment),t=D(),U(i.$$.fragment)},m(l,r){q(e,l,r),C(l,t,r),q(i,l,r),s=!0},p(l,r){const o={};r[0]&2047|r[1]&4&&(o.$$scope={dirty:r,ctx:l}),i.$set(o)},i(l){s||(P(e.$$.fragment,l),P(i.$$.fragment,l),s=!0)},o(l){I(e.$$.fragment,l),I(i.$$.fragment,l),s=!1},d(l){W(e,l),l&&S(t),W(i,l)}}}function Z3e(n,e,t){let i,s;Ht(n,si,z=>t(10,s=z)),ss(si,s="Backups",s);let l,r={},o={},a=!1,f=!1,u="",d=!1,h=!1,p=!1,g=null;b();async function b(){t(4,a=!0);try{const z=await Re.settings.getAll()||{};y(z)}catch(z){Re.error(z)}t(4,a=!1)}async function _(){if(!(f||!i)){t(5,f=!0);try{const z=await Re.settings.update(ee.filterRedactedProps(o));await A(),y(z),fi("Successfully saved application settings.")}catch(z){Re.error(z)}t(5,f=!1)}}function y(z={}){t(1,o={backups:(z==null?void 0:z.backups)||{}}),t(2,d=o.backups.cron!=""),t(0,r=JSON.parse(JSON.stringify(o)))}function w(){t(1,o=JSON.parse(JSON.stringify(r||{backups:{}}))),t(2,d=o.backups.cron!="")}async function A(){await(l==null?void 0:l.loadBackups())}const M=()=>A();function T(z){de[z?"unshift":"push"](()=>{l=z,t(3,l)})}const O=()=>t(6,h=!h);function E(){d=this.checked,t(2,d)}function R(){o.backups.cron=this.value,t(1,o),t(2,d)}const N=()=>{t(1,o.backups.cron="0 0 * * *",o)},j=()=>{t(1,o.backups.cron="0 0 * * 0",o)},L=()=>{t(1,o.backups.cron="0 0 * * 1,3",o)},F=()=>{t(1,o.backups.cron="0 0 1 * *",o)};function B(){o.backups.cronMaxKeep=jn(this.value),t(1,o),t(2,d)}function V(z){n.$$.not_equal(o.backups.s3,z)&&(o.backups.s3=z,t(1,o),t(2,d))}function H(z){p=z,t(7,p)}function K(z){g=z,t(8,g)}const X=()=>w(),J=()=>_();return n.$$.update=()=>{var z;n.$$.dirty[0]&1&&t(14,u=JSON.stringify(r)),n.$$.dirty[0]&6&&!d&&(z=o==null?void 0:o.backups)!=null&&z.cron&&(_r("backups.cron"),t(1,o.backups.cron="",o)),n.$$.dirty[0]&16386&&t(9,i=u!=JSON.stringify(o))},[r,o,d,l,a,f,h,p,g,i,s,_,w,A,u,M,T,O,E,R,N,j,L,F,B,V,H,K,X,J]}class Q3e extends ke{constructor(e){super(),ve(this,e,Z3e,X3e,De,{},null,[-1,-1])}}const Ti=[async n=>{const e=new URLSearchParams(window.location.search);return n.location!=="/"&&e.has("installer")?Jo("/"):!0}],$3e={"/login":hi({component:rke,conditions:Ti.concat([n=>!Re.authStore.isValid]),userData:{showAppSidebar:!1}}),"/request-password-reset":hi({asyncComponent:()=>_n(()=>import("./PageAdminRequestPasswordReset-f9731eeb.js"),[],import.meta.url),conditions:Ti.concat([n=>!Re.authStore.isValid]),userData:{showAppSidebar:!1}}),"/confirm-password-reset/:token":hi({asyncComponent:()=>_n(()=>import("./PageAdminConfirmPasswordReset-b6ffed8d.js"),[],import.meta.url),conditions:Ti.concat([n=>!Re.authStore.isValid]),userData:{showAppSidebar:!1}}),"/collections":hi({component:Pve,conditions:Ti.concat([n=>Re.authStore.isValid]),userData:{showAppSidebar:!0}}),"/logs":hi({component:TU,conditions:Ti.concat([n=>Re.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings":hi({component:gke,conditions:Ti.concat([n=>Re.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/admins":hi({component:eke,conditions:Ti.concat([n=>Re.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/mail":hi({component:ewe,conditions:Ti.concat([n=>Re.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/storage":hi({component:kwe,conditions:Ti.concat([n=>Re.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/auth-providers":hi({component:Bwe,conditions:Ti.concat([n=>Re.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/tokens":hi({component:xwe,conditions:Ti.concat([n=>Re.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/export-collections":hi({component:$we,conditions:Ti.concat([n=>Re.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/import-collections":hi({component:_3e,conditions:Ti.concat([n=>Re.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/backups":hi({component:Q3e,conditions:Ti.concat([n=>Re.authStore.isValid]),userData:{showAppSidebar:!0}}),"/users/confirm-password-reset/:token":hi({asyncComponent:()=>_n(()=>import("./PageRecordConfirmPasswordReset-2192a687.js"),[],import.meta.url),conditions:Ti,userData:{showAppSidebar:!1}}),"/auth/confirm-password-reset/:token":hi({asyncComponent:()=>_n(()=>import("./PageRecordConfirmPasswordReset-2192a687.js"),[],import.meta.url),conditions:Ti,userData:{showAppSidebar:!1}}),"/users/confirm-verification/:token":hi({asyncComponent:()=>_n(()=>import("./PageRecordConfirmVerification-c293a39f.js"),[],import.meta.url),conditions:Ti,userData:{showAppSidebar:!1}}),"/auth/confirm-verification/:token":hi({asyncComponent:()=>_n(()=>import("./PageRecordConfirmVerification-c293a39f.js"),[],import.meta.url),conditions:Ti,userData:{showAppSidebar:!1}}),"/users/confirm-email-change/:token":hi({asyncComponent:()=>_n(()=>import("./PageRecordConfirmEmailChange-574c19ca.js"),[],import.meta.url),conditions:Ti,userData:{showAppSidebar:!1}}),"/auth/confirm-email-change/:token":hi({asyncComponent:()=>_n(()=>import("./PageRecordConfirmEmailChange-574c19ca.js"),[],import.meta.url),conditions:Ti,userData:{showAppSidebar:!1}}),"/auth/oauth2-redirect":hi({asyncComponent:()=>_n(()=>import("./PageOAuth2Redirect-d1267280.js"),[],import.meta.url),conditions:Ti,userData:{showAppSidebar:!1}}),"*":hi({component:YB,userData:{showAppSidebar:!1}})};function eSe(n,{from:e,to:t},i={}){const s=getComputedStyle(n),l=s.transform==="none"?"":s.transform,[r,o]=s.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*r/t.width-(t.left+r),f=e.top+e.height*o/t.height-(t.top+o),{delay:u=0,duration:d=p=>Math.sqrt(p)*120,easing:h=eg}=i;return{delay:u,duration:fn(d)?d(Math.sqrt(a*a+f*f)):d,easing:h,css:(p,g)=>{const b=g*a,_=g*f,y=p+g*e.width/t.width,w=p+g*e.height/t.height;return`transform: ${l} translate(${b}px, ${_}px) scale(${y}, ${w});`}}}function hE(n,e,t){const i=n.slice();return i[2]=e[t],i}function tSe(n){let e;return{c(){e=k("i"),m(e,"class","ri-alert-line")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function nSe(n){let e;return{c(){e=k("i"),m(e,"class","ri-error-warning-line")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function iSe(n){let e;return{c(){e=k("i"),m(e,"class","ri-checkbox-circle-line")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function sSe(n){let e;return{c(){e=k("i"),m(e,"class","ri-information-line")},m(t,i){C(t,e,i)},d(t){t&&S(e)}}}function pE(n,e){let t,i,s,l,r=e[2].message+"",o,a,f,u,d,h,p,g=te,b,_,y;function w(O,E){return O[2].type==="info"?sSe:O[2].type==="success"?iSe:O[2].type==="warning"?nSe:tSe}let A=w(e),M=A(e);function T(){return e[1](e[2])}return{key:n,first:null,c(){t=k("div"),i=k("div"),M.c(),s=D(),l=k("div"),o=G(r),a=D(),f=k("button"),f.innerHTML='<i class="ri-close-line"></i>',u=D(),m(i,"class","icon"),m(l,"class","content"),m(f,"type","button"),m(f,"class","close"),m(t,"class","alert txt-break"),$(t,"alert-info",e[2].type=="info"),$(t,"alert-success",e[2].type=="success"),$(t,"alert-danger",e[2].type=="error"),$(t,"alert-warning",e[2].type=="warning"),this.first=t},m(O,E){C(O,t,E),v(t,i),M.m(i,null),v(t,s),v(t,l),v(l,o),v(t,a),v(t,f),v(t,u),b=!0,_||(y=x(f,"click",qt(T)),_=!0)},p(O,E){e=O,A!==(A=w(e))&&(M.d(1),M=A(e),M&&(M.c(),M.m(i,null))),(!b||E&1)&&r!==(r=e[2].message+"")&&pe(o,r),(!b||E&1)&&$(t,"alert-info",e[2].type=="info"),(!b||E&1)&&$(t,"alert-success",e[2].type=="success"),(!b||E&1)&&$(t,"alert-danger",e[2].type=="error"),(!b||E&1)&&$(t,"alert-warning",e[2].type=="warning")},r(){p=t.getBoundingClientRect()},f(){WL(t),g(),SE(t,p)},a(){g(),g=qL(t,p,eSe,{duration:150})},i(O){b||(Yt(()=>{b&&(h&&h.end(1),d=AE(t,gn,{duration:150}),d.start())}),b=!0)},o(O){d&&d.invalidate(),h=V_(t,Np,{duration:150}),b=!1},d(O){O&&S(t),M.d(),O&&h&&h.end(),_=!1,y()}}}function lSe(n){let e,t=[],i=new Map,s,l=n[0];const r=o=>o[2].message;for(let o=0;o<l.length;o+=1){let a=hE(n,l,o),f=r(a);i.set(f,t[o]=pE(f,a))}return{c(){e=k("div");for(let o=0;o<t.length;o+=1)t[o].c();m(e,"class","toasts-wrapper")},m(o,a){C(o,e,a);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);s=!0},p(o,[a]){if(a&1){l=o[0],ue();for(let f=0;f<t.length;f+=1)t[f].r();t=Cn(t,a,r,1,o,l,i,e,GL,pE,null,hE);for(let f=0;f<t.length;f+=1)t[f].a();ce()}},i(o){if(!s){for(let a=0;a<l.length;a+=1)P(t[a]);s=!0}},o(o){for(let a=0;a<t.length;a+=1)I(t[a]);s=!1},d(o){o&&S(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function rSe(n,e,t){let i;return Ht(n,Qm,l=>t(0,i=l)),[i,l=>LP(l)]}class oSe extends ke{constructor(e){super(),ve(this,e,rSe,lSe,De,{})}}function aSe(n){var s;let e,t=((s=n[1])==null?void 0:s.text)+"",i;return{c(){e=k("h4"),i=G(t),m(e,"class","block center txt-break"),m(e,"slot","header")},m(l,r){C(l,e,r),v(e,i)},p(l,r){var o;r&2&&t!==(t=((o=l[1])==null?void 0:o.text)+"")&&pe(i,t)},d(l){l&&S(e)}}}function fSe(n){let e,t,i,s,l,r,o;return{c(){e=k("button"),t=k("span"),t.textContent="No",i=D(),s=k("button"),l=k("span"),l.textContent="Yes",m(t,"class","txt"),e.autofocus=!0,m(e,"type","button"),m(e,"class","btn btn-transparent btn-expanded-sm"),e.disabled=n[2],m(l,"class","txt"),m(s,"type","button"),m(s,"class","btn btn-danger btn-expanded"),s.disabled=n[2],$(s,"btn-loading",n[2])},m(a,f){C(a,e,f),v(e,t),C(a,i,f),C(a,s,f),v(s,l),e.focus(),r||(o=[x(e,"click",n[4]),x(s,"click",n[5])],r=!0)},p(a,f){f&4&&(e.disabled=a[2]),f&4&&(s.disabled=a[2]),f&4&&$(s,"btn-loading",a[2])},d(a){a&&S(e),a&&S(i),a&&S(s),r=!1,Ke(o)}}}function uSe(n){let e,t,i={class:"confirm-popup hide-content overlay-panel-sm",overlayClose:!n[2],escClose:!n[2],btnClose:!1,popup:!0,$$slots:{footer:[fSe],header:[aSe]},$$scope:{ctx:n}};return e=new rs({props:i}),n[6](e),e.$on("hide",n[7]),{c(){U(e.$$.fragment)},m(s,l){q(e,s,l),t=!0},p(s,[l]){const r={};l&4&&(r.overlayClose=!s[2]),l&4&&(r.escClose=!s[2]),l&271&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){I(e.$$.fragment,s),t=!1},d(s){n[6](null),W(e,s)}}}function cSe(n,e,t){let i;Ht(n,w2,d=>t(1,i=d));let s,l=!1,r=!1;const o=()=>{t(3,r=!1),s==null||s.hide()},a=async()=>{i!=null&&i.yesCallback&&(t(2,l=!0),await Promise.resolve(i.yesCallback()),t(2,l=!1)),t(3,r=!0),s==null||s.hide()};function f(d){de[d?"unshift":"push"](()=>{s=d,t(0,s)})}const u=async()=>{!r&&(i!=null&&i.noCallback)&&i.noCallback(),await nn(),t(3,r=!1),zD()};return n.$$.update=()=>{n.$$.dirty&3&&i!=null&&i.text&&(t(3,r=!1),s==null||s.show())},[s,i,l,r,o,a,f,u]}class dSe extends ke{constructor(e){super(),ve(this,e,cSe,uSe,De,{})}}function mE(n){let e,t,i,s,l,r,o,a,f,u,d,h,p,g,b,_,y,w;return b=new kl({props:{class:"dropdown dropdown-nowrap dropdown-upside dropdown-left",$$slots:{default:[hSe]},$$scope:{ctx:n}}}),{c(){var A;e=k("aside"),t=k("a"),t.innerHTML='<img src="./images/glam.png" alt="PocketBase logo" width="40" height="40"/>',i=D(),s=k("nav"),l=k("a"),l.innerHTML='<i class="ri-database-2-line"></i>',r=D(),o=k("a"),o.innerHTML='<i class="ri-line-chart-line"></i>',a=D(),f=k("a"),f.innerHTML='<i class="ri-tools-line"></i>',u=D(),d=k("figure"),h=k("img"),g=D(),U(b.$$.fragment),m(t,"href","/"),m(t,"class","logo logo-sm"),m(l,"href","/collections"),m(l,"class","menu-item"),m(l,"aria-label","Collections"),m(o,"href","/logs"),m(o,"class","menu-item"),m(o,"aria-label","Logs"),m(f,"href","/settings"),m(f,"class","menu-item"),m(f,"aria-label","Settings"),m(s,"class","main-menu"),Ss(h.src,p="./images/avatars/avatar"+(((A=n[0])==null?void 0:A.avatar)||0)+".svg")||m(h,"src",p),m(h,"alt","Avatar"),m(d,"class","thumb thumb-circle link-hint closable"),m(e,"class","app-sidebar")},m(A,M){C(A,e,M),v(e,t),v(e,i),v(e,s),v(s,l),v(s,r),v(s,o),v(s,a),v(s,f),v(e,u),v(e,d),v(d,h),v(d,g),q(b,d,null),_=!0,y||(w=[xe(os.call(null,t)),xe(os.call(null,l)),xe(tl.call(null,l,{path:"/collections/?.*",className:"current-route"})),xe(Mt.call(null,l,{text:"Collections",position:"right"})),xe(os.call(null,o)),xe(tl.call(null,o,{path:"/logs/?.*",className:"current-route"})),xe(Mt.call(null,o,{text:"Logs",position:"right"})),xe(os.call(null,f)),xe(tl.call(null,f,{path:"/settings/?.*",className:"current-route"})),xe(Mt.call(null,f,{text:"Settings",position:"right"}))],y=!0)},p(A,M){var O;(!_||M&1&&!Ss(h.src,p="./images/avatars/avatar"+(((O=A[0])==null?void 0:O.avatar)||0)+".svg"))&&m(h,"src",p);const T={};M&4096&&(T.$$scope={dirty:M,ctx:A}),b.$set(T)},i(A){_||(P(b.$$.fragment,A),_=!0)},o(A){I(b.$$.fragment,A),_=!1},d(A){A&&S(e),W(b),y=!1,Ke(w)}}}function hSe(n){let e,t,i,s,l,r,o;return{c(){e=k("a"),e.innerHTML=`<i class="ri-shield-user-line"></i> 
                        <span class="txt">Manage admins</span>`,t=D(),i=k("hr"),s=D(),l=k("button"),l.innerHTML=`<i class="ri-logout-circle-line"></i> 
                        <span class="txt">Logout</span>`,m(e,"href","/settings/admins"),m(e,"class","dropdown-item closable"),m(l,"type","button"),m(l,"class","dropdown-item closable")},m(a,f){C(a,e,f),C(a,t,f),C(a,i,f),C(a,s,f),C(a,l,f),r||(o=[xe(os.call(null,e)),x(l,"click",n[7])],r=!0)},p:te,d(a){a&&S(e),a&&S(t),a&&S(i),a&&S(s),a&&S(l),r=!1,Ke(o)}}}function gE(n){let e,t,i;return t=new tv({props:{scriptSrc:"./libs/tinymce/tinymce.min.js",conf:ee.defaultEditorOptions()}}),t.$on("init",n[8]),{c(){e=k("div"),U(t.$$.fragment),m(e,"class","tinymce-preloader hidden")},m(s,l){C(s,e,l),q(t,e,null),i=!0},p:te,i(s){i||(P(t.$$.fragment,s),i=!0)},o(s){I(t.$$.fragment,s),i=!1},d(s){s&&S(e),W(t)}}}function pSe(n){var _;let e,t,i,s,l,r,o,a,f,u,d,h,p;document.title=e=ee.joinNonEmpty([n[4],n[3],"PocketBase"]," - ");let g=((_=n[0])==null?void 0:_.id)&&n[1]&&mE(n);r=new iF({props:{routes:$3e}}),r.$on("routeLoading",n[5]),r.$on("conditionsFailed",n[6]),a=new oSe({}),u=new dSe({});let b=n[1]&&!n[2]&&gE(n);return{c(){t=D(),i=k("div"),g&&g.c(),s=D(),l=k("div"),U(r.$$.fragment),o=D(),U(a.$$.fragment),f=D(),U(u.$$.fragment),d=D(),b&&b.c(),h=Ee(),m(l,"class","app-body"),m(i,"class","app-layout")},m(y,w){C(y,t,w),C(y,i,w),g&&g.m(i,null),v(i,s),v(i,l),q(r,l,null),v(l,o),q(a,l,null),C(y,f,w),q(u,y,w),C(y,d,w),b&&b.m(y,w),C(y,h,w),p=!0},p(y,[w]){var A;(!p||w&24)&&e!==(e=ee.joinNonEmpty([y[4],y[3],"PocketBase"]," - "))&&(document.title=e),(A=y[0])!=null&&A.id&&y[1]?g?(g.p(y,w),w&3&&P(g,1)):(g=mE(y),g.c(),P(g,1),g.m(i,s)):g&&(ue(),I(g,1,1,()=>{g=null}),ce()),y[1]&&!y[2]?b?(b.p(y,w),w&6&&P(b,1)):(b=gE(y),b.c(),P(b,1),b.m(h.parentNode,h)):b&&(ue(),I(b,1,1,()=>{b=null}),ce())},i(y){p||(P(g),P(r.$$.fragment,y),P(a.$$.fragment,y),P(u.$$.fragment,y),P(b),p=!0)},o(y){I(g),I(r.$$.fragment,y),I(a.$$.fragment,y),I(u.$$.fragment,y),I(b),p=!1},d(y){y&&S(t),y&&S(i),g&&g.d(),W(r),W(a),y&&S(f),W(u,y),y&&S(d),b&&b.d(y),y&&S(h)}}}function mSe(n,e,t){let i,s,l,r;Ht(n,Xf,b=>t(10,i=b)),Ht(n,Fp,b=>t(3,s=b)),Ht(n,Ed,b=>t(0,l=b)),Ht(n,si,b=>t(4,r=b));let o,a=!1,f=!1;function u(b){var _,y,w,A;((_=b==null?void 0:b.detail)==null?void 0:_.location)!==o&&(t(1,a=!!((w=(y=b==null?void 0:b.detail)==null?void 0:y.userData)!=null&&w.showAppSidebar)),o=(A=b==null?void 0:b.detail)==null?void 0:A.location,ss(si,r="",r),Ki({}),zD())}function d(){Jo("/")}async function h(){var b,_;if(l!=null&&l.id)try{const y=await Re.settings.getAll({$cancelKey:"initialAppSettings"});ss(Fp,s=((b=y==null?void 0:y.meta)==null?void 0:b.appName)||"",s),ss(Xf,i=!!((_=y==null?void 0:y.meta)!=null&&_.hideControls),i)}catch(y){y!=null&&y.isAbort||console.warn("Failed to load app settings.",y)}}function p(){Re.logout()}const g=()=>{t(2,f=!0)};return n.$$.update=()=>{n.$$.dirty&1&&l!=null&&l.id&&h()},[l,a,f,s,r,u,d,p,g]}class gSe extends ke{constructor(e){super(),ve(this,e,mSe,pSe,De,{})}}new gSe({target:document.getElementById("app")});export{Pge as $,Ke as A,fi as B,ee as C,Jo as D,Ee as E,jP as F,NE as G,Pn as H,Ht as I,Cr as J,Hn as K,mt as L,ln as M,ope as N,Mu as O,Ahe as P,Pme as Q,ghe as R,ke as S,khe as T,GN as U,fme as V,B1e as W,zhe as X,Fge as Y,xd as Z,q1e as _,I as a,n1e as a0,Hme as a1,lL as a2,G1e as a3,kSe as a4,Fr as a5,e9 as a6,nme as a7,de as a8,BD as a9,Ope as aA,PSe as aB,LN as aC,ume as aD,Il as aE,Cn as aa,Ko as ab,ii as ac,Ot as ad,Is as ae,ISe as af,DSe as ag,IN as ah,nt as ai,Um as aj,SSe as ak,Pm as al,BN as am,FM as an,HN as ao,Hpe as ap,Dpe as aq,Yi as ar,ti as as,wSe as at,_0e as au,ESe as av,r1e as aw,He as ax,ASe as ay,TSe as az,D as b,U as c,W as d,k as e,m as f,C as g,v as h,ve as i,xe as j,ue as k,os as l,q as m,ce as n,S as o,Re as p,ze as q,$ as r,De as s,P as t,x as u,qt as v,G as w,pe as x,te as y,Ae as z};
